(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3140fa92","chunk-b459ca90","chunk-2d0d7310","chunk-2d229822","chunk-2d229822","chunk-2d0ab4be"],{1559:function(e,t,r){"use strict";r.r(t);var n=r("a34a"),a=r.n(n),u=r("dfd8");r("f121");function s(e,t,r,n,a,u,s){try{var i=e[u](s),c=i.value}catch(o){return void r(o)}i.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var u=e.apply(t,r);function i(e){s(u,n,a,i,c,"next",e)}function c(e){s(u,n,a,i,c,"throw",e)}i(void 0)})}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var f=function(){function e(){c(this,e)}return l(e,[{key:"refund",value:function(){var e=i(a.a.mark(function e(t,r,n){var s;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["post"])("v1/pay/refund?XDEBUG_SESSION_START=11784",{order_no:t,refund_fee:n,sku_id:r,handleError:!0});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},e)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"refundQuery",value:function(){var e=i(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/pay/refund/".concat(t),{handleError:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOrderPayStatus",value:function(){var e=i(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/pay/".concat(t),{handleError:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=new f},"237e":function(e,t,r){},7683:function(e,t,r){"use strict";r.r(t);var n={REFUND:{number:1,msg:"退款",type:"info"},REFUNDANDGOODS:{number:2,msg:"退货退款",type:"danger"},REPLACEGOODS:{number:3,msg:"换货",type:"warning"},REPLACEGOODSSEND:{number:31,msg:"商家发货",type:"warning"},REPLACEFAIL:{number:31,msg:"拒绝并退回商品",type:"danger"},BUYERDELIVERY:{number:4,msg:"买家发货",type:"info"},SELLERRECEIPT:{number:5,msg:"卖家收货",type:"info"},TRADESUCCESS:{number:6,msg:"交易成功",type:"success"},TRADEFail:{number:7,msg:"交易失败",type:"danger"},AGREEAPPLY:{number:8,msg:"同意申请",type:"info"},AGREEREFUND:{number:9,msg:"同意退款",type:"success"}};t["default"]=n},8345:function(e,t,r){"use strict";r("237e")},b20e:function(e,t,r){},c69b:function(e,t,r){"use strict";r("b20e")},de6a:function(e,t,r){"use strict";r.r(t);var n=r("a34a"),a=r.n(n),u=r("dfd8"),s=r("f121");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,n,a,u,s){try{var i=e[u](s),c=i.value}catch(o){return void r(o)}i.done?t(c):Promise.resolve(c).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var u=e.apply(t,r);function s(e){l(u,n,a,s,i,"next",e)}function i(e){l(u,n,a,s,i,"throw",e)}s(void 0)})}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var v=function(){function e(){p(this,e)}return h(e,[{key:"getOrders",value:function(){var e=f(a.a.mark(function e(){var t,r,n,i,o=arguments;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:s["default"].pageSize,e.next=5,Object(u["get"])("v1/order",c({page:t,count:n},r,{handleError:!0}));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getOrder",value:function(){var e=f(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/".concat(t),{handleError:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"delOrder",value:function(){var e=f(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["_delete"])("v1/order",{ids:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deliverGoods",value:function(){var e=f(a.a.mark(function e(t){var r,n,s,i;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.orderID,n=t.comp,s=t.number,e.next=3,Object(u["post"])("v1/order/shipment/".concat(r,"?handleError=true"),{comp:n,number:s});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLogistics",value:function(){var e=f(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/logistics/".concat(t,"?handleError=true"));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDeliverRecord",value:function(){var e=f(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/shipment/record/".concat(t,"?handleError=true"));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateDeliverRecord",value:function(){var e=f(a.a.mark(function e(t,r){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["post"])("v1/logistics/".concat(t,"?handleError=true"),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateSingle",value:function(){var e=f(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/single",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRefunds",value:function(){var e=f(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/refund/".concat(t,"?handleError=true"));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRefundDetail",value:function(){var e=f(a.a.mark(function e(t,r){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/refund/detail?order_id=".concat(t,"&sku_id=").concat(r,"&handleError=true"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"refundCancel",value:function(){var e=f(a.a.mark(function e(t,r){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/cancel?order_id=".concat(t,"&sku_id=").concat(r,"&handleError=true"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"refundAgree",value:function(){var e=f(a.a.mark(function e(t,r){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/agree?order_id=".concat(t,"&sku_id=").concat(r,"&handleError=true"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateRefundSingle",value:function(){var e=f(a.a.mark(function e(t){var r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/single",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=new v},f941:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mg-tag"},[e._l(e.dynamicTags,function(t){return r("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(r){return e.handleClose(t)}}},[e._v("\n\t\t"+e._s(t)+"\n\t")])}),e.inputVisible?r("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):r("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v(e._s(e.btnName))])],2)},a=[],u={name:"tag",props:{btnName:{type:String,default:"添加标签"},tags:{type:Array,default:function(){return[]}}},data:function(){return{dynamicTags:[],inputVisible:!1,inputValue:""}},methods:{handleClose:function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1),this.$emit("handleConfirm",this.dynamicTags)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick(function(t){e.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.inputValue;e&&this.dynamicTags.push(e),this.inputVisible=!1,this.inputValue="",this.$emit("handleConfirm",this.dynamicTags)}},watch:{tags:{handler:function(e){this.dynamicTags=e},deep:!0}}},s=u,i=(r("c69b"),r("cba8")),c=Object(i["a"])(s,n,a,!1,null,"9a5d5018",null);t["default"]=c.exports},fe4d:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"status-icon":"","label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"订单号",prop:"title"}},[r("el-input",{attrs:{size:"medium",disabled:"",placeholder:"请填写订单号"},model:{value:e.form.order_no,callback:function(t){e.$set(e.form,"order_no",t)},expression:"form.order_no"}})],1),r("el-form-item",{attrs:{label:"图片",prop:"img"}},[r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.form.img,fit:"contain"}})],1),r("el-form-item",{attrs:{label:"商品标题",prop:"sku_title"}},[r("el-input",{attrs:{size:"medium",disabled:"",placeholder:"商品标题"},model:{value:e.form.sku_title,callback:function(t){e.$set(e.form,"sku_title",t)},expression:"form.sku_title"}})],1),r("el-form-item",{attrs:{label:"件数",prop:"count"}},[r("el-input",{attrs:{size:"medium",disabled:"",placeholder:"件数"},model:{value:e.form.count+"件",callback:function(t){e.$set(e.form,"count+'件'",t)},expression:"form.count+'件'"}})],1),r("el-form-item",{attrs:{label:"总价格",prop:"total_price"}},[r("el-input-number",{attrs:{disabled:e.statusEnum["REFUND"]!==e.form.status,precision:2,step:.1,min:0,label:"总价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[e.form.status?r("el-tag",{attrs:{type:e.getStatusVal(e.form.status)["type"]}},[e._v(e._s(e.getStatusVal(e.form.status)["statusVal"]))]):e._e()],1),r("el-form-item",{attrs:{label:"退款原因",prop:"reason"}},[r("el-input",{attrs:{size:"medium",disabled:""},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),r("el-form-item",{staticClass:"submit"},[e.statusEnum["REFUNDSUCCESS"]===e.form.status||e.statusEnum["REFUNDANDGOODSSUCCESS"]===e.form.status?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.refund()}}},[e._v("退款")]):e._e(),e.statusEnum["REFUNDANDGOODS"]===e.form.status||e.statusEnum["REFUND"]===e.form.status?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.argee()}}},[e._v("通过申请")]):e._e(),e.statusEnum["REFUNDANDGOODS"]===e.form.status||e.statusEnum["REFUND"]===e.form.status?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancel()}}},[e._v("拒绝申请")]):e._e()],1)],1)],1)],1)],1)])},a=[],u=r("a34a"),s=r.n(u),i=r("7683"),c=r("de6a"),o=r("1559"),l=r("f941");function f(e,t,r,n,a,u,s){try{var i=e[u](s),c=i.value}catch(o){return void r(o)}i.done?t(c):Promise.resolve(c).then(n,a)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var u=e.apply(t,r);function s(e){f(u,n,a,s,i,"next",e)}function i(e){f(u,n,a,s,i,"throw",e)}s(void 0)})}}var d={name:"RefundEdit",components:{tag:l["default"]},props:{orderID:Number,skuID:Number,orderNO:String},data:function(){return{dialogRefundVisible:!1,loading:!1,statusEnum:i["default"],form:{}}},created:function(){this.getRefundDetail()},methods:{argee:function(){var e=p(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,c["default"].refundAgree(this.orderID,this.skuID);case 4:if(t=e.sent,0!=t.error_code){e.next=8;break}return e.next=8,this.getRefundDetail();case 8:this.loading=!1,e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){var e=p(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,c["default"].refundCancel(this.orderID,this.skuID);case 4:if(t=e.sent,0!=t.error_code){e.next=8;break}return e.next=8,this.getRefundDetail();case 8:this.loading=!1,e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),getStatusVal:function(e){var t={statusVal:"",type:""};switch(e){case i["default"]["REFUND"]:t={statusVal:"退款中",type:"danger"};break;case i["default"]["REFUNDSUCCESS"]:t={statusVal:"退款通过",type:"success"};break;case i["default"]["REFUNDFAIL"]:t={statusVal:"拒绝退款",type:"success"};break;case i["default"]["REFUNDANDGOODS"]:t={statusVal:"退货退款中",type:"success"};break;case i["default"]["REFUNDANDGOODSSUCCESS"]:t={statusVal:"退货退款通过",type:"success"};break;case i["default"]["REFUNDANDGOODSFAIL"]:t={statusVal:"拒绝退货退款",type:"success"};break}return t},refund:function(){var e=p(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,o["default"].refund(this.orderNO,this.skuID);case 4:if(t=e.sent,0!=t.error_code){e.next=8;break}return e.next=8,this.getRefundDetail();case 8:this.loading=!1,e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),handleRefund:function(){this.dialogRefundVisible=!0},getRefundDetail:function(){var e=p(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,c["default"].getRefundDetail(this.orderID,this.skuID);case 4:t=e.sent,this.form=t,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.back(!1);case 11:this.loading=!1;case 12:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)}}},h=d,v=(r("8345"),r("cba8")),m=Object(v["a"])(h,n,a,!1,null,"9996b312",null);t["default"]=m.exports}}]);