(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8505a35a","chunk-7a5b5a52","chunk-13c386e2","chunk-e3f5e4ea","chunk-4751a891","chunk-482474ea","chunk-0e4fff3a","chunk-347d6277","chunk-72655ce2","chunk-08306ed8","chunk-2d2183cf","chunk-2d22ddc6","chunk-2d0b61e5"],{"0bcd":function(e,t,r){"use strict";r.r(t);var a,n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["list"===e.redirectType?r("div",{staticClass:"container yan-container"},[r("sticky-top",[r("div",{staticClass:"order-header"},[r("div",{staticClass:"header-left"},[r("p",{staticClass:"title"},[e._v("客户列表")])]),r("div",{directives:[{name:"auth",rawName:"v-auth",value:"搜索日志",expression:"'搜索日志'"}],staticClass:"header-right"},[r("lin-search",{ref:"searchKeyword",attrs:{selData:e.selData,placeholder:"请输入客户编号/客户名"},on:{btn:e.onQueryChange,sel:e.onSelectChange}}),r("lin-date-picker",{ref:"searchDate",staticClass:"date",on:{dateChange:e.handleDateChange}}),r("el-select",{attrs:{size:"medium",filterable:"","default-first-option":"",placeholder:"请选择跟进状态",prop:"curFollowStatus"},on:{change:e.followStatusChange},model:{value:e.curFollowStatus,callback:function(t){e.curFollowStatus=t},expression:"curFollowStatus"}},[r("el-option",{attrs:{label:"全部跟进状态",value:-1}}),e._l(e.followStatusData,function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})],2),r("el-button",{staticClass:"back-btn",attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.backInit}},[e._v("返回浏览")])],1)]),r("el-divider")],1),r("div",{staticClass:"header-table-box"},[r("div",{staticClass:"btn-filter"},[r("el-button",{attrs:{size:"large",type:e.isActiveNoFollow?"primary":""},on:{click:e.noFollowPass}},[e._v("新客超3天未跟进")])],1),r("el-divider"),r("div",{staticClass:"header"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left-wrap"},[r("el-button",{staticClass:"add-banner-item",attrs:{type:"primary",plain:""},on:{click:e.handleAdd}},[e._v("添加客户")]),r("el-button",{staticClass:"add-banner-item",attrs:{type:"primary"},on:{click:e.handleCommonPond}},[e._v("释放进公域池")])],1),r("div",{staticClass:"right-wrap"},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-change":e.handleChange,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small",plain:"",type:"primary"}},[e._v("导出excel数据")])],1),r("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-change":e.handleChange,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("导入excel数据")])],1)],1)])]),r("lin-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{tableColumn:e.tableColumn,tableData:e.tableData,operate:e.operate,pagination:e.pagination,curPage:e.currentPage,type:"selection"},on:{currentChange:e.currentChange,handleEdit:e.handleEdit,handleLog:e.handleLog,handleProject:e.handleProject,handleDelete:e.handleDelete,"row-click":e.rowClick,"selection-change":e.handleSelectionChange}})],1)],1):"add"===e.redirectType?r("customer-add",{on:{close:e.closePage}}):"edit"===e.redirectType?r("customer-edit",{attrs:{editID:e.editID},on:{close:e.closePage}}):"log"===e.redirectType?r("customer-log-list",{attrs:{customerID:e.editID},on:{close:e.closePage}}):"project"===e.redirectType?r("customer-project-list",{attrs:{linkCode:e.linkCode},on:{close:e.closePage}}):e._e()],1)},s=[],o=r("a34a"),i=r.n(o),l=r("8eab"),c=r("c9ad"),u=r("3ef2"),m=r("93c2"),d=r("2e3f"),f=r("c8d7"),p=r("eceb"),h=r("cd57"),b=r("7416"),v=r("4360"),g=r("1c96");function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function x(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function k(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){x(s,a,n,o,i,"next",e)}function i(e){x(s,a,n,o,i,"throw",e)}o(void 0)})}}var w={name:"CustomerList",components:{CustomerAdd:f["default"],CustomerEdit:p["default"],CustomerLogList:h["default"],CustomerProjectList:b["default"],LinSearch:l["default"],LinDatePicker:c["default"]},data:function(){return{loading:!1,fileList:[],fieldObj:{follow_status:"followStatusData"},checkselId:[],curFollowStatus:-1,searchKeyword:"",searchDate:"",searchParams:{},isSearch:!1,isActiveNoFollow:!1,selData:["客户名","责任人","客户编码"],curSearchIndex:0,tableColumn:[{prop:"id",label:"id",width:100},{prop:"user_code",label:"客户编码",width:150},{prop:"name",label:"客户名",width:150},{prop:"contacts_name",label:"联系人",width:100},{prop:"telephone",label:"联系人电话",width:150},{prop:"level",label:"客户等级",width:100},{prop:"follow_status",label:"跟进状态",width:150},{prop:"channel",label:"客户来源",width:150},{prop:"address",label:"地址",width:150},{prop:"author",label:"责任人",width:150},{prop:"create_time",label:"录入时间"}],followStatusData:[],tableData:[],operate:[],pagination:{pageTotal:0},showEdit:!1,editID:1,linkCode:0,redirectType:"list",currentPage:1,excelLock:!0}},created:function(){this.operate=[{name:"编辑",func:"handleEdit",type:"primary",icon:"edit"},{name:"日志",func:"handleLog",type:"danger",icon:"chat-line-round"},{name:"项目",func:"handleProject",type:"danger",icon:"service"}],(v["default"].state.auths.includes("删除客户")||"super"==v["default"].state.user.username)&&this.operate.push({name:"删除",func:"handleDelete",type:"danger",icon:"delete",auth:"删除客户"}),this.getCustomers(),this.getTypes()},methods:(a={handleSelectionChange:function(e){var t=[];e.forEach(function(e){t.push(e.id)}),this.checkselId=t},followStatusChange:function(e){this.curFollowStatus=e,this.searchParam(),this.getCustomers()},getTypes:function(){var e=k(i.a.mark(function e(){var t,r,a,n,s,o,l=this;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(a in t=[],r=this.fieldObj,r)t.push(a);return t=t.join(),e.next=6,m["default"].getTypeByField(t);case 6:if(n=e.sent,n&&0!=n.length){e.next=9;break}return e.abrupt("return");case 9:for(o in s=function(e){var t=r[e],a=n.find(function(t){return t["field"]==e});a&&(l[t]=a["value"])},r)s(o);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSelectChange:function(e){this.curSearchIndex=e},onQueryChange:function(e){this.searchKeyword=e.trim(),this.searchParam(),this.getCustomers()},handleDateChange:function(e){this.searchDate=e,this.searchParam(),this.getCustomers()},validateIsChinese:function(e){var t=new RegExp("[一-龥]+");return t.test(e)}},_(a,"handleDateChange",function(e){this.searchDate=e,this.searchParam(),this.getCustomers()}),_(a,"backInit",function(){var e=k(i.a.mark(function e(){return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.searchKeyword="",this.searchDate=[],this.searchParams={},this.$refs.searchDate.clear(),this.$refs.searchKeyword.clear(),this.isSearch=!1,e.next=8,this.getCustomers();case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()),_(a,"searchParam",function(){var e={};-1!=this.curFollowStatus&&(e["follow_status"]=this.curFollowStatus),this.searchDate&&this.searchDate.length>0&&(e["start"]=this.searchDate[0],e["end"]=this.searchDate[1]),this.searchKeyword&&(0==this.curSearchIndex&&(e["name"]=this.searchKeyword),1==this.curSearchIndex&&(e["author"]=this.searchKeyword),2==this.curSearchIndex&&(e["user_code"]=this.searchKeyword)),this.searchParams=e,this.isSearch=!0}),_(a,"importCustomerLog",function(){var e=k(i.a.mark(function e(t){var r,a,n;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,!this.excelLock){e.next=30;break}return this.excelLock=!1,e.prev=3,e.next=6,g["default"].importCustomer(t);case 6:r=e.sent,0===r.error_code&&(this.getCustomers(this.currentPage-1),this.$message({type:"success",message:"".concat(r.msg)})),e.next=30;break;case 10:if(e.prev=10,e.t0=e["catch"](3),console.log(e.t0),a=e.t0.data.msg,!a){e.next=29;break}if("object"!==y(a)){e.next=26;break}e.t1=i.a.keys(a);case 17:if((e.t2=e.t1()).done){e.next=24;break}return n=e.t2.value,this.$message.error(a[n]),e.next=22,setTimeout(function(){},1e3);case 22:e.next=17;break;case 24:e.next=27;break;case 26:this.$message.error(a);case 27:e.next=30;break;case 29:this.$message({type:"error",message:"导入失败，请重新尝试"});case 30:this.loading=!1,this.excelLock=!0;case 32:case"end":return e.stop()}},e,this,[[3,10]])}));function t(t){return e.apply(this,arguments)}return t}()),_(a,"handleChange",function(){var e=k(i.a.mark(function e(t,r){return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.importCustomerLog(t);case 2:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()),_(a,"getCustomers",function(){var e=k(i.a.mark(function e(){var t,r,a=this,n=arguments;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:0,this.loading=!0,r={},!v["default"].state.auths.includes("获取全部客户信息")){e.next=7;break}return e.next=6,u["default"].getCustomers(t,this.searchParams);case 6:r=e.sent;case 7:if("super"!=v["default"].state.user.username){e.next=11;break}return e.next=10,u["default"].getAllCustomers(t,this.searchParams);case 10:r=e.sent;case 11:if(!(r.total_nums<=0)){e.next=15;break}return this.tableData=[],this.loading=!1,e.abrupt("return");case 15:this.pagination.pageTotal||(this.pagination={pageTotal:r.total_nums}),r.collection.forEach(function(e){e["is_release_user"]=0===e["is_release_user"]?"正常":"已释放",e["status"]=0===e["status"]?"未通过":"通过",e["key"]=e.id,e["address"]&&(a.isChinese(e["address"][0])?e["address"]=e["address"][0]+"-"+e["address"][1]:e["address"]=d["CodeToText"][e["address"][0]]+"-"+d["CodeToText"][e["address"][1]])}),this.tableData=r.collection,this.loading=!1;case 19:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()),_(a,"noFollowPass",function(){this.isActiveNoFollow?(this.isActiveNoFollow=!1,this.searchParams["type"]=-1):(this.isActiveNoFollow=!0,this.searchParams["type"]=1),this.getCustomers()}),_(a,"isChinese",function(e){var t=/[^\u4E00-\u9FA5]/;return!t.test(e)}),_(a,"currentChange",function(e){e<=0||(e-=1,this.currentPage=e+1,this.getCustomers(e))}),_(a,"handleCommonPond",function(){var e=k(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.checkselId,!(t.length<=0)){e.next=4;break}return this.$message({type:"warning",message:"请先选中客户"}),e.abrupt("return");case 4:return this.loading=!0,e.next=7,u["default"].updateCustomersEntryPublic(t);case 7:r=e.sent,this.loading=!1,0===r.error_code&&(this.getCustomers(this.currentPage-1),this.$message({type:"success",message:"".concat(r.msg)}));case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()),_(a,"handleAdd",function(){this.redirectType="add"}),_(a,"handleEdit",function(e){var t=e.row;this.editID=t.id,this.redirectType="edit"}),_(a,"handleLog",function(e){var t=e.row;this.editID=t.id,this.redirectType="log"}),_(a,"handleProject",function(e){var t=e.row;this.editID=t.id,this.linkCode=t.link_code,this.redirectType="project"}),_(a,"handleDelete",function(e){var t=this;this.$confirm("此操作将永久删除该专栏, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(k(i.a.mark(function r(){var a,n;return i.a.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return a=[e.row.id],t.loading=!0,r.next=4,u["default"].delCustomer(a);case 4:n=r.sent,t.loading=!1,0===n.error_code&&(t.getCustomers(t.currentPage-1),t.$message({type:"success",message:"".concat(n.msg)}));case 7:case"end":return r.stop()}},r)})))}),_(a,"rowClick",function(){}),_(a,"closePage",function(e){this.redirectType="list",e&&this.getCustomers(this.currentPage-1)}),a)},C=w,D=(r("5b84"),r("cba8")),$=Object(D["a"])(C,n,s,!1,null,"bb183052",null);t["default"]=$.exports},"17ea":function(e,t,r){},"1c96":function(e,t,r){"use strict";r.r(t);var a=r("a34a"),n=r.n(a),s=r("dfd8");r("f121");function o(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function i(e){o(s,a,n,i,l,"next",e)}function l(e){o(s,a,n,i,l,"throw",e)}i(void 0)})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}var m=function(){function e(){l(this,e)}return u(e,[{key:"importCustomerLog",value:function(){var e=i(n.a.mark(function e(t){var r,a;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r={},t&&t["raw"]){e.next=3;break}return e.abrupt("return");case 3:return r["file"]=t["raw"],console.log(r),e.next=7,Object(s["post"])("v1/excel/customer_log",r,{handleError:!0});case 7:return a=e.sent,console.log(a),e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"importCustomer",value:function(){var e=i(n.a.mark(function e(t){var r,a;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r={},t&&t["raw"]){e.next=3;break}return e.abrupt("return");case 3:return r["file"]=t["raw"],e.next=6,Object(s["post"])("v1/excel/customer",r,{handleError:!0});case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=new m},"27f7":function(e,t,r){},"2cb6":function(e,t,r){},"365c":function(e,t,r){"use strict";r("3751")},3751:function(e,t,r){},"4b78":function(e,t,r){"use strict";r("27f7")},"5b05":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[e._v("新建项目 "),r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"使用场景",prop:"scene"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写使用场景"},model:{value:e.form.scene,callback:function(t){e.$set(e.form,"scene",t)},expression:"form.scene"}})],1),r("el-form-item",{attrs:{label:"客户行业",prop:"industry"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户行业"},model:{value:e.form.industry,callback:function(t){e.$set(e.form,"industry",t)},expression:"form.industry"}},[e._l(e.industryData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2),r("el-input",{staticClass:"mt10",attrs:{disabled:!e.industryDisplay&&"disabled",size:"medium",placeholder:"请填写客户行业"},model:{value:e.industry_other,callback:function(t){e.industry_other=t},expression:"industry_other"}})],1),r("el-form-item",{attrs:{label:"产品类型",prop:"product_type"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择产品类型"},model:{value:e.form.product_type,callback:function(t){e.$set(e.form,"product_type",t)},expression:"form.product_type"}},[e._l(e.productTypeData,function(t,a){return[r("el-option",{key:t,attrs:{value:a,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{staticClass:"form-item",attrs:{label:"产品规格",prop:"product_spec"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写产品规格"},model:{value:e.form.product_spec,callback:function(t){e.$set(e.form,"product_spec",t)},expression:"form.product_spec"}})],1),r("el-form-item",{attrs:{label:"产品数量",prop:"product_num"}},[r("el-input-number",{attrs:{min:1,max:10,label:"产品数量"},model:{value:e.form.product_num,callback:function(t){e.$set(e.form,"product_num",t)},expression:"form.product_num"}})],1),r("el-form-item",{attrs:{label:"产品报价",prop:"product_price"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写产品报价"},model:{value:e.form.product_price,callback:function(t){e.$set(e.form,"product_price",t)},expression:"form.product_price"}})],1),r("el-form-item",{attrs:{label:"客户需求背景",prop:"demand_bg"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户需求背景"},model:{value:e.form.demand_bg,callback:function(t){e.$set(e.form,"demand_bg",t)},expression:"form.demand_bg"}},[e._l(e.demandBgData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2),r("el-input",{staticClass:"mt10",attrs:{size:"medium",disabled:!e.demandBgDisplay&&"disabled",placeholder:"请填写客户需求背景"},model:{value:e.demand_bg_other,callback:function(t){e.demand_bg_other=t},expression:"demand_bg_other"}})],1),r("el-form-item",{attrs:{label:"需求描述",prop:"demand_desc"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写需求描述"},model:{value:e.form.demand_desc,callback:function(t){e.$set(e.form,"demand_desc",t)},expression:"form.demand_desc"}})],1),r("el-form-item",{attrs:{label:"提供对应解决方案",prop:"solution"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写对应解决方案"},model:{value:e.form.solution,callback:function(t){e.$set(e.form,"solution",t)},expression:"form.solution"}})],1),r("el-form-item",{attrs:{label:"工程安装解决方案",prop:"install_solution"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写工程安装解决方案"},model:{value:e.form.install_solution,callback:function(t){e.$set(e.form,"install_solution",t)},expression:"form.install_solution"}})],1),r("el-form-item",{attrs:{label:"客户关注产品亮点",prop:"product_lights"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写客户关注产品亮点"},model:{value:e.form.product_lights,callback:function(t){e.$set(e.form,"product_lights",t)},expression:"form.product_lights"}})],1),r("el-form-item",{attrs:{label:"客户价值",prop:"custom_value"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写客户价值"},model:{value:e.form.custom_value,callback:function(t){e.$set(e.form,"custom_value",t)},expression:"form.custom_value"}})],1),r("el-form-item",{attrs:{label:"业务跟进困难点",prop:"follow_difficulty"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写业务跟进困难点"},model:{value:e.form.follow_difficulty,callback:function(t){e.$set(e.form,"follow_difficulty",t)},expression:"form.follow_difficulty"}})],1),r("el-form-item",{attrs:{label:"客户反馈",prop:"custom_feedback"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写客户反馈"},model:{value:e.form.custom_feedback,callback:function(t){e.$set(e.form,"custom_feedback",t)},expression:"form.custom_feedback"}})],1),r("el-form-item",{attrs:{label:"跟进次数",prop:"follow_count"}},[r("el-input",{attrs:{size:"small",placeholder:"请填写跟进次数"},model:{value:e.form.follow_count,callback:function(t){e.$set(e.form,"follow_count",t)},expression:"form.follow_count"}})],1),r("el-form-item",{attrs:{label:"丢单原因",prop:"reason"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写丢单原因"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),r("el-form-item",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitform("form")}}},[e._v("保 存")]),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)],1)],1)])},n=[],s=r("a34a"),o=r.n(s),i=r("f8fd");function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){c(s,a,n,o,i,"next",e)}function i(e){c(s,a,n,o,i,"throw",e)}o(void 0)})}}var m={name:"CulturalAdd",props:{editID:Number},data:function(){return{loading:!1,demandBgData:["已受灾","应付检查","系统统一安装","领导要求","其他"],productTypeData:["不锈钢开启式","不锈钢密闭式","铝合金组合式","水动力","ABS"],industryData:["商场","工厂","其他"],industry_other:"",demand_bg_other:"",demandBgDisplay:!1,industryDisplay:!1,form:{scene:"",industry:"",product_type:"",product_spec:"",product_num:"",product_price:"",demand_bg:"",demand_desc:"",solution:"",install_solution:"",product_lights:"",custom_value:"",follow_difficulty:"",custom_feedback:"",follow_count:0,reason:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"}]}}},created:function(){this.getProject()},watch:{form:{handler:function(e,t){"其他"==e.industry?this.industryDisplay=!0:(this.industryDisplay=!1,this.industry_other=""),"其他"==e.demand_bg?this.demandBgDisplay=!0:(this.demandBgDisplay=!1,this.demand_bg_other="")},deep:!0}},methods:{getProject:function(){var e=u(o.a.mark(function e(){var t,r,a;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,i["default"].getCustomerProject(this.editID);case 4:t=e.sent,this._handleCustomerResData(t),e.next=20;break;case 8:if(e.prev=8,e.t0=e["catch"](1),r=e.t0.data.msg,!r||"object"!==l(r)){e.next=20;break}e.t1=o.a.keys(r);case 13:if((e.t2=e.t1()).done){e.next=20;break}return a=e.t2.value,this.$message.error(r[a]),e.next=18,setTimeout(function(){},1e3);case 18:e.next=13;break;case 20:this.loading=!1;case 21:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),_handleCustomerResData:function(e){var t=e;if(-1!=t["industry"].indexOf("其他")){var r=t["industry"].split("-");t["industry"]=r[0],this.industry_other=r[1]}if(-1!=t["demand_bg"].indexOf("其他")){var a=t["demand_bg"].split("-");t["demand_bg"]=a[0],this.demand_bg_other=a[1]}this.form=e},settingFollow:function(){var e=this.form;return"其他"==e.industry&&(e.industry="其他-"+this.industry_other),"其他"==e.demand_bg&&(e.demand_bg="其他-"+this.demand_bg_other),e},submitform:function(e){var t=this;this.$refs[e].validate(function(){var e=u(o.a.mark(function e(r){var a,n,s;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=25;break}return t.loading=!0,e.prev=2,e.next=5,i["default"].editCustomerProject(t.editID,t.settingFollow());case 5:a=e.sent,0===a.error_code&&t.$message.success("".concat(a.msg)),t.back(),e.next=22;break;case 10:if(e.prev=10,e.t0=e["catch"](2),n=e.t0.data.msg,!n||"object"!==l(n)){e.next=22;break}e.t1=o.a.keys(n);case 15:if((e.t2=e.t1()).done){e.next=22;break}return s=e.t2.value,t.$message.error(n[s]),e.next=20,setTimeout(function(){},1e3);case 20:e.next=15;break;case 22:t.loading=!1,e.next=27;break;case 25:return t.$message.error("请填写正确的信息"),e.abrupt("return",!1);case 27:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)}}},d=m,f=(r("6235"),r("cba8")),p=Object(f["a"])(d,a,n,!1,null,"0cce0944",null);t["default"]=p.exports},"5b84":function(e,t,r){"use strict";r("bab0")},6235:function(e,t,r){"use strict";r("6656")},6656:function(e,t,r){},"69c6":function(e,t,r){"use strict";r("d0f1")},7416:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["list"===e.redirectType?r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("div",{staticClass:"title"},[r("span",[e._v("客户项目列表")]),r("el-button",{staticClass:"add-banner-item",attrs:{type:"primary",plain:""},on:{click:e.handleAdd}},[e._v("添加项目")])],1),r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("lin-table",{attrs:{tableColumn:e.tableColumn,tableData:e.tableData,operate:e.operate,loading:e.loading,curPage:e.currentPage},on:{currentChange:e.currentChange,handleEdit:e.handleEdit,handleDelete:e.handleDelete}})],1):"add"===e.redirectType?r("project-add",{attrs:{linkCode:e.linkCode},on:{close:e.closePage}}):"edit"===e.redirectType?r("project-edit",{attrs:{editID:e.editID},on:{close:e.closePage}}):e._e()],1)},n=[],s=r("a34a"),o=r.n(s),i=r("f8fd"),l=r("5b05"),c=r("f2cc");function u(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){u(s,a,n,o,i,"next",e)}function i(e){u(s,a,n,o,i,"throw",e)}o(void 0)})}}var d={name:"ProjectList",components:{ProjectEdit:l["default"],ProjectAdd:c["default"]},props:{linkCode:{type:Number,default:0}},data:function(){return{editID:0,currentPage:1,tableColumn:[{prop:"id",label:"id",width:150},{prop:"customer_name",label:"客户名"},{prop:"scene",label:"使用场景"},{prop:"author",label:"录入人员"},{prop:"create_time",label:"生成时间"}],tableData:[],operate:[],showEdit:!1,loading:!1,redirectType:"list"}},created:function(){this.operate=[],this.linkCode&&this.operate.push({name:"编辑",func:"handleEdit",type:"primary"}),this.operate.push({name:"删除",func:"handleDelete",type:"danger",auth:"删除客户项目"}),this.getProjects()},methods:{getProjects:function(){var e=m(o.a.mark(function e(){var t,r,a=arguments;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:0,this.loading=!0,!(this.linkCode<=0)){e.next=5;break}return this.$message({type:"success",message:"客户错误"}),e.abrupt("return");case 5:return e.next=7,i["default"].getCustomerProjects(t,this.linkCode,0);case 7:if(r=e.sent,!(r.total_nums<=0)){e.next=12;break}return this.tableData=[],this.loading=!1,e.abrupt("return");case 12:this.loading=!1,this.tableData=r.collection;case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),currentChange:function(e){e<=0||(e-=1,this.currentPage=e+1,this.getProjects(e))},handleAdd:function(){this.redirectType="add"},handleEdit:function(e){var t=e.row;this.editID=t.id,this.redirectType="edit"},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该项目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(m(o.a.mark(function r(){var a,n;return o.a.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return a=[e.row.id],t.loading=!0,r.next=4,i["default"].delCustomerProject(a);case 4:n=r.sent,t.loading=!1,0===n.error_code&&(t.getProjects(t.currentPage-1),t.$message({type:"success",message:"".concat(n.msg)}));case 7:case"end":return r.stop()}},r)})))},rowClick:function(){},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)},closePage:function(e){this.redirectType="list",e&&this.getProjects()}}},f=d,p=(r("d8e9"),r("cba8")),h=Object(p["a"])(f,a,n,!1,null,"2abbaa02",null);t["default"]=h.exports},"84f0":function(e,t,r){"use strict";r("dbbb")},"8eab":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lin-search"},[r("el-select",{staticClass:"el-select",attrs:{size:"medium",filterable:"",placeholder:"请选择客户等级"},on:{change:e.selEvent},model:{value:e.curSel,callback:function(t){e.curSel=t},expression:"curSel"}},[e._l(e.selData,function(t,a){return[r("el-option",{key:t,attrs:{value:a,label:t}},[r("span",[e._v(e._s(t))])])]})],2),r("el-input",{staticClass:"input-with-select",attrs:{size:"medium",placeholder:e.placeholder,clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchBtn},slot:"append"})],1)],1)},n=[],s=r("306b"),o={props:{placeholder:{type:String,default:"请输入内容"},selData:{type:Array,default:["客户名","责任人"]}},data:function(){return{keyword:"",curSel:0}},created:function(){var e=this;this.$watch("keyword",s["default"].debounce(function(t){e.$emit("query",t)},1e3))},methods:{clear:function(){this.keyword="",this.$emit("close")},selEvent:function(){var e=this.curSel;this.$emit("sel",e)},searchBtn:function(){var e=this.keyword;this.$emit("btn",e)}}},i=o,l=(r("69c6"),r("cba8")),c=Object(l["a"])(i,a,n,!1,null,"d0682418",null);t["default"]=c.exports},aab7:function(e,t,r){"use strict";r("17ea")},b34c:function(e,t,r){"use strict";r("2cb6")},bab0:function(e,t,r){},c8d7:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[e._v("添加客户基本信息 "),r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"客户名",prop:"name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写客户名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"联系人",prop:"contacts_name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写联系人"},model:{value:e.form.contacts_name,callback:function(t){e.$set(e.form,"contacts_name",t)},expression:"form.contacts_name"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{label:"联系电话",prop:"telephone"}},[r("el-input",{attrs:{size:"medium",placeholder:"联系电话"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),r("el-form-item",{attrs:{label:"联系人邮箱",prop:"email"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"客户类型",prop:"customer_type"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户类型"},model:{value:e.form.customer_type,callback:function(t){e.$set(e.form,"customer_type",t)},expression:"form.customer_type"}},[e._l(e.customerTypeData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"联系人地址",prop:"address"}},[r("el-cascader",{attrs:{size:"large",filterable:"",options:e.addressData},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),r("el-form-item",{attrs:{label:"跟进状态",prop:"follow_status"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择跟进状态"},model:{value:e.form.follow_status,callback:function(t){e.$set(e.form,"follow_status",t)},expression:"form.follow_status"}},[e._l(e.followStatuslData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"项目用途",prop:"purpose"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写项目用途"},model:{value:e.form.purpose,callback:function(t){e.$set(e.form,"purpose",t)},expression:"form.purpose"}})],1),r("el-form-item",{attrs:{label:"客户来源",prop:"channel"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户来源"},model:{value:e.form.channel,callback:function(t){e.$set(e.form,"channel",t)},expression:"form.channel"}},[e._l(e.channelData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"客户等级",prop:"level"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户等级"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[e._l(e.levelData,function(t,a){return[r("el-option",{key:t,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),"super"==e.adminName?r("el-form-item",{attrs:{label:"分配用户",prop:"dicider_user"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择分配用户"},model:{value:e.form.dicider_user,callback:function(t){e.$set(e.form,"dicider_user",t)},expression:"form.dicider_user"}},[e._l(e.cuserLists,function(t,a){return[r("el-option",{key:a,attrs:{value:t.id,label:t.username}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t.username))])])]})],2)],1):e._e(),r("el-form-item",{attrs:{label:"释放客户",prop:"is_release_user"}},[r("el-switch",{attrs:{"active-color":"#3963bc"},model:{value:e.form.is_release_user,callback:function(t){e.$set(e.form,"is_release_user",t)},expression:"form.is_release_user"}})],1),r("el-form-item",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("保 存")]),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)],1)],1)])},n=[],s=r("a34a"),o=r.n(s),i=r("2e3f"),l=r("3ef2"),c=r("93c2"),u=r("4723"),m=r("4360");function d(e){return h(e)||p(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function h(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function b(e){return b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function g(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){v(s,a,n,o,i,"next",e)}function i(e){v(s,a,n,o,i,"throw",e)}o(void 0)})}}var _={name:"CustomerAdd",data:function(){return{addressData:i["provinceAndCityData"],adminName:m["default"].state.user.username,fieldObj:{channel:"channelData",follow_status:"followStatuslData",customer_type:"customerTypeData",level:"levelData"},channelData:[],followStatuslData:[],levelData:["A","B","C"],customerTypeData:["业主","施工方"],loading:!1,columnData:[],cateData:[],cuserLists:[],form:{name:"",contacts_name:"",telephone:"",email:"",address:"",follow_status:"",purpose:"",channel:"",is_release_user:!1,customer_type:"",dicider_user:""},rules:{contacts_name:[{required:!0,message:"请输入联系人",trigger:"blur"}],telephone:[],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur"]}],address:[{required:!0,message:"请选择联系人地址"}],purpose:[{required:!0,message:"请输入项目用途",trigger:"blur"}],channel:[{required:!0,message:"请输入客户来源",trigger:"blur"}]}}},created:function(){this.getAdminUsers(),this.getTypes()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var r=g(o.a.mark(function r(a){var n,s,i;return o.a.wrap(function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=24;break}return t.loading=!0,r.prev=2,r.next=5,l["default"].addCustomer(t.form);case 5:n=r.sent,0===n.error_code&&(t.$message.success("".concat(n.msg)),t.resetForm(e),t.back()),r.next=21;break;case 9:if(r.prev=9,r.t0=r["catch"](2),s=r.t0.data.msg,!s||"object"!==b(s)){r.next=21;break}r.t1=o.a.keys(s);case 14:if((r.t2=r.t1()).done){r.next=21;break}return i=r.t2.value,t.$message.error(s[i]),r.next=19,setTimeout(function(){},1e3);case 19:r.next=14;break;case 21:t.loading=!1,r.next=26;break;case 24:return t.$message.error("请填写正确的信息"),r.abrupt("return",!1);case 26:case"end":return r.stop()}},r,null,[[2,9]])}));return function(e){return r.apply(this,arguments)}}())},getTypes:function(){var e=g(o.a.mark(function e(){var t,r,a,n,s,i,l=this;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(a in t=[],r=this.fieldObj,r)t.push(a);return t=t.join(),e.next=6,c["default"].getTypeByField(t);case 6:if(n=e.sent,n&&0!=n.length){e.next=9;break}return e.abrupt("return");case 9:for(i in s=function(e){var t=r[e],a=n.find(function(t){return t["field"]==e});a&&(l[t]=a["value"])},r)s(i);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getAdminUsers:function(){var e=g(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["default"].getAdminUsers({count:30,page:0});case 3:t=e.sent,this.cuserLists=d(t.items),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)}}},y=_,x=(r("aab7"),r("cba8")),k=Object(x["a"])(y,a,n,!1,null,"044a8a5a",null);t["default"]=k.exports},c9ad:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"medium","popper-class":"date-box","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},n=[],s={data:function(){return{value:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]}}},watch:{value:function(e){this.$emit("dateChange",e)}},methods:{clear:function(){this.value=""}}},o=s,i=r("cba8"),l=Object(i["a"])(o,a,n,!1,null,null,null);t["default"]=l.exports},cd2a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[e._v("编辑客户日志 "),r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"日志名",prop:"name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写日志名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"图片信息",prop:"img_urls"}},[r("upload-imgs",{ref:"uploadImgs",attrs:{multiple:!0,rules:e.imgRules,value:e.responseImg(e.form.img_urls),sortable:!0,maxNum:20}})],1),r("el-form-item",{attrs:{label:"日志状态",prop:"status"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择日志状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._l(e.statusData,function(t,a){return[r("el-option",{key:t,attrs:{value:a,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"交流方式",prop:"commun_type"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择交流方式"},model:{value:e.form.commun_type,callback:function(t){e.$set(e.form,"commun_type",t)},expression:"form.commun_type"}},[e._l(e.communtypeData,function(t,a){return[r("el-option",{key:t,attrs:{value:a,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"日志内容",prop:"content"}},[r("editor",{attrs:{id:"tinymce",init:e.editInit},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),r("el-form-item",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("保 存")]),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)],1)],1)])},n=[],s=r("a34a"),o=r.n(s),i=(r("0a3b"),r("cf74"),r("ca72")),l=(r("cf1d"),r("e0ba")),c=r("ae02"),u=r("306b");function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){d(s,a,n,o,i,"next",e)}function i(e){d(s,a,n,o,i,"throw",e)}o(void 0)})}}var p={name:"CustomerLogEdit",props:{editID:Number},data:function(){return{content:"",statusData:["初步联系","见面拜访","停滞客户","成交客户","正式报价"],communtypeData:["见面拜访","微信","钉钉"],editInit:{selector:"#tinymce",language_url:"/tinymce/langs/zh_CN.js",language:"zh_CN",height:"400px",skin_url:"/tinymce/skins/ui/oxide"},value:"",imgRules:{minWidth:100,minHeight:100,maxSize:5},loading:!1,columnData:[],cateData:[],form:{name:"",content:""},rules:{name:[{required:!0,message:"请输入客户名称",trigger:"blur"}],content:[{required:!0,message:"请输入日志内容",trigger:"blur"}]}}},components:{UploadImgs:l["default"],Editor:i["a"]},created:function(){this._initialize()},methods:{_initialize:function(){this.getCustomerLog()},getCustomerLog:function(){var e=f(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,c["default"].getCustomerLog(this.editID);case 4:t=e.sent,this.form=t,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.back(!1);case 11:this.loading=!1;case 12:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=f(o.a.mark(function e(r){var a,n,s,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=30;break}return t.loading=!0,e.prev=2,e.next=5,t.$refs.uploadImgs.getValue();case 5:return a=e.sent,t.form["img_urls"]=u["default"].solveUploadMultipleImg(a),e.next=9,c["default"].editCustomerLog(t.editID,t.form);case 9:n=e.sent,0===n.error_code&&(t.$message.success("".concat(n.msg)),t.back()),e.next=27;break;case 13:if(e.prev=13,e.t0=e["catch"](2),console.log(t.form),console.log(e.t0),s=e.t0.data.msg,!s||"object"!==m(s)){e.next=27;break}e.t1=o.a.keys(s);case 20:if((e.t2=e.t1()).done){e.next=27;break}return i=e.t2.value,t.$message.error(s[i]),e.next=25,setTimeout(function(){},1e3);case 25:e.next=20;break;case 27:t.loading=!1,e.next=32;break;case 30:return t.$message.error("请填写正确的信息"),e.abrupt("return",!1);case 32:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}())},_handleCustomerResData:function(e){},resetForm:function(e){this.$refs[e].resetFields()},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)},responseImg:function(e){if(e&&"undefined"!=e)return u["default"].solveReponseMultipleImg(e)}}},h=p,b=(r("4b78"),r("cba8")),v=Object(b["a"])(h,a,n,!1,null,"1236a7f0",null);t["default"]=v.exports},cd57:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["list"===e.redirectType?r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("div",{staticClass:"title"},[r("span",[e._v("客户日志列表")]),e.hideLogBtn?e._e():r("div",{staticClass:"log-action-btn"},[r("el-button",{staticClass:"add-banner-item",attrs:{type:"primary",plain:""},on:{click:e.handleAdd}},[e._v("添加客户日志")]),r("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-change":e.handleChange,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small",plain:"",type:"primary"}},[e._v("导出excel数据")])],1),r("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChange,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("导入excel数据")])],1)],1)]),r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"block"},[r("el-timeline",e._l(e.tableData,function(t,a){return r("el-timeline-item",{key:a,attrs:{timestamp:e._f("dataFormal")(t.create_time),placement:"top"}},[r("el-card",[r("div",{staticClass:"log-block"},[r("div",{staticClass:"log-content"},[r("div",{staticClass:"log-wrap"},[r("h4",{staticClass:"tit"},[e._v(e._s(t.name))]),r("p",{staticClass:"desc",domProps:{innerHTML:e._s(t.content)}})]),r("div",{staticClass:"imgs-upload-container"},e._l(t.img_urls,function(a,n){return r("div",{key:n,staticClass:"img-box",on:{click:function(r){return e.preview(t.id,n)}}},[r("el-image",{staticClass:"thumb-item-img",staticStyle:{width:"100%",height:"100%"},attrs:{src:a.src,fit:"cover"}}),r("div",{staticClass:"control"},[r("div",{staticClass:"preview"},[r("i",{staticClass:"el-icon-view"})])])],1)}),0),r("p",{staticClass:"author-label"},[e._v(e._s(t.author)+" 提交于 "+e._s(t.create_time))])]),e.hideLogBtn?e._e():r("div",{staticClass:"action-wrap"},[r("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(r){return e.handleEdit(t.id)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(r){return e.handleDelete(t.id)}}},[e._v("删除")])],1)])])],1)}),1),r("div",{staticClass:"result-wrap"},[e._v("暂无数据")])],1)]):"add"===e.redirectType?r("customer-log-add",{attrs:{customerID:e.customerID},on:{close:e.closePage}}):"edit"===e.redirectType?r("customer-log-edit",{attrs:{editID:e.editID},on:{close:e.closePage}}):e._e()],1)},n=[],s=r("a34a"),o=r.n(s),i=r("ea6d"),l=r("cd2a"),c=r("ae02"),u=r("1c96");function m(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function d(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){m(s,a,n,o,i,"next",e)}function i(e){m(s,a,n,o,i,"throw",e)}o(void 0)})}}var f={props:{customerID:Number,hideLogBtn:Boolean},filters:{dataFormal:function(e){if(!e)return"";var t=e.split(" ");return t.length>=1?t[0]:""}},data:function(){return{redirectType:"list",tableData:[],fileList:[],editID:1,pagination:{pageTotal:0},urls:{},thumbs:{}}},components:{CustomerLogAdd:i["default"],CustomerLogEdit:l["default"]},created:function(){this.getCustomerLogs()},methods:{importCustomerLog:function(){var e=d(o.a.mark(function e(t){var r;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,u["default"].importCustomerLog(t);case 3:r=e.sent,this.loading=!1,0===r.error_code&&this.$message({type:"success",message:"".concat(r.msg)});case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleChange:function(){var e=d(o.a.mark(function e(t,r){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.importCustomerLog(t);case 3:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),solveImgPreview:function(){this.urls={},this.thumbs={};var e={},t=[];this.tableData.length<=0||(this.tableData.forEach(function(r){t=[],r.img_urls&&(r.img_urls.forEach(function(e){t.push(e.src)}),e["id"+r.id]=t)}),this.thumbs=this.urls=e)},getCustomerLogs:function(){var e=d(o.a.mark(function e(){var t,r,a=arguments;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,this.loading=!0,e.next=4,c["default"].getCustomerLogs(this.customerID,t);case 4:if(r=e.sent,!(r&&r.total_nums<=0)){e.next=9;break}return this.tableData=[],this.loading=!1,e.abrupt("return");case 9:this.pagination.pageTotal||(this.pagination={pageTotal:r.total_nums}),this.tableData=r.collection,this.solveImgPreview(),this.loading=!1;case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),currentChange:function(e){e<=0||(e-=1,this.currentPage=e+1,this.getCustomerLogs(e))},preview:function(e,t){this.thumbs=this.urls["id"+e],this.$imagePreview({images:this.urls["id"+e],index:t})},handleAdd:function(){this.redirectType="add"},handleEdit:function(e){this.redirectType="edit",console.log(e),this.editID=e},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该客户日志, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(d(o.a.mark(function r(){var a;return o.a.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,c["default"].delCustomerLog(e);case 3:a=r.sent,t.loading=!1,0===a.error_code&&(t.getCustomerLogs(t.currentPage-1),t.$message({type:"success",message:"".concat(a.msg)}));case 6:case"end":return r.stop()}},r)})))},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)},closePage:function(e){this.redirectType="list",e&&this.getCustomerLogs(this.currentPage-1)}}},p=f,h=(r("b34c"),r("cba8")),b=Object(h["a"])(p,a,n,!1,null,"1dfdd79f",null);t["default"]=b.exports},d0f1:function(e,t,r){},d8e9:function(e,t,r){"use strict";r("f38b")},db21:function(e,t,r){"use strict";r("e269")},dbbb:function(e,t,r){},e269:function(e,t,r){},ea6d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[e._v("添加客户日志 "),r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"日志名",prop:"name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写日志名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"图片信息",prop:"img_urls"}},[r("upload-imgs",{ref:"uploadImgs",attrs:{multiple:!0,rules:e.imgRules,maxNum:20}})],1),r("el-form-item",{attrs:{label:"日志状态",prop:"status"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择日志状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._l(e.statusData,function(t,a){return[r("el-option",{key:t,attrs:{value:a,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"交流方式",prop:"commun_type"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择交流方式"},model:{value:e.form.commun_type,callback:function(t){e.$set(e.form,"commun_type",t)},expression:"form.commun_type"}},[e._l(e.communtypeData,function(t,a){return[r("el-option",{key:t,attrs:{value:a,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"日志内容",prop:"content"}},[r("editor",{attrs:{id:"tinymce",init:e.editInit},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),r("el-form-item",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("保 存")]),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)],1)],1)])},n=[],s=r("a34a"),o=r.n(s),i=(r("0a3b"),r("cf74"),r("ca72")),l=(r("cf1d"),r("e0ba")),c=r("ae02"),u=r("306b");function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){d(s,a,n,o,i,"next",e)}function i(e){d(s,a,n,o,i,"throw",e)}o(void 0)})}}var p={name:"CustomerLogAdd",props:{customerID:Number},components:{UploadImgs:l["default"],Editor:i["a"]},data:function(){return{content:"",statusData:["初步联系","见面拜访","停滞客户","成交客户","正式报价"],communtypeData:["见面拜访","微信","钉钉"],editInit:{selector:"#tinymce",mobile:{menubar:!0},language_url:"/tinymce/langs/zh_CN.js",language:"zh_CN",height:"400px",skin_url:"/tinymce/skins/ui/oxide"},value:"",imgRules:{minWidth:100,minHeight:100,maxSize:5},loading:!1,columnData:[],cateData:[],form:{name:"",content:""},rules:{name:[{required:!0,message:"请输入客户名称",trigger:"blur"}],content:[{required:!0,message:"请输入日志内容",trigger:"blur"}]}}},created:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var r=f(o.a.mark(function r(a){var n,s,i,l;return o.a.wrap(function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=29;break}return t.loading=!0,r.prev=2,r.next=5,t.$refs.uploadImgs.getValue();case 5:return n=r.sent,t.form["img_urls"]=u["default"].solveUploadMultipleImg(n),t.form["customer_id"]=t.customerID,r.next=10,c["default"].addCustomerLog(t.form);case 10:s=r.sent,0===s.error_code&&(t.$message.success("".concat(s.msg)),t.resetForm(e),t.back()),r.next=26;break;case 14:if(r.prev=14,r.t0=r["catch"](2),i=r.t0.data.msg,!i||"object"!==m(i)){r.next=26;break}r.t1=o.a.keys(i);case 19:if((r.t2=r.t1()).done){r.next=26;break}return l=r.t2.value,t.$message.error(i[l]),r.next=24,setTimeout(function(){},1e3);case 24:r.next=19;break;case 26:t.loading=!1,r.next=31;break;case 29:return t.$message.error("请填写正确的信息"),r.abrupt("return",!1);case 31:case"end":return r.stop()}},r,null,[[2,14]])}));return function(e){return r.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)}}},h=p,b=(r("84f0"),r("cba8")),v=Object(b["a"])(h,a,n,!1,null,"360073b4",null);t["default"]=v.exports},eceb:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"客户名",prop:"name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写客户名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"联系人",prop:"contacts_name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写联系人"},model:{value:e.form.contacts_name,callback:function(t){e.$set(e.form,"contacts_name",t)},expression:"form.contacts_name"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{label:"联系电话",prop:"telephone"}},[r("el-input",{attrs:{size:"medium",placeholder:"联系电话"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),r("el-form-item",{attrs:{label:"联系人邮箱",prop:"email"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"客户类型",prop:"customer_type"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户类型"},model:{value:e.form.customer_type,callback:function(t){e.$set(e.form,"customer_type",t)},expression:"form.customer_type"}},[e._l(e.customerTypeData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"联系人地址",prop:"address"}},[r("el-cascader",{attrs:{size:"large",filterable:"",options:e.formAddresData},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),r("el-form-item",{attrs:{label:"跟进状态",prop:"follow_status"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择跟进状态"},model:{value:e.form.follow_status,callback:function(t){e.$set(e.form,"follow_status",t)},expression:"form.follow_status"}},[e._l(e.followStatuslData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"项目用途",prop:"purpose"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写项目用途"},model:{value:e.form.purpose,callback:function(t){e.$set(e.form,"purpose",t)},expression:"form.purpose"}})],1),r("el-form-item",{attrs:{label:"客户来源",prop:"channel"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户来源"},model:{value:e.form.channel,callback:function(t){e.$set(e.form,"channel",t)},expression:"form.channel"}},[e._l(e.channelData,function(t,a){return[r("el-option",{key:t,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{attrs:{label:"客户等级",prop:"level"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户等级"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[e._l(e.levelData,function(t,a){return[r("el-option",{key:t,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),"super"==e.form.author?r("el-form-item",{attrs:{label:"分配用户",prop:"dicider_user"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择分配用户"},model:{value:e.form.dicider_user,callback:function(t){e.$set(e.form,"dicider_user",t)},expression:"form.dicider_user"}},[e._l(e.cuserLists,function(t,a){return[r("el-option",{key:a,attrs:{value:t.id,label:t.username}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t.username))])])]})],2)],1):e._e(),r("el-form-item",{attrs:{label:"释放客户",prop:"is_release_user"}},[r("el-switch",{attrs:{"active-color":"#3963bc"},model:{value:e.form.is_release_user,callback:function(t){e.$set(e.form,"is_release_user",t)},expression:"form.is_release_user"}})],1),r("el-form-item",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("保 存")]),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)],1)],1)]),r("el-tab-pane",{attrs:{label:"业主信息",name:"third"}},[r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.mainLoading,expression:"mainLoading"}],ref:"mainForm",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"客户名",prop:"main_name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写客户名"},model:{value:e.mainForm.main_name,callback:function(t){e.$set(e.mainForm,"main_name",t)},expression:"mainForm.main_name"}})],1),r("el-form-item",{attrs:{label:"联系人",prop:"main_contacts"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写联系人"},model:{value:e.mainForm.main_contacts,callback:function(t){e.$set(e.mainForm,"main_contacts",t)},expression:"mainForm.main_contacts"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{label:"联系电话",prop:"main_tel"}},[r("el-input",{attrs:{size:"medium",placeholder:"联系电话"},model:{value:e.mainForm.main_tel,callback:function(t){e.$set(e.mainForm,"main_tel",t)},expression:"mainForm.main_tel"}})],1),r("el-form-item",{attrs:{label:"联系人地址",prop:"main_address"}},[r("el-cascader",{attrs:{size:"large",filterable:"",options:e.addressData},model:{value:e.mainForm.main_address,callback:function(t){e.$set(e.mainForm,"main_address",t)},expression:"mainForm.main_address"}}),r("div",{staticClass:"mt20"},[r("el-input",{attrs:{size:"medium",placeholder:"请填写详细地址"},model:{value:e.mainForm.main_spec_address,callback:function(t){e.$set(e.mainForm,"main_spec_address",t)},expression:"mainForm.main_spec_address"}})],1)],1),r("el-form-item",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitMainForm("mainForm")}}},[e._v("保 存")]),r("el-button",{on:{click:function(t){return e.resetForm("mainForm")}}},[e._v("重 置")])],1)],1)],1)],1)],1)])],1)],1)},n=[],s=r("a34a"),o=r.n(s),i=r("2e3f"),l=r("3ef2"),c=(r("4360"),r("93c2")),u=r("4723");function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e){return h(e)||p(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function h(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function b(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){b(s,a,n,o,i,"next",e)}function i(e){b(s,a,n,o,i,"throw",e)}o(void 0)})}}var g={name:"ColumnEdit",props:{editID:Number},data:function(){return{activeName:"first",addressData:i["regionDataPlus"],formAddresData:i["provinceAndCityData"],fieldObj:{channel:"channelData",follow_status:"followStatuslData",customer_type:"customerTypeData",level:"levelData"},channelData:["抖音","百度","淘宝","公众号","转介绍","业务员推销","代理","扩容"],customerTypeData:["业主","施工方"],levelData:["A","B","C"],followStatuslData:["无意向客户","成交客户","长期跟进","重点跟进","非目标客户"],loading:!1,mainLoading:!1,customerData:[],cuserLists:[],form:{name:"",contacts_name:"",telephone:"",email:"",address:"",follow_status:"",purpose:"",channel:"",is_release_user:!1,customer_type:"",dicider_user:""},mainForm:{main_name:"",main_contacts:"",main_tel:"",main_address:"",main_spec_address:""},rules:{contacts_name:[{required:!0,message:"请输入联系人",trigger:"blur"}],telephone:[],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],address:[{required:!0,message:"请选择联系人地址"}],purpose:[{required:!0,message:"请输入项目用途",trigger:"blur"}],channel:[{required:!0,message:"请输入客户来源",trigger:"blur"}]}}},created:function(){this._initialize(),this.getTypes()},methods:{_initialize:function(){this.getCustomer()},getAdminUsers:function(){var e=v(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage-1,e.prev=1,e.next=4,u["default"].getAdminUsers({count:30,page:0});case 4:t=e.sent,this.cuserLists=d(t.items),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),getTypes:function(){var e=v(o.a.mark(function e(){var t,r,a,n,s,i,l=this;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(a in t=[],r=this.fieldObj,r)t.push(a);return t=t.join(),e.next=6,c["default"].getTypeByField(t);case 6:if(n=e.sent,n&&0!=n.length){e.next=9;break}return e.abrupt("return");case 9:for(i in s=function(e){var t=r[e],a=n.find(function(t){return t["field"]==e});a&&(l[t]=a["value"])},r)s(i);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getCustomer:function(){var e=v(o.a.mark(function e(){var t,r,a;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,l["default"].getCustomer(this.editID);case 4:t=e.sent,this._handleCustomerResData(t),e.next=20;break;case 8:if(e.prev=8,e.t0=e["catch"](1),r=e.t0.data.msg,!r||"object"!==m(r)){e.next=20;break}e.t1=o.a.keys(r);case 13:if((e.t2=e.t1()).done){e.next=20;break}return a=e.t2.value,this.$message.error(r[a]),e.next=18,setTimeout(function(){},1e3);case 18:e.next=13;break;case 20:"super"==this.form.author&&this.getAdminUsers(),this.loading=!1;case 22:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=v(o.a.mark(function e(r){var a,n,s,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=25;break}return t.loading=!0,e.prev=2,t.form.dicider_user&&(a=t.cuserLists.filter(function(e){return e.id==t.form.dicider_user}),a&&(t.form["dicider_user"]={id:a[0].id,name:a[0].username})),e.next=6,l["default"].editCustomer(t.editID,t.form);case 6:n=e.sent,0===n.error_code&&(t.$message.success("".concat(n.msg)),t.back()),e.next=22;break;case 10:if(e.prev=10,e.t0=e["catch"](2),s=e.t0.data.msg,!s||"object"!==m(s)){e.next=22;break}e.t1=o.a.keys(s);case 15:if((e.t2=e.t1()).done){e.next=22;break}return i=e.t2.value,t.$message.error(s[i]),e.next=20,setTimeout(function(){},1e3);case 20:e.next=15;break;case 22:t.loading=!1,e.next=27;break;case 25:return t.$message.error("请填写正确的信息"),e.abrupt("return",!1);case 27:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}())},submitMainForm:function(e){var t=this;this.$refs[e].validate(function(){var e=v(o.a.mark(function e(r){var a,n,s,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=28;break}return t.mainLoading=!0,e.prev=2,a=t.mainForm,a.user_id=t.editID,a.link_code=t.form.link_code,a.main_address||(a.main_address="[]"),e.next=9,l["default"].updateMainCustomer(a);case 9:n=e.sent,0===n.error_code&&t.$message.success("".concat(n.msg)),e.next=25;break;case 13:if(e.prev=13,e.t0=e["catch"](2),s=e.t0.data.msg,!s||"object"!==m(s)){e.next=25;break}e.t1=o.a.keys(s);case 18:if((e.t2=e.t1()).done){e.next=25;break}return i=e.t2.value,t.$message.error(s[i]),e.next=23,setTimeout(function(){},1e3);case 23:e.next=18;break;case 25:t.mainLoading=!1,e.next=30;break;case 28:return t.$message.error("请填写正确的信息"),e.abrupt("return",!1);case 30:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}())},isChinese:function(e){var t=/[^\u4E00-\u9FA5]/;return!t.test(e)},_handleCustomerResData:function(e){e["customer_main"]&&e["customer_main"]["user_id"];if(e["level"]=e["level"]&&0!=e["level"]?e["level"]:"",e["is_release_user"]=!!e["is_release_user"],e["customer_main"]){var t=e["customer_main"];if(t["main_address"]&&t["main_address"].length>0&&!t["user_id"]&&t["main_address"][0]){var r=t["main_address"][1],a=t["main_address"][0],n=t["main_address"][2],s=i["TextToCode"][a][r].code,o=i["TextToCode"][a].code,l=[o,s],c="";n&&(c=i["TextToCode"][a][r][n].code,l.push(c)),t["main_address"]=l}0==t["main_address"].length&&(t["main_address"]=""),this.mainForm=t,delete e["customer_main"]}if(e["address"]&&(console.log(e["address"]),e["address"][0]&&this.isChinese(e["address"][0]))){var u=e["address"][1],m=e["address"][0],d=i["TextToCode"][m][u].code,f=i["TextToCode"][m].code,p=[f,d];e["address"]=p}this.form=e},resetForm:function(e){this.$refs[e].resetFields()},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)}}},_=g,y=(r("db21"),r("cba8")),x=Object(y["a"])(_,a,n,!1,null,"0c395764",null);t["default"]=x.exports},f2cc:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[e._v("新建项目 "),r("span",{staticClass:"back",on:{click:function(t){return e.back(!1)}}},[r("i",{staticClass:"iconfont icon-fanhui"}),e._v(" 返回 ")])]),r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"使用场景",prop:"scene"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写使用场景"},model:{value:e.form.scene,callback:function(t){e.$set(e.form,"scene",t)},expression:"form.scene"}})],1),r("el-form-item",{attrs:{label:"客户行业",prop:"industry"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户行业"},model:{value:e.form.industry,callback:function(t){e.$set(e.form,"industry",t)},expression:"form.industry"}},[e._l(e.industryData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2),r("el-input",{staticClass:"mt10",attrs:{disabled:!e.industryDisplay&&"disabled",size:"medium",placeholder:"请填写客户行业"},model:{value:e.industry_other,callback:function(t){e.industry_other=t},expression:"industry_other"}})],1),r("el-form-item",{attrs:{label:"产品类型",prop:"product_type"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择产品类型"},model:{value:e.form.product_type,callback:function(t){e.$set(e.form,"product_type",t)},expression:"form.product_type"}},[e._l(e.productTypeData,function(t,a){return[r("el-option",{key:t,attrs:{value:a,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2)],1),r("el-form-item",{staticClass:"form-item",attrs:{label:"产品规格",prop:"product_spec"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写产品规格"},model:{value:e.form.product_spec,callback:function(t){e.$set(e.form,"product_spec",t)},expression:"form.product_spec"}})],1),r("el-form-item",{attrs:{label:"产品数量",prop:"product_num"}},[r("el-input-number",{attrs:{min:1,max:10,label:"产品数量"},model:{value:e.form.product_num,callback:function(t){e.$set(e.form,"product_num",t)},expression:"form.product_num"}})],1),r("el-form-item",{attrs:{label:"产品报价",prop:"product_price"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写产品报价"},model:{value:e.form.product_price,callback:function(t){e.$set(e.form,"product_price",t)},expression:"form.product_price"}})],1),r("el-form-item",{attrs:{label:"客户需求背景",prop:"demand_bg"}},[r("el-select",{attrs:{size:"medium",filterable:"",placeholder:"请选择客户需求背景"},model:{value:e.form.demand_bg,callback:function(t){e.$set(e.form,"demand_bg",t)},expression:"form.demand_bg"}},[e._l(e.demandBgData,function(t,a){return[r("el-option",{key:a,attrs:{value:t,label:t}},[r("span",{staticStyle:{color:"#b4b4b4","margin-right":"15px","font-size":"12px"}},[e._v(e._s(a+1))]),r("span",[e._v(e._s(t))])])]})],2),r("el-input",{staticClass:"mt10",attrs:{size:"medium",disabled:!e.demandBgDisplay&&"disabled",placeholder:"请填写客户需求背景"},model:{value:e.demand_bg_other,callback:function(t){e.demand_bg_other=t},expression:"demand_bg_other"}})],1),r("el-form-item",{attrs:{label:"需求描述",prop:"demand_desc"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写需求描述"},model:{value:e.form.demand_desc,callback:function(t){e.$set(e.form,"demand_desc",t)},expression:"form.demand_desc"}})],1),r("el-form-item",{attrs:{label:"提供对应解决方案",prop:"solution"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写对应解决方案"},model:{value:e.form.solution,callback:function(t){e.$set(e.form,"solution",t)},expression:"form.solution"}})],1),r("el-form-item",{attrs:{label:"工程安装解决方案",prop:"install_solution"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写工程安装解决方案"},model:{value:e.form.install_solution,callback:function(t){e.$set(e.form,"install_solution",t)},expression:"form.install_solution"}})],1),r("el-form-item",{attrs:{label:"客户关注产品亮点",prop:"product_lights"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写客户关注产品亮点"},model:{value:e.form.product_lights,callback:function(t){e.$set(e.form,"product_lights",t)},expression:"form.product_lights"}})],1),r("el-form-item",{attrs:{label:"客户价值",prop:"custom_value"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写客户价值"},model:{value:e.form.custom_value,callback:function(t){e.$set(e.form,"custom_value",t)},expression:"form.custom_value"}})],1),r("el-form-item",{attrs:{label:"业务跟进困难点",prop:"follow_difficulty"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写业务跟进困难点"},model:{value:e.form.follow_difficulty,callback:function(t){e.$set(e.form,"follow_difficulty",t)},expression:"form.follow_difficulty"}})],1),r("el-form-item",{attrs:{label:"客户反馈",prop:"custom_feedback"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写客户反馈"},model:{value:e.form.custom_feedback,callback:function(t){e.$set(e.form,"custom_feedback",t)},expression:"form.custom_feedback"}})],1),r("el-form-item",{attrs:{label:"跟进次数",prop:"follow_count"}},[r("el-input",{attrs:{size:"small",placeholder:"请填写跟进次数"},model:{value:e.form.follow_count,callback:function(t){e.$set(e.form,"follow_count",t)},expression:"form.follow_count"}})],1),r("el-form-item",{attrs:{label:"丢单原因",prop:"reason"}},[r("el-input",{attrs:{type:"textarea",size:"medium",placeholder:"请填写丢单原因"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),r("el-form-item",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitform("form")}}},[e._v("保 存")]),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)],1)],1)])},n=[],s=r("a34a"),o=r.n(s),i=r("f8fd");function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){c(s,a,n,o,i,"next",e)}function i(e){c(s,a,n,o,i,"throw",e)}o(void 0)})}}var m={name:"CulturalAdd",props:{linkCode:Number},data:function(){return{loading:!1,demandBgData:["已受灾","应付检查","系统统一安装","领导要求","其他"],productTypeData:["不锈钢开启式","不锈钢密闭式","铝合金组合式","水动力","ABS"],industryData:["商场","工厂","其他"],industry_other:"",demand_bg_other:"",demandBgDisplay:!1,industryDisplay:!1,form:{scene:"",industry:"",product_type:"",product_spec:"",product_num:"",product_price:"",demand_bg:"",demand_desc:"",solution:"",install_solution:"",product_lights:"",custom_value:"",follow_difficulty:"",custom_feedback:"",follow_count:0,reason:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"}]}}},created:function(){},watch:{form:{handler:function(e,t){"其他"==e.industry?this.industryDisplay=!0:(this.industryDisplay=!1,this.industry_other=""),"其他"==e.demand_bg?this.demandBgDisplay=!0:(this.demandBgDisplay=!1,this.demand_bg_other="")},deep:!0}},methods:{settingFollow:function(){var e=this.form;return e.link_code=this.customerID,"其他"==e.industry&&(e.industry="其他-"+this.industry_other),"其他"==e.demand_bg&&(e.demand_bg="其他-"+this.demand_bg_other),e},submitform:function(e){var t=this;this.$refs[e].validate(function(){var e=u(o.a.mark(function e(r){var a,n,s;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=25;break}return t.loading=!0,e.prev=2,e.next=5,i["default"].addCustomerProject(t.settingFollow());case 5:a=e.sent,0===a.error_code&&t.$message.success("".concat(a.msg)),t.back(),e.next=22;break;case 10:if(e.prev=10,e.t0=e["catch"](2),n=e.t0.data.msg,!n||"object"!==l(n)){e.next=22;break}e.t1=o.a.keys(n);case 15:if((e.t2=e.t1()).done){e.next=22;break}return s=e.t2.value,t.$message.error(n[s]),e.next=20,setTimeout(function(){},1e3);case 20:e.next=15;break;case 22:t.loading=!1,e.next=27;break;case 25:return t.$message.error("请填写正确的信息"),e.abrupt("return",!1);case 27:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()},back:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)}}},d=m,f=(r("365c"),r("cba8")),p=Object(f["a"])(d,a,n,!1,null,"f2b17f7c",null);t["default"]=p.exports},f38b:function(e,t,r){},f8fd:function(e,t,r){"use strict";r.r(t);var a=r("a34a"),n=r.n(a),s=r("dfd8"),o=r("f121");function i(e,t,r,a,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(a,n)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function o(e){i(s,a,n,o,l,"next",e)}function l(e){i(s,a,n,o,l,"throw",e)}o(void 0)})}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var d=function(){function e(){c(this,e)}return m(e,[{key:"getAllCustomerProjects",value:function(){var e=l(n.a.mark(function e(){var t,r,a,i,l=arguments;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:0,r=l.length>1&&void 0!==l[1]?l[1]:o["default"].pageSize,a={page:t,count:r,handleError:!0},e.next=5,Object(s["get"])("v1/customer_project/all",a);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCustomerProjects",value:function(){var e=l(n.a.mark(function e(){var t,r,a,i,l,c,u=arguments;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:0,r=u.length>1&&void 0!==u[1]?u[1]:0,a=u.length>2&&void 0!==u[2]?u[2]:1,i=u.length>3&&void 0!==u[3]?u[3]:o["default"].pageSize,l={page:t,count:i,customer_id:r,isAdmin:a,handleError:!0},e.next=7,Object(s["get"])("v1/customer_project",l);case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCustomerProject",value:function(){var e=l(n.a.mark(function e(t){var r;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["get"])("v1/customer_project/".concat(t),{handleError:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"addCustomerProject",value:function(){var e=l(n.a.mark(function e(t){var r;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["post"])("v1/customer_project",t,{handleError:!0});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"editCustomerProject",value:function(){var e=l(n.a.mark(function e(t,r){var a;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["put"])("v1/customer_project/".concat(t),r,{handleError:!0});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"delCustomerProject",value:function(){var e=l(n.a.mark(function e(t){var r;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["_delete"])("v1/customer_project",{ids:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=new d}}]);