(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8cc4cf9c","chunk-2d229822","chunk-2d229822","chunk-2d0f0623"],{"0dca":function(e,r,t){"use strict";t("d128")},"9bae":function(e,r,t){"use strict";t.r(r);var n=t("a34a"),a=t.n(n),u=t("dfd8"),c=t("f121");function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(t,!0).forEach(function(r){s(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e,r,t,n,a,u,c){try{var i=e[u](c),o=i.value}catch(s){return void t(s)}i.done?r(o):Promise.resolve(o).then(n,a)}function l(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var u=e.apply(r,t);function c(e){p(u,n,a,c,i,"next",e)}function i(e){p(u,n,a,c,i,"throw",e)}c(void 0)})}}function f(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function d(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,r,t){return r&&d(e.prototype,r),t&&d(e,t),e}var h=function(){function e(){f(this,e)}return v(e,[{key:"getRefunds",value:function(){var e=l(a.a.mark(function e(){var r,t,n,i,s=arguments;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>0&&void 0!==s[0]?s[0]:0,t=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2&&void 0!==s[2]?s[2]:c["default"].pageSize,e.next=5,Object(u["get"])("v1/order/refund/all",o({page:r,count:n},t,{handleError:!0}));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));function r(){return e.apply(this,arguments)}return r}()},{key:"getRefund",value:function(){var e=l(a.a.mark(function e(r,t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/refund/detail",{handleError:!0,order_id:r,sku_id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"updateRefundStatus",value:function(){var e=l(a.a.mark(function e(r,t,n){var c;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/status",{order_id:r,sku_id:t,status:n});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}},e)}));function r(r,t,n){return e.apply(this,arguments)}return r}()},{key:"cancel",value:function(){var e=l(a.a.mark(function e(r,t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/cancel",{order_id:r,sku_id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"agree",value:function(){var e=l(a.a.mark(function e(r,t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/agree",{order_id:r,sku_id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"queryLogistics",value:function(){var e=l(a.a.mark(function e(r){var t,n,c=arguments;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,Object(u["get"])("v1/order/refund/".concat(r,"/logistics"),{type:t,handleError:!0});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"createAndUpdateLogistics",value:function(){var e=l(a.a.mark(function e(r){var t,n,c,i;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=r.refund_id,n=r.comp,c=r.number,e.next=3,Object(u["patch"])("v1/order/refund/logistics?handleError=true",{refund_id:t,comp:n,number:c});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"updateRefundSingle",value:function(){var e=l(a.a.mark(function e(r){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/single",r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()}]),e}();r["default"]=new h},aab9:function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.logistics?t("div",[e.logistics.length>0?t("div",{staticClass:"radio"},[t("span",[e._v("排序")]),t("el-radio-group",{model:{value:e.reverse,callback:function(r){e.reverse=r},expression:"reverse"}},[t("el-radio",{attrs:{label:!0}},[e._v("倒序")]),t("el-radio",{attrs:{label:!1}},[e._v("正序")])],1)],1):e._e(),t("el-timeline",{attrs:{reverse:e.reverse}},e._l(e.logistics,function(r,n){return t("el-timeline-item",{key:n,attrs:{timestamp:r.timestamp}},[e._v("\n                "+e._s(r.content)+"\n            ")])}),1)],1):t("div",{staticClass:"no-data-class"},[e._v("物流查询失败")])])},a=[],u=t("a34a"),c=t.n(u),i=t("de6a"),o=t("9bae");function s(e,r,t,n,a,u,c){try{var i=e[u](c),o=i.value}catch(s){return void t(s)}i.done?r(o):Promise.resolve(o).then(n,a)}function p(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var u=e.apply(r,t);function c(e){s(u,n,a,c,i,"next",e)}function i(e){s(u,n,a,c,i,"throw",e)}c(void 0)})}}var l={name:"logisticsVisible",components:{},props:{type:Number,order_no:String,refund_id:Number,status:Number,loading:Boolean},data:function(){return{logistics:[],reverse:!0}},created:function(){},watch:{type:{handler:function(e){1==e?this.lookLogistics():2==e?this.refundLogistics():3==e&&(console.log(222),this.refundLogistics(2))},immediate:!0}},methods:{refundLogistics:function(){var e=p(c.a.mark(function e(){var r,t,n,a,u=arguments;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=u.length>0&&void 0!==u[0]?u[0]:1,t=this.refund_id,t){e.next=4;break}return e.abrupt("return");case 4:return n=null,e.prev=5,e.next=8,o["default"].queryLogistics(t,r);case 8:n=e.sent,n=this.handleLogistics(n["list"]),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](5),console.log(e.t0),e.t0&&e.t0.data&&(a=e.t0.data.msg,this.$message.error(a));case 16:this.logistics=n;case 17:case"end":return e.stop()}},e,this,[[5,12]])}));function r(){return e.apply(this,arguments)}return r}(),lookLogistics:function(){var e=p(c.a.mark(function e(){var r,t,n;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.order_no,t=this.logistics,t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,i["default"].getLogistics(r);case 6:t=e.sent,t=this.handleLogistics(t["list"]),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),e.t0&&e.t0.data&&(n=e.t0.data.msg,this.$message.error(n));case 13:this.logistics=t;case 14:case"end":return e.stop()}},e,this,[[3,10]])}));function r(){return e.apply(this,arguments)}return r}(),handleLogistics:function(e){var r=[],t={};return e.forEach(function(e){t.content=e.remark,t.timestamp=e.datetime,r.push(t),t={}}),r},logisticsClose:function(){this.lookLogistics()}}},f=l,d=(t("0dca"),t("2877")),v=Object(d["a"])(f,n,a,!1,null,"dcb6d956",null);r["default"]=v.exports},d128:function(e,r,t){},de6a:function(e,r,t){"use strict";t.r(r);var n=t("a34a"),a=t.n(n),u=t("dfd8"),c=t("f121");function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(t,!0).forEach(function(r){s(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e,r,t,n,a,u,c){try{var i=e[u](c),o=i.value}catch(s){return void t(s)}i.done?r(o):Promise.resolve(o).then(n,a)}function l(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var u=e.apply(r,t);function c(e){p(u,n,a,c,i,"next",e)}function i(e){p(u,n,a,c,i,"throw",e)}c(void 0)})}}function f(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function d(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,r,t){return r&&d(e.prototype,r),t&&d(e,t),e}var h=function(){function e(){f(this,e)}return v(e,[{key:"getOrders",value:function(){var e=l(a.a.mark(function e(){var r,t,n,i,s=arguments;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>0&&void 0!==s[0]?s[0]:0,t=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2&&void 0!==s[2]?s[2]:c["default"].pageSize,e.next=5,Object(u["get"])("v1/order",o({page:r,count:n},t,{handleError:!0}));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));function r(){return e.apply(this,arguments)}return r}()},{key:"getOrder",value:function(){var e=l(a.a.mark(function e(r){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/".concat(r),{handleError:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"delOrder",value:function(){var e=l(a.a.mark(function e(r){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["_delete"])("v1/order",{ids:r});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"deliverGoods",value:function(){var e=l(a.a.mark(function e(r){var t,n,c,i;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=r.orderID,n=r.comp,c=r.number,e.next=3,Object(u["post"])("v1/order/shipment/".concat(t,"?handleError=true"),{comp:n,number:c});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"getLogistics",value:function(){var e=l(a.a.mark(function e(r){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/logistics/".concat(r,"?handleError=true"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"getDeliverRecord",value:function(){var e=l(a.a.mark(function e(r){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/shipment/record/".concat(r,"?handleError=true"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"updateDeliverRecord",value:function(){var e=l(a.a.mark(function e(r,t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["post"])("v1/logistics/".concat(r,"?handleError=true"),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"updateSingle",value:function(){var e=l(a.a.mark(function e(r){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/single",r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"getRefunds",value:function(){var e=l(a.a.mark(function e(r){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/refund/".concat(r,"?handleError=true"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()},{key:"getRefundDetail",value:function(){var e=l(a.a.mark(function e(r,t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["get"])("v1/order/refund/detail?order_id=".concat(r,"&sku_id=").concat(t,"&handleError=true"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"refundCancel",value:function(){var e=l(a.a.mark(function e(r,t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/cancel?order_id=".concat(r,"&sku_id=").concat(t,"&handleError=true"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"refundAgree",value:function(){var e=l(a.a.mark(function e(r,t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/agree?order_id=".concat(r,"&sku_id=").concat(t,"&handleError=true"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"updateRefundSingle",value:function(){var e=l(a.a.mark(function e(r){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["patch"])("v1/order/refund/single",r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function r(r){return e.apply(this,arguments)}return r}()}]),e}();r["default"]=new h}}]);