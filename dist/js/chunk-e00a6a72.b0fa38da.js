(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e00a6a72"],{"0156":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("6d8b"),o=n("e0d3");function i(t,e,n){n=n||{};var o=t.coordinateSystem,i=e.axis,a={},u=i.getAxesOnZeroOf()[0],s=i.position,c=u?"onZero":s,l=i.dim,f=o.getRect(),d=[f.x,f.x+f.width,f.y,f.y+f.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,m="x"===l?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(u){var g=u.toGlobalCoord(u.dataToCoord(0));m[h.onZero]=Math.max(Math.min(g,m[1]),m[0])}a.position=["y"===l?m[h[c]]:d[0],"x"===l?m[h[c]]:d[3]],a.rotation=Math.PI/2*("x"===l?0:1);var v={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=v[s],a.labelOffset=u?m[h[s]]-m[h.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),r["retrieve"](n.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=e.get(["axisLabel","rotate"]);return a.labelRotate="top"===c?-y:y,a.z2=1,a}function a(t){return"cartesian2d"===t.get("coordinateSystem")}function u(t){var e={xAxisModel:null,yAxisModel:null};return r["each"](e,function(n,r){var i=r.replace(/Model$/,""),a=t.getReferringComponents(i,o["b"]).models[0];e[r]=a}),e}},"030f":function(t,e,n){(function(t){(function(){"use strict";var e=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},n=function(t){return function(n){return e(n)===t}},r=function(t){return function(e){return typeof e===t}},o=function(t){return function(e){return t===e}},i=n("string"),a=n("object"),u=n("array"),s=o(null),c=r("boolean"),l=o(void 0),f=function(t){return null===t||void 0===t},d=function(t){return!f(t)},h=r("function"),p=r("number"),m=function(t,e){if(u(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return!1;return!0}return!1},g=function(){},v=function(t){return function(){return t()}},y=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},b=function(t,e){return function(n){return t(e(n))}},x=function(t){return function(){return t}},_=function(t){return t},w=function(t,e){return t===e};function O(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var S=function(t){return function(e){return!t(e)}},C=function(t){return function(){throw new Error(t)}},k=x(!1),T=x(!0),M=tinymce.util.Tools.resolve("tinymce.ThemeManager"),D=function(){return D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},D.apply(this,arguments)};function A(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function I(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var j=function(){return E},E=function(){var t=function(t){return t()},e=_,n={fold:function(t,e){return t()},isSome:k,isNone:T,getOr:e,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:x(null),getOrUndefined:x(void 0),or:e,orThunk:t,map:j,each:g,bind:j,exists:k,forall:T,filter:function(){return j()},toArray:function(){return[]},toString:x("none()")};return n}(),R=function(t){var e=x(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},isSome:T,isNone:k,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return R(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:E},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},N=function(t){return null===t||void 0===t?E:R(t)},P={some:R,none:j,from:N},B=Array.prototype.slice,L=Array.prototype.indexOf,F=Array.prototype.push,z=function(t,e){return L.call(t,e)},V=function(t,e){var n=z(t,e);return-1===n?P.none():P.some(n)},H=function(t,e){return z(t,e)>-1},U=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},W=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},G=function(t,e){for(var n=[],r=0;r<t.length;r+=e){var o=B.call(t,r,r+e);n.push(o)}return n},q=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},Y=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},X=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},$=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],u=e(a,o)?n:r;u.push(a)}return{pass:n,fail:r}},K=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},Z=function(t,e,n){return X(t,function(t,r){n=e(n,t,r)}),n},J=function(t,e,n){return Y(t,function(t,r){n=e(n,t,r)}),n},Q=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return P.some(i);if(n(i,r))break}return P.none()},tt=function(t,e){return Q(t,e,k)},et=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return P.some(n)}return P.none()},nt=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!u(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);F.apply(e,t[n])}return e},rt=function(t,e){return nt(q(t,e))},ot=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},it=function(t){var e=B.call(t,0);return e.reverse(),e},at=function(t,e){return K(t,function(t){return!H(e,t)})},ut=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},st=function(t){return[t]},ct=function(t,e){var n=B.call(t,0);return n.sort(e),n},lt=function(t,e){return e>=0&&e<t.length?P.some(t[e]):P.none()},ft=function(t){return lt(t,0)},dt=function(t){return lt(t,t.length-1)},ht=h(Array.from)?Array.from:function(t){return B.call(t)},pt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return P.none()},mt=Object.keys,gt=Object.hasOwnProperty,vt=function(t,e){for(var n=mt(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},yt=function(t,e){return bt(t,function(t,n){return{k:n,v:e(t,n)}})},bt=function(t,e){var n={};return vt(t,function(t,r){var o=e(t,r);n[o.k]=o.v}),n},xt=function(t){return function(e,n){t[n]=e}},_t=function(t,e,n,r){var o={};return vt(t,function(t,o){(e(t,o)?n:r)(t,o)}),o},wt=function(t,e){var n={};return _t(t,e,xt(n),g),n},Ot=function(t,e){var n=[];return vt(t,function(t,r){n.push(e(t,r))}),n},St=function(t,e){for(var n=mt(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];if(e(a,i,t))return P.some(a)}return P.none()},Ct=function(t){return Ot(t,_)},kt=function(t,e){return Tt(t,e)?P.from(t[e]):P.none()},Tt=function(t,e){return gt.call(t,e)},Mt=function(t,e){return Tt(t,e)&&void 0!==t[e]&&null!==t[e]},Dt=function(t,e,n){return void 0===n&&(n=w),t.exists(function(t){return n(t,e)})},At=function(t,e,n){return void 0===n&&(n=w),Et(t,e,n).getOr(t.isNone()&&e.isNone())},It=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},jt=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return P.none();e.push(r.getOrDie())}return P.some(e)},Et=function(t,e,n){return t.isSome()&&e.isSome()?P.some(n(t.getOrDie(),e.getOrDie())):P.none()},Rt=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?P.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):P.none()},Nt=function(t,e){return void 0!==t&&null!==t?P.some(e(t)):P.none()},Pt=function(t,e){return t?P.some(e):P.none()},Bt=function(t,e){return t+e},Lt=function(t,e){return t.substring(e)},Ft=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},zt=function(t,e){return Ut(t,e)?Lt(t,e.length):t},Vt=function(t,e){return Wt(t,e)?t:Bt(t,e)},Ht=function(t,e){return-1!==t.indexOf(e)},Ut=function(t,e){return Ft(t,e,0)},Wt=function(t,e){return Ft(t,e,t.length-e.length)},Gt=function(t){return function(e){return e.replace(t,"")}},qt=Gt(/^\s+|\s+$/g),Yt=function(t){return t.length>0},Xt=function(t){return!Yt(t)},$t=function(t){return void 0!==t.style&&h(t.style.getPropertyValue)},Kt=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Qt(r.childNodes[0])},Zt=function(t,e){var n=e||document,r=n.createElement(t);return Qt(r)},Jt=function(t,e){var n=e||document,r=n.createTextNode(t);return Qt(r)},Qt=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},te=function(t,e,n){return P.from(t.dom.elementFromPoint(e,n)).map(Qt)},ee={fromHtml:Kt,fromTag:Zt,fromText:Jt,fromDom:Qt,fromPoint:te};"undefined"!==typeof window?window:Function("return this;")();var ne,re=9,oe=11,ie=1,ae=3,ue=function(t){var e=t.dom.nodeName;return e.toLowerCase()},se=function(t){return t.dom.nodeType},ce=function(t){return function(e){return se(e)===t}},le=ce(ie),fe=ce(ae),de=ce(re),he=ce(oe),pe=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},me=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:x(o),isiPhone:x(i),isTablet:x(s),isPhone:x(c),isTouch:x(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:x(l),isDesktop:x(f)}},ge=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},ve=function(t,e){var n=ge(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return xe(r(1),r(2))},ye=function(t,e){var n=String(e).toLowerCase();return 0===t.length?be():ve(t,n)},be=function(){return xe(0,0)},xe=function(t,e){return{major:t,minor:e}},_e={nu:xe,detect:ye,unknown:be},we=function(t,e){return pt(e.brands,function(e){var n=e.brand.toLowerCase();return tt(t,function(t){var e;return n===(null===(e=t.brand)||void 0===e?void 0:e.toLowerCase())}).map(function(t){return{current:t.name,version:_e.nu(parseInt(e.version,10),0)}})})},Oe=function(t,e){var n=String(e).toLowerCase();return tt(t,function(t){return t.search(n)})},Se=function(t,e){return Oe(t,e).map(function(t){var n=_e.detect(t.versionRegexes,e);return{current:t.name,version:n}})},Ce=function(t,e){return Oe(t,e).map(function(t){var n=_e.detect(t.versionRegexes,e);return{current:t.name,version:n}})},ke=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Te=function(t){return function(e){return Ht(e,t)}},Me=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Ht(t,"edge/")&&Ht(t,"chrome")&&Ht(t,"safari")&&Ht(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ke],search:function(t){return Ht(t,"chrome")&&!Ht(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Ht(t,"msie")||Ht(t,"trident")}},{name:"Opera",versionRegexes:[ke,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Te("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Te("firefox")},{name:"Safari",versionRegexes:[ke,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Ht(t,"safari")||Ht(t,"mobile/"))&&Ht(t,"applewebkit")}}],De=[{name:"Windows",search:Te("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Ht(t,"iphone")||Ht(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Te("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Te("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Te("linux"),versionRegexes:[]},{name:"Solaris",search:Te("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Te("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Te("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ae={browsers:x(Me),oses:x(De)},Ie="Edge",je="Chrome",Ee="IE",Re="Opera",Ne="Firefox",Pe="Safari",Be=function(){return Le({current:void 0,version:_e.unknown()})},Le=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(Ie),isChrome:r(je),isIE:r(Ee),isOpera:r(Re),isFirefox:r(Ne),isSafari:r(Pe)}},Fe={unknown:Be,nu:Le,edge:x(Ie),chrome:x(je),ie:x(Ee),opera:x(Re),firefox:x(Ne),safari:x(Pe)},ze="Windows",Ve="iOS",He="Android",Ue="Linux",We="OSX",Ge="Solaris",qe="FreeBSD",Ye="ChromeOS",Xe=function(){return $e({current:void 0,version:_e.unknown()})},$e=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(ze),isiOS:r(Ve),isAndroid:r(He),isOSX:r(We),isLinux:r(Ue),isSolaris:r(Ge),isFreeBSD:r(qe),isChromeOS:r(Ye)}},Ke={unknown:Xe,nu:$e,windows:x(ze),ios:x(Ve),android:x(He),linux:x(Ue),osx:x(We),solaris:x(Ge),freebsd:x(qe),chromeos:x(Ye)},Ze=function(t,e,n){var r=Ae.browsers(),o=Ae.oses(),i=e.bind(function(t){return we(r,t)}).orThunk(function(){return Se(r,t)}).fold(Fe.unknown,Fe.nu),a=Ce(o,t).fold(Ke.unknown,Ke.nu),u=me(a,i,t,n);return{browser:i,os:a,deviceType:u}},Je={detect:Ze},Qe=function(t){return window.matchMedia(t).matches},tn=pe(function(){return Je.detect(navigator.userAgent,P.from(navigator.userAgentData),Qe)}),en=function(){return tn()},nn=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},rn=function(t,e){return nn(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},on=function(t,e){var n=t.dom;if(n.nodeType!==ie)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},an=function(t){return t.nodeType!==ie&&t.nodeType!==re&&t.nodeType!==oe||0===t.childElementCount},un=function(t,e){var n=void 0===e?document:e.dom;return an(n)?[]:q(n.querySelectorAll(t),ee.fromDom)},sn=function(t,e){var n=void 0===e?document:e.dom;return an(n)?P.none():P.from(n.querySelector(t)).map(ee.fromDom)},cn=function(t,e){return t.dom===e.dom},ln=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},fn=function(t,e){return rn(t.dom,e.dom)},dn=function(t,e){return en().browser.isIE()?fn(t,e):ln(t,e)},hn=function(t){return ee.fromDom(t.dom.ownerDocument)},pn=function(t){return de(t)?t:hn(t)},mn=function(t){return ee.fromDom(pn(t).dom.documentElement)},gn=function(t){return ee.fromDom(pn(t).dom.defaultView)},vn=function(t){return P.from(t.dom.parentNode).map(ee.fromDom)},yn=function(t){return vn(t)},bn=function(t){return P.from(t.dom.offsetParent).map(ee.fromDom)},xn=function(t){return P.from(t.dom.nextSibling).map(ee.fromDom)},_n=function(t){return q(t.dom.childNodes,ee.fromDom)},wn=function(t,e){var n=t.dom.childNodes;return P.from(n[e]).map(ee.fromDom)},On=function(t){return wn(t,0)},Sn=function(t,e){return{element:t,offset:e}},Cn=function(t,e){var n=_n(t);return n.length>0&&e<n.length?Sn(n[e],0):Sn(t,e)},kn=function(t){return he(t)&&d(t.dom.host)},Tn=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),Mn=x(Tn),Dn=Tn?function(t){return ee.fromDom(t.dom.getRootNode())}:pn,An=function(t){return kn(t)?t:ee.fromDom(pn(t).dom.body)},In=function(t){return jn(t).isSome()},jn=function(t){var e=Dn(t);return kn(e)?P.some(e):P.none()},En=function(t){return ee.fromDom(t.dom.host)},Rn=function(t){if(Mn()&&d(t.target)){var e=ee.fromDom(t.target);if(le(e)&&Nn(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return ft(n)}}return P.from(t.target)},Nn=function(t){return d(t.dom.shadowRoot)},Pn=function(t){var e=fe(t)?t.dom.parentNode:t.dom;if(void 0===e||null===e||null===e.ownerDocument)return!1;var n=e.ownerDocument;return jn(ee.fromDom(e)).fold(function(){return n.body.contains(e)},b(Pn,En))},Bn=function(){return Ln(ee.fromDom(document))},Ln=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return ee.fromDom(e)},Fn=function(t,e,n){if(!(i(n)||c(n)||p(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},zn=function(t,e,n){Fn(t.dom,e,n)},Vn=function(t,e){var n=t.dom;vt(e,function(t,e){Fn(n,e,t)})},Hn=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},Un=function(t,e){return P.from(Hn(t,e))},Wn=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},Gn=function(t,e){t.dom.removeAttribute(e)},qn=function(t,e,n){if(!i(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);$t(t)&&t.style.setProperty(e,n)},Yn=function(t,e){$t(t)&&t.style.removeProperty(e)},Xn=function(t,e,n){var r=t.dom;qn(r,e,n)},$n=function(t,e){var n=t.dom;vt(e,function(t,e){qn(n,e,t)})},Kn=function(t,e){var n=t.dom;vt(e,function(t,e){t.fold(function(){Yn(n,e)},function(t){qn(n,e,t)})})},Zn=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||Pn(t)?o:Jn(n,e)},Jn=function(t,e){return $t(t)?t.style.getPropertyValue(e):""},Qn=function(t,e){var n=t.dom,r=Jn(n,e);return P.from(r).filter(function(t){return t.length>0})},tr=function(t){var e={},n=t.dom;if($t(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},er=function(t,e,n){var r=ee.fromTag(t);Xn(r,e,n);var o=Qn(r,e);return o.isSome()},nr=function(t,e){var n=t.dom;Yn(n,e),Dt(Un(t,"style").map(qt),"")&&Gn(t,"style")},rr=function(t){return t.dom.offsetWidth},or=function(t,e){var n=function(e,n){if(!p(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;$t(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=Zn(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return J(e,function(e,n){var r=Zn(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o},0)},a=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}},ir=or("height",function(t){var e=t.dom;return Pn(t)?e.getBoundingClientRect().height:e.offsetHeight}),ar=function(t){return ir.get(t)},ur=function(t){return ir.getOuter(t)},sr=function(t,e){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=ir.max(t,e,n);Xn(t,"max-height",r+"px")},cr=function(t,e){var n=function(n,r){return cr(t+n,e+r)};return{left:t,top:e,translate:n}},lr=cr,fr=function(t){var e=t.getBoundingClientRect();return lr(e.left,e.top)},dr=function(t,e){return void 0!==t?t:void 0!==e?e:0},hr=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return lr(n.offsetLeft,n.offsetTop);var i=dr(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=dr(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),u=dr(o.clientTop,n.clientTop),s=dr(o.clientLeft,n.clientLeft);return pr(t).translate(a-s,i-u)},pr=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?lr(r.offsetLeft,r.offsetTop):Pn(t)?fr(e):lr(0,0)},mr=or("width",function(t){return t.dom.offsetWidth}),gr=function(t,e){return mr.set(t,e)},vr=function(t){return mr.get(t)},yr=function(t){return mr.getOuter(t)},br=function(t,e){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=mr.max(t,e,n);Xn(t,"max-width",r+"px")},xr=function(t,e,n,r,o,i,a){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:a}},_r=function(t){var e=ee.fromDom(Rn(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=y(r,n);return xr(e,t.clientX,t.clientY,n,r,o,t)},wr=function(t,e){return function(n){t(n)&&e(_r(n))}},Or=function(t,e,n,r,o){var i=wr(n,r);return t.dom.addEventListener(e,i,o),{unbind:O(kr,t,e,i,o)}},Sr=function(t,e,n,r){return Or(t,e,n,r,!1)},Cr=function(t,e,n,r){return Or(t,e,n,r,!0)},kr=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Tr=function(t,e){var n=vn(t);n.each(function(n){n.dom.insertBefore(e.dom,t.dom)})},Mr=function(t,e){var n=xn(t);n.fold(function(){var n=vn(t);n.each(function(t){Ar(t,e)})},function(t){Tr(t,e)})},Dr=function(t,e){var n=On(t);n.fold(function(){Ar(t,e)},function(n){t.dom.insertBefore(e.dom,n.dom)})},Ar=function(t,e){t.dom.appendChild(e.dom)},Ir=function(t,e,n){wn(t,n).fold(function(){Ar(t,e)},function(t){Tr(t,e)})},jr=function(t,e){Y(e,function(e){Tr(t,e)})},Er=function(t,e){Y(e,function(e){Ar(t,e)})},Rr=function(t){t.dom.textContent="",Y(_n(t),function(t){Nr(t)})},Nr=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Pr=function(t){var e=_n(t);e.length>0&&jr(t,e),Nr(t)},Br=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return lr(n,r)},Lr=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollTo(t,e)},Fr=function(t){var e=void 0===t?window:t;return en().browser.isFirefox()?P.none():P.from(e["visualViewport"])},zr=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},Vr=function(t){var e=void 0===t?window:t,n=e.document,r=Br(ee.fromDom(n));return Fr(e).fold(function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return zr(r.left,r.top,n,o)},function(t){return zr(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)})},Hr=function(t,e){var n=t.view(e);return n.fold(x([]),function(e){var n=t.owner(e),r=Hr(t,n);return[e].concat(r)})},Ur=function(t,e){var n=e.owner(t),r=Hr(e,n);return P.some(r)},Wr=function(t){var e,n=t.dom===document?P.none():P.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement);return n.map(ee.fromDom)},Gr=function(t){return hn(t)},qr=Object.freeze({__proto__:null,view:Wr,owner:Gr}),Yr=function(t){var e=ee.fromDom(document),n=Br(e),r=Ur(t,qr);return r.fold(O(hr,t),function(e){var r=pr(t),o=Z(e,function(t,e){var n=pr(e);return{left:t.left+n.left,top:t.top+n.top}},{left:0,top:0});return lr(o.left+r.left+n.left,o.top+r.top+n.top)})},Xr=function(t,e,n){return{point:t,width:e,height:n}},$r=function(t,e,n,r){return{x:t,y:e,width:n,height:r}},Kr=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},Zr=function(t){var e=hr(t),n=yr(t),r=ur(t);return Kr(e.left,e.top,n,r)},Jr=function(t){var e=Yr(t),n=yr(t),r=ur(t);return Kr(e.left,e.top,n,r)},Qr=function(){return Vr(window)},to=function(t){var e=function(e){return to(t)},n=function(e){return to(t)},r=function(e){return to(e(t))},o=function(e){return to(t)},i=function(e){e(t)},a=function(e){return e(t)},u=function(e,n){return n(t)},s=function(e){return e(t)},c=function(e){return e(t)},l=function(){return P.some(t)};return{isValue:T,isError:k,getOr:x(t),getOrThunk:x(t),getOrDie:x(t),or:e,orThunk:n,fold:u,map:r,mapError:o,each:i,bind:a,exists:s,forall:c,toOptional:l}},eo=function(t){var e=function(t){return t()},n=function(){return C(String(t))()},r=_,o=function(t){return t()},i=function(e){return eo(t)},a=function(e){return eo(e(t))},u=function(e){return eo(t)},s=function(e,n){return e(t)};return{isValue:k,isError:T,getOr:_,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:s,map:i,mapError:a,each:g,bind:u,exists:k,forall:T,toOptional:P.none}},no=function(t,e){return t.fold(function(){return eo(e)},to)},ro={value:to,error:eo,fromOption:no};(function(t){t[t["Error"]=0]="Error",t[t["Value"]=1]="Value"})(ne||(ne={}));var oo=function(t,e,n){return t.stype===ne.Error?e(t.serror):n(t.svalue)},io=function(t){var e=[],n=[];return Y(t,function(t){oo(t,function(t){return n.push(t)},function(t){return e.push(t)})}),{values:e,errors:n}},ao=function(t,e){return t.stype===ne.Error?{stype:ne.Error,serror:e(t.serror)}:t},uo=function(t,e){return t.stype===ne.Value?{stype:ne.Value,svalue:e(t.svalue)}:t},so=function(t,e){return t.stype===ne.Value?e(t.svalue):t},co=function(t,e){return t.stype===ne.Error?e(t.serror):t},lo=function(t){return{stype:ne.Value,svalue:t}},fo=function(t){return{stype:ne.Error,serror:t}},ho=function(t){return oo(t,ro.error,ro.value)},po=function(t){return t.fold(fo,lo)},mo={fromResult:po,toResult:ho,svalue:lo,partition:io,serror:fo,bind:so,bindError:co,map:uo,mapError:ao,fold:oo},go=function(t,e,n,r){return{tag:"field",key:t,newKey:e,presence:n,prop:r}},vo=function(t,e){return{tag:"custom",newKey:t,instantiator:e}},yo=function(t,e,n){switch(t.tag){case"field":return e(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},bo=function(t,e){return e},xo=function(t,e){var n=a(t)&&a(e);return n?wo(t,e):e},_o=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)Tt(i,a)&&(r[a]=t(r[a],i[a]))}return r}},wo=_o(xo),Oo=_o(bo),So=function(){return{tag:"required",process:{}}},Co=function(t){return{tag:"defaultedThunk",process:t}},ko=function(t){return Co(x(t))},To=function(){return{tag:"option",process:{}}},Mo=function(t){return{tag:"mergeWithThunk",process:t}},Do=function(t){return Mo(x(t))},Ao=function(t,e){return t.length>0?mo.svalue(wo(e,Oo.apply(void 0,t))):mo.svalue(e)},Io=function(t){return y(mo.serror,nt)(t)},jo=function(t,e){var n=mo.partition(t);return n.errors.length>0?Io(n.errors):Ao(n.values,e)},Eo=function(t){var e=mo.partition(t);return e.errors.length>0?Io(e.errors):mo.svalue(e.values)},Ro={consolidateObj:jo,consolidateArr:Eo},No=function(t){return a(t)&&mt(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Po=function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:x("... (only showing first ten failures)")}]):t;return q(e,function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()})},Bo=function(t,e){return mo.serror([{path:t,getErrorInfo:e}])},Lo=function(t,e,n){return Bo(t,function(){return'Could not find valid *required* value for "'+e+'" in '+No(n)})},Fo=function(t,e){return Bo(t,function(){return'Choice schema did not contain choice key: "'+e+'"'})},zo=function(t,e,n){return Bo(t,function(){return'The chosen schema: "'+n+'" did not exist in branches: '+No(e)})},Vo=function(t,e){return Bo(t,function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"})},Ho=function(t,e){return Bo(t,x(e))},Uo=function(t){var e=function(e,n){return mo.bindError(t(n),function(t){return Ho(e,t)})},n=x("val");return{extract:e,toString:n}},Wo=Uo(mo.svalue),Go=function(t,e,n,r){return kt(e,n).fold(function(){return Lo(t,n,e)},r)},qo=function(t,e,n,r){var o=kt(t,e).getOrThunk(function(){return n(t)});return r(o)},Yo=function(t,e,n){return n(kt(t,e))},Xo=function(t,e,n,r){var o=kt(t,e).map(function(e){return!0===e?n(t):e});return r(o)},$o=function(t,e,n,r,o){var i=function(t){return o.extract(e.concat([r]),t)},a=function(t){return t.fold(function(){return mo.svalue(P.none())},function(t){var n=o.extract(e.concat([r]),t);return mo.map(n,P.some)})};switch(t.tag){case"required":return Go(e,n,r,i);case"defaultedThunk":return qo(n,r,t.process,i);case"option":return Yo(n,r,a);case"defaultedOptionThunk":return Xo(n,r,t.process,a);case"mergeWithThunk":return qo(n,r,x({}),function(e){var r=wo(t.process(n),e);return i(r)})}},Ko=function(t,e,n){for(var r={},o=[],i=0,a=n;i<a.length;i++){var u=a[i];yo(u,function(n,i,a,u){var s=$o(a,t,e,n,u);mo.fold(s,function(t){o.push.apply(o,t)},function(t){r[i]=t})},function(t,n){r[t]=n(e)})}return o.length>0?mo.serror(o):mo.svalue(r)},Zo=function(t){var e=function(e,n){return t().extract(e,n)},n=function(){return t().toString()};return{extract:e,toString:n}},Jo=function(t){return mt(wt(t,d))},Qo=function(t){var e=ti(t),n=Z(t,function(t,e){return yo(e,function(e){var n;return wo(t,(n={},n[e]=!0,n))},x(t))},{}),r=function(t,r){var o=c(r)?[]:Jo(r),i=K(o,function(t){return!Mt(n,t)});return 0===i.length?e.extract(t,r):Vo(t,i)};return{extract:r,toString:e.toString}},ti=function(t){var e=function(e,n){return Ko(e,n,t)},n=function(){var e=q(t,function(t){return yo(t,function(t,e,n,r){return t+" -> "+r.toString()},function(t,e){return"state("+t+")"})});return"obj{\n"+e.join("\n")+"}"};return{extract:e,toString:n}},ei=function(t){var e=function(e,n){var r=q(n,function(n,r){return t.extract(e.concat(["["+r+"]"]),n)});return Ro.consolidateArr(r)},n=function(){return"array("+t.toString()+")"};return{extract:e,toString:n}},ni=function(t){var e=function(e,n){for(var r=[],o=0,i=t;o<i.length;o++){var a=i[o],u=a.extract(e,n);if(u.stype===ne.Value)return u;r.push(u)}return Ro.consolidateArr(r)},n=function(){return"oneOf("+q(t,function(t){return t.toString()}).join(", ")+")"};return{extract:e,toString:n}},ri=function(t,e){var n=function(e,n){return ei(Uo(t)).extract(e,n)},r=function(t,r){var o=mt(r),i=n(t,o);return mo.bind(i,function(n){var o=q(n,function(t){return go(t,t,So(),e)});return ti(o).extract(t,r)})},o=function(){return"setOf("+e.toString()+")"};return{extract:r,toString:o}},oi=function(t,e){var n=pe(e),r=function(t,e){return n().extract(t,e)},o=function(){return n().toString()};return{extract:r,toString:o}},ii=y(ei,ti),ai=x(Wo),ui=function(t,e){return Uo(function(n){var r=typeof n;return t(n)?mo.svalue(n):mo.serror("Expected type: "+e+" but got: "+r)})},si=ui(p,"number"),ci=ui(i,"string"),li=ui(c,"boolean"),fi=ui(h,"function"),di=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(e){return di(t[e])});default:return!1}},hi=Uo(function(t){return di(t)?mo.svalue(t):mo.serror("Expected value to be acceptable for sending via postMessage")}),pi=function(t,e,n,r){var o=kt(n,r);return o.fold(function(){return zo(t,n,r)},function(n){return n.extract(t.concat(["branch: "+r]),e)})},mi=function(t,e){var n=function(n,r){var o=kt(r,t);return o.fold(function(){return Fo(n,t)},function(t){return pi(n,r,e,t)})},r=function(){return"chooseOn("+t+"). Possible values: "+mt(e)};return{extract:n,toString:r}},gi=function(){return ei(Wo)},vi=function(t){return Uo(function(e){return t(e).fold(mo.serror,mo.svalue)})},yi=function(t,e){return ri(function(e){return mo.fromResult(t(e))},e)},bi=function(t,e,n){var r=e.extract([t],n);return mo.mapError(r,function(t){return{input:n,errors:t}})},xi=function(t,e,n){return mo.toResult(bi(t,e,n))},_i=function(t){return t.fold(function(t){throw new Error(Oi(t))},_)},wi=function(t,e,n){return _i(xi(t,e,n))},Oi=function(t){return"Errors: \n"+Po(t.errors).join("\n")+"\n\nInput object: "+No(t.input)},Si=function(t,e){return mi(t,yt(e,ti))},Ci=function(t,e){return oi(t,e)},ki=go,Ti=vo,Mi=function(t){return vi(function(e){return H(t,e)?ro.value(e):ro.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')})},Di=function(t){return ki(t,t,So(),ai())},Ai=function(t,e){return ki(t,t,So(),e)},Ii=function(t){return Ai(t,si)},ji=function(t){return Ai(t,ci)},Ei=function(t,e){return ki(t,t,So(),Mi(e))},Ri=function(t){return Ai(t,li)},Ni=function(t){return Ai(t,fi)},Pi=function(t,e){return ki(t,t,To(),Uo(function(n){return mo.serror("The field: "+t+" is forbidden. "+e)}))},Bi=function(t,e){return ki(t,t,So(),ti(e))},Li=function(t,e){return ki(t,t,So(),ii(e))},Fi=function(t,e){return ki(t,t,So(),ei(e))},zi=function(t){return ki(t,t,To(),ai())},Vi=function(t,e){return ki(t,t,To(),e)},Hi=function(t){return Vi(t,si)},Ui=function(t){return Vi(t,ci)},Wi=function(t){return Vi(t,fi)},Gi=function(t,e){return Vi(t,ei(e))},qi=function(t,e){return Vi(t,ti(e))},Yi=function(t,e){return Vi(t,Qo(e))},Xi=function(t,e){return ki(t,t,ko(e),ai())},$i=function(t,e,n){return ki(t,t,ko(e),n)},Ki=function(t,e){return $i(t,e,si)},Zi=function(t,e){return $i(t,e,ci)},Ji=function(t,e,n){return $i(t,e,Mi(n))},Qi=function(t,e){return $i(t,e,li)},ta=function(t,e){return $i(t,e,fi)},ea=function(t,e){return $i(t,e,hi)},na=function(t,e,n){return $i(t,e,ei(n))},ra=function(t,e,n){return $i(t,e,ti(n))},oa=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},ia=function(t){if(!u(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return Y(t,function(r,o){var i=mt(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!u(s))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+i);var u=function(t){var r=mt(t);if(e.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+r.join(","));var o=ot(e,function(t){return H(r,t)});if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,n)};return{fold:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+e.length);var i=e[o];return i.apply(null,n)},match:u,log:function(t){console.log(t,{constructors:e,constructor:a,params:n})}}}}),n},aa={generate:ia};aa.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var ua,sa=function(t){var e=[],n=[];return Y(t,function(t){t.fold(function(t){e.push(t)},function(t){n.push(t)})}),{errors:e,values:n}},ca=function(t,e){var n={};return vt(t,function(t,r){H(e,r)||(n[r]=t)}),n},la=function(t,e){var n;return n={},n[t]=e,n},fa=function(t){var e={};return Y(t,function(t){e[t.key]=t.value}),e},da=function(t,e){return ca(t,e)},ha=function(t,e){return la(t,e)},pa=function(t){return fa(t)},ma=function(t,e){return 0===t.length?ro.value(e):ro.value(wo(e,Oo.apply(void 0,t)))},ga=function(t){return ro.error(nt(t))},va=function(t,e){var n=sa(t);return n.errors.length>0?ga(n.errors):ma(n.values,e)},ya=function(t){return h(t)?t:k},ba=function(t,e,n){var r=t.dom,o=ya(n);while(r.parentNode){r=r.parentNode;var i=ee.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return P.none()},xa=function(t,e,n){var r=e(t),o=ya(n);return r.orThunk(function(){return o(t)?P.none():ba(t,e,o)})},_a=function(t,e){return cn(t.element,e.event.target)},wa={can:T,abort:k,run:g},Oa=function(t){if(!Mt(t,"can")&&!Mt(t,"abort")&&!Mt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return D(D({},wa),t)},Sa=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return J(t,function(t,r){return t&&e(r).apply(void 0,n)},!0)}},Ca=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return J(t,function(t,r){return t||e(r).apply(void 0,n)},!1)}},ka=function(t){return h(t)?{can:T,abort:k,run:t}:t},Ta=function(t){var e=Sa(t,function(t){return t.can}),n=Ca(t,function(t){return t.abort}),r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Y(t,function(t){t.run.apply(void 0,e)})};return{can:e,abort:n,run:r}},Ma=x,Da=Ma("touchstart"),Aa=Ma("touchmove"),Ia=Ma("touchend"),ja=Ma("touchcancel"),Ea=Ma("mousedown"),Ra=Ma("mousemove"),Na=Ma("mouseout"),Pa=Ma("mouseup"),Ba=Ma("mouseover"),La=Ma("focusin"),Fa=Ma("focusout"),za=Ma("keydown"),Va=Ma("keyup"),Ha=Ma("input"),Ua=Ma("change"),Wa=Ma("click"),Ga=Ma("transitioncancel"),qa=Ma("transitionend"),Ya=Ma("transitionstart"),Xa=Ma("selectstart"),$a=function(t){return x("alloy."+t)},Ka={tap:$a("tap")},Za=$a("focus"),Ja=$a("blur.post"),Qa=$a("paste.post"),tu=$a("receive"),eu=$a("execute"),nu=$a("focus.item"),ru=Ka.tap,ou=$a("longpress"),iu=$a("sandbox.close"),au=$a("typeahead.cancel"),uu=$a("system.init"),su=$a("system.touchmove"),cu=$a("system.touchend"),lu=$a("system.scroll"),fu=$a("system.resize"),du=$a("system.attached"),hu=$a("system.detached"),pu=$a("system.dismissRequested"),mu=$a("system.repositionRequested"),gu=$a("focusmanager.shifted"),vu=$a("slotcontainer.visibility"),yu=$a("change.tab"),bu=$a("dismiss.tab"),xu=$a("highlight"),_u=$a("dehighlight"),wu=function(t,e){ku(t,t.element,e,{})},Ou=function(t,e,n){ku(t,t.element,e,n)},Su=function(t){wu(t,eu())},Cu=function(t,e,n){ku(t,e,n,{})},ku=function(t,e,n,r){var o=D({target:e},r);t.getSystem().triggerEvent(n,e,o)},Tu=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event)},Mu=function(t){return pa(t)},Du=function(t,e){return{key:t,value:Oa({abort:e})}},Au=function(t,e){return{key:t,value:Oa({can:e})}},Iu=function(t){return{key:t,value:Oa({run:function(t,e){e.event.prevent()}})}},ju=function(t,e){return{key:t,value:Oa({run:e})}},Eu=function(t,e,n){return{key:t,value:Oa({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},Ru=function(t){return function(e){return ju(t,e)}},Nu=function(t){return function(e){return{key:t,value:Oa({run:function(t,n){_a(t,n)&&e(t,n)}})}}},Pu=function(t,e){return ju(t,function(n,r){n.getSystem().getByUid(e).each(function(e){Tu(e,e.element,t,r)})})},Bu=function(t,e,n){var r=e.partUids[n];return Pu(t,r)},Lu=function(t,e){return ju(t,function(t,n){var r=n.event,o=t.getSystem().getByDom(r.target).getOrThunk(function(){var e=xa(r.target,function(e){return t.getSystem().getByDom(e).toOptional()},k);return e.getOr(t)});e(t,o,n)})},Fu=function(t){return ju(t,function(t,e){e.cut()})},zu=function(t){return ju(t,function(t,e){e.stop()})},Vu=function(t,e){return Nu(t)(e)},Hu=Nu(du()),Uu=Nu(hu()),Wu=Nu(uu()),Gu=Ru(eu()),qu=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,_n(ee.fromDom(r))},Yu=function(t){return t.dom.innerHTML},Xu=function(t,e){var n=hn(t),r=n.dom,o=ee.fromDom(r.createDocumentFragment()),i=qu(e,r);Er(o,i),Rr(t),Ar(t,o)},$u=function(t){var e=ee.fromTag("div"),n=ee.fromDom(t.dom.cloneNode(!0));return Ar(e,n),Yu(e)},Ku=function(t,e){return ee.fromDom(t.dom.cloneNode(e))},Zu=function(t){return Ku(t,!1)},Ju=function(t){if(kn(t))return"#shadow-root";var e=Zu(t);return $u(e)},Qu=function(t){return Ju(t)},ts=function(t,e,n){return cn(e,t.element)&&!cn(e,n)},es=Mu([Au(Za(),function(t,e){var n=e.event,r=n.originator,o=n.target;return!ts(t,r,o)||(console.warn(Za()+" did not get interpreted by the desired target. \nOriginator: "+Qu(r)+"\nTarget: "+Qu(o)+"\nCheck the "+Za()+" event handlers"),!1)})]),ns=Object.freeze({__proto__:null,events:es}),rs=0,os=function(t){var e=new Date,n=e.getTime(),r=Math.floor(1e9*Math.random());return rs++,t+"_"+r+rs+String(n)},is=x("alloy-id-"),as=x("data-alloy-id"),us=is(),ss=as(),cs=function(t,e){var n=os(us+t);return ls(e,n),n},ls=function(t,e){Object.defineProperty(t.dom,ss,{value:e,writable:!0})},fs=function(t){var e=le(t)?t.dom[ss]:null;return P.from(e)},ds=function(t){return os(t)},hs=_,ps=function(t){var e=function(e){return"The component must be in a context to execute: "+e+(t?"\n"+Qu(t().element)+" is not in context.":"")},n=function(t){return function(){throw new Error(e(t))}},r=function(t){return function(){console.warn(e(t))}};return{debugInfo:x("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),build:n("build"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:k}},ms=ps(),gs=function(t,e,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:vs(a.slice(0,1).concat(a.slice(3)))}},t},vs=function(t){return q(t,function(t){return Wt(t,"/*")?t.substring(0,t.length-"/*".length):t})},ys=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:vs(i)}},t},bs=function(t,e){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:vs(i.slice(1))}},t},xs=os("alloy-premade"),_s=function(t){return ha(xs,t)},ws=function(t){return kt(t,xs)},Os=function(t){return bs(function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.apply(void 0,I([e.getApis(),e],n,!1))},t)},Ss={init:function(){return Cs({readState:x("No State required")})}},Cs=function(t){return t},ks=function(t,e){var n=q(e,function(t){return qi(t.name(),[Di("config"),Xi("state",Ss)])}),r=xi("component.behaviours",ti(n),t.behaviours).fold(function(e){throw new Error(Oi(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))},_);return{list:e,data:yt(r,function(t){var e=t.map(function(t){return{config:t.config,state:t.state.init(t.config)}});return x(e)})}},Ts=function(t){return t.list},Ms=function(t){return t.data},Ds=function(t,e){var n={};return vt(t,function(t,r){vt(t,function(t,o){var i=kt(n,o).getOr([]);n[o]=i.concat([e(r,t)])})}),n},As=function(t){return{classes:l(t.classes)?[]:t.classes,attributes:l(t.attributes)?{}:t.attributes,styles:l(t.styles)?{}:t.styles}},Is=function(t,e){return D(D({},t),{attributes:D(D({},t.attributes),e.attributes),styles:D(D({},t.styles),e.styles),classes:t.classes.concat(e.classes)})},js=function(t,e,n,r){var o=D({},e);Y(n,function(e){o[e.name()]=e.exhibit(t,r)});var i=Ds(o,function(t,e){return{name:t,modification:e}}),a=function(t){return Z(t,function(t,e){return D(D({},e.modification),t)},{})},u=Z(i.classes,function(t,e){return e.modification.concat(t)},[]),s=a(i.attributes),c=a(i.styles);return As({classes:u,attributes:s,styles:c})},Es=function(t,e,n,r){try{var o=ct(n,function(n,o){var i=n[e],a=o[e],u=r.indexOf(i),s=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===s)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<s?-1:s<u?1:0});return ro.value(o)}catch(i){return ro.error([i])}},Rs=function(t,e){return{handler:t,purpose:e}},Ns=function(t,e){return{cHandler:t,purpose:e}},Ps=function(t,e){return Ns(O.apply(void 0,[t.handler].concat(e)),t.purpose)},Bs=function(t){return t.cHandler},Ls=function(t,e){return{name:t,handler:e}},Fs=function(t,e){var n={};return Y(t,function(t){n[t.name()]=t.handlers(e)}),n},zs=function(t,e,n){var r=D(D({},n),Fs(e,t));return Ds(r,Ls)},Vs=function(t,e,n,r){var o=zs(t,n,r);return Gs(o,e)},Hs=function(t){var e=ka(t);return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[t,n].concat(r);e.abort.apply(void 0,i)?n.stop():e.can.apply(void 0,i)&&e.run.apply(void 0,i)}},Us=function(t,e){return ro.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(q(e,function(t){return t.name}),null,2)])},Ws=function(t,e,n){var r=e[n];return r?Es("Event: "+n,"name",t,r).map(function(t){var e=q(t,function(t){return t.handler});return Ta(e)}):Us(n,t)},Gs=function(t,e){var n=Ot(t,function(t,n){var r=1===t.length?ro.value(t[0].handler):Ws(t,e,n);return r.map(function(r){var o=Hs(r),i=t.length>1?K(e[n],function(e){return U(t,function(t){return t.name===e})}).join(" > "):t[0].name;return ha(n,Rs(o,i))})});return va(n,{})},qs="alloy.base.behaviour",Ys=ti([ki("dom","dom",So(),ti([Di("tag"),Xi("styles",{}),Xi("classes",[]),Xi("attributes",{}),zi("value"),zi("innerHtml")])),Di("components"),Di("uid"),Xi("events",{}),Xi("apis",{}),ki("eventOrder","eventOrder",Do((ua={},ua[eu()]=["disabling",qs,"toggling","typeaheadevents"],ua[Za()]=[qs,"focusing","keying"],ua[uu()]=[qs,"disabling","toggling","representing"],ua[Ha()]=[qs,"representing","streaming","invalidating"],ua[hu()]=[qs,"representing","item-events","tooltipping"],ua[Ea()]=["focusing",qs,"item-type-events"],ua[Da()]=["focusing",qs,"item-type-events"],ua[Ba()]=["item-type-events","tooltipping"],ua[tu()]=["receiving","reflecting","tooltipping"],ua)),ai()),zi("domModification")]),Xs=function(t){return xi("custom.definition",Ys,t)},$s=function(t){return D(D({},t.dom),{uid:t.uid,domChildren:q(t.components,function(t){return t.element})})},Ks=function(t){return t.domModification.fold(function(){return As({})},As)},Zs=function(t){return t.events},Js=function(t,e){var n=Hn(t,e);return void 0===n||""===n?[]:n.split(" ")},Qs=function(t,e,n){var r=Js(t,e),o=r.concat([n]);return zn(t,e,o.join(" ")),!0},tc=function(t,e,n){var r=K(Js(t,e),function(t){return t!==n});return r.length>0?zn(t,e,r.join(" ")):Gn(t,e),!1},ec=function(t){return void 0!==t.dom.classList},nc=function(t){return Js(t,"class")},rc=function(t,e){return Qs(t,"class",e)},oc=function(t,e){return tc(t,"class",e)},ic=function(t,e){ec(t)?t.dom.classList.add(e):rc(t,e)},ac=function(t){var e=ec(t)?t.dom.classList:nc(t);0===e.length&&Gn(t,"class")},uc=function(t,e){if(ec(t)){var n=t.dom.classList;n.remove(e)}else oc(t,e);ac(t)},sc=function(t,e){return ec(t)&&t.dom.classList.contains(e)},cc=function(t,e){Y(e,function(e){ic(t,e)})},lc=function(t,e){Y(e,function(e){uc(t,e)})},fc=function(t,e){return ot(e,function(e){return sc(t,e)})},dc=function(t){return t.dom.value},hc=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom.value=e},pc=function(t){var e=ee.fromTag(t.tag);Vn(e,t.attributes),cc(e,t.classes),$n(e,t.styles),t.innerHtml.each(function(t){return Xu(e,t)});var n=t.domChildren;return Er(e,n),t.value.each(function(t){hc(e,t)}),t.uid,ls(e,t.uid),e},mc=function(t){var e=kt(t,"behaviours").getOr({});return rt(mt(e),function(t){var n=e[t];return d(n)?[n.me]:[]})},gc=function(t,e){return ks(t,e)},vc=function(t){var e=mc(t);return gc(t,e)},yc=function(t,e,n){var r=$s(t),o=Ks(t),i={"alloy.base.modification":o},a=e.length>0?js(n,i,e,r):o;return Is(r,a)},bc=function(t,e,n){var r={"alloy.base.behaviour":Zs(t)};return Vs(n,t.eventOrder,e,r).getOrDie()},xc=function(t){var e=function(){return b},n=oa(ms),r=_i(Xs(t)),o=vc(t),i=Ts(o),a=Ms(o),u=yc(r,i,a),s=pc(u),c=bc(r,i,a),l=oa(r.components),f=function(t){n.set(t)},d=function(){n.set(ps(e))},p=function(){var t=_n(s),e=rt(t,function(t){return n.get().getByDom(t).fold(function(){return[]},st)});l.set(e)},m=function(e){var n=a,r=h(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))};return r()},g=function(t){return h(a[t.name()])},v=function(){return r.apis},y=function(t){return a[t]().map(function(t){return t.state.readState()}).getOr("not enabled")},b={uid:t.uid,getSystem:n.get,config:m,hasConfigured:g,spec:t,readState:y,getApis:v,connect:f,disconnect:d,element:s,syncComponents:p,components:l.get,events:c};return b},_c=function(t){var e=kt(t,"components").getOr([]);return q(e,Tc)},wc=function(t){var e=hs(t),n=e.events,r=A(e,["events"]),o=_c(r),i=D(D({},r),{events:D(D({},ns),n),components:o});return ro.value(xc(i))},Oc=function(t){var e=ee.fromText(t);return Sc({element:e})},Sc=function(t){var e=wi("external.component",Qo([Di("element"),zi("uid")]),t),n=oa(ps()),r=function(t){n.set(t)},o=function(){n.set(ps(function(){return a}))},i=e.uid.getOrThunk(function(){return ds("external")});ls(e.element,i);var a={uid:i,getSystem:n.get,config:P.none,hasConfigured:k,connect:r,disconnect:o,getApis:function(){return{}},element:e.element,spec:t,readState:x("No state"),syncComponents:g,components:x([]),events:{}};return _s(a)},Cc=ds,kc=function(t){return Tt(t,"uid")},Tc=function(t){return ws(t).getOrThunk(function(){var e=kc(t)?t:D({uid:Cc("")},t);return wc(e).getOrDie()})},Mc=_s;function Dc(t,e,n,r,o){return t(n,r)?P.some(n):h(o)&&o(n)?P.none():e(n,r,o)}var Ac,Ic=function(t,e,n){var r=t.dom,o=h(n)?n:k;while(r.parentNode){r=r.parentNode;var i=ee.fromDom(r);if(e(i))return P.some(i);if(o(i))break}return P.none()},jc=function(t,e,n){var r=function(t,e){return e(t)};return Dc(r,Ic,t,e,n)},Ec=function(t,e){var n=function(t){return e(ee.fromDom(t))},r=tt(t.dom.childNodes,n);return r.map(ee.fromDom)},Rc=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=ee.fromDom(t.childNodes[r]);if(e(o))return P.some(o);var i=n(t.childNodes[r]);if(i.isSome())return i}return P.none()};return n(t.dom)},Nc=function(t,e,n){return jc(t,e,n).isSome()},Pc=function(t,e,n){return Ic(t,function(t){return on(t,e)},n)},Bc=function(t,e){return Ec(t,function(t){return on(t,e)})},Lc=function(t,e){return sn(e,t)},Fc=function(t,e,n){var r=function(t,e){return on(t,e)};return Dc(r,Pc,t,e,n)},zc=function(t){var e=jc(t,function(t){if(!le(t))return!1;var e=Hn(t,"id");return void 0!==e&&e.indexOf("aria-owns")>-1});return e.bind(function(t){var e=Hn(t,"id"),n=Dn(t);return Lc(n,'[aria-owns="'+e+'"]')})},Vc=function(){var t=os("aria-owns"),e=function(e){zn(e,"aria-owns",t)},n=function(t){Gn(t,"aria-owns")};return{id:t,link:e,unlink:n}},Hc=function(t,e){return zc(e).exists(function(e){return Uc(t,e)})},Uc=function(t,e){return Nc(e,function(e){return cn(e,t.element)},k)||Hc(t,e)},Wc="unknown";(function(t){t[t["STOP"]=0]="STOP",t[t["NORMAL"]=1]="NORMAL",t[t["LOGGING"]=2]="LOGGING"})(Ac||(Ac={}));var Gc=oa({}),qc=function(t,e){var n=[],r=(new Date).getTime();return{logEventCut:function(t,e,r){n.push({outcome:"cut",target:e,purpose:r})},logEventStopped:function(t,e,r){n.push({outcome:"stopped",target:e,purpose:r})},logNoParent:function(t,e,r){n.push({outcome:"no-parent",target:e,purpose:r})},logEventNoHandlers:function(t,e){n.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,r){n.push({outcome:"response",purpose:r,target:e})},write:function(){var o=(new Date).getTime();H(["mousemove","mouseover","mouseout",uu()],t)||console.log(t,{event:t,time:o-r,target:e.dom,sequence:q(n,function(t){return H(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Qu(t.target)+")":t.outcome})})}}},Yc=function(t,e,n){var r=kt(Gc.get(),t).orThunk(function(){var e=mt(Gc.get());return pt(e,function(e){return t.indexOf(e)>-1?P.some(Gc.get()[e]):P.none()})}).getOr(Ac.NORMAL);switch(r){case Ac.NORMAL:return n(Jc());case Ac.LOGGING:var o=qc(t,e),i=n(o);return o.write(),i;case Ac.STOP:return!0}},Xc=["alloy/data/Fields","alloy/debugging/Debugging"],$c=function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");return tt(e,function(t){return t.indexOf("alloy")>0&&!U(Xc,function(e){return t.indexOf(e)>-1})}).getOr(Wc)}return Wc},Kc={logEventCut:g,logEventStopped:g,logNoParent:g,logEventNoHandlers:g,logEventResponse:g,write:g},Zc=function(t,e,n){return Yc(t,e,n)},Jc=x(Kc),Qc=x([Di("menu"),Di("selectedMenu")]),tl=x([Di("item"),Di("selectedItem")]);x(ti(tl().concat(Qc())));var el=x(ti(tl())),nl=Bi("initSize",[Di("numColumns"),Di("numRows")]),rl=function(){return Ai("markers",el())},ol=function(){return Bi("markers",[Di("backgroundMenu")].concat(Qc()).concat(tl()))},il=function(t){return Bi("markers",q(t,Di))},al=function(t,e,n){return $c(),ki(e,e,n,vi(function(t){return ro.value(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(void 0,e)})}))},ul=function(t){return al("onHandler",t,ko(g))},sl=function(t){return al("onKeyboardHandler",t,ko(P.none))},cl=function(t){return al("onHandler",t,So())},ll=function(t){return al("onKeyboardHandler",t,So())},fl=function(t,e){return Ti(t,x(e))},dl=function(t){return Ti(t,_)},hl=x(nl),pl=function(t,e,n,r,o,i,a,u){return void 0===u&&(u=!1),{x:t,y:e,bubble:n,direction:r,placement:o,restriction:i,label:a+"-"+o,alwaysFit:u}},ml=aa.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),gl=function(t,e,n,r,o,i,a,u,s){return t.fold(e,n,r,o,i,a,u,s)},vl=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)},yl=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)},bl=ml.southeast,xl=ml.southwest,_l=ml.northeast,wl=ml.northwest,Ol=ml.south,Sl=ml.north,Cl=ml.east,kl=ml.west,Tl=function(t,e,n,r){var o=t+e;return o>r?n:o<n?r:o},Ml=function(t,e,n){return Math.min(Math.max(t,e),n)},Dl=function(t,e){switch(e){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Al=function(t,e){return ut(["left","right","top","bottom"],function(n){return kt(e,n).map(function(e){return Dl(t,e)})})},Il=function(t,e,n){var r=function(r,o){return e[r].map(function(e){var i="top"===r||"bottom"===r,a=i?n.top:n.left,u="left"===r||"top"===r?Math.max:Math.min,s=u(e,o)+a;return i?Ml(s,t.y,t.bottom):Ml(s,t.x,t.right)}).getOr(o)},o=r("left",t.x),i=r("top",t.y),a=r("right",t.right),u=r("bottom",t.bottom);return Kr(o,i,a-o,u-i)},jl="layout",El=function(t){return t.x},Rl=function(t,e){return t.x+t.width/2-e.width/2},Nl=function(t,e){return t.x+t.width-e.width},Pl=function(t,e){return t.y-e.height},Bl=function(t){return t.y+t.height},Ll=function(t,e){return t.y+t.height/2-e.height/2},Fl=function(t){return t.x+t.width},zl=function(t,e){return t.x-e.width},Vl=function(t,e,n){return pl(El(t),Bl(t),n.southeast(),bl(),"southeast",Al(t,{left:1,top:3}),jl)},Hl=function(t,e,n){return pl(Nl(t,e),Bl(t),n.southwest(),xl(),"southwest",Al(t,{right:0,top:3}),jl)},Ul=function(t,e,n){return pl(El(t),Pl(t,e),n.northeast(),_l(),"northeast",Al(t,{left:1,bottom:2}),jl)},Wl=function(t,e,n){return pl(Nl(t,e),Pl(t,e),n.northwest(),wl(),"northwest",Al(t,{right:0,bottom:2}),jl)},Gl=function(t,e,n){return pl(Rl(t,e),Pl(t,e),n.north(),Sl(),"north",Al(t,{bottom:2}),jl)},ql=function(t,e,n){return pl(Rl(t,e),Bl(t),n.south(),Ol(),"south",Al(t,{top:3}),jl)},Yl=function(t,e,n){return pl(Fl(t),Ll(t,e),n.east(),Cl(),"east",Al(t,{left:0}),jl)},Xl=function(t,e,n){return pl(zl(t,e),Ll(t,e),n.west(),kl(),"west",Al(t,{right:1}),jl)},$l=function(){return[Vl,Hl,Ul,Wl,ql,Gl,Yl,Xl]},Kl=function(){return[Hl,Vl,Wl,Ul,ql,Gl,Yl,Xl]},Zl=function(){return[Ul,Wl,Vl,Hl,Gl,ql]},Jl=function(){return[Wl,Ul,Hl,Vl,Gl,ql]},Ql=function(){return[Vl,Hl,Ul,Wl,ql,Gl]},tf=function(){return[Hl,Vl,Wl,Ul,ql,Gl]},ef=function(t,e){return e.universal?t:K(t,function(t){return H(e.channels,t)})},nf=function(t){return Mu([ju(tu(),function(e,n){var r=t.channels,o=mt(r),i=n,a=ef(o,i);Y(a,function(t){var n=r[t],o=n.schema,a=wi("channel["+t+"] data\nReceiver: "+Qu(e.element),o,i.data);n.onReceive(e,a)})})])},rf=Object.freeze({__proto__:null,events:nf}),of=[Ai("channels",yi(ro.value,Qo([cl("onReceive"),Xi("schema",ai())])))],af=function(t,e,n){return Gu(function(r){n(r,t,e)})},uf=function(t,e,n){return Wu(function(r,o){n(r,t,e)})},sf=function(t,e,n,r,o,i){var a=Qo(t),u=qi(e,[Yi("config",t)]);return df(a,u,e,n,r,o,i)},cf=function(t,e,n,r,o,i){var a=t,u=qi(e,[Vi("config",t)]);return df(a,u,e,n,r,o,i)},lf=function(t,e,n){var r=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:x(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)},function(t){var n=Array.prototype.slice.call(a,1);return e.apply(void 0,[r,t.config,t.state].concat(n))})};return gs(r,n,e)},ff=function(t){return{key:t,value:void 0}},df=function(t,e,n,r,o,i,a){var u=function(t){return Mt(t,n)?t[n]():P.none()},s=yt(o,function(t,e){return lf(n,t,e)}),c=yt(i,function(t,e){return ys(t,e)}),l=D(D(D({},c),s),{revoke:O(ff,n),config:function(e){var r=wi(n+"-config",t,e);return{key:n,value:{config:r,me:l,configAsRaw:pe(function(){return wi(n+"-config",t,e)}),initialConfig:e,state:a}}},schema:x(e),exhibit:function(t,e){return Et(u(t),kt(r,"exhibit"),function(t,n){return n(e,t.config,t.state)}).getOrThunk(function(){return As({})})},name:x(n),handlers:function(t){return u(t).map(function(t){var e=kt(r,"events").getOr(function(){return{}});return e(t.config,t.state)}).getOr({})}});return l},hf=function(t){return pa(t)},pf=Qo([Di("fields"),Di("name"),Xi("active",{}),Xi("apis",{}),Xi("state",Ss),Xi("extra",{})]),mf=function(t){var e=wi("Creating behaviour: "+t.name,pf,t);return sf(e.fields,e.name,e.active,e.apis,e.extra,e.state)},gf=Qo([Di("branchKey"),Di("branches"),Di("name"),Xi("active",{}),Xi("apis",{}),Xi("state",Ss),Xi("extra",{})]),vf=function(t){var e=wi("Creating behaviour: "+t.name,gf,t);return cf(Si(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},yf=x(void 0),bf=mf({fields:of,name:"receiving",active:rf}),xf=function(t,e){return As({classes:[],styles:e.useFixed()?{}:{position:"relative"}})},_f=Object.freeze({__proto__:null,exhibit:xf}),wf=function(){return ee.fromDom(document)},Of=function(t){return t.dom.focus()},Sf=function(t){return t.dom.blur()},Cf=function(t){var e=Dn(t).dom;return t.dom===e.activeElement},kf=function(t){return void 0===t&&(t=wf()),P.from(t.dom.activeElement).map(ee.fromDom)},Tf=function(t){return kf(Dn(t)).filter(function(e){return t.dom.contains(e.dom)})},Mf=function(t,e){var n=Dn(e),r=kf(n).bind(function(t){var n=function(e){return cn(t,e)};return n(e)?P.some(e):Rc(e,n)}),o=t(e);return r.each(function(t){kf(n).filter(function(e){return cn(e,t)}).fold(function(){Of(t)},g)}),o},Df=function(t,e,n,r,o){var i=function(t){return t+"px"};return{position:t,left:e.map(i),top:n.map(i),right:r.map(i),bottom:o.map(i)}},Af=function(t){return D(D({},t),{position:P.some(t.position)})},If=function(t,e){Kn(t,Af(e))},jf=aa.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ef=function(t,e,n,r,o,i){var a=e.rect,u=a.x-n,s=a.y-r,c=a.width,l=a.height,f=o-(u+c),d=i-(s+l),h=P.some(u),p=P.some(s),m=P.some(f),g=P.some(d),v=P.none();return gl(e.direction,function(){return Df(t,h,p,v,v)},function(){return Df(t,v,p,m,v)},function(){return Df(t,h,v,v,g)},function(){return Df(t,v,v,m,g)},function(){return Df(t,h,p,v,v)},function(){return Df(t,h,v,v,g)},function(){return Df(t,h,p,v,v)},function(){return Df(t,v,p,m,v)})},Rf=function(t,e){return t.fold(function(){var t=e.rect;return Df("absolute",P.some(t.x),P.some(t.y),P.none(),P.none())},function(t,n,r,o){return Ef("absolute",e,t,n,r,o)},function(t,n,r,o){return Ef("fixed",e,t,n,r,o)})},Nf=function(t,e){var n=O(Yr,e),r=t.fold(n,n,function(){var t=Br();return Yr(e).translate(-t.left,-t.top)}),o=yr(e),i=ur(e);return Kr(r.left,r.top,o,i)},Pf=function(t,e){return e.fold(function(){return t.fold(Qr,Qr,Kr)},function(e){return t.fold(e,e,function(){var n=e(),r=Bf(t,n.x,n.y);return Kr(r.left,r.top,n.width,n.height)})})},Bf=function(t,e,n){var r=lr(e,n),o=function(){var t=Br();return r.translate(-t.left,-t.top)};return t.fold(x(r),x(r),o)},Lf=function(t,e,n,r){return t.fold(e,n,r)};jf.none;var Ff,zf=jf.relative,Vf=jf.fixed,Hf=function(t,e){return{anchorBox:t,origin:e}},Uf=function(t,e){return Hf(t,e)},Wf="data-alloy-placement",Gf=function(t,e){zn(t,Wf,e)},qf=function(t){return Un(t,Wf)},Yf=function(t){return Gn(t,Wf)},Xf=aa.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),$f=function(t,e){var n=e.x,r=e.y,o=e.right,i=e.bottom,a=t.x,u=t.y,s=t.right,c=t.bottom,l=t.width,f=t.height,d=a>=n&&a<=o,h=u>=r&&u<=i,p=d&&h,m=s<=o&&s>=n,g=c<=i&&c>=r,v=m&&g,y=Math.min(l,a>=n?o-a:s-n),b=Math.min(f,u>=r?i-u:c-r);return{originInBounds:p,sizeInBounds:v,visibleW:y,visibleH:b}},Kf=function(t,e){var n=e.x,r=e.y,o=e.right,i=e.bottom,a=t.x,u=t.y,s=t.width,c=t.height,l=Math.max(n,o-s),f=Math.max(r,i-c),d=Ml(a,n,l),h=Ml(u,r,f),p=Math.min(d+s,o)-d,m=Math.min(h+c,i)-h;return Kr(d,h,p,m)},Zf=function(t,e,n){var r=x(e.bottom-n.y),o=x(n.bottom-e.y),i=vl(t,o,o,r),a=x(e.right-n.x),u=x(n.right-e.x),s=yl(t,u,u,a);return{maxWidth:s,maxHeight:i}},Jf=function(t,e,n,r){var o=t.bubble,i=o.offset,a=Il(r,t.restriction,i),u=t.x+i.left,s=t.y+i.top,c=Kr(u,s,e,n),l=$f(c,a),f=l.originInBounds,d=l.sizeInBounds,h=l.visibleW,p=l.visibleH,m=f&&d,g=m?c:Kf(c,a),v=g.width>0&&g.height>0,y=Zf(t.direction,g,r),b=y.maxWidth,x=y.maxHeight,_={rect:g,maxHeight:x,maxWidth:b,direction:t.direction,placement:t.placement,classes:{on:o.classesOn,off:o.classesOff},layout:t.label,testY:s};return m||t.alwaysFit?Xf.fit(_):Xf.nofit(_,h,p,v)},Qf=function(t,e,n,r,o,i){var a=r.width,u=r.height,s=function(e,s,c,l,f){var d=e(n,r,o,t,i),h=Jf(d,a,u,i);return h.fold(x(h),function(t,e,n,r){var o=f===r?n>l||e>c:!f&&r;return o?h:Xf.nofit(s,c,l,f)})},c=J(e,function(t,e){var n=O(s,e);return t.fold(x(t),n)},Xf.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:bl(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1));return c.fold(_,_)},td=function(t){var e=oa(P.none()),n=function(){return e.get().each(t)},r=function(){n(),e.set(P.none())},o=function(){return e.get().isSome()},i=function(){return e.get()},a=function(t){n(),e.set(P.some(t))};return{clear:r,isSet:o,get:i,set:a}},ed=function(){return td(function(t){return t.destroy()})},nd=function(){return td(function(t){return t.unbind()})},rd=function(){var t=ed(),e=function(e){return t.get().each(e)};return D(D({},t),{run:e})},od=function(){var t=td(g),e=function(e){return t.get().each(e)};return D(D({},t),{on:e})},id=T,ad=function(t,e,n){return Sr(t,e,id,n)},ud=function(t,e,n){return Cr(t,e,id,n)},sd=_r,cd=["top","bottom","right","left"],ld="data-alloy-transition-timer",fd=function(t,e){return fc(t,e.classes)},dd=function(t,e,n){return n.exists(function(n){var r=t.mode;return"all"===r||n[r]!==e[r]})},hd=function(t,e){var n=function(t){return parseFloat(t).toFixed(3)};return St(e,function(e,r){var o=t[r].map(n),i=e.map(n);return!At(o,i)}).isSome()},pd=function(t){var e=function(e){var n=Zn(t,e),r=i(n)?n.split(/\s*,\s*/):[];return K(r,Yt)},n=function(t){if(i(t)&&/^[\d.]+/.test(t)){var e=parseFloat(t);return Wt(t,"ms")?e:1e3*e}return 0},r=e("transition-delay"),o=e("transition-duration");return J(o,function(t,e,o){var i=n(r[o])+n(e);return Math.max(t,i)},0)},md=function(t,e){var n,r=nd(),o=nd(),i=function(e){var n,r=null!==(n=e.raw.pseudoElement)&&void 0!==n?n:"";return cn(e.target,t)&&Xt(r)&&H(cd,e.raw.propertyName)},a=function(a){if(f(a)||i(a)){r.clear(),o.clear();var u=null===a||void 0===a?void 0:a.raw.type;(f(u)||u===qa())&&(clearTimeout(n),Gn(t,ld),lc(t,e.classes))}},u=function(){r.set(ad(t,qa(),a)),o.set(ad(t,Ga(),a))};if("ontransitionstart"in t.dom)var s=ad(t,Ya(),function(t){i(t)&&(s.unbind(),u())});else u();var c=pd(t);requestAnimationFrame(function(){n=setTimeout(a,c+17),zn(t,ld,n)})},gd=function(t,e){cc(t,e.classes),Un(t,ld).each(function(e){clearTimeout(parseInt(e,10)),Gn(t,ld)}),md(t,e)},vd=function(t,e,n,r,o,i){var a=dd(r,o,i);if(a||fd(t,r)){Xn(t,"position",n.position);var u=Nf(e,t),s=Rf(e,D(D({},o),{rect:u})),c=ut(cd,function(t){return s[t]});hd(n,c)&&(Kn(t,c),a&&gd(t,r),rr(t))}else lc(t,r.classes)},yd=function(t){return{width:yr(t),height:ur(t)}},bd=function(t,e,n,r){nr(e,"max-height"),nr(e,"max-width");var o=yd(e);return Qf(e,r.preference,t,o,n,r.bounds)},xd=function(t,e){var n=e.classes;lc(t,n.off),cc(t,n.on)},_d=function(t,e,n){var r=n.maxHeightFunction;r(t,e.maxHeight)},wd=function(t,e,n){var r=n.maxWidthFunction;r(t,e.maxWidth)},Od=function(t,e,n){var r=Rf(n.origin,e);n.transition.each(function(o){vd(t,n.origin,r,o,e,n.lastPlacement)}),If(t,r)},Sd=function(t,e){Gf(t,e.placement)},Cd=function(t,e){sr(t,Math.floor(e))},kd=x(function(t,e){Cd(t,e),$n(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Td=x(function(t,e){Cd(t,e)}),Md=function(t,e,n){return void 0===t[e]?n:t[e]},Dd=function(t,e,n,r,o,i,a,u){var s=Md(a,"maxHeightFunction",kd()),c=Md(a,"maxWidthFunction",g),l=t.anchorBox,f=t.origin,d={bounds:Pf(f,i),origin:f,preference:r,maxHeightFunction:s,maxWidthFunction:c,lastPlacement:o,transition:u};return Ad(l,e,n,d)},Ad=function(t,e,n,r){var o=bd(t,e,n,r);return Od(e,o,r),Sd(e,o),xd(e,o),_d(e,o,r),wd(e,o,r),{layout:o.layout,placement:o.placement}},Id=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],jd=function(t,e,n,r){void 0===r&&(r=1);var o=t*r,i=e*r,a=function(t){return kt(n,t).getOr([])},u=function(t,e,n){var r=at(Id,n);return{offset:lr(t,e),classesOn:rt(n,a),classesOff:rt(r,a)}};return{southeast:function(){return u(-t,e,["top","alignLeft"])},southwest:function(){return u(t,e,["top","alignRight"])},south:function(){return u(-t/2,e,["top","alignCentre"])},northeast:function(){return u(-t,-e,["bottom","alignLeft"])},northwest:function(){return u(t,-e,["bottom","alignRight"])},north:function(){return u(-t/2,-e,["bottom","alignCentre"])},east:function(){return u(t,-e/2,["valignCentre","left"])},west:function(){return u(-t,-e/2,["valignCentre","right"])},insetNortheast:function(){return u(o,i,["top","alignLeft","inset"])},insetNorthwest:function(){return u(-o,i,["top","alignRight","inset"])},insetNorth:function(){return u(-o/2,i,["top","alignCentre","inset"])},insetSoutheast:function(){return u(o,-i,["bottom","alignLeft","inset"])},insetSouthwest:function(){return u(-o,-i,["bottom","alignRight","inset"])},insetSouth:function(){return u(-o/2,-i,["bottom","alignCentre","inset"])},insetEast:function(){return u(-o,-i/2,["valignCentre","right","inset"])},insetWest:function(){return u(o,-i/2,["valignCentre","left","inset"])}}},Ed=function(){return jd(0,0,{})},Rd=_,Nd=function(t,e){return function(n){return"rtl"===Pd(n)?e:t}},Pd=function(t){return"rtl"===Zn(t,"direction")?"rtl":"ltr"};(function(t){t["TopToBottom"]="toptobottom",t["BottomToTop"]="bottomtotop"})(Ff||(Ff={}));var Bd="data-alloy-vertical-dir",Ld=function(t){return Nc(t,function(t){return le(t)&&Hn(t,"data-alloy-vertical-dir")===Ff.BottomToTop})},Fd=function(){return qi("layouts",[Di("onLtr"),Di("onRtl"),zi("onBottomLtr"),zi("onBottomRtl")])},zd=function(t,e,n,r,o,i,a){var u=a.map(Ld).getOr(!1),s=e.layouts.map(function(e){return e.onLtr(t)}),c=e.layouts.map(function(e){return e.onRtl(t)}),l=u?e.layouts.bind(function(e){return e.onBottomLtr.map(function(e){return e(t)})}).or(s).getOr(o):s.getOr(n),f=u?e.layouts.bind(function(e){return e.onBottomRtl.map(function(e){return e(t)})}).or(c).getOr(i):c.getOr(r),d=Nd(l,f);return d(t)},Vd=function(t,e,n){var r=e.hotspot,o=Nf(n,r.element),i=zd(t.element,e,Ql(),tf(),Zl(),Jl(),P.some(e.hotspot.element));return P.some(Rd({anchorBox:o,bubble:e.bubble.getOr(Ed()),overrides:e.overrides,layouts:i,placer:P.none()}))},Hd=[Di("hotspot"),zi("bubble"),Xi("overrides",{}),Fd(),fl("placement",Vd)],Ud=function(t,e,n){var r=Bf(n,e.x,e.y),o=Kr(r.left,r.top,e.width,e.height),i=zd(t.element,e,$l(),Kl(),$l(),Kl(),P.none());return P.some(Rd({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:i,placer:P.none()}))},Wd=[Di("x"),Di("y"),Xi("height",0),Xi("width",0),Xi("bubble",Ed()),Xi("overrides",{}),Fd(),fl("placement",Ud)],Gd=aa.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),qd=function(t){return t.fold(_,function(t,e,n){return t.translate(-e,-n)})},Yd=function(t){return t.fold(_,_)},Xd=function(t){return J(t,function(t,e){return t.translate(e.left,e.top)},lr(0,0))},$d=function(t){var e=q(t,qd);return Xd(e)},Kd=function(t){var e=q(t,Yd);return Xd(e)},Zd=Gd.screen,Jd=Gd.absolute,Qd=function(t,e,n){var r=gn(n.root).dom,o=function(e){var n=hn(e),r=hn(t.element);return cn(n,r)};return P.from(r.frameElement).map(ee.fromDom).filter(o).map(hr)},th=function(t,e,n){var r=hn(t.element),o=Br(r),i=Qd(t,e,n).getOr(o);return Jd(i,o.left,o.top)},eh=function(t,e,n,r){var o=Zd(lr(t,e));return P.some(Xr(o,n,r))},nh=function(t,e,n,r,o){return t.map(function(t){var i=[e,t.point],a=Lf(r,function(){return Kd(i)},function(){return Kd(i)},function(){return $d(i)}),u=$r(a.left,a.top,t.width,t.height),s=n.showAbove?Zl():Ql(),c=n.showAbove?Jl():tf(),l=zd(o,n,s,c,s,c,P.none());return Rd({anchorBox:u,bubble:n.bubble.getOr(Ed()),overrides:n.overrides,layouts:l,placer:P.none()})})},rh=function(t,e,n){var r=th(t,n,e);return e.node.filter(Pn).bind(function(o){var i=o.dom.getBoundingClientRect(),a=eh(i.left,i.top,i.width,i.height),u=e.node.getOr(t.element);return nh(a,r,e,n,u)})},oh=[Di("node"),Di("root"),zi("bubble"),Fd(),Xi("overrides",{}),Xi("showAbove",!1),fl("placement",rh)],ih="\ufeff",ah="",uh=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},sh={create:uh},ch=aa.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),lh=function(t,e,n,r){return t.fold(e,n,r)},fh=function(t){return t.fold(_,_,_)},dh=ch.before,hh=ch.on,ph=ch.after,mh={before:dh,on:hh,after:ph,cata:lh,getStart:fh},gh=aa.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vh=function(t){return gh.exact(t.start,t.soffset,t.finish,t.foffset)},yh=function(t){return t.match({domRange:function(t){return ee.fromDom(t.startContainer)},relative:function(t,e){return mh.getStart(t)},exact:function(t,e,n,r){return t}})},bh=gh.domRange,xh=gh.relative,_h=gh.exact,wh=function(t){var e=yh(t);return gn(e)},Oh=sh.create,Sh={domRange:bh,relative:xh,exact:_h,exactFromRange:vh,getWin:wh,range:Oh},Ch=function(t,e){e.fold(function(e){t.setStartBefore(e.dom)},function(e,n){t.setStart(e.dom,n)},function(e){t.setStartAfter(e.dom)})},kh=function(t,e){e.fold(function(e){t.setEndBefore(e.dom)},function(e,n){t.setEnd(e.dom,n)},function(e){t.setEndAfter(e.dom)})},Th=function(t,e,n){var r=t.document.createRange();return Ch(r,e),kh(r,n),r},Mh=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},Dh=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},Ah=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?P.some(n).map(Dh):P.none()},Ih=function(t){var e=t.getBoundingClientRect();return e.width>0||e.height>0?P.some(e).map(Dh):P.none()},jh=aa.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Eh=function(t,e,n){return e(ee.fromDom(n.startContainer),n.startOffset,ee.fromDom(n.endContainer),n.endOffset)},Rh=function(t,e){return e.match({domRange:function(t){return{ltr:x(t),rtl:P.none}},relative:function(e,n){return{ltr:pe(function(){return Th(t,e,n)}),rtl:pe(function(){return P.some(Th(t,n,e))})}},exact:function(e,n,r,o){return{ltr:pe(function(){return Mh(t,e,n,r,o)}),rtl:pe(function(){return P.some(Mh(t,r,o,e,n))})}}})},Nh=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter(function(t){return!1===t.collapsed});return r.map(function(t){return jh.rtl(ee.fromDom(t.endContainer),t.endOffset,ee.fromDom(t.startContainer),t.startOffset)}).getOrThunk(function(){return Eh(t,jh.ltr,n)})}return Eh(t,jh.ltr,n)},Ph=function(t,e){var n=Rh(t,e);return Nh(t,n)},Bh=function(t,e){var n=Ph(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,n),i}})};jh.ltr,jh.rtl;var Lh,Fh=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?P.from(e.dom.nodeValue):P.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}},zh=Fh(fe,"text"),Vh=function(t){return zh.get(t)},Hh=function(t){return zh.getOption(t)},Uh=function(t){return"img"===ue(t)?1:Hh(t).fold(function(){return _n(t).length},function(t){return t.length})},Wh=function(t){return Hh(t).filter(function(t){return 0!==t.trim().length||t.indexOf(ah)>-1}).isSome()},Gh=["img","br"],qh=function(t){var e=Wh(t);return e||H(Gh,ue(t))},Yh=function(t){return Xh(t,qh)},Xh=function(t,e){var n=function(t){for(var r=_n(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return P.some(i);var a=n(i);if(a.isSome())return a}return P.none()};return n(t)},$h=function(t,e){return un(e,t)},Kh=function(t,e,n,r){var o=hn(t),i=o.dom.createRange();return i.setStart(t.dom,e),i.setEnd(n.dom,r),i},Zh=function(t,e,n,r){var o=Kh(t,e,n,r),i=cn(t,n)&&e===r;return o.collapsed&&!i},Jh=function(t){return P.from(t.getSelection())},Qh=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return P.some(sh.create(ee.fromDom(e.startContainer),e.startOffset,ee.fromDom(n.endContainer),n.endOffset))}return P.none()},tp=function(t){if(null===t.anchorNode||null===t.focusNode)return Qh(t);var e=ee.fromDom(t.anchorNode),n=ee.fromDom(t.focusNode);return Zh(e,t.anchorOffset,n,t.focusOffset)?P.some(sh.create(e,t.anchorOffset,n,t.focusOffset)):Qh(t)},ep=function(t){return Jh(t).filter(function(t){return t.rangeCount>0}).bind(tp)},np=function(t,e){var n=Bh(t,e);return Ah(n)},rp=function(t,e){var n=Bh(t,e);return Ih(n)},op=function(t,e){return{element:t,offset:e}},ip=function(t,e){var n=_n(t);if(0===n.length)return op(t,e);if(e<n.length)return op(n[e],0);var r=n[n.length-1],o=fe(r)?Vh(r).length:_n(r).length;return op(r,o)},ap=function(t,e){return fe(t)?op(t,e):ip(t,e)},up=function(t,e){var n=e.getSelection.getOrThunk(function(){return function(){return ep(t)}});return n().map(function(t){var e=ap(t.start,t.soffset),n=ap(t.finish,t.foffset);return Sh.range(e.element,e.offset,n.element,n.offset)})},sp=function(t,e,n){var r=gn(e.root).dom,o=th(t,n,e),i=up(r,e).bind(function(t){var e=rp(r,Sh.exactFromRange(t)).orThunk(function(){var e=ee.fromText(ih);Tr(t.start,e);var n=np(r,Sh.exact(e,0,e,1));return Nr(e),n});return e.bind(function(t){return eh(t.left,t.top,t.width,t.height)})}),a=up(r,e).bind(function(t){return le(t.start)?P.some(t.start):yn(t.start)}),u=a.getOr(t.element);return nh(i,o,e,n,u)},cp=[zi("getSelection"),Di("root"),zi("bubble"),Fd(),Xi("overrides",{}),Xi("showAbove",!1),fl("placement",sp)],lp="link-layout",fp=function(t){return t.x+t.width},dp=function(t,e){return t.x-e.width},hp=function(t,e){return t.y-e.height+t.height},pp=function(t){return t.y},mp=function(t,e,n){return pl(fp(t),pp(t),n.southeast(),bl(),"southeast",Al(t,{left:0,top:2}),lp)},gp=function(t,e,n){return pl(dp(t,e),pp(t),n.southwest(),xl(),"southwest",Al(t,{right:1,top:2}),lp)},vp=function(t,e,n){return pl(fp(t),hp(t,e),n.northeast(),_l(),"northeast",Al(t,{left:0,bottom:3}),lp)},yp=function(t,e,n){return pl(dp(t,e),hp(t,e),n.northwest(),wl(),"northwest",Al(t,{right:1,bottom:3}),lp)},bp=function(){return[mp,gp,vp,yp]},xp=function(){return[gp,mp,yp,vp]},_p=function(t,e,n){var r=Nf(n,e.item.element),o=zd(t.element,e,bp(),xp(),bp(),xp(),P.none());return P.some(Rd({anchorBox:r,bubble:Ed(),overrides:e.overrides,layouts:o,placer:P.none()}))},wp=[Di("item"),Fd(),Xi("overrides",{}),fl("placement",_p)],Op=Si("type",{selection:cp,node:oh,hotspot:Hd,submenu:wp,makeshift:Wd}),Sp=[Fi("classes",ci),Ji("mode","all",["all","layout","placement"])],Cp=[Xi("useFixed",k),zi("getBounds")],kp=[Ai("anchor",Op),qi("transition",Sp)],Tp=function(){var t=document.documentElement;return Vf(0,0,t.clientWidth,t.clientHeight)},Mp=function(t){var e=hr(t.element),n=t.element.dom.getBoundingClientRect();return zf(e.left,e.top,n.width,n.height)},Dp=function(t,e,n,r,o,i,a){var u=Uf(n.anchorBox,e);return Dd(u,o.element,n.bubble,n.layouts,i,r,n.overrides,a)},Ap=function(t,e,n,r,o){Ip(t,e,n,r,o,P.none())},Ip=function(t,e,n,r,o,i){var a=i.map(Zr);return jp(t,e,n,r,o,a)},jp=function(t,e,n,r,o,i){var a=wi("placement.info",ti(kp),o),u=a.anchor,s=r.element,c=n.get(r.uid);Mf(function(){Xn(s,"position","fixed");var o=Qn(s,"visibility");Xn(s,"visibility","hidden");var l=e.useFixed()?Tp():Mp(t),f=u.placement,d=i.map(x).or(e.getBounds);f(t,u,l).each(function(e){var o=e.placer.getOr(Dp),i=o(t,l,e,d,r,c,a.transition);n.set(r.uid,i)}),o.fold(function(){nr(s,"visibility")},function(t){Xn(s,"visibility",t)}),Qn(s,"left").isNone()&&Qn(s,"top").isNone()&&Qn(s,"right").isNone()&&Qn(s,"bottom").isNone()&&Dt(Qn(s,"position"),"fixed")&&nr(s,"position")},s)},Ep=function(t,e,n){return e.useFixed()?"fixed":"absolute"},Rp=function(t,e,n,r){var o=r.element;Y(["position","left","right","top","bottom"],function(t){return nr(o,t)}),Yf(o),n.clear(r.uid)},Np=Object.freeze({__proto__:null,position:Ap,positionWithin:Ip,positionWithinBounds:jp,getMode:Ep,reset:Rp}),Pp=function(){var t={},e=function(e,n){t[e]=n},n=function(e){return kt(t,e)},r=function(e){d(e)?delete t[e]:t={}};return Cs({readState:function(){return t},clear:r,set:e,get:n})},Bp=Object.freeze({__proto__:null,init:Pp}),Lp=mf({fields:Cp,name:"positioning",active:_f,apis:Np,state:Bp}),Fp=function(t){wu(t,hu());var e=t.components();Y(e,Fp)},zp=function(t){var e=t.components();Y(e,zp),wu(t,du())},Vp=function(t,e){Ar(t.element,e.element)},Hp=function(t){Y(t.components(),function(t){return Nr(t.element)}),Rr(t.element),t.syncComponents()},Up=function(t,e){var n=t.components();Hp(t);var r=at(n,e);Y(r,function(e){Fp(e),t.getSystem().removeFromWorld(e)}),Y(e,function(e){e.getSystem().isConnected()?Vp(t,e):(t.getSystem().addToWorld(e),Vp(t,e),Pn(t.element)&&zp(e)),t.syncComponents()})},Wp=function(t,e){Gp(t,e,Ar)},Gp=function(t,e,n){t.getSystem().addToWorld(e),n(t.element,e.element),Pn(t.element)&&zp(e),t.syncComponents()},qp=function(t){Fp(t),Nr(t.element),t.getSystem().removeFromWorld(t)},Yp=function(t){var e=vn(t.element).bind(function(e){return t.getSystem().getByDom(e).toOptional()});qp(t),e.each(function(t){t.syncComponents()})},Xp=function(t){var e=t.components();Y(e,qp),Rr(t.element),t.syncComponents()},$p=function(t,e){Zp(t,e,Ar)},Kp=function(t,e){Zp(t,e,Mr)},Zp=function(t,e,n){n(t,e.element);var r=_n(e.element);Y(r,function(t){e.getByDom(t).each(zp)})},Jp=function(t){var e=_n(t.element);Y(e,function(e){t.getByDom(e).each(Fp)}),Nr(t.element)},Qp=function(t,e,n,r){n.get().each(function(e){Xp(t)});var o=e.getAttachPoint(t);Wp(o,t);var i=t.getSystem().build(r);return Wp(t,i),n.set(i),i},tm=function(t,e,n,r){var o=Qp(t,e,n,r);return e.onOpen(t,o),o},em=function(t,e,n,r){return n.get().map(function(){return Qp(t,e,n,r)})},nm=function(t,e,n,r,o){cm(t,e),tm(t,e,n,r),o(),fm(t,e)},rm=function(t,e,n){n.get().each(function(r){Xp(t),Yp(t),e.onClose(t,r),n.clear()})},om=function(t,e,n){return n.isOpen()},im=function(t,e,n,r){return om(t,e,n)&&n.get().exists(function(n){return e.isPartOf(t,n,r)})},am=function(t,e,n){return n.get()},um=function(t,e,n,r){Qn(t.element,e).fold(function(){Gn(t.element,n)},function(e){zn(t.element,n,e)}),Xn(t.element,e,r)},sm=function(t,e,n){Un(t.element,n).fold(function(){return nr(t.element,e)},function(n){return Xn(t.element,e,n)})},cm=function(t,e,n){var r=e.getAttachPoint(t);Xn(t.element,"position",Lp.getMode(r)),um(t,"visibility",e.cloakVisibilityAttr,"hidden")},lm=function(t){return U(["top","left","right","bottom"],function(e){return Qn(t,e).isSome()})},fm=function(t,e,n){lm(t.element)||nr(t.element,"position"),sm(t,"visibility",e.cloakVisibilityAttr)},dm=Object.freeze({__proto__:null,cloak:cm,decloak:fm,open:tm,openWhileCloaked:nm,close:rm,isOpen:om,isPartOf:im,getState:am,setContent:em}),hm=function(t,e){return Mu([ju(iu(),function(n,r){rm(n,t,e)})])},pm=Object.freeze({__proto__:null,events:hm}),mm=[ul("onOpen"),ul("onClose"),Di("isPartOf"),Di("getAttachPoint"),Xi("cloakVisibilityAttr","data-precloak-visibility")],gm=function(){var t=od(),e=x("not-implemented");return Cs({readState:e,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},vm=Object.freeze({__proto__:null,init:gm}),ym=mf({fields:mm,name:"sandboxing",active:pm,apis:dm,state:vm}),bm=x("dismiss.popups"),xm=x("reposition.popups"),_m=x("mouse.released"),wm=Qo([Xi("isExtraPart",k),qi("fireEventInstead",[Xi("event",pu())])]),Om=function(t){var e,n=wi("Dismissal",wm,t);return e={},e[bm()]={schema:Qo([Di("target")]),onReceive:function(t,e){if(ym.isOpen(t)){var r=ym.isPartOf(t,e.target)||n.isExtraPart(t,e.target);r||n.fireEventInstead.fold(function(){return ym.close(t)},function(e){return wu(t,e.event)})}}},e},Sm=Qo([qi("fireEventInstead",[Xi("event",mu())]),Ni("doReposition")]),Cm=function(t){var e,n=wi("Reposition",Sm,t);return e={},e[xm()]={onReceive:function(t){ym.isOpen(t)&&n.fireEventInstead.fold(function(){return n.doReposition(t)},function(e){return wu(t,e.event)})}},e},km=function(t,e,n){e.store.manager.onLoad(t,e,n)},Tm=function(t,e,n){e.store.manager.onUnload(t,e,n)},Mm=function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},Dm=function(t,e,n){return e.store.manager.getValue(t,e,n)},Am=function(t,e,n){return n},Im=Object.freeze({__proto__:null,onLoad:km,onUnload:Tm,setValue:Mm,getValue:Dm,getState:Am}),jm=function(t,e){var n=t.resetOnDom?[Hu(function(n,r){km(n,t,e)}),Uu(function(n,r){Tm(n,t,e)})]:[uf(t,e,km)];return Mu(n)},Em=Object.freeze({__proto__:null,events:jm}),Rm=function(){var t=oa(null),e=function(){return{mode:"memory",value:t.get()}},n=function(){return null===t.get()},r=function(){t.set(null)};return Cs({set:t.set,get:t.get,isNotSet:n,clear:r,readState:e})},Nm=function(){var t=g;return Cs({readState:t})},Pm=function(){var t=oa({}),e=oa({}),n=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},r=function(){t.set({}),e.set({})},o=function(n){return kt(t.get(),n).orThunk(function(){return kt(e.get(),n)})},i=function(n){var r=t.get(),o=e.get(),i={},a={};Y(n,function(t){i[t.value]=t,kt(t,"meta").each(function(e){kt(e,"text").each(function(e){a[e]=t})})}),t.set(D(D({},r),i)),e.set(D(D({},o),a))};return Cs({readState:n,lookup:o,update:i,clear:r})},Bm=function(t){return t.store.manager.state(t)},Lm=Object.freeze({__proto__:null,memory:Rm,dataset:Pm,manual:Nm,init:Bm}),Fm=function(t,e,n,r){var o=e.store;n.update([r]),o.setValue(t,r),e.onSetValue(t,r)},zm=function(t,e,n){var r=e.store,o=r.getDataKey(t);return n.lookup(o).getOrThunk(function(){return r.getFallbackEntry(o)})},Vm=function(t,e,n){var r=e.store;r.initialValue.each(function(r){Fm(t,e,n,r)})},Hm=function(t,e,n){n.clear()},Um=[zi("initialValue"),Di("getFallbackEntry"),Di("getDataKey"),Di("setValue"),fl("manager",{setValue:Fm,getValue:zm,onLoad:Vm,onUnload:Hm,state:Pm})],Wm=function(t,e,n){return e.store.getValue(t)},Gm=function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},qm=function(t,e,n){e.store.initialValue.each(function(n){e.store.setValue(t,n)})},Ym=[Di("getValue"),Xi("setValue",g),zi("initialValue"),fl("manager",{setValue:Gm,getValue:Wm,onLoad:qm,onUnload:g,state:Ss.init})],Xm=function(t,e,n,r){n.set(r),e.onSetValue(t,r)},$m=function(t,e,n){return n.get()},Km=function(t,e,n){e.store.initialValue.each(function(t){n.isNotSet()&&n.set(t)})},Zm=function(t,e,n){n.clear()},Jm=[zi("initialValue"),fl("manager",{setValue:Xm,getValue:$m,onLoad:Km,onUnload:Zm,state:Rm})],Qm=[$i("store",{mode:"memory"},Si("mode",{memory:Jm,manual:Ym,dataset:Um})),ul("onSetValue"),Xi("resetOnDom",!1)],tg=mf({fields:Qm,name:"representing",active:Em,apis:Im,extra:{setValueFrom:function(t,e){var n=tg.getValue(e);tg.setValue(t,n)}},state:Lm}),eg=function(t,e){return ra(t,{},q(e,function(e){return Pi(e.name(),"Cannot configure "+e.name()+" for "+t)}).concat([Ti("dump",_)]))},ng=function(t){return t.dump},rg=function(t,e){return D(D({},hf(e)),t.dump)},og={field:eg,augment:rg,get:ng},ig="placeholder",ag=aa.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ug=function(t){return Tt(t,"uiType")},sg=function(t,e,n,r){return t.exists(function(t){return t!==n.owner})?ag.single(!0,x(n)):kt(r,n.name).fold(function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+mt(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))},function(t){return t.replace()})},cg=function(t,e,n,r){return ug(n)&&n.uiType===ig?sg(t,e,n,r):ag.single(!1,x(n))},lg=function(t,e,n,r){var o=cg(t,e,n,r);return o.fold(function(o,i){var a=ug(n)?i(e,n.config,n.validated):i(e),u=kt(a,"components").getOr([]),s=rt(u,function(n){return lg(t,e,n,r)});return[D(D({},a),{components:s})]},function(t,r){if(ug(n)){var o=r(e,n.config,n.validated),i=n.validated.preprocess.getOr(_);return i(o)}return r(e)})},fg=function(t,e,n,r){return rt(n,function(n){return lg(t,e,n,r)})},dg=function(t,e){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+t);return n=!0,e},i=function(){return e.fold(function(t,e){return t},function(t,e){return t})};return{name:x(t),required:i,used:r,replace:o}},hg=function(t,e,n,r){var o=yt(r,function(t,e){return dg(e,t)}),i=fg(t,e,n,o);return vt(o,function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))}),i},pg=ag.single,mg=ag.multiple,gg=x(ig),vg=aa.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),yg=Xi("factory",{sketch:_}),bg=Xi("schema",[]),xg=Di("name"),_g=ki("pname","pname",Co(function(t){return"<alloy."+os(t.name)+">"}),ai()),wg=Ti("schema",function(){return[zi("preprocess")]}),Og=Xi("defaults",x({})),Sg=Xi("overrides",x({})),Cg=ti([yg,bg,xg,_g,Og,Sg]),kg=ti([yg,bg,xg,Og,Sg]),Tg=ti([yg,bg,xg,_g,Og,Sg]),Mg=ti([yg,wg,xg,Di("unit"),_g,Og,Sg]),Dg=function(t){return t.fold(P.some,P.none,P.some,P.some)},Ag=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},Ig=function(t){return t.fold(_,_,_,_)},jg=function(t,e){return function(n){var r=wi("Converting part type",e,n);return t(r)}},Eg=jg(vg.required,Cg),Rg=jg(vg.external,kg),Ng=jg(vg.optional,Tg),Pg=jg(vg.group,Mg),Bg=x("entirety"),Lg=Object.freeze({__proto__:null,required:Eg,external:Rg,optional:Ng,group:Pg,asNamedPart:Dg,name:Ag,asCommon:Ig,original:Bg}),Fg=function(t,e,n,r){return wo(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},zg=function(t,e,n){var r={},o={};return Y(n,function(t){t.fold(function(t){r[t.pname]=pg(!0,function(e,n,r){return t.factory.sketch(Fg(e,t,n,r))})},function(t){var n=e.parts[t.name];o[t.name]=x(t.factory.sketch(Fg(e,t,n[Bg()]),n))},function(t){r[t.pname]=pg(!1,function(e,n,r){return t.factory.sketch(Fg(e,t,n,r))})},function(t){r[t.pname]=mg(!0,function(e,n,r){var o=e[t.name];return q(o,function(n){return t.factory.sketch(wo(t.defaults(e,n,r),n,t.overrides(e,n)))})})})}),{internals:x(r),externals:x(o)}},Vg=function(t,e){var n={};return Y(e,function(e){Dg(e).each(function(e){var r=Hg(t,e.pname);n[e.name]=function(n){var o=wi("Part: "+e.name+" in "+t,ti(e.schema),n);return D(D({},r),{config:n,validated:o})}})}),n},Hg=function(t,e){return{uiType:gg(),owner:t,name:e}},Ug=function(t,e,n){return{uiType:gg(),owner:t,name:e,config:n,validated:{}}},Wg=function(t){return rt(t,function(t){return t.fold(P.none,P.some,P.none,P.none).map(function(t){return Bi(t.name,t.schema.concat([dl(Bg())]))}).toArray()})},Gg=function(t){return q(t,Ag)},qg=function(t,e,n){return zg(t,e,n)},Yg=function(t,e,n){return hg(P.some(t),e,e.components,n)},Xg=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOptional()},$g=function(t,e,n){return Xg(t,e,n).getOrDie("Could not find part: "+n)},Kg=function(t,e,n){var r={},o=e.partUids,i=t.getSystem();return Y(n,function(t){r[t]=x(i.getByUid(o[t]))}),r},Zg=function(t,e){var n=t.getSystem();return yt(e.partUids,function(t,e){return x(n.getByUid(t))})},Jg=function(t){return mt(t.partUids)},Qg=function(t,e,n){var r={},o=e.partUids,i=t.getSystem();return Y(n,function(t){r[t]=x(i.getByUid(o[t]).getOrDie())}),r},tv=function(t,e){var n=Gg(e);return pa(q(n,function(e){return{key:e,value:t+"-"+e}}))},ev=function(t){return ki("partUids","partUids",Mo(function(e){return tv(e.uid,t)}),ai())},nv=Object.freeze({__proto__:null,generate:Vg,generateOne:Ug,schemas:Wg,names:Gg,substitutes:qg,components:Yg,defaultUids:tv,defaultUidsSchema:ev,getAllParts:Zg,getAllPartNames:Jg,getPart:Xg,getPartOrDie:$g,getParts:Kg,getPartsOrDie:Qg}),rv=function(t,e){var n=t.length>0?[Bi("parts",t)]:[];return n.concat([Di("uid"),Xi("dom",{}),Xi("components",[]),dl("originalSpec"),Xi("debug.sketcher",{})]).concat(e)},ov=function(t,e,n,r,o){var i=rv(r,o);return wi(t+" [SpecSchema]",Qo(i.concat(e)),n)},iv=function(t,e,n,r){var o=sv(r),i=ov(t,e,o,[],[]);return n(i,o)},av=function(t,e,n,r,o){var i=sv(o),a=Wg(n),u=ev(n),s=ov(t,e,i,a,[u]),c=qg(t,s,n),l=Yg(t,s,c.internals());return r(s,l,i,c.externals())},uv=function(t){return Tt(t,"uid")},sv=function(t){return uv(t)?t:D(D({},t),{uid:ds("uid")})},cv=function(t){return void 0!==t.uid},lv=Qo([Di("name"),Di("factory"),Di("configFields"),Xi("apis",{}),Xi("extraApis",{})]),fv=Qo([Di("name"),Di("factory"),Di("configFields"),Di("partFields"),Xi("apis",{}),Xi("extraApis",{})]),dv=function(t){var e=wi("Sketcher for "+t.name,lv,t),n=function(t){return iv(e.name,e.configFields,e.factory,t)},r=yt(e.apis,Os),o=yt(e.extraApis,function(t,e){return ys(t,e)});return D(D({name:e.name,configFields:e.configFields,sketch:n},r),o)},hv=function(t){var e=wi("Sketcher for "+t.name,fv,t),n=function(t){return av(e.name,e.configFields,e.partFields,e.factory,t)},r=Vg(e.name,e.partFields),o=yt(e.apis,Os),i=yt(e.extraApis,function(t,e){return ys(t,e)});return D(D({name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:n,parts:r},o),i)},pv=function(t){return"input"===ue(t)&&"radio"!==Hn(t,"type")||"textarea"===ue(t)},mv=function(t,e,n){return e.find(t)},gv=Object.freeze({__proto__:null,getCurrent:mv}),vv=[Di("find")],yv=mf({fields:vv,name:"composing",apis:gv}),bv=["input","button","textarea","select"],xv=function(t,e,n){var r=e.disabled()?Mv:Dv;r(t,e)},_v=function(t,e){return!0===e.useNative&&H(bv,ue(t.element))},wv=function(t){return Wn(t.element,"disabled")},Ov=function(t){zn(t.element,"disabled","disabled")},Sv=function(t){Gn(t.element,"disabled")},Cv=function(t){return"true"===Hn(t.element,"aria-disabled")},kv=function(t){zn(t.element,"aria-disabled","true")},Tv=function(t){zn(t.element,"aria-disabled","false")},Mv=function(t,e,n){e.disableClass.each(function(e){ic(t.element,e)});var r=_v(t,e)?Ov:kv;r(t),e.onDisabled(t)},Dv=function(t,e,n){e.disableClass.each(function(e){uc(t.element,e)});var r=_v(t,e)?Sv:Tv;r(t),e.onEnabled(t)},Av=function(t,e){return _v(t,e)?wv(t):Cv(t)},Iv=function(t,e,n,r){var o=r?Mv:Dv;o(t,e)},jv=Object.freeze({__proto__:null,enable:Dv,disable:Mv,isDisabled:Av,onLoad:xv,set:Iv}),Ev=function(t,e){return As({classes:e.disabled()?e.disableClass.toArray():[]})},Rv=function(t,e){return Mu([Du(eu(),function(e,n){return Av(e,t)}),uf(t,e,xv)])},Nv=Object.freeze({__proto__:null,exhibit:Ev,events:Rv}),Pv=[ta("disabled",k),Xi("useNative",!0),zi("disableClass"),ul("onDisabled"),ul("onEnabled")],Bv=mf({fields:Pv,name:"disabling",active:Nv,apis:jv}),Lv=function(t,e,n,r){var o=$h(t.element,"."+e.highlightClass);Y(o,function(n){U(r,function(t){return t.element===n})||(uc(n,e.highlightClass),t.getSystem().getByDom(n).each(function(n){e.onDehighlight(t,n),wu(n,_u())}))})},Fv=function(t,e,n){return Lv(t,e,n,[])},zv=function(t,e,n,r){qv(t,e,n,r)&&(uc(r.element,e.highlightClass),e.onDehighlight(t,r),wu(r,_u()))},Vv=function(t,e,n,r){Lv(t,e,n,[r]),qv(t,e,n,r)||(ic(r.element,e.highlightClass),e.onHighlight(t,r),wu(r,xu()))},Hv=function(t,e,n){$v(t,e).each(function(r){Vv(t,e,n,r)})},Uv=function(t,e,n){Kv(t,e).each(function(r){Vv(t,e,n,r)})},Wv=function(t,e,n,r){Xv(t,e,n,r).fold(function(t){throw t},function(r){Vv(t,e,n,r)})},Gv=function(t,e,n,r){var o=ty(t,e),i=tt(o,r);i.each(function(r){Vv(t,e,n,r)})},qv=function(t,e,n,r){return sc(r.element,e.highlightClass)},Yv=function(t,e,n){return Lc(t.element,"."+e.highlightClass).bind(function(e){return t.getSystem().getByDom(e).toOptional()})},Xv=function(t,e,n,r){var o=$h(t.element,"."+e.itemClass);return P.from(o[r]).fold(function(){return ro.error(new Error("No element found with index "+r))},t.getSystem().getByDom)},$v=function(t,e,n){return Lc(t.element,"."+e.itemClass).bind(function(e){return t.getSystem().getByDom(e).toOptional()})},Kv=function(t,e,n){var r=$h(t.element,"."+e.itemClass),o=r.length>0?P.some(r[r.length-1]):P.none();return o.bind(function(e){return t.getSystem().getByDom(e).toOptional()})},Zv=function(t,e,n,r){var o=$h(t.element,"."+e.itemClass),i=et(o,function(t){return sc(t,e.highlightClass)});return i.bind(function(e){var n=Tl(e,r,0,o.length-1);return t.getSystem().getByDom(o[n]).toOptional()})},Jv=function(t,e,n){return Zv(t,e,n,-1)},Qv=function(t,e,n){return Zv(t,e,n,1)},ty=function(t,e,n){var r=$h(t.element,"."+e.itemClass);return It(q(r,function(e){return t.getSystem().getByDom(e).toOptional()}))},ey=Object.freeze({__proto__:null,dehighlightAll:Fv,dehighlight:zv,highlight:Vv,highlightFirst:Hv,highlightLast:Uv,highlightAt:Wv,highlightBy:Gv,isHighlighted:qv,getHighlighted:Yv,getFirst:$v,getLast:Kv,getPrevious:Jv,getNext:Qv,getCandidates:ty}),ny=[Di("highlightClass"),Di("itemClass"),ul("onHighlight"),ul("onDehighlight")],ry=mf({fields:ny,name:"highlighting",apis:ey}),oy=[8],iy=[9],ay=[13],uy=[27],sy=[32],cy=[37],ly=[38],fy=[39],dy=[40],hy=function(t,e,n){var r=it(t.slice(0,e)),o=it(t.slice(e+1));return tt(r.concat(o),n)},py=function(t,e,n){var r=it(t.slice(0,e));return tt(r,n)},my=function(t,e,n){var r=t.slice(0,e),o=t.slice(e+1);return tt(o.concat(r),n)},gy=function(t,e,n){var r=t.slice(e+1);return tt(r,n)},vy=function(t){return function(e){var n=e.raw;return H(t,n.which)}},yy=function(t){return function(e){return ot(t,function(t){return t(e)})}},by=function(t){var e=t.raw;return!0===e.shiftKey},xy=function(t){var e=t.raw;return!0===e.ctrlKey},_y=S(by),wy=function(t,e){return{matches:t,classification:e}},Oy=function(t,e){var n=tt(t,function(t){return t.matches(e)});return n.map(function(t){return t.classification})},Sy=function(t,e,n){var r=e.exists(function(t){return n.exists(function(e){return cn(e,t)})});r||Ou(t,gu(),{prevFocus:e,newFocus:n})},Cy=function(){var t=function(t){return Tf(t.element)},e=function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element);var o=t(e);Sy(e,r,o)};return{get:t,set:e}},ky=function(){var t=function(t){return ry.getHighlighted(t).map(function(t){return t.element})},e=function(e,n){var r=t(e);e.getSystem().getByDom(n).fold(g,function(t){ry.highlight(e,t)});var o=t(e);Sy(e,r,o)};return{get:t,set:e}};(function(t){t["OnFocusMode"]="onFocus",t["OnEnterOrSpaceMode"]="onEnterOrSpace",t["OnApiMode"]="onApi"})(Lh||(Lh={}));var Ty=function(t,e,n,r,o){var i=function(){return t.concat([Xi("focusManager",Cy()),$i("focusInside","onFocus",vi(function(t){return H(["onFocus","onEnterOrSpace","onApi"],t)?ro.value(t):ro.error("Invalid value for focusInside")})),fl("handler",s),fl("state",e),fl("sendFocusIn",o)])},a=function(t,e,n,r,o){var i=n(t,e,r,o);return Oy(i,e.event).bind(function(n){return n(t,e,r,o)})},u=function(t,e){var i=t.focusInside!==Lh.OnFocusMode?P.none():o(t).map(function(n){return ju(Za(),function(r,o){n(r,t,e),o.stop()})}),u=function(n,r){var i=vy(sy.concat(ay))(r.event);t.focusInside===Lh.OnEnterOrSpaceMode&&i&&_a(n,r)&&o(t).each(function(o){o(n,t,e),r.stop()})},s=[ju(za(),function(r,o){a(r,o,n,t,e).fold(function(){u(r,o)},function(t){o.stop()})}),ju(Va(),function(n,o){a(n,o,r,t,e).each(function(t){o.stop()})})];return Mu(i.toArray().concat(s))},s={schema:i,processKey:a,toEvents:u};return s},My=function(t){var e=[zi("onEscape"),zi("onEnter"),Xi("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Xi("firstTabstop",0),Xi("useTabstopAt",T),zi("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind(function(t){return Fc(e,t)}).getOr(e);return ar(n)>0},r=function(t,e){var r=$h(t.element,e.selector),o=K(r,function(t){return n(e,t)});return P.from(o[e.firstTabstop])},o=function(t,e){return e.focusManager.get(t).bind(function(t){return Fc(t,e.selector)})},i=function(t,e){return n(t,e)&&t.useTabstopAt(e)},a=function(t,e,n){r(t,e).each(function(n){e.focusManager.set(t,n)})},u=function(t,e,n,r,o){return o(e,n,function(t){return i(r,t)}).fold(function(){return r.cyclic?P.some(!0):P.none()},function(e){return r.focusManager.set(t,e),P.some(!0)})},s=function(t,e,n,r){var i=$h(t.element,n.selector);return o(t,n).bind(function(e){var o=et(i,O(cn,e));return o.bind(function(e){return u(t,i,e,n,r)})})},c=function(t,e,n){var r=n.cyclic?hy:py;return s(t,e,n,r)},l=function(t,e,n){var r=n.cyclic?my:gy;return s(t,e,n,r)},f=function(t,e,n){return n.onEnter.bind(function(n){return n(t,e)})},d=function(t,e,n){return n.onEscape.bind(function(n){return n(t,e)})},h=x([wy(yy([by,vy(iy)]),c),wy(vy(iy),l),wy(vy(uy),d),wy(yy([_y,vy(ay)]),f)]),p=x([]);return Ty(e,Ss.init,h,p,function(){return P.some(a)})},Dy=My(Ti("cyclic",k)),Ay=My(Ti("cyclic",T)),Iy=function(t,e,n){return Cu(t,n,eu()),P.some(!0)},jy=function(t,e,n){var r=pv(n)&&vy(sy)(e.event);return r?P.none():Iy(t,e,n)},Ey=function(t,e){return P.some(!0)},Ry=[Xi("execute",jy),Xi("useSpace",!1),Xi("useEnter",!0),Xi("useControlEnter",!1),Xi("useDown",!1)],Ny=function(t,e,n){return n.execute(t,e,t.element)},Py=function(t,e,n,r){var o=n.useSpace&&!pv(t.element)?sy:[],i=n.useEnter?ay:[],a=n.useDown?dy:[],u=o.concat(i).concat(a);return[wy(vy(u),Ny)].concat(n.useControlEnter?[wy(yy([xy,vy(ay)]),Ny)]:[])},By=function(t,e,n,r){return n.useSpace&&!pv(t.element)?[wy(vy(sy),Ey)]:[]},Ly=Ty(Ry,Ss.init,Py,By,function(){return P.none()}),Fy=function(){var t=od(),e=function(e,n){t.set({numRows:e,numColumns:n})},n=function(){return t.get().map(function(t){return t.numRows})},r=function(){return t.get().map(function(t){return t.numColumns})};return Cs({readState:function(){return t.get().map(function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:e,getNumRows:n,getNumColumns:r})},zy=function(t){return t.state(t)},Vy=Object.freeze({__proto__:null,flatgrid:Fy,init:zy}),Hy=function(t){return function(e,n,r,o){var i=t(e.element);return qy(i,e,n,r,o)}},Uy=function(t,e){var n=Nd(t,e);return Hy(n)},Wy=function(t,e){var n=Nd(e,t);return Hy(n)},Gy=function(t){return function(e,n,r,o){return qy(t,e,n,r,o)}},qy=function(t,e,n,r,o){var i=r.focusManager.get(e).bind(function(n){return t(e.element,n,r,o)});return i.map(function(t){return r.focusManager.set(e,t),!0})},Yy=Gy,Xy=Gy,$y=Gy,Ky=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Zy=function(t){return!Ky(t.dom)},Jy=function(t,e){return et(t,e).map(function(e){return{index:e,candidates:t}})},Qy=function(t,e,n){var r=function(t){return cn(t,e)},o=$h(t,n),i=K(o,Zy);return Jy(i,r)},tb=function(t,e){return et(t,function(t){return cn(e,t)})},eb=function(t,e,n,r){var o=Math.floor(e/n),i=e%n;return r(o,i).bind(function(e){var r=e.row*n+e.column;return r>=0&&r<t.length?P.some(t[r]):P.none()})},nb=function(t,e,n,r,o){return eb(t,e,r,function(e,i){var a=e===n-1,u=a?t.length-e*r:r,s=Tl(i,o,0,u-1);return P.some({row:e,column:s})})},rb=function(t,e,n,r,o){return eb(t,e,r,function(e,i){var a=Tl(e,o,0,n-1),u=a===n-1,s=u?t.length-a*r:r,c=Ml(i,0,s-1);return P.some({row:a,column:c})})},ob=function(t,e,n,r){return nb(t,e,n,r,1)},ib=function(t,e,n,r){return nb(t,e,n,r,-1)},ab=function(t,e,n,r){return rb(t,e,n,r,-1)},ub=function(t,e,n,r){return rb(t,e,n,r,1)},sb=[Di("selector"),Xi("execute",jy),sl("onEscape"),Xi("captureTab",!1),hl()],cb=function(t,e,n){Lc(t.element,e.selector).each(function(n){e.focusManager.set(t,n)})},lb=function(t,e){return e.focusManager.get(t).bind(function(t){return Fc(t,e.selector)})},fb=function(t,e,n,r){return lb(t,n).bind(function(r){return n.execute(t,e,r)})},db=function(t){return function(e,n,r,o){return Qy(e,n,r.selector).bind(function(e){return t(e.candidates,e.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))})}},hb=function(t,e,n){return n.captureTab?P.some(!0):P.none()},pb=function(t,e,n){return n.onEscape(t,e)},mb=db(ib),gb=db(ob),vb=db(ab),yb=db(ub),bb=x([wy(vy(cy),Uy(mb,gb)),wy(vy(fy),Wy(mb,gb)),wy(vy(ly),Yy(vb)),wy(vy(dy),Xy(yb)),wy(yy([by,vy(iy)]),hb),wy(yy([_y,vy(iy)]),hb),wy(vy(uy),pb),wy(vy(sy.concat(ay)),fb)]),xb=x([wy(vy(sy),Ey)]),_b=Ty(sb,Fy,bb,xb,function(){return P.some(cb)}),wb=function(t,e,n,r){var o=function(t){return"button"===ue(t)&&"disabled"===Hn(t,"disabled")},i=function(t,e,n){var a=Tl(e,r,0,n.length-1);return a===t?P.none():o(n[a])?i(t,a,n):P.from(n[a])};return Qy(t,n,e).bind(function(t){var e=t.index,n=t.candidates;return i(e,e,n)})},Ob=[Di("selector"),Xi("getInitial",P.none),Xi("execute",jy),sl("onEscape"),Xi("executeOnMove",!1),Xi("allowVertical",!0)],Sb=function(t,e){return e.focusManager.get(t).bind(function(t){return Fc(t,e.selector)})},Cb=function(t,e,n){return Sb(t,n).bind(function(r){return n.execute(t,e,r)})},kb=function(t,e,n){e.getInitial(t).orThunk(function(){return Lc(t.element,e.selector)}).each(function(n){e.focusManager.set(t,n)})},Tb=function(t,e,n){return wb(t,n.selector,e,-1)},Mb=function(t,e,n){return wb(t,n.selector,e,1)},Db=function(t){return function(e,n,r,o){return t(e,n,r,o).bind(function(){return r.executeOnMove?Cb(e,n,r):P.some(!0)})}},Ab=function(t,e,n){return n.onEscape(t,e)},Ib=function(t,e,n,r){var o=cy.concat(n.allowVertical?ly:[]),i=fy.concat(n.allowVertical?dy:[]);return[wy(vy(o),Db(Uy(Tb,Mb))),wy(vy(i),Db(Wy(Tb,Mb))),wy(vy(ay),Cb),wy(vy(sy),Cb),wy(vy(uy),Ab)]},jb=x([wy(vy(sy),Ey)]),Eb=Ty(Ob,Ss.init,Ib,jb,function(){return P.some(kb)}),Rb=function(t,e,n){return P.from(t[e]).bind(function(t){return P.from(t[n]).map(function(t){return{rowIndex:e,columnIndex:n,cell:t}})})},Nb=function(t,e,n,r){var o=t[e],i=o.length,a=Tl(n,r,0,i-1);return Rb(t,e,a)},Pb=function(t,e,n,r){var o=Tl(n,r,0,t.length-1),i=t[o].length,a=Ml(e,0,i-1);return Rb(t,o,a)},Bb=function(t,e,n,r){var o=t[e],i=o.length,a=Ml(n+r,0,i-1);return Rb(t,e,a)},Lb=function(t,e,n,r){var o=Ml(n+r,0,t.length-1),i=t[o].length,a=Ml(e,0,i-1);return Rb(t,o,a)},Fb=function(t,e,n){return Nb(t,e,n,1)},zb=function(t,e,n){return Nb(t,e,n,-1)},Vb=function(t,e,n){return Pb(t,n,e,-1)},Hb=function(t,e,n){return Pb(t,n,e,1)},Ub=function(t,e,n){return Bb(t,e,n,-1)},Wb=function(t,e,n){return Bb(t,e,n,1)},Gb=function(t,e,n){return Lb(t,n,e,-1)},qb=function(t,e,n){return Lb(t,n,e,1)},Yb=[Bi("selectors",[Di("row"),Di("cell")]),Xi("cycles",!0),Xi("previousSelector",P.none),Xi("execute",jy)],Xb=function(t,e,n){var r=e.previousSelector(t).orThunk(function(){var n=e.selectors;return Lc(t.element,n.cell)});r.each(function(n){e.focusManager.set(t,n)})},$b=function(t,e,n){return Tf(t.element).bind(function(r){return n.execute(t,e,r)})},Kb=function(t,e){return q(t,function(t){return $h(t,e.selectors.cell)})},Zb=function(t,e){return function(n,r,o){var i=o.cycles?t:e;return Fc(r,o.selectors.row).bind(function(t){var e=$h(t,o.selectors.cell);return tb(e,r).bind(function(e){var r=$h(n,o.selectors.row);return tb(r,t).bind(function(t){var n=Kb(r,o);return i(n,t,e).map(function(t){return t.cell})})})})}},Jb=Zb(zb,Ub),Qb=Zb(Fb,Wb),tx=Zb(Vb,Gb),ex=Zb(Hb,qb),nx=x([wy(vy(cy),Uy(Jb,Qb)),wy(vy(fy),Wy(Jb,Qb)),wy(vy(ly),Yy(tx)),wy(vy(dy),Xy(ex)),wy(vy(sy.concat(ay)),$b)]),rx=x([wy(vy(sy),Ey)]),ox=Ty(Yb,Ss.init,nx,rx,function(){return P.some(Xb)}),ix=[Di("selector"),Xi("execute",jy),Xi("moveOnTab",!1)],ax=function(t,e,n){return n.focusManager.get(t).bind(function(r){return n.execute(t,e,r)})},ux=function(t,e,n){Lc(t.element,e.selector).each(function(n){e.focusManager.set(t,n)})},sx=function(t,e,n){return wb(t,n.selector,e,-1)},cx=function(t,e,n){return wb(t,n.selector,e,1)},lx=function(t,e,n,r){return n.moveOnTab?$y(sx)(t,e,n,r):P.none()},fx=function(t,e,n,r){return n.moveOnTab?$y(cx)(t,e,n,r):P.none()},dx=x([wy(vy(ly),$y(sx)),wy(vy(dy),$y(cx)),wy(yy([by,vy(iy)]),lx),wy(yy([_y,vy(iy)]),fx),wy(vy(ay),ax),wy(vy(sy),ax)]),hx=x([wy(vy(sy),Ey)]),px=Ty(ix,Ss.init,dx,hx,function(){return P.some(ux)}),mx=[sl("onSpace"),sl("onEnter"),sl("onShiftEnter"),sl("onLeft"),sl("onRight"),sl("onTab"),sl("onShiftTab"),sl("onUp"),sl("onDown"),sl("onEscape"),Xi("stopSpaceKeyup",!1),zi("focusIn")],gx=function(t,e,n){return[wy(vy(sy),n.onSpace),wy(yy([_y,vy(ay)]),n.onEnter),wy(yy([by,vy(ay)]),n.onShiftEnter),wy(yy([by,vy(iy)]),n.onShiftTab),wy(yy([_y,vy(iy)]),n.onTab),wy(vy(ly),n.onUp),wy(vy(dy),n.onDown),wy(vy(cy),n.onLeft),wy(vy(fy),n.onRight),wy(vy(sy),n.onSpace),wy(vy(uy),n.onEscape)]},vx=function(t,e,n){return n.stopSpaceKeyup?[wy(vy(sy),Ey)]:[]},yx=Ty(mx,Ss.init,gx,vx,function(t){return t.focusIn}),bx=Dy.schema(),xx=Ay.schema(),_x=Eb.schema(),wx=_b.schema(),Ox=ox.schema(),Sx=Ly.schema(),Cx=px.schema(),kx=yx.schema(),Tx=Object.freeze({__proto__:null,acyclic:bx,cyclic:xx,flow:_x,flatgrid:wx,matrix:Ox,execution:Sx,menu:Cx,special:kx}),Mx=function(t){return Mt(t,"setGridSize")},Dx=vf({branchKey:"mode",branches:Tx,name:"keying",active:{events:function(t,e){var n=t.handler;return n.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(r){r(t,e,n)})},setGridSize:function(t,e,n,r,o){Mx(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Vy}),Ax=function(t,e,n,r){Mf(function(){var e=q(r,t.getSystem().build);Up(t,e)},t.element)},Ix=function(t,e,n,r){var o=t.getSystem().build(r);Gp(t,o,n)},jx=function(t,e,n,r){Ix(t,e,Ar,r)},Ex=function(t,e,n,r){Ix(t,e,Dr,r)},Rx=function(t,e,n,r){var o=Nx(t),i=tt(o,function(t){return cn(r.element,t.element)});i.each(Yp)},Nx=function(t,e){return t.components()},Px=function(t,e,n,r,o){var i=Nx(t);return P.from(i[r]).map(function(i){return Rx(t,e,n,i),o.each(function(n){Ix(t,e,function(t,e){Ir(t,e,r)},n)}),i})},Bx=function(t,e,n,r,o){var i=Nx(t);return et(i,r).bind(function(r){return Px(t,e,n,r,o)})},Lx=Object.freeze({__proto__:null,append:jx,prepend:Ex,remove:Rx,replaceAt:Px,replaceBy:Bx,set:Ax,contents:Nx}),Fx=mf({fields:[],name:"replacing",apis:Lx}),zx=function(t,e){var n=Mu(e);return mf({fields:[Di("enabled")],name:t,active:{events:x(n)}})},Vx=function(t,e){var n=zx(t,e);return{key:t,value:{config:{},me:n,configAsRaw:x({}),initialConfig:{},state:Ss}}},Hx=function(t,e){e.ignore||(Of(t.element),e.onFocus(t))},Ux=function(t,e){e.ignore||Sf(t.element)},Wx=function(t){return Cf(t.element)},Gx=Object.freeze({__proto__:null,focus:Hx,blur:Ux,isFocused:Wx}),qx=function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return As(n)},Yx=function(t){return Mu([ju(Za(),function(e,n){Hx(e,t),n.stop()})].concat(t.stopMousedown?[ju(Ea(),function(t,e){e.event.prevent()})]:[]))},Xx=Object.freeze({__proto__:null,exhibit:qx,events:Yx}),$x=[ul("onFocus"),Xi("stopMousedown",!1),Xi("ignore",!1)],Kx=mf({fields:$x,name:"focusing",active:Xx,apis:Gx}),Zx=function(t){var e=function(){var e=oa(t),n=function(){return e.get()},r=function(t){return e.set(t)},o=function(){return e.set(t)},i=function(){return e.get()};return{get:n,set:r,clear:o,readState:i}};return{init:e}},Jx=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},Qx=function(t,e,n){e.toggleClass.each(function(e){n.get()?ic(t.element,e):uc(t.element,e)})},t_=function(t,e,n){r_(t,e,n,!n.get())},e_=function(t,e,n){n.set(!0),Qx(t,e,n),Jx(t,e,n)},n_=function(t,e,n){n.set(!1),Qx(t,e,n),Jx(t,e,n)},r_=function(t,e,n,r){var o=r?e_:n_;o(t,e,n)},o_=function(t,e,n){return n.get()},i_=function(t,e,n){r_(t,e,n,e.selected)},a_=Object.freeze({__proto__:null,onLoad:i_,toggle:t_,isOn:o_,on:e_,off:n_,set:r_}),u_=function(){return As({})},s_=function(t,e){var n=af(t,e,t_),r=uf(t,e,i_);return Mu(nt([t.toggleOnExecute?[n]:[],[r]]))},c_=Object.freeze({__proto__:null,exhibit:u_,events:s_}),l_=function(t,e,n){zn(t.element,"aria-pressed",n),e.syncWithExpanded&&h_(t,e,n)},f_=function(t,e,n){zn(t.element,"aria-selected",n)},d_=function(t,e,n){zn(t.element,"aria-checked",n)},h_=function(t,e,n){zn(t.element,"aria-expanded",n)},p_=[Xi("selected",!1),zi("toggleClass"),Xi("toggleOnExecute",!0),$i("aria",{mode:"none"},Si("mode",{pressed:[Xi("syncWithExpanded",!1),fl("update",l_)],checked:[fl("update",d_)],expanded:[fl("update",h_)],selected:[fl("update",f_)],none:[fl("update",g)]}))],m_=mf({fields:p_,name:"toggling",active:c_,apis:a_,state:Zx(!1)}),g_=function(){var t=function(t,e){e.stop(),Su(t)};return[ju(Wa(),t),ju(ru(),t),Fu(Da()),Fu(Ea())]},v_=function(t){var e=function(t){return Gu(function(e,n){t(e),n.stop()})};return Mu(nt([t.map(e).toArray(),g_()]))},y_="alloy.item-hover",b_="alloy.item-focus",x_=function(t){(Tf(t.element).isNone()||Kx.isFocused(t))&&(Kx.isFocused(t)||Kx.focus(t),Ou(t,y_,{item:t}))},__=function(t){Ou(t,b_,{item:t})},w_=x(y_),O_=x(b_),S_=function(t){return{dom:t.dom,domModification:D(D({},t.domModification),{attributes:D(D(D({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:og.augment(t.itemBehaviours,[t.toggling.fold(m_.revoke,function(t){return m_.config(D({aria:{mode:"checked"}},t))}),Kx.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){__(t)}}),Dx.config({mode:"execution"}),tg.config({store:{mode:"memory",initialValue:t.data}}),Vx("item-type-events",I(I([],g_(),!0),[ju(Ba(),x_),ju(nu(),Kx.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},C_=[Di("data"),Di("components"),Di("dom"),Xi("hasSubmenu",!1),zi("toggling"),og.field("itemBehaviours",[m_,Kx,Dx,tg]),Xi("ignoreFocus",!1),Xi("domModification",{}),fl("builder",S_),Xi("eventOrder",{})],k_=function(t){return{dom:t.dom,components:t.components,events:Mu([zu(nu())])}},T_=[Di("dom"),Di("components"),fl("builder",k_)],M_=x("item-widget"),D_=x([Eg({name:"widget",overrides:function(t){return{behaviours:hf([tg.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:g}})])}}})]),A_=function(t){var e=qg(M_(),t,D_()),n=Yg(M_(),t,e.internals()),r=function(e){return Xg(e,t,"widget").map(function(t){return Dx.focusIn(t),t})},o=function(e,n){return pv(n.event.target)?P.none():function(){return t.autofocus?(n.setSource(e.element),P.none()):P.none()}()};return{dom:t.dom,components:n,domModification:t.domModification,events:Mu([Gu(function(t,e){r(t).each(function(t){e.stop()})}),ju(Ba(),x_),ju(nu(),function(e,n){t.autofocus?r(e):Kx.focus(e)})]),behaviours:og.augment(t.widgetBehaviours,[tg.config({store:{mode:"memory",initialValue:t.data}}),Kx.config({ignore:t.ignoreFocus,onFocus:function(t){__(t)}}),Dx.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:yf(),onLeft:o,onRight:o,onEscape:function(e,n){return Kx.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element),P.none()):P.none():(Kx.focus(e),P.some(!0))}})])}},I_=[Di("uid"),Di("data"),Di("components"),Di("dom"),Xi("autofocus",!1),Xi("ignoreFocus",!1),og.field("widgetBehaviours",[tg,Kx,Dx]),Xi("domModification",{}),ev(D_()),fl("builder",A_)],j_=Si("type",{widget:I_,item:C_,separator:T_}),E_=function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}},R_=function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},N_=function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}},P_=x([Pg({factory:{sketch:function(t){var e=wi("menu.spec item",j_,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return Tt(e,"uid")?e:D(D({},e),{uid:ds("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),B_=x([Di("value"),Di("items"),Di("dom"),Di("components"),Xi("eventOrder",{}),eg("menuBehaviours",[ry,tg,yv,Dx]),$i("movement",{mode:"menu",moveOnTab:!0},Si("mode",{grid:[hl(),fl("config",E_)],matrix:[fl("config",R_),Di("rowSelector")],menu:[Xi("moveOnTab",!0),fl("config",N_)]})),rl(),Xi("fakeFocus",!1),Xi("focusManager",Cy()),ul("onHighlight")]),L_=x("alloy.menu-focus"),F_=function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:rg(t.menuBehaviours,[ry.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),tg.config({store:{mode:"memory",initialValue:t.value}}),yv.config({find:P.some}),Dx.config(t.movement.config(t,t.movement))]),events:Mu([ju(O_(),function(t,e){var n=e.event;t.getSystem().getByDom(n.target).each(function(n){ry.highlight(t,n),e.stop(),Ou(t,L_(),{menu:t,item:n})})}),ju(w_(),function(t,e){var n=e.event.item;ry.highlight(t,n)})]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},z_=hv({name:"Menu",configFields:B_(),partFields:P_(),factory:F_}),V_=function(t){return bt(t,function(t,e){return{k:t,v:e}})},H_=function(t,e,n,r){return kt(n,r).bind(function(r){return kt(t,r).bind(function(r){var o=H_(t,e,n,r);return P.some([r].concat(o))})}).getOr([])},U_=function(t,e){var n={};vt(t,function(t,e){Y(t,function(t){n[t]=e})});var r=e,o=V_(e),i=yt(o,function(t,e){return[e].concat(H_(n,r,o,e))});return yt(n,function(t){return kt(i,t).getOr([t])})},W_=function(){var t=oa({}),e=oa({}),n=oa({}),r=od(),o=oa({}),i=function(){t.set({}),e.set({}),n.set({}),r.clear()},a=function(){return r.get().isNone()},u=function(t,n){var r;e.set(D(D({},e.get()),(r={},r[t]={type:"prepared",menu:n},r)))},s=function(i,a,u,s){r.set(i),t.set(u),e.set(a),o.set(s);var c=U_(s,u);n.set(c)},c=function(e){return St(t.get(),function(t,n){return t===e})},l=function(t,e,n){return m(t).bind(function(r){return c(t).bind(function(t){return e(t).map(function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}})})})},f=function(t,e){var o=K(v(t).toArray(),function(t){return m(t).isSome()});return kt(n.get(),t).bind(function(t){var n=it(o.concat(t)),i=rt(n,function(t,o){return l(t,e,n.slice(0,o+1)).fold(function(){return Dt(r.get(),t)?[]:[P.none()]},function(t){return[P.some(t)]})});return jt(i)})},d=function(e){return kt(t.get(),e).map(function(t){var r=kt(n.get(),e).getOr([]);return[t].concat(r)})},h=function(t){return kt(n.get(),t).bind(function(t){return t.length>1?P.some(t.slice(1)):P.none()})},p=function(t){return kt(n.get(),t)},m=function(t){return g(t).bind(G_)},g=function(t){return kt(e.get(),t)},v=function(e){return kt(t.get(),e)},y=function(t){var e=o.get();return at(mt(e),t)},b=function(){return r.get().bind(m)},x=function(){return e.get()};return{setMenuBuilt:u,setContents:s,expand:d,refresh:p,collapse:h,lookupMenu:g,lookupItem:v,otherMenus:y,getPrimary:b,getMenus:x,clear:i,isClear:a,getTriggeringPath:f}},G_=function(t){return"prepared"===t.type?P.some(t.menu):P.none()},q_={init:W_,extractPreparedMenu:G_},Y_=function(t,e){var n,r=od(),o=function(e,n,r){return yt(r,function(r,o){var i=function(){return z_.sketch(D(D({},r),{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?ky():Cy()}))};return o===n?{type:"prepared",menu:e.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})},i=q_.init(),a=function(e){var n=o(e,t.data.primary,t.data.menus),r=c();return i.setContents(t.data.primary,n,t.data.expansions,r),i.getPrimary()},u=function(t){return tg.getValue(t).value},s=function(t,e,n){return pt(e,function(t){if(!t.getSystem().isConnected())return P.none();var e=ry.getCandidates(t);return tt(e,function(t){return u(t)===n})})},c=function(e){return yt(t.data.menus,function(t,e){return rt(t.items,function(t){return"separator"===t.type?[]:[t.data.value]})})},l=function(t,e){ry.highlight(t,e),ry.getHighlighted(e).orThunk(function(){return ry.getFirst(e)}).each(function(e){Cu(t,e.element,nu())})},f=function(t,e){return It(q(e,function(e){return t.lookupMenu(e).bind(function(t){return"prepared"===t.type?P.some(t.menu):P.none()})}))},d=function(e,n,r){var o=f(n,n.otherMenus(r));Y(o,function(n){lc(n.element,[t.markers.backgroundMenu]),t.stayInDom||Fx.remove(e,n)})},h=function(e){return r.get().getOrThunk(function(){var n={},o=$h(e.element,"."+t.markers.item),i=K(o,function(t){return"true"===Hn(t,"aria-haspopup")});return Y(i,function(t){e.getSystem().getByDom(t).each(function(t){var e=u(t);n[e]=t})}),r.set(n),n})},p=function(t,e){var n=h(t);vt(n,function(t,n){var r=H(e,n);zn(t.element,"aria-expanded",r)})},m=function(e,n,r){return P.from(r[0]).bind(function(o){return n.lookupMenu(o).bind(function(o){if("notbuilt"===o.type)return P.none();var i=o.menu,a=f(n,r.slice(1));return Y(a,function(e){ic(e.element,t.markers.backgroundMenu)}),Pn(i.element)||Fx.append(e,Mc(i)),lc(i.element,[t.markers.backgroundMenu]),l(e,i),d(e,n,r),P.some(i)})})};(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu",t[t["HighlightParent"]=1]="HighlightParent"})(n||(n={}));var v=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return i.setMenuBuilt(e,r),r}return n.menu},y=function(e,r,o){if(void 0===o&&(o=n.HighlightSubmenu),r.hasConfigured(Bv)&&Bv.isDisabled(r))return P.some(r);var a=u(r);return i.expand(a).bind(function(a){return p(e,a),P.from(a[0]).bind(function(u){return i.lookupMenu(u).bind(function(s){var c=v(e,u,s);return Pn(c.element)||Fx.append(e,Mc(c)),t.onOpenSubmenu(e,r,c,it(a)),o===n.HighlightSubmenu?(ry.highlightFirst(c),m(e,i,a)):(ry.dehighlightAll(c),P.some(r))})})})},b=function(e,n){var r=u(n);return i.collapse(r).bind(function(r){return p(e,r),m(e,i,r).map(function(r){return t.onCollapseMenu(e,n,r),r})})},x=function(t,e){var n=u(e);return i.refresh(n).bind(function(e){return p(t,e),m(t,i,e)})},_=function(t,e){return pv(e.element)?P.none():y(t,e,n.HighlightSubmenu)},w=function(t,e){return pv(e.element)?P.none():b(t,e)},O=function(e,n){return b(e,n).orThunk(function(){return t.onEscape(e,n).map(function(){return e})})},S=function(e){return function(n,r){return Fc(r.getSource(),"."+t.markers.item).bind(function(t){return n.getSystem().getByDom(t).toOptional().bind(function(t){return e(n,t).map(T)})})}},C=Mu([ju(L_(),function(t,e){var n=e.event.item;i.lookupItem(u(n)).each(function(){var n=e.event.menu;ry.highlight(t,n);var r=u(e.event.item);i.refresh(r).each(function(e){return d(t,i,e)})})}),Gu(function(e,r){var o=r.event.target;e.getSystem().getByDom(o).each(function(r){var o=u(r);0===o.indexOf("collapse-item")&&b(e,r),y(e,r,n.HighlightSubmenu).fold(function(){t.onExecute(e,r)},g)})}),Hu(function(e,n){a(e).each(function(n){Fx.append(e,Mc(n)),t.onOpenMenu(e,n),t.highlightImmediately&&l(e,n)})})].concat(t.navigateOnHover?[ju(w_(),function(e,r){var o=r.event.item;x(e,o),y(e,o,n.HighlightParent),t.onHover(e,o)})]:[])),k=function(t){return ry.getHighlighted(t).bind(ry.getHighlighted)},M=function(t){k(t).each(function(e){b(t,e)})},A=function(t){i.getPrimary().each(function(e){l(t,e)})},I=function(t){return P.from(t.components()[0]).filter(function(t){return"menu"===Hn(t.element,"role")})},j=function(e){var n=i.getPrimary().bind(function(t){return k(e).bind(function(t){var n=u(t),r=Ct(i.getMenus()),o=It(q(r,q_.extractPreparedMenu));return i.getTriggeringPath(n,function(t){return s(e,o,t)})}).map(function(e){return{primary:t,triggeringPath:e}})});n.fold(function(){I(e).each(function(n){t.onRepositionMenu(e,n,[])})},function(n){var r=n.primary,o=n.triggeringPath;t.onRepositionMenu(e,r,o)})},E={collapseMenu:M,highlightPrimary:A,repositionMenus:j};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:rg(t.tmenuBehaviours,[Dx.config({mode:"special",onRight:S(_),onLeft:S(w),onEscape:S(O),focusIn:function(t,e){i.getPrimary().each(function(e){Cu(t,e.element,nu())})}}),ry.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),yv.config({find:function(t){return ry.getHighlighted(t)}}),Fx.config({})]),eventOrder:t.eventOrder,apis:E,events:C}},X_=x("collapse-item"),$_=function(t,e,n){return{primary:t,menus:e,expansions:n}},K_=function(t,e){return{primary:t,menus:ha(t,e),expansions:{}}},Z_=function(t){return{value:os(X_()),meta:{text:t}}},J_=dv({name:"TieredMenu",configFields:[ll("onExecute"),ll("onEscape"),cl("onOpenMenu"),cl("onOpenSubmenu"),ul("onRepositionMenu"),ul("onCollapseMenu"),Xi("highlightImmediately",!0),Bi("data",[Di("primary"),Di("menus"),Di("expansions")]),Xi("fakeFocus",!1),ul("onHighlight"),ul("onHover"),ol(),Di("dom"),Xi("navigateOnHover",!0),Xi("stayInDom",!1),eg("tmenuBehaviours",[Dx,ry,yv,Fx]),Xi("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:Y_,extraApis:{tieredData:$_,singleData:K_,collapseItem:Z_}}),Q_=function(t,e,n,r,o){var i=function(){return t.lazySink(e)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Ql()},onRtl:function(){return tf()}}}:{},u=function(t){return 2===t.length},s=function(t){return u(t)?a:{}};return J_.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return ym.close(e),t.onEscape.map(function(t){return t(e)}),P.some(!0)},onExecute:function(){return P.some(!0)},onOpenMenu:function(t,e){Lp.positionWithinBounds(i().getOrDie(),e,n,o())},onOpenSubmenu:function(t,e,n,r){var o=i().getOrDie();Lp.position(o,n,{anchor:D({type:"submenu",item:e},s(r))})},onRepositionMenu:function(t,e,r){var a=i().getOrDie();Lp.positionWithinBounds(a,e,n,o()),Y(r,function(t){var e=s(t.triggeringPath);Lp.position(a,t.triggeredMenu,{anchor:D({type:"submenu",item:t.triggeringItem},e)})})}})},tw=function(t,e){var n=function(e,n){var r=t.getRelated(e);return r.exists(function(t){return Uc(t,n)})},r=function(t,e){ym.setContent(t,e)},o=function(t,e,n){i(t,e,n,P.none())},i=function(t,e,n,r){a(t,e,n,function(){return r.map(function(t){return Zr(t)})})},a=function(e,n,r,o){var i=t.lazySink(e).getOrDie();ym.openWhileCloaked(e,n,function(){return Lp.positionWithinBounds(i,e,r,o())}),tg.setValue(e,P.some({mode:"position",config:r,getBounds:o}))},u=function(t,e,n){s(t,e,n,P.none)},s=function(e,n,r,o){var i=Q_(t,e,n,r,o);ym.open(e,i),tg.setValue(e,P.some({mode:"menu",menu:i}))},c=function(t){ym.isOpen(t)&&(tg.setValue(t,P.none()),ym.close(t))},l=function(t){return ym.getState(t)},f=function(e){ym.isOpen(e)&&tg.getValue(e).each(function(n){switch(n.mode){case"menu":ym.getState(e).each(J_.repositionMenus);break;case"position":var r=t.lazySink(e).getOrDie();Lp.positionWithinBounds(r,e,n.config,n.getBounds());break}})},d={setContent:r,showAt:o,showWithin:i,showWithinBounds:a,showMenuAt:u,showMenuWithinBounds:s,hide:c,getContent:l,reposition:f,isOpen:ym.isOpen};return{uid:t.uid,dom:t.dom,behaviours:rg(t.inlineBehaviours,[ym.config({isPartOf:function(t,e,r){return Uc(e,r)||n(t,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),tg.config({store:{mode:"memory",initialValue:P.none()}}),bf.config({channels:D(D({},Om(D({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map(function(t){return{fireEventInstead:{event:t.event}}}).getOr({})))),Cm(D(D({},t.fireRepositionEventInstead.map(function(t){return{fireEventInstead:{event:t.event}}}).getOr({})),{doReposition:f})))})]),eventOrder:t.eventOrder,apis:d}},ew=dv({name:"InlineView",configFields:[Di("lazySink"),ul("onShow"),ul("onHide"),Wi("onEscape"),eg("inlineBehaviours",[ym,tg,bf]),qi("fireDismissalEventInstead",[Xi("event",pu())]),qi("fireRepositionEventInstead",[Xi("event",mu())]),Xi("getRelated",P.none),Xi("isExtraPart",k),Xi("eventOrder",P.none)],factory:tw,apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithin:function(t,e,n,r,o){t.showWithin(e,n,r,o)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}}),nw="layout-inset",rw=function(t){return t.x},ow=function(t,e){return t.x+t.width/2-e.width/2},iw=function(t,e){return t.x+t.width-e.width},aw=function(t){return t.y},uw=function(t,e){return t.y+t.height-e.height},sw=function(t,e){return t.y+t.height/2-e.height/2},cw=function(t,e,n){return pl(iw(t,e),uw(t,e),n.insetSouthwest(),wl(),"southwest",Al(t,{right:0,bottom:3}),nw)},lw=function(t,e,n){return pl(rw(t),uw(t,e),n.insetSoutheast(),_l(),"southeast",Al(t,{left:1,bottom:3}),nw)},fw=function(t,e,n){return pl(iw(t,e),aw(t),n.insetNorthwest(),xl(),"northwest",Al(t,{right:0,top:2}),nw)},dw=function(t,e,n){return pl(rw(t),aw(t),n.insetNortheast(),bl(),"northeast",Al(t,{left:1,top:2}),nw)},hw=function(t,e,n){return pl(ow(t,e),aw(t),n.insetNorth(),Ol(),"north",Al(t,{top:2}),nw)},pw=function(t,e,n){return pl(ow(t,e),uw(t,e),n.insetSouth(),Sl(),"south",Al(t,{bottom:3}),nw)},mw=function(t,e,n){return pl(iw(t,e),sw(t,e),n.insetEast(),kl(),"east",Al(t,{right:0}),nw)},gw=function(t,e,n){return pl(rw(t),sw(t,e),n.insetWest(),Cl(),"west",Al(t,{left:1}),nw)},vw=function(t){switch(t){case"north":return hw;case"northeast":return dw;case"northwest":return fw;case"south":return pw;case"southeast":return lw;case"southwest":return cw;case"east":return mw;case"west":return gw}},yw=function(t,e,n,r,o){var i=qf(r).map(vw).getOr(hw);return i(t,e,n,r,o)},bw=function(t){switch(t){case"north":return pw;case"northeast":return lw;case"northwest":return cw;case"south":return hw;case"southeast":return dw;case"southwest":return fw;case"east":return gw;case"west":return mw}},xw=function(t,e,n,r,o){var i=qf(r).map(bw).getOr(hw);return i(t,e,n,r,o)},_w=tinymce.util.Tools.resolve("tinymce.util.Delay"),ww=function(t){var e=v_(t.action),n=t.dom.tag,r=function(e){return kt(t.dom,"attributes").bind(function(t){return kt(t,e)})},o=function(){if("button"===n){var t=r("type").getOr("button"),e=r("role").map(function(t){return{role:t}}).getOr({});return D({type:t},e)}var o=r("role").getOr("button");return{role:o}};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:og.augment(t.buttonBehaviours,[Kx.config({}),Dx.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:o()},eventOrder:t.eventOrder}},Ow=dv({name:"Button",factory:ww,configFields:[Xi("uid",void 0),Di("dom"),Xi("components",[]),og.field("buttonBehaviours",[Kx,Dx]),zi("action"),zi("role"),Xi("eventOrder",{})]}),Sw=function(t){var e=cv(t)&&Mt(t,"uid")?t.uid:ds("memento"),n=function(t){return t.getSystem().getByUid(e).getOrDie()},r=function(t){return t.getSystem().getByUid(e).toOptional()},o=function(){return D(D({},t),{uid:e})};return{get:n,getOpt:r,asSpec:o}},Cw=tinymce.util.Tools.resolve("tinymce.util.I18n"),kw={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Tw="temporary-placeholder",Mw=function(t){return function(){return kt(t,Tw).getOr("!not found!")}},Dw=function(t,e){var n=t.toLowerCase();if(Cw.isRtl()){var r=Vt(n,"-rtl");return Tt(e,r)?r:n}return n},Aw=function(t,e){return kt(e,Dw(t,e))},Iw=function(t,e){var n=e();return Aw(t,n).getOrThunk(Mw(n))},jw=function(t,e,n){var r=e();return Aw(t,r).or(n).getOrThunk(Mw(r))},Ew=function(t){return!!Cw.isRtl()&&Tt(kw,t)},Rw=function(){return Vx("add-focusable",[Hu(function(t){Bc(t.element,"svg").each(function(t){return zn(t,"focusable","false")})})])},Nw=function(t,e,n,r){var o,i,a=Ew(e)?["tox-icon--flip"]:[],u=kt(n,Dw(e,n)).or(r).getOrThunk(Mw(n));return{dom:{tag:t.tag,attributes:null!==(o=t.attributes)&&void 0!==o?o:{},classes:t.classes.concat(a),innerHtml:u},behaviours:hf(I(I([],null!==(i=t.behaviours)&&void 0!==i?i:[],!0),[Rw()],!1))}},Pw=function(t,e,n,r){return void 0===r&&(r=P.none()),Nw(e,t,n(),r)},Bw=function(t,e,n){var r=n(),o=tt(t,function(t){return Tt(r,Dw(t,r))});return Nw(e,o.getOr(Tw),r,P.none())},Lw={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Fw=function(t){var e=Sw({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:hf([Fx.config({})])}),n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},o=Sw({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:hf([Fx.config({})])}),i=function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each(function(t){Fx.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])})},a=function(t,n){if(t.getSystem().isConnected()){var r=e.get(t);Fx.set(r,[Oc(n)])}},u={updateProgress:i,updateText:a},s=nt([t.icon.toArray(),t.level.toArray(),t.level.bind(function(t){return P.from(Lw[t])}).toArray()]),c=Sw(Ow.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Pw("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(e){t.onAction(e)}})),l=Bw(s,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),f={dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:hf([Fx.config({})])},d=[l,f];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]}).getOr(["tox-notification","tox-notification--in"])},behaviours:hf([Kx.config({}),Vx("notification-events",[ju(La(),function(t){c.getOpt(t).each(Kx.focus)})])]),components:d.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[c.asSpec()]:[]),apis:u}},zw=dv({name:"Notification",factory:Fw,configFields:[zi("level"),Di("progress"),Di("icon"),Di("onAction"),Di("text"),Di("iconProvider"),Di("translationProvider"),Qi("closeButton",!0)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}});function Vw(t,e,n){var r=e.backstage.shared,o=function(t){switch(t){case"bc-bc":return pw;case"tc-tc":return hw;case"tc-bc":return Gl;case"bc-tc":default:return ql}},i=function(t){t.length>0&&Y(t,function(e,n){0===n?e.moveRel(null,"banner"):e.moveRel(t[n-1].getEl(),"bc-tc")})},a=function(e,i){var a=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0),u=function(){i(),ew.hide(c)},s=Tc(zw.sketch({text:e.text,level:H(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:P.from(e.icon),closeButton:!a,onAction:u,iconProvider:r.providers.icons,translationProvider:r.providers.translate})),c=Tc(ew.sketch(D({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.getSink,fireDismissalEventInstead:{}},r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));n.add(c),e.timeout>0&&_w.setTimeout(function(){u()},e.timeout);var l=function(){var e=Zr(ee.fromDom(t.getContentAreaContainer())),n=Qr(),r=Ml(n.x,e.x,e.right),o=Ml(n.y,e.y,e.bottom),i=Math.max(e.right,n.right),a=Math.max(e.bottom,n.bottom);return P.some(Kr(r,o,i-r,a-o))};return{close:u,moveTo:function(t,e){ew.showAt(c,Mc(s),{anchor:{type:"makeshift",x:t,y:e}})},moveRel:function(t,e){var n=Mc(s),i={maxHeightFunction:Td()};if("banner"!==e&&d(t)){var a=o(e),u={type:"node",root:Bn(),node:P.some(ee.fromDom(t)),overrides:i,layouts:{onRtl:function(){return[a]},onLtr:function(){return[a]}}};ew.showWithinBounds(c,n,{anchor:u},l)}else{var f=D(D({},r.anchors.banner()),{overrides:i});ew.showWithinBounds(c,n,{anchor:f},l)}},text:function(t){zw.updateText(s,t)},settings:e,getEl:function(){return s.element.dom},progressBar:{value:function(t){zw.updateProgress(s,t)}}}},u=function(t){t.close()},s=function(t){return t.settings};return{open:a,close:u,reposition:i,getArgs:s}}var Hw,Uw=function(t,e){var n=null,r=function(){s(n)||(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];s(n)&&(n=setTimeout(function(){n=null,t.apply(null,r)},e))};return{cancel:r,throttle:o}},Ww=function(t,e){var n=null,r=function(){s(n)||(clearTimeout(n),n=null)},o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r(),n=setTimeout(function(){n=null,t.apply(null,o)},e)};return{cancel:r,throttle:o}},Gw=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),qw=function(t,e){return t.isBlock(e)||H(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)},Yw=function(t,e,n,r,o){var i=Gw(t,function(e){return qw(t,e)});return P.from(i.backwards(e,n,r,o))},Xw="[data-mce-autocompleter]",$w=function(t,e){return Kw(ee.fromDom(t.selection.getNode())).getOrThunk(function(){var n=ee.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Ar(n,ee.fromDom(e.extractContents())),e.insertNode(n.dom),vn(n).each(function(t){return t.dom.normalize()}),Yh(n).map(function(e){t.selection.setCursorLocation(e.dom,Uh(e))}),n})},Kw=function(t){return Fc(t,Xw)},Zw=function(t){return t.collapsed&&3===t.startContainer.nodeType},Jw=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},Qw=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},tO=function(t,e){return t.substring(e.length)},eO=function(t,e,n){var r;for(r=e-1;r>=0;r--){var o=t.charAt(r);if(Qw(o))return P.none();if(o===n)break}return P.some(r)},nO=function(t,e,n,r){if(void 0===r&&(r=0),!Zw(e))return P.none();var o=function(t,e,r){return eO(r,e,n).getOr(e)},i=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return Yw(t,e.startContainer,e.startOffset,o,i).bind(function(t){var o=e.cloneRange();if(o.setStart(t.container,t.offset),o.setEnd(e.endContainer,e.endOffset),o.collapsed)return P.none();var i=Jw(o),a=i.lastIndexOf(n);return 0!==a||tO(i,n).length<r?P.none():P.some({text:tO(i,n),range:o,triggerChar:n})})},rO=function(t,e,n,r){return void 0===r&&(r=0),Kw(ee.fromDom(e.startContainer)).fold(function(){return nO(t,e,n,r)},function(e){var r=t.createRng();r.selectNode(e.dom);var o=Jw(r);return P.some({range:r,text:tO(o,n),triggerChar:n})})},oO=function(t,e){e.on("keypress compositionend",t.onKeypress.throttle),e.on("remove",t.onKeypress.cancel);var n=function(t,e){Ou(t,za(),{raw:e})};e.on("keydown",function(e){var r=function(){return t.getView().bind(ry.getHighlighted)};8===e.which&&t.onKeypress.throttle(e),t.isActive()&&(27===e.which&&t.cancelIfNecessary(),t.isMenuOpen()?13===e.which?(r().each(Su),e.preventDefault()):40===e.which?(r().fold(function(){t.getView().each(ry.highlightFirst)},function(t){n(t,e)}),e.preventDefault(),e.stopImmediatePropagation()):37!==e.which&&38!==e.which&&39!==e.which||r().each(function(t){n(t,e),e.preventDefault(),e.stopImmediatePropagation()}):13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary())}),e.on("NodeChange",function(e){t.isActive()&&!t.isProcessingAction()&&Kw(ee.fromDom(e.element)).isNone()&&t.cancelIfNecessary()})},iO={setup:oO},aO=tinymce.util.Tools.resolve("tinymce.util.Promise"),uO=function(t,e){return{container:t,offset:e}},sO=function(t){return t.nodeType===ae},cO=function(t){return t.nodeType===ie},lO=function(t){if(sO(t))return uO(t,t.data.length);var e=t.childNodes;return e.length>0?lO(e[e.length-1]):uO(t,e.length)},fO=function(t,e){var n=t.childNodes;return n.length>0&&e<n.length?fO(n[e],0):n.length>0&&cO(t)&&n.length===e?lO(n[n.length-1]):uO(t,e)},dO=function(t,e){return Yw(t,e.container,e.offset,function(t,e){return 0===e?-1:e},t.getRoot()).filter(function(t){var e=t.container.data.charAt(t.offset-1);return!Qw(e)}).isSome()},hO=function(t){return function(e){var n=fO(e.startContainer,e.startOffset);return!dO(t,n)}},pO=function(t,e,n){return pt(n.triggerChars,function(n){return rO(t,e,n)})},mO=function(t,e){var n=e(),r=t.selection.getRng();return pO(t.dom,r,n).bind(function(n){return gO(t,e,n)})},gO=function(t,e,n,r){void 0===r&&(r={});var o=e(),i=t.selection.getRng(),a=i.startContainer.nodeValue,u=K(o.lookupByChar(n.triggerChar),function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk(function(){return hO(t.dom)})(n.range,a,n.text)});if(0===u.length)return P.none();var s=aO.all(q(u,function(t){var e=t.fetch(n.text,t.maxResults,r);return e.then(function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}})}));return P.some({lookupData:s,context:n})},vO=ti([ji("type"),Ui("text")]),yO=function(t){return xi("separatormenuitem",vO,t)},bO=ti([Xi("type","autocompleteitem"),Xi("active",!1),Xi("disabled",!1),Xi("meta",{}),ji("value"),Ui("text"),Ui("icon")]),xO=ti([ji("type"),ji("ch"),Ki("minChars",1),Xi("columns",1),Ki("maxResults",10),Wi("matches"),Ni("fetch"),Ni("onAction"),na("highlightOn",[],ci)]),_O=function(t){return xi("Autocompleter.Separator",vO,t)},wO=function(t){return xi("Autocompleter.Item",bO,t)},OO=function(t){return xi("Autocompleter",xO,t)},SO=[Qi("disabled",!1),Ui("tooltip"),Ui("icon"),Ui("text"),ta("onSetup",function(){return g})],CO=ti([ji("type"),Ni("onAction")].concat(SO)),kO=function(t){return xi("toolbarbutton",CO,t)},TO=[Qi("active",!1)].concat(SO),MO=ti(TO.concat([ji("type"),Ni("onAction")])),DO=function(t){return xi("ToggleButton",MO,t)},AO=[ta("predicate",k),Ji("scope","node",["node","editor"]),Ji("position","selection",["node","selection","line"])],IO=SO.concat([Xi("type","contextformbutton"),Xi("primary",!1),Ni("onAction"),Ti("original",_)]),jO=TO.concat([Xi("type","contextformbutton"),Xi("primary",!1),Ni("onAction"),Ti("original",_)]),EO=SO.concat([Xi("type","contextformbutton")]),RO=TO.concat([Xi("type","contextformtogglebutton")]),NO=Si("type",{contextformbutton:IO,contextformtogglebutton:jO}),PO=ti([Xi("type","contextform"),ta("initValue",x("")),Ui("label"),Fi("commands",NO),Vi("launch",Si("type",{contextformbutton:EO,contextformtogglebutton:RO}))].concat(AO)),BO=function(t){return xi("ContextForm",PO,t)},LO=ti([Xi("type","contexttoolbar"),ji("items")].concat(AO)),FO=function(t){return xi("ContextToolbar",LO,t)},zO=function(t){var e={};return Y(t,function(t){e[t]={}}),mt(e)},VO=function(t){var e=t.ui.registry.getAll().popups,n=yt(e,function(t){return OO(t).fold(function(t){throw new Error(Oi(t))},_)}),r=zO(Ot(n,function(t){return t.ch})),o=Ct(n),i=function(t){return K(o,function(e){return e.ch===t})};return{dataset:n,triggerChars:r,lookupByChar:i}};(function(t){t[t["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",t[t["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(Hw||(Hw={}));var HO,UO=Hw,WO="tox-menu-nav__js",GO="tox-collection__item",qO="tox-swatch",YO={normal:WO,color:qO},XO="tox-collection__item--enabled",$O="tox-collection__group-heading",KO="tox-collection__item-icon",ZO="tox-collection__item-label",JO="tox-collection__item-accessory",QO="tox-collection__item-caret",tS="tox-collection__item-checkmark",eS="tox-collection__item--active",nS="tox-collection__item-container",rS="tox-collection__item-container--column",oS="tox-collection__item-container--row",iS="tox-collection__item-container--align-right",aS="tox-collection__item-container--align-left",uS="tox-collection__item-container--valign-top",sS="tox-collection__item-container--valign-middle",cS="tox-collection__item-container--valign-bottom",lS=function(t){return kt(YO,t).getOr(WO)},fS=function(t){return"color"===t?"tox-swatches":"tox-menu"},dS=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:fS(t),tieredMenu:"tox-tiered-menu"}},hS=function(t){var e=dS(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:lS(t)}},pS=function(t,e,n){var r=dS(n);return{tag:"div",classes:nt([[r.menu,"tox-menu-"+e+"-column"],t?[r.hasIcons]:[]])}},mS=[z_.parts.items({})],gS=function(t,e,n){var r=dS(n),o={tag:"div",classes:nt([[r.tieredMenu]])};return{dom:o,markers:hS(n)}},vS=function(t,e){return function(n){var r=G(n,e);return q(r,function(e){return{dom:t,components:e}})}},yS=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[z_.parts.items({preprocess:"auto"!==t?vS({tag:"div",classes:["tox-swatches__row"]},t):_})]}]}},bS=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[z_.parts.items({preprocess:vS({tag:"div",classes:["tox-collection__group"]},t)})]}},xS=function(t,e){var n=[],r=[];return Y(t,function(t,o){e(t,o)?(r.length>0&&n.push(r),r=[],Tt(t.dom,"innerHtml")&&r.push(t)):r.push(t)}),r.length>0&&n.push(r),q(n,function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}})},_S=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[z_.parts.items({preprocess:function(n){return"auto"!==t&&t>1?vS({tag:"div",classes:["tox-collection__group"]},t)(n):xS(n,function(t,n){return"separator"===e[n].type})}})]}},wS=function(t,e){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[z_.parts.items({preprocess:function(e){return xS(e,function(e,n){return"separator"===t[n].type})}})]}},OS=function(t){return U(t,function(t){return"icon"in t&&void 0!==t.icon})},SS=function(t){return console.error(Oi(t)),console.log(t),P.none()},CS=function(t,e,n,r,o){var i=wS(n);return{value:t,dom:i.dom,components:i.components,items:n}},kS=function(t,e,n,r,o){if("color"===o){var i=yS(r);return{value:t,dom:i.dom,components:i.components,items:n}}if("normal"===o&&"auto"===r){i=_S(r,n);return{value:t,dom:i.dom,components:i.components,items:n}}if("normal"===o&&1===r){i=_S(1,n);return{value:t,dom:i.dom,components:i.components,items:n}}if("normal"===o){i=_S(r,n);return{value:t,dom:i.dom,components:i.components,items:n}}if("listpreview"===o&&"auto"!==r){i=bS(r);return{value:t,dom:i.dom,components:i.components,items:n}}return{value:t,dom:pS(e,r,o),components:mS,items:n}},TS=[ji("type"),ji("src"),Ui("alt"),na("classes",[],ci)],MS=ti(TS),DS=[ji("type"),ji("text"),Ui("name"),na("classes",["tox-collection__item-label"],ci)],AS=ti(DS),IS=Zo(function(){return mi("type",{cardimage:MS,cardtext:AS,cardcontainer:jS})}),jS=ti([ji("type"),Zi("direction","horizontal"),Zi("align","left"),Zi("valign","middle"),Fi("items",IS)]),ES=[Qi("disabled",!1),Ui("text"),Ui("shortcut"),ki("value","value",Co(function(){return os("menuitem-value")}),ai()),Xi("meta",{})],RS=ti([ji("type"),Ui("label"),Fi("items",IS),ta("onSetup",function(){return g}),ta("onAction",g)].concat(ES)),NS=function(t){return xi("cardmenuitem",RS,t)},PS=ti([ji("type"),Qi("active",!1),Ui("icon")].concat(ES)),BS=function(t){return xi("choicemenuitem",PS,t)},LS=[ji("type"),ji("fancytype"),ta("onAction",g)],FS=[Xi("initData",{})].concat(LS),zS=[ra("initData",{},[Qi("allowCustomColors",!0),Gi("colors",ai())])].concat(LS),VS=Si("fancytype",{inserttable:FS,colorswatch:zS}),HS=function(t){return xi("fancymenuitem",VS,t)},US=ti([ji("type"),ta("onSetup",function(){return g}),ta("onAction",g),Ui("icon")].concat(ES)),WS=function(t){return xi("menuitem",US,t)},GS=ti([ji("type"),Ni("getSubmenuItems"),ta("onSetup",function(){return g}),Ui("icon")].concat(ES)),qS=function(t){return xi("nestedmenuitem",GS,t)},YS=ti([ji("type"),Ui("icon"),Qi("active",!1),ta("onSetup",function(){return g}),Ni("onAction")].concat(ES)),XS=function(t){return xi("togglemenuitem",YS,t)},$S=function(t,e,n){var r=$h(t.element,"."+n);if(r.length>0){var o=et(r,function(t){var n=t.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>e}).getOr(r.length);return P.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return P.none()},KS=function(t,e){return hf([Vx(t,e)])},ZS=function(t){return KS(os("unnamed-events"),t)},JS={namedEvents:KS,unnamedEvents:ZS},QS=os("tooltip.exclusive"),tC=os("tooltip.show"),eC=os("tooltip.hide"),nC=function(t,e,n){t.getSystem().broadcastOn([QS],{})},rC=function(t,e,n,r){n.getTooltip().each(function(t){t.getSystem().isConnected()&&Fx.set(t,r)})},oC=Object.freeze({__proto__:null,hideAllExclusive:nC,setComponents:rC}),iC=function(t,e){var n=function(n){e.getTooltip().each(function(r){Yp(r),t.onHide(n,r),e.clearTooltip()}),e.clearTimer()},r=function(n){if(!e.isShowing()){nC(n);var r=t.lazySink(n).getOrDie(),o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Mu("normal"===t.mode?[ju(Ba(),function(t){wu(n,tC)}),ju(Na(),function(t){wu(n,eC)})]:[]),behaviours:hf([Fx.config({})])});e.setTooltip(o),Wp(r,o),t.onShow(n,o),Lp.position(r,o,{anchor:t.anchor(n)})}};return Mu(nt([[ju(tC,function(n){e.resetTimer(function(){r(n)},t.delay)}),ju(eC,function(r){e.resetTimer(function(){n(r)},t.delay)}),ju(tu(),function(t,e){var r=e;r.universal||H(r.channels,QS)&&n(t)}),Uu(function(t){n(t)})],"normal"===t.mode?[ju(La(),function(t){wu(t,tC)}),ju(Ja(),function(t){wu(t,eC)}),ju(Ba(),function(t){wu(t,tC)}),ju(Na(),function(t){wu(t,eC)})]:[ju(xu(),function(t,e){wu(t,tC)}),ju(_u(),function(t){wu(t,eC)})]]))},aC=Object.freeze({__proto__:null,events:iC}),uC=[Di("lazySink"),Di("tooltipDom"),Xi("exclusive",!0),Xi("tooltipComponents",[]),Xi("delay",300),Ji("mode","normal",["normal","follow-highlight"]),Xi("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:x([ql,Gl,Vl,Ul,Hl,Wl]),onRtl:x([ql,Gl,Vl,Ul,Hl,Wl])}}}),ul("onHide"),ul("onShow")],sC=function(){var t=od(),e=od(),n=function(){t.on(clearTimeout)},r=function(e,r){n(),t.set(setTimeout(e,r))},o=x("not-implemented");return Cs({getTooltip:e.get,isShowing:e.isSet,setTooltip:e.set,clearTooltip:e.clear,clearTimer:n,resetTimer:r,readState:o})},cC=Object.freeze({__proto__:null,init:sC}),lC=mf({fields:uC,name:"tooltipping",active:aC,state:cC,apis:oC}),fC=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},dC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),hC=tinymce.util.Tools.resolve("tinymce.EditorManager"),pC=function(t){var e=t.getParam("skin"),n=t.getParam("skin_url");if(!1!==e){var r=e||"oxide";n=n?t.documentBaseURI.toAbsolute(n):hC.baseURL+"/skins/ui/"+r}return n},mC=function(t){return t.getParam("readonly",!1,"boolean")},gC=function(t){return!1===t.getParam("skin")},vC=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},yC=function(t){return t.getParam("width",dC.DOM.getStyle(t.getElement(),"width"))},bC=function(t){return P.from(t.getParam("min_width")).filter(p)},xC=function(t){return P.from(t.getParam("min_height")).filter(p)},_C=function(t){return P.from(t.getParam("max_width")).filter(p)},wC=function(t){return P.from(t.getParam("max_height")).filter(p)},OC=function(t){return P.from(t.getParam("style_formats")).filter(u)},SC=function(t){return t.getParam("style_formats_merge",!1,"boolean")},CC=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},kC=function(t){return t.getParam("content_langs",void 0,"array")},TC=function(t){return t.getParam("removed_menuitems","")},MC=function(t){return!1!==t.getParam("menubar",!0,"boolean")},DC=function(t){var e=t.getParam("toolbar",!0),n=!0===e,r=i(e),o=u(e)&&e.length>0;return!IC(t)&&(o||r||n)},AC=function(t){var e=W(9,function(e){return t.getParam("toolbar"+(e+1),!1,"string")}),n=K(e,function(t){return"string"===typeof t});return n.length>0?P.some(n):P.none()},IC=function(t){return AC(t).fold(function(){var e=t.getParam("toolbar",[],"string[]");return e.length>0},T)};(function(t){t["default"]="wrap",t["floating"]="floating",t["sliding"]="sliding",t["scrolling"]="scrolling"})(HO||(HO={}));var jC,EC=function(t){return t.getParam("toolbar_mode","","string")};(function(t){t["auto"]="auto",t["top"]="top",t["bottom"]="bottom"})(jC||(jC={}));var RC,NC=function(t){return t.getParam("toolbar_groups",{},"object")},PC=function(t){return t.getParam("toolbar_location",jC.auto,"string")},BC=function(t){return PC(t)===jC.bottom},LC=function(t){return t.getParam("fixed_toolbar_container","","string")},FC=function(t){return t.getParam("fixed_toolbar_container_target")},zC=function(t){return t.getParam("toolbar_persist",!1,"boolean")},VC=function(t){if(!t.inline)return P.none();var e=LC(t);if(e.length>0)return Lc(Bn(),e);var n=FC(t);return d(n)?P.some(ee.fromDom(n)):P.none()},HC=function(t){return t.inline&&VC(t).isSome()},UC=function(t){var e=VC(t);return e.getOrThunk(function(){return An(Dn(ee.fromDom(t.getElement())))})},WC=function(t){return t.inline&&!MC(t)&&!DC(t)&&!IC(t)},GC=function(t){var e=t.getParam("toolbar_sticky",!1,"boolean");return(e||t.inline)&&!HC(t)&&!WC(t)},qC=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},YC=function(t){return t.getParam("draggable_modal",!1,"boolean")},XC=function(t){var e=t.getParam("menu");return e?yt(e,function(t){return D(D({},t),{items:t.items})}):{}},$C=function(t){return t.getParam("menubar")},KC=function(t){return t.getParam("toolbar",!0)},ZC=function(t){return t.getParam("file_picker_callback")},JC=function(t){return t.getParam("file_picker_types")},QC=function(t){return t.getParam("file_browser_callback_types")},tk=function(t){return!1===t.getParam("typeahead_urls")},ek=function(t){return t.getParam("anchor_top","#top")},nk=function(t){return t.getParam("anchor_bottom","#bottom")},rk=function(t){var e=t.getParam("file_picker_validator_handler",void 0,"function");return void 0===e?t.getParam("filepicker_validator_handler",void 0,"function"):e},ok="silver.readonly",ik=ti([Ri("readonly")]),ak=function(t,e){var n=t.outerContainer,r=n.element;e&&(t.mothership.broadcastOn([bm()],{target:r}),t.uiMothership.broadcastOn([bm()],{target:r})),t.mothership.broadcastOn([ok],{readonly:e}),t.uiMothership.broadcastOn([ok],{readonly:e})},uk=function(t,e){t.on("init",function(){t.mode.isReadOnly()&&ak(e,!0)}),t.on("SwitchMode",function(){return ak(e,t.mode.isReadOnly())}),mC(t)&&t.setMode("readonly")},sk=function(){var t;return bf.config({channels:(t={},t[ok]={schema:ik,onReceive:function(t,e){Bv.set(t,e.readonly)}},t)})},ck=function(t){return Bv.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},lk=function(t){return Bv.config({disabled:t})},fk=function(t){return Bv.config({disabled:t,disableClass:"tox-tbtn--disabled"})},dk=function(t){return Bv.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},hk={item:ck,button:lk,splitButton:fk,toolbarButton:dk},pk=function(t,e){var n=t.getApi(e);return function(t){t(n)}},mk=function(t,e){return Hu(function(n){var r=pk(t,n);r(function(n){var r=t.onSetup(n);h(r)&&e.set(r)})})},gk=function(t,e){return Uu(function(n){return pk(t,n)(e.get())})},vk=function(t,e){return Gu(function(n,r){pk(t,n)(t.onAction),t.triggersSubmenu||e!==UO.CLOSE_ON_EXECUTE||(wu(n,iu()),r.stop())})},yk=(RC={},RC[eu()]=["disabling","alloy.base.behaviour","toggling","item-events"],RC),bk=It,xk=function(t,e,n,r){var o=oa(g);return{type:"item",dom:e.dom,components:bk(e.optComponents),data:t.data,eventOrder:yk,hasSubmenu:t.triggersSubmenu,itemBehaviours:hf([Vx("item-events",[vk(t,n),mk(t,o),gk(t,o)]),hk.item(function(){return t.disabled||r.isDisabled()}),sk(),Fx.config({})].concat(t.itemBehaviours))}},_k=function(t){return{value:t.value,meta:D({text:t.text.getOr("")},t.meta)}},wk=tinymce.util.Tools.resolve("tinymce.Env"),Ok=function(t){var e={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=wk.mac?e:n,o=t.split("+"),i=q(o,function(t){var e=t.toLowerCase().trim();return Tt(r,e)?r[e]:t});return wk.mac?i.join(""):i.join("+")},Sk=function(t,e,n){return void 0===n&&(n=[KO]),Pw(t,{tag:"div",classes:n},e)},Ck=function(t){return{dom:{tag:"div",classes:[ZO]},components:[Oc(Cw.translate(t))]}},kk=function(t,e){return{dom:{tag:"div",classes:e,innerHtml:t}}},Tk=function(t,e){return{dom:{tag:"div",classes:[ZO]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Oc(Cw.translate(e))]}]}},Mk=function(t){return{dom:{tag:"div",classes:[JO],innerHtml:Ok(t)}}},Dk=function(t){return Sk("checkmark",t,[tS])},Ak=function(t){return Sk("chevron-right",t,[QO])},Ik=function(t){return Sk("chevron-down",t,[QO])},jk=function(t,e){var n="vertical"===t.direction?rS:oS,r="left"===t.align?aS:iS,o=function(){switch(t.valign){case"top":return uS;case"middle":return sS;case"bottom":return cS}};return{dom:{tag:"div",classes:[nS,n,r,o()]},components:e}},Ek=function(t,e,n){return{dom:{tag:"img",classes:e,attributes:{src:t,alt:n.getOr("")}}}},Rk=function(t,e,n){var r="custom",o="remove",i=t.ariaLabel,a=t.value,u=t.iconContent.map(function(t){return jw(t,e.icons,n)}),s=function(){var t=qO,n=u.getOr(""),s=i.map(function(t){return{title:e.translate(t)}}).getOr({}),c={tag:"div",attributes:s,classes:[t]};return D(D({},c),a===r?{tag:"button",classes:I(I([],c.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:n}:a===o?{classes:I(I([],c.classes,!0),["tox-swatch--remove"],!1),innerHtml:n}:{attributes:D(D({},c.attributes),{"data-mce-color":a}),styles:{"background-color":a}})};return{dom:s(),optComponents:[]}},Nk=function(t){var e=t.map(function(t){return{attributes:{title:Cw.translate(t)}}}).getOr({});return D({tag:"div",classes:[WO,GO]},e)},Pk=function(t,e,n,r){var o={tag:"div",classes:[KO]},i=function(t){return Pw(t,o,e.icons,r)},a=function(){return P.some({dom:o})},u=n?t.iconContent.map(i).orThunk(a):P.none(),s=t.checkMark,c=P.from(t.meta).fold(function(){return Ck},function(t){return Tt(t,"style")?O(Tk,t.style):Ck}),l=t.htmlContent.fold(function(){return t.textContent.map(c)},function(t){return P.some(kk(t,[ZO]))}),f={dom:Nk(t.ariaLabel),optComponents:[u,l,t.shortcutContent.map(Mk),s,t.caret]};return f},Bk=function(t,e,n,r){return void 0===r&&(r=P.none()),"color"===t.presets?Rk(t,e,r):Pk(t,e,n,r)},Lk=function(t,e){return kt(t,"tooltipWorker").map(function(t){return[lC.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{type:"submenu",item:t,overrides:{maxHeightFunction:Td}}},mode:"follow-highlight",onShow:function(e,n){t(function(t){lC.setComponents(e,[Sc({element:ee.fromDom(t)})])})}})]}).getOr([])},Fk=function(t){return dC.DOM.encode(t)},zk=function(t,e){var n=Cw.translate(t),r=Fk(n);if(e.length>0){var o=new RegExp(fC(e),"gi");return r.replace(o,function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"})}return r},Vk=function(t,e,n,r,o,i,a,u){void 0===u&&(u=!0);var s=Bk({presets:r,textContent:P.none(),htmlContent:n?t.text.map(function(t){return zk(t,e)}):P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:t.value},a.providers,u,t.icon);return xk({data:_k(t),disabled:t.disabled,getApi:x({}),onAction:function(e){return o(t.value,t.meta)},onSetup:x(g),triggersSubmenu:!1,itemBehaviours:Lk(t.meta,a)},s,i,a.providers)},Hk=function(t,e){return q(t,function(t){switch(t.type){case"cardcontainer":return jk(t,Hk(t.items,e));case"cardimage":return Ek(t.src,t.classes,t.alt);case"cardtext":var n=t.name.exists(function(t){return H(e.cardText.highlightOn,t)}),r=n?P.from(e.cardText.matchText).getOr(""):"";return kk(zk(t.text,r),t.classes)}})},Uk=function(t,e,n,r){var o=function(t){return{isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){Bv.set(t,e),Y($h(t.element,"*"),function(n){t.getSystem().getByDom(n).each(function(t){t.hasConfigured(Bv)&&Bv.set(t,e)})})}}},i={dom:Nk(t.label),optComponents:[P.some({dom:{tag:"div",classes:[nS,oS]},components:Hk(t.items,r)})]};return xk({data:_k(D({text:P.none()},t)),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(r.itemBehaviours).getOr([])},i,e,n.providers)},Wk=function(t,e,n,r,o,i,a,u){void 0===u&&(u=!0);var s=function(t){return{setActive:function(e){m_.set(t,e)},isActive:function(){return m_.isOn(t)},isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){return Bv.set(t,e)}}},c=Bk({presets:n,textContent:e?t.text:P.none(),htmlContent:P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:P.none(),checkMark:e?P.some(Dk(a.icons)):P.none(),caret:P.none(),value:t.value},a,u);return wo(xk({data:_k(t),disabled:t.disabled,getApi:s,onAction:function(e){return r(t.value)},onSetup:function(t){return t.setActive(o),g},triggersSubmenu:!1,itemBehaviours:[]},c,i,a),{toggling:{toggleClass:XO,toggleOnExecute:!1,selected:t.active}})},Gk=Vg(M_(),D_()),qk=function(t){return{value:t}},Yk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xk=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$k=function(t){return Yk.test(t)||Xk.test(t)},Kk=function(t){return zt(t,"#").toUpperCase()},Zk=function(t){return $k(t)?P.some({value:Kk(t)}):P.none()},Jk=function(t){var e=t.value.replace(Yk,function(t,e,n,r){return e+e+n+n+r+r});return{value:e}},Qk=function(t){var e=Jk(t),n=Xk.exec(e.value);return null===n?["FFFFFF","FF","FF","FF"]:n},tT=function(t){var e=t.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},eT=function(t){var e=tT(t.red)+tT(t.green)+tT(t.blue);return qk(e)},nT=Math.min,rT=Math.max,oT=Math.round,iT=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,aT=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,uT=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}},sT=function(t){var e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},cT=function(t){var e,n,r,o=(t.hue||0)%360,i=t.saturation/100,a=t.value/100;if(i=rT(0,nT(i,1)),a=rT(0,nT(a,1)),0===i)return e=n=r=oT(255*a),uT(e,n,r,1);var u=o/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:e=s,n=c,r=0;break;case 1:e=c,n=s,r=0;break;case 2:e=0,n=s,r=c;break;case 3:e=0,n=c,r=s;break;case 4:e=c,n=0,r=s;break;case 5:e=s,n=0,r=c;break;default:e=n=r=0}return e=oT(255*(e+l)),n=oT(255*(n+l)),r=oT(255*(r+l)),uT(e,n,r,1)},lT=function(t){var e=Qk(t),n=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16);return uT(n,r,o,1)},fT=function(t,e,n,r){var o=parseInt(t,10),i=parseInt(e,10),a=parseInt(n,10),u=parseFloat(r);return uT(o,i,a,u)},dT=function(t){if("transparent"===t)return P.some(uT(0,0,0,0));var e=iT.exec(t);if(null!==e)return P.some(fT(e[1],e[2],e[3],"1"));var n=aT.exec(t);return null!==n?P.some(fT(n[1],n[2],n[3],n[4])):P.none()},hT=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},pT=uT(255,0,0,1),mT=function(t){return t.fire("SkinLoaded")},gT=function(t,e){return t.fire("SkinLoadError",e)},vT=function(t){return t.fire("ResizeEditor")},yT=function(t,e){return t.fire("ResizeContent",e)},bT=function(t,e){return t.fire("ScrollContent",e)},xT=function(t,e){return t.fire("TextColorChange",e)},_T=function(t,e,n){return{hue:t,saturation:e,value:n}},wT=function(t){var e=0,n=0,r=0,o=t.red/255,i=t.green/255,a=t.blue/255,u=Math.min(o,Math.min(i,a)),s=Math.max(o,Math.max(i,a));if(u===s)return r=u,_T(0,0,100*r);var c=o===u?i-a:a===u?o-i:a-o;return e=o===u?3:a===u?1:5,e=60*(e-c/(s-u)),n=(s-u)/s,r=s,_T(Math.round(e),Math.round(100*n),Math.round(100*r))},OT=function(t){return wT(lT(t))},ST=function(t){return eT(cT(t))},CT=function(t){return Zk(t).orThunk(function(){return dT(t).map(eT)}).getOrThunk(function(){var e=document.createElement("canvas");e.height=1,e.width=1;var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data,o=r[0],i=r[1],a=r[2],u=r[3];return eT(uT(o,i,a,u))})},kT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),TT="tinymce-custom-colors";function MT(t){void 0===t&&(t=10);var e=kT.getItem(TT),n=i(e)?JSON.parse(e):[],r=function(e){var n=t-e.length;return n<0?e.slice(0,t):e},o=r(n),a=function(e){V(o,e).each(u),o.unshift(e),o.length>t&&o.pop(),kT.setItem(TT,JSON.stringify(o))},u=function(t){o.splice(t,1)},s=function(){return o.slice(0)};return{add:a,state:s}}var DT,AT="choiceitem",IT=[{type:AT,text:"Light Green",value:"#BFEDD2"},{type:AT,text:"Light Yellow",value:"#FBEEB8"},{type:AT,text:"Light Red",value:"#F8CAC6"},{type:AT,text:"Light Purple",value:"#ECCAFA"},{type:AT,text:"Light Blue",value:"#C2E0F4"},{type:AT,text:"Green",value:"#2DC26B"},{type:AT,text:"Yellow",value:"#F1C40F"},{type:AT,text:"Red",value:"#E03E2D"},{type:AT,text:"Purple",value:"#B96AD9"},{type:AT,text:"Blue",value:"#3598DB"},{type:AT,text:"Dark Turquoise",value:"#169179"},{type:AT,text:"Orange",value:"#E67E23"},{type:AT,text:"Dark Red",value:"#BA372A"},{type:AT,text:"Dark Purple",value:"#843FA1"},{type:AT,text:"Dark Blue",value:"#236FA1"},{type:AT,text:"Light Gray",value:"#ECF0F1"},{type:AT,text:"Medium Gray",value:"#CED4D9"},{type:AT,text:"Gray",value:"#95A5A6"},{type:AT,text:"Dark Gray",value:"#7E8C8D"},{type:AT,text:"Navy Blue",value:"#34495E"},{type:AT,text:"Black",value:"#000000"},{type:AT,text:"White",value:"#ffffff"}],jT=MT(10),ET=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push({text:t[n+1],value:"#"+CT(t[n]).value,type:"choiceitem"});return e},RT=function(t,e){return t.getParam("color_cols",e,"number")},NT=function(t){return!1!==t.getParam("custom_colors")},PT=function(t){return t.getParam("color_map")},BT=function(t){var e=PT(t);return void 0!==e?ET(e):IT},LT=function(){return q(jT.state(),function(t){return{type:AT,text:t,value:t}})},FT=function(t){jT.add(t)},zT="#000000",VT=function(t,e){var n;return t.dom.getParents(t.selection.getStart(),function(t){var r;(r=t.style["forecolor"===e?"color":"background-color"])&&(n=n||r)}),P.from(n)},HT=function(t,e,n){t.undoManager.transact(function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()})},UT=function(t,e){t.undoManager.transact(function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()})},WT=function(t){t.addCommand("mceApplyTextcolor",function(e,n){HT(t,e,n)}),t.addCommand("mceRemoveTextcolor",function(e){UT(t,e)})},GT=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},qT=function(t){var e=BT(t),n=GT(e.length);return RT(t,n)},YT=function(t){var e="choiceitem",n={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:e,text:"Custom color",icon:"color-picker",value:"custom"};return t?[n,r]:[n]},XT=function(t,e,n,r){if("custom"===n){var o=tM(t);o(function(n){n.each(function(n){FT(n),t.execCommand("mceApplyTextcolor",e,n),r(n)})},zT)}else"remove"===n?(r(""),t.execCommand("mceRemoveTextcolor",e)):(r(n),t.execCommand("mceApplyTextcolor",e,n))},$T=function(t,e){return t.concat(LT().concat(YT(e)))},KT=function(t,e){return function(n){n($T(t,e))}},ZT=function(t,e,n){var r="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(r,n)},JT=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){var r=VT(t,n);return r.bind(function(t){return dT(t).map(function(t){var n=eT(t).value;return Ht(e.toLowerCase(),n)})}).getOr(!1)},columns:qT(t),fetch:KT(BT(t),NT(t)),onAction:function(e){XT(t,n,o.get(),g)},onItemAction:function(r,i){XT(t,n,i,function(n){o.set(n),xT(t,{name:e,color:n})})},onSetup:function(n){ZT(n,e,o.get());var r=function(t){t.name===e&&ZT(n,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},QT=function(t,e,n,r){t.ui.registry.addNestedMenuItem(e,{text:r,icon:"forecolor"===e?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(e){XT(t,n,e.value,g)}}]}})},tM=function(t){return function(e,n){var r=!1,o=function(n){var o=n.getData(),i=o.colorpicker;r?(e(P.from(i)),n.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",i]))},i=function(t,e){"hex-valid"===e.name&&(r=e.value)},a={colorpicker:n};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:i,onSubmit:o,onClose:g,onCancel:function(){e(P.none())}})}},eM=function(t){WT(t);var e=oa(zT),n=oa(zT);JT(t,"forecolor","forecolor","Text color",e),JT(t,"backcolor","hilitecolor","Background color",n),QT(t,"forecolor","forecolor","Text color"),QT(t,"backcolor","hilitecolor","Background color")},nM=function(t,e,n,r,o,i,a,u){var s=OS(e),c="color"!==o?"normal":"color",l=rM(e,n,r,c,i,a,u);return kS(t,s,l,r,o)},rM=function(t,e,n,r,o,i,a){return It(q(t,function(u){return"choiceitem"===u.type?BS(u).fold(SS,function(s){return P.some(Wk(s,1===n,r,e,i(u.value),o,a,OS(t)))}):P.none()}))},oM=function(t,e){var n=hS(e);if(1===t)return{mode:"menu",moveOnTab:!0};if("auto"===t)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var r="color"===e?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r}},iM=function(t,e){return 1===t?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===e?".tox-swatches__row":".tox-collection__group",cell:"color"===e?"."+qO:"."+GO}}},aM=function(t,e){var n=uM(t,e),r=e.colorinput.getColorCols(),o="color",i=nM(os("menu-value"),n,function(e){t.onAction({value:e})},r,o,UO.CLOSE_ON_EXECUTE,k,e.shared.providers),a=D(D({},i),{markers:hS(o),movement:oM(r,o)});return{type:"widget",data:{value:os("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Gk.widget(z_.sketch(a))]}},uM=function(t,e){var n=t.initData.allowCustomColors&&e.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return $T(e.colorinput.getColors(),n)},function(t){return t.concat(YT(n))})},sM=os("cell-over"),cM=os("cell-execute"),lM=function(t,e,n){var r,o=function(n){return Ou(n,sM,{row:t,col:e})},i=function(n){return Ou(n,cM,{row:t,col:e})},a=function(t,e){e.stop(),i(t)};return Tc({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:hf([Vx("insert-table-picker-cell",[ju(Ba(),Kx.focus),ju(eu(),i),ju(Wa(),a),ju(ru(),a)]),m_.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Kx.config({onFocus:o})])})},fM=function(t,e,n){for(var r=[],o=0;o<e;o++){for(var i=[],a=0;a<n;a++)i.push(lM(o,a,t));r.push(i)}return r},dM=function(t,e,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)m_.set(t[i][a],i<=e&&a<=n)},hM=function(t){return rt(t,function(t){return q(t,Mc)})},pM=function(t,e){return Oc(e+"x"+t)},mM=function(t){var e=10,n=10,r=os("size-label"),o=fM(r,e,n),i=pM(0,0),a=Sw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[i],behaviours:hf([Fx.config({})])});return{type:"widget",data:{value:os("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Gk.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:hM(o).concat(a.asSpec()),behaviours:hf([Vx("insert-table-picker",[Hu(function(t){Fx.set(a.get(t),[i])}),Lu(sM,function(t,r,i){var u=i.event,s=u.row,c=u.col;dM(o,s,c,e,n),Fx.set(a.get(t),[pM(s+1,c+1)])}),Lu(cM,function(e,n,r){var o=r.event,i=o.row,a=o.col;t.onAction({numRows:i+1,numColumns:a+1}),wu(e,iu())})]),Dx.config({initSize:{numRows:e,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},gM={inserttable:mM,colorswatch:aM},vM=function(t,e){return kt(gM,t.fancytype).map(function(n){return n(t,e)})},yM=function(t,e,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);var i=o?Ik(n.icons):Ak(n.icons),a=function(t){return{isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){return Bv.set(t,e)}}},u=Bk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.some(i),checkMark:P.none(),shortcutContent:t.shortcut},n,r);return xk({data:_k(t),getApi:a,disabled:t.disabled,onAction:g,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,e,n)},bM=function(t,e,n,r){void 0===r&&(r=!0);var o=function(t){return{isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){return Bv.set(t,e)}}},i=Bk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.none(),checkMark:P.none(),shortcutContent:t.shortcut},n,r);return xk({data:_k(t),getApi:o,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e,n)},xM=function(t){var e=t.text.fold(function(){return{}},function(t){return{innerHtml:t}});return{type:"separator",dom:D({tag:"div",classes:[GO,$O]},e),components:[]}},_M=function(t,e,n,r){void 0===r&&(r=!0);var o=function(t){return{setActive:function(e){m_.set(t,e)},isActive:function(){return m_.isOn(t)},isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){return Bv.set(t,e)}}},i=Bk({iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,checkMark:P.some(Dk(n.icons)),caret:P.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,r);return wo(xk({data:_k(t),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e,n),{toggling:{toggleClass:XO,toggleOnExecute:!1,selected:t.active}})},wM=Vk,OM=xM,SM=bM,CM=yM,kM=_M,TM=vM,MM=Uk;(function(t){t[t["ContentFocus"]=0]="ContentFocus",t[t["UiFocus"]=1]="UiFocus"})(DT||(DT={}));var DM=function(t,e,n,r,o){var i=n.shared.providers,a=function(t){return o?D(D({},t),{shortcut:P.none(),icon:t.text.isSome()?P.none():t.icon}):t};switch(t.type){case"menuitem":return WS(t).fold(SS,function(t){return P.some(SM(a(t),e,i,r))});case"nestedmenuitem":return qS(t).fold(SS,function(t){return P.some(CM(a(t),e,i,r,o))});case"togglemenuitem":return XS(t).fold(SS,function(t){return P.some(kM(a(t),e,i,r))});case"separator":return yO(t).fold(SS,function(t){return P.some(OM(t))});case"fancymenuitem":return HS(t).fold(SS,function(t){return TM(a(t),n)});default:return console.error("Unknown item in general menu",t),P.none()}},AM=function(t,e,n,r,o,i,a){var u=1===r,s=!u||OS(t);return It(q(t,function(t){switch(t.type){case"separator":return _O(t).fold(SS,function(t){return P.some(OM(t))});case"cardmenuitem":return NS(t).fold(SS,function(t){return P.some(MM(D(D({},t),{onAction:function(e){t.onAction(e),n(t.value,t.meta)}}),o,i,{itemBehaviours:Lk(t.meta,i),cardText:{matchText:e,highlightOn:a}}))});case"autocompleteitem":default:return wO(t).fold(SS,function(t){return P.some(wM(t,e,u,"normal",n,o,i,s))})}}))},IM=function(t,e,n,r,o){var i=OS(e),a=It(q(e,function(t){var e=function(t){return o?!Tt(t,"text"):i},a=function(t){return DM(t,n,r,e(t),o)};return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?a(D(D({},t),{disabled:!0})):a(t)})),u=o?CS:kS;return u(t,i,a,1,"normal")},jM=function(t){return J_.singleData(t.value,t)},EM=function(t,e,n,r){var o=n===DT.ContentFocus?ky():Cy(),i=oM(e,r),a=hS(r);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===DT.ContentFocus,focusManager:o,menuBehaviours:JS.unnamedEvents("auto"!==e?[]:[Hu(function(t,e){$S(t,4,a.item).each(function(e){var n=e.numColumns,r=e.numRows;Dx.setGridSize(t,r,n)})})])}},RM=function(t,e){var n=od(),r=oa(!1),o=Tc(ew.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:hf([Vx("dismissAutocompleter",[ju(pu(),function(){return s()})])]),lazySink:e.getSink})),i=function(){return ew.isOpen(o)},a=function(){return n.get().isSome()},u=function(){a()&&ew.hide(o)},s=function(){if(a()){var e=n.get().map(function(t){return t.element});Kw(e.getOr(ee.fromDom(t.selection.getNode()))).each(Pr),u(),n.clear(),r.set(!1)}},c=pe(function(){return VO(t)}),l=function(n,o){var i=pt(o,function(t){return P.from(t.columns)}).getOr(1);return rt(o,function(o){var a=o.items;return AM(a,o.matchText,function(e,i){var a=t.selection.getRng();rO(t.dom,a,n).fold(function(){return console.error("Lost context. Cursor probably moved")},function(t){var n=t.range,a={hide:function(){s()},reload:function(t){u(),p(t)}};r.set(!0),o.onAction(a,n,e,i),r.set(!1)})},i,UO.BUBBLE_TO_SANDBOX,e,o.highlightOn)})},f=function(e){if(!a()){var o=$w(t,e.range);n.set({triggerChar:e.triggerChar,element:o,matchLength:e.text.length}),r.set(!1)}},d=function(e,n,r,i){e.matchLength=n.text.length;var a=pt(r,function(t){return P.from(t.columns)}).getOr(1);ew.showAt(o,z_.sketch(EM(kS("autocompleter-value",!0,i,a,"normal"),a,DT.ContentFocus,"normal")),{anchor:{type:"node",root:ee.fromDom(t.getBody()),node:P.from(e.element)}}),ew.getContent(o).each(ry.highlightFirst)},h=function(e){return n.get().map(function(n){return rO(t.dom,t.selection.getRng(),n.triggerChar).bind(function(n){return gO(t,c,n,e)})}).getOrThunk(function(){return mO(t,c)})},p=function(t){h(t).fold(s,function(t){f(t.context),t.lookupData.then(function(e){n.get().map(function(n){var r=t.context;if(n.triggerChar===r.triggerChar){var o=l(r.triggerChar,e);o.length>0?d(n,r,e,o):r.text.length-n.matchLength>=10?s():u()}})})})},m=Ww(function(t){27!==t.which&&p()},50),g={onKeypress:m,cancelIfNecessary:s,isMenuOpen:i,isActive:a,isProcessingAction:r.get,getView:function(){return ew.getContent(o)}};!1===t.hasPlugin("rtc")&&iO.setup(g,t)},NM={register:RM},PM=function(t,e,n){return Fc(t,e,n).isSome()},BM=function(t,e){var n=null,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n=setTimeout(function(){t.apply(null,r),n=null},e)},o=function(){null!==n&&(clearTimeout(n),n=null)};return{cancel:o,schedule:r}},LM=5,FM=400,zM=function(t){var e=t.raw;return void 0===e.touches||1!==e.touches.length?P.none():P.some(e.touches[0])},VM=function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>LM||r>LM},HM=function(t){var e=od(),n=oa(!1),r=BM(function(e){t.triggerEvent(ou(),e),n.set(!0)},FM),o=function(t){return zM(t).each(function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.schedule(t),n.set(!1),e.set(i)}),P.none()},i=function(t){return r.cancel(),zM(t).each(function(t){e.on(function(n){VM(t,n)&&e.clear()})}),P.none()},a=function(o){r.cancel();var i=function(t){return cn(t.target,o.target)};return e.get().filter(i).map(function(e){return n.get()?(o.prevent(),!1):t.triggerEvent(ru(),o)})},u=pa([{key:Da(),value:o},{key:Aa(),value:i},{key:Ia(),value:a}]),s=function(t,e){return kt(u,e).bind(function(e){return e(t)})};return{fireIfReady:s}},UM=function(t){var e=t.raw;return e.which===oy[0]&&!H(["input","textarea"],ue(t.target))&&!PM(t.target,'[contenteditable="true"]')},WM=function(){return en().browser.isFirefox()},GM=function(t,e){return WM()?ud(t,"focus",e):ad(t,"focusin",e)},qM=function(t,e){return WM()?ud(t,"blur",e):ad(t,"focusout",e)},YM=function(t,e){var n=D({stopBackspace:!0},e),r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],o=HM(n),i=q(r.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(e){return ad(t,e,function(t){o.fireIfReady(t,e).each(function(e){e&&t.kill()});var r=n.triggerEvent(e,t);r&&t.kill()})}),a=od(),u=ad(t,"paste",function(t){o.fireIfReady(t,"paste").each(function(e){e&&t.kill()});var e=n.triggerEvent("paste",t);e&&t.kill(),a.set(setTimeout(function(){n.triggerEvent(Qa(),t)},0))}),s=ad(t,"keydown",function(t){var e=n.triggerEvent("keydown",t);e?t.kill():n.stopBackspace&&UM(t)&&t.prevent()}),c=GM(t,function(t){var e=n.triggerEvent("focusin",t);e&&t.kill()}),l=od(),f=qM(t,function(t){var e=n.triggerEvent("focusout",t);e&&t.kill(),l.set(setTimeout(function(){n.triggerEvent(Ja(),t)},0))}),d=function(){Y(i,function(t){t.unbind()}),s.unbind(),c.unbind(),f.unbind(),u.unbind(),a.on(clearTimeout),l.on(clearTimeout)};return{unbind:d}},XM=function(t,e){var n=kt(t,"target").getOr(e);return oa(n)},$M=function(t,e){var n=oa(!1),r=oa(!1),o=function(){n.set(!0)},i=function(){r.set(!0)};return{stop:o,cut:i,isStopped:n.get,isCut:r.get,event:t,setSource:e.set,getSource:e.get}},KM=function(t){var e=oa(!1),n=function(){e.set(!0)};return{stop:n,cut:g,isStopped:e.get,isCut:k,event:t,setSource:C("Cannot set source of a broadcasted event"),getSource:C("Cannot get source of a broadcasted event")}},ZM=aa.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),JM=function(t,e,n,r,o,i){var a=t(e,r),u=$M(n,o);return a.fold(function(){return i.logEventNoHandlers(e,r),ZM.complete()},function(t){var n=t.descHandler,r=Bs(n);return r(u),u.isStopped()?(i.logEventStopped(e,t.element,n.purpose),ZM.stopped()):u.isCut()?(i.logEventCut(e,t.element,n.purpose),ZM.complete()):vn(t.element).fold(function(){return i.logNoParent(e,t.element,n.purpose),ZM.complete()},function(r){return i.logEventResponse(e,t.element,n.purpose),ZM.resume(r)})})},QM=function(t,e,n,r,o,i){return JM(t,e,n,r,o,i).fold(T,function(r){return QM(t,e,n,r,o,i)},k)},tD=function(t,e,n,r,o){var i=XM(n,r);return JM(t,e,n,r,i,o)},eD=function(t,e,n){var r=KM(e);return Y(t,function(t){var e=t.descHandler,n=Bs(e);n(r)}),r.isStopped()},nD=function(t,e,n,r){return rD(t,e,n,n.target,r)},rD=function(t,e,n,r,o){var i=XM(n,r);return QM(t,e,n,r,i,o)},oD=function(t,e){return{element:t,descHandler:e}},iD=function(t,e){return{id:t,descHandler:e}},aD=function(){var t={},e=function(e,n,r){vt(r,function(r,o){var i=void 0!==t[o]?t[o]:{};i[n]=Ps(r,e),t[o]=i})},n=function(t,e){return fs(e).bind(function(e){return kt(t,e)}).map(function(t){return oD(e,t)})},r=function(e){return kt(t,e).map(function(t){return Ot(t,function(t,e){return iD(e,t)})}).getOr([])},o=function(e,r,o){return kt(t,r).bind(function(t){return xa(o,function(e){return n(t,e)},e)})},i=function(e){vt(t,function(t,n){Tt(t,e)&&delete t[e]})};return{registerId:e,unregisterId:i,filterByType:r,find:o}},uD=function(){var t=aD(),e={},n=function(t){var e=t.element;return fs(e).getOrThunk(function(){return cs("uid-",t.element)})},r=function(t,n){var r=e[n];if(r!==t)throw new Error('The tagId "'+n+'" is already used by: '+Qu(r.element)+"\nCannot use it for: "+Qu(t.element)+"\nThe conflicting element is"+(Pn(r.element)?" ":" not ")+"already in the DOM");i(t)},o=function(o){var i=n(o);Mt(e,i)&&r(o,i);var a=[o];t.registerId(a,i,o.events),e[i]=o},i=function(n){fs(n.element).each(function(n){delete e[n],t.unregisterId(n)})},a=function(e){return t.filterByType(e)},u=function(e,n,r){return t.find(e,n,r)},s=function(t){return kt(e,t)};return{find:u,filter:a,register:o,unregister:i,getById:s}},sD=function(t){var e=t.dom,n=e.attributes,r=A(e,["attributes"]);return{uid:t.uid,dom:D({tag:"div",attributes:D({role:"presentation"},n)},r),components:t.components,behaviours:ng(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},cD=dv({name:"Container",factory:sD,configFields:[Xi("components",[]),eg("containerBehaviours",[]),Xi("events",{}),Xi("domModification",{}),Xi("eventOrder",{})]}),lD=function(t){var e=function(e){return vn(t.element).fold(T,function(t){return cn(e,t)})},n=uD(),r=function(t,r){return n.find(e,t,r)},o=YM(t.element,{triggerEvent:function(t,e){return Zc(t,e.target,function(n){return nD(r,t,e,n)})}}),i={debugInfo:x("real"),triggerEvent:function(t,e,n){Zc(t,e,function(o){return rD(r,t,n,e,o)})},triggerFocus:function(t,e){fs(t).fold(function(){Of(t)},function(n){Zc(Za(),t,function(n){return tD(r,Za(),{originator:e,kill:g,prevent:g,target:t},t,n),!1})})},triggerEscape:function(t,e){i.triggerEvent("keydown",t.element,e.event)},getByUid:function(t){return m(t)},getByDom:function(t){return v(t)},build:Tc,addToGui:function(t){s(t)},removeFromGui:function(t){c(t)},addToWorld:function(t){a(t)},removeFromWorld:function(t){u(t)},broadcast:function(t){d(t)},broadcastOn:function(t,e){h(t,e)},broadcastEvent:function(t,e){p(t,e)},isConnected:T},a=function(t){t.connect(i),fe(t.element)||(n.register(t),Y(t.components(),a),i.triggerEvent(uu(),t.element,{target:t.element}))},u=function(t){fe(t.element)||(Y(t.components(),u),n.unregister(t)),t.disconnect()},s=function(e){Wp(t,e)},c=function(t){Yp(t)},l=function(){o.unbind(),Nr(t.element)},f=function(t){var e=n.filter(tu());Y(e,function(e){var n=e.descHandler,r=Bs(n);r(t)})},d=function(t){f({universal:!0,data:t})},h=function(t,e){f({universal:!1,channels:t,data:e})},p=function(t,e){var r=n.filter(t);return eD(r,e)},m=function(t){return n.getById(t).fold(function(){return ro.error(new Error('Could not find component with uid: "'+t+'" in system.'))},ro.value)},v=function(t){var e=fs(t).getOr("not found");return m(e)};return a(t),{root:t,element:t.element,destroy:l,add:s,remove:c,getByUid:m,getByDom:v,addToWorld:a,removeFromWorld:u,broadcast:d,broadcastOn:h,broadcastEvent:p}},fD=function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:q(t.items,e.interpreter)}},dD=x([Xi("prefix","form-field"),eg("fieldBehaviours",[yv,tg])]),hD=x([Ng({schema:[Di("dom")],name:"label"}),Ng({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Di("text")],name:"aria-descriptor"}),Eg({factory:{sketch:function(t){var e=da(t,["factory"]);return t.factory.sketch(e)}},schema:[Di("factory")],name:"field"})]),pD=function(t,e,n,r){var o=rg(t.fieldBehaviours,[yv.config({find:function(e){return Xg(e,t,"field")}}),tg.config({store:{mode:"manual",getValue:function(t){return yv.getCurrent(t).bind(tg.getValue)},setValue:function(t,e){yv.getCurrent(t).each(function(t){tg.setValue(t,e)})}}})]),i=Mu([Hu(function(e,n){var r=Kg(e,t,["label","field","aria-descriptor"]);r.field().each(function(e){var n=os(t.prefix);r.label().each(function(t){zn(t.element,"for",n),zn(e.element,"id",n)}),r["aria-descriptor"]().each(function(n){var r=os(t.prefix);zn(n.element,"id",r),zn(e.element,"aria-describedby",r)})})})]),a={getField:function(e){return Xg(e,t,"field")},getLabel:function(e){return Xg(e,t,"label")}};return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:i,apis:a}},mD=hv({name:"FormField",configFields:dD(),partFields:hD(),factory:pD,apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),gD=function(t,e){return As({attributes:pa([{key:e.tabAttr,value:"true"}])})},vD=Object.freeze({__proto__:null,exhibit:gD}),yD=[Xi("tabAttr","data-alloy-tabstop")],bD=mf({fields:yD,name:"tabstopping",active:vD}),xD=tinymce.util.Tools.resolve("tinymce.html.Entities"),_D=function(t,e,n,r){var o=OD(t,e,n,r);return mD.sketch(o)},wD=function(t,e){return _D(t,e,[],[])},OD=function(t,e,n,r){return{dom:CD(n),components:t.toArray().concat([e]),fieldBehaviours:hf(r)}},SD=function(){return CD([])},CD=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},kD=function(t,e){return mD.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})},TD=os("form-component-change"),MD=os("form-close"),DD=os("form-cancel"),AD=os("form-action"),ID=os("form-submit"),jD=os("form-block"),ED=os("form-unblock"),RD=os("form-tabchange"),ND=os("form-resize"),PD=function(t,e){var n,r=t.label.map(function(t){return kD(t,e)}),o=function(t){return function(e,n){Fc(n.event.target,"[data-collection-item-value]").each(function(r){t(e,n,r,Hn(r,"data-collection-item-value"))})}},i=function(n,r){var o=q(r,function(n){var r=Cw.translate(n.text),o=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "},u=r.replace(/\_| \- |\-/g,function(t){return a[t]}),s=e.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+s+'" tabindex="-1" data-collection-item-value="'+xD.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+i+o+"</div>"}),i="auto"!==t.columns&&t.columns>1?G(o,t.columns):[o],a=q(i,function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"});Xu(n.element,a.join(""))},a=o(function(n,r,o,i){r.stop(),e.isDisabled()||Ou(n,AD,{name:t.name,value:i})}),u=[ju(Ba(),o(function(t,e,n){Of(n)})),ju(Wa(),a),ju(ru(),a),ju(La(),o(function(t,e,n){Lc(t.element,"."+eS).each(function(t){uc(t,eS)}),ic(n,eS)})),ju(Fa(),o(function(t){Lc(t.element,"."+eS).each(function(t){uc(t,eS)})})),Gu(o(function(e,n,r,o){Ou(e,AD,{name:t.name,value:o})}))],s=function(t,e){return q($h(t.element,".tox-collection__item"),e)},c=mD.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:_},behaviours:hf([Bv.config({disabled:e.isDisabled,onDisabled:function(t){s(t,function(t){ic(t,"tox-collection__item--state-disabled"),zn(t,"aria-disabled",!0)})},onEnabled:function(t){s(t,function(t){uc(t,"tox-collection__item--state-disabled"),Gn(t,"aria-disabled")})}}),sk(),Fx.config({}),tg.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,n){i(e,n),"auto"===t.columns&&$S(e,5,"tox-collection__item").each(function(t){var n=t.numRows,r=t.numColumns;Dx.setGridSize(e,n,r)}),wu(e,ND)}}),bD.config({}),Dx.config(iM(t.columns,"normal")),Vx("collection-events",u)]),eventOrder:(n={},n[eu()]=["disabling","alloy.base.behaviour","collection-events"],n)}),l=["tox-form__group--collection"];return _D(r,c,l,[])},BD=x([zi("data"),Xi("inputAttributes",{}),Xi("inputStyles",{}),Xi("tag","input"),Xi("inputClasses",[]),ul("onSetValue"),Xi("styles",{}),Xi("eventOrder",{}),eg("inputBehaviours",[tg,Kx]),Xi("selectOnFocus",!0)]),LD=function(t){return hf([Kx.config({onFocus:t.selectOnFocus?function(t){var e=t.element,n=dc(e);e.dom.setSelectionRange(0,n.length)}:g})])},FD=function(t){return D(D({},LD(t)),rg(t.inputBehaviours,[tg.config({store:D(D({mode:"manual"},t.data.map(function(t){return{initialValue:t}}).getOr({})),{getValue:function(t){return dc(t.element)},setValue:function(t,e){var n=dc(t.element);n!==e&&hc(t.element,e)}}),onSetValue:t.onSetValue})]))},zD=function(t){return{tag:t.tag,attributes:D({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},VD=function(t,e){return{uid:t.uid,dom:zD(t),components:[],behaviours:FD(t),eventOrder:t.eventOrder}},HD=dv({name:"Input",configFields:BD(),factory:VD}),UD={},WD={exports:UD};(function(e,n,r,o){(function(t,o){"object"===typeof n&&"undefined"!==typeof r?r.exports=o():"function"===typeof e&&e.amd?e(o):(t="undefined"!==typeof globalThis?globalThis:t||self,t.EphoxContactWrapper=o())})(this,function(){var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},n={exports:{}};(function(t){(function(e){var n=setTimeout;function r(){}function o(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void s(e.promise,o)}u(e.promise,r)}else(1===t._state?u:s)(e.promise,t._value)})):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"===typeof n)return void f(o(n,e),t)}t._state=1,t._value=e,c(t)}catch(r){s(t,r)}}function s(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,s(e,t))})}catch(r){if(n)return;n=!0,s(e,r)}}i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,function(t){o(i,t)},n)}e[i]=a,0===--r&&t(e)}catch(s){n(s)}}for(var i=0;i<e.length;i++)o(i,e[i])})},i.resolve=function(t){return t&&"object"===typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},i._immediateFn="function"===typeof setImmediate?function(t){setImmediate(t)}:function(t){n(t,0)},i._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},t.exports?t.exports=i:e.Promise||(e.Promise=i)})(e)})(n);var r=n.exports,o=function(){return"undefined"!==typeof window?window:Function("return this;")()}(),i={boltExport:o.Promise||r};return i})})(void 0,UD,WD);var GD,qD=WD.exports.boltExport,YD=function(t){var e=P.none(),n=[],r=function(t){return YD(function(e){o(function(n){e(t(n))})})},o=function(t){a()?s(t):n.push(t)},i=function(t){a()||(e=P.some(t),u(n),n=[])},a=function(){return e.isSome()},u=function(t){Y(t,s)},s=function(t){e.each(function(e){setTimeout(function(){t(e)},0)})};return t(i),{get:o,map:r,isReady:a}},XD=function(t){return YD(function(e){e(t)})},$D={nu:YD,pure:XD},KD=function(t){setTimeout(function(){throw t},0)},ZD=function(t){var e=function(e){t().then(e,KD)},n=function(e){return ZD(function(){return t().then(e)})},r=function(e){return ZD(function(){return t().then(function(t){return e(t).toPromise()})})},o=function(e){return ZD(function(){return t().then(function(){return e.toPromise()})})},i=function(){return $D.nu(e)},a=function(){var e=null;return ZD(function(){return null===e&&(e=t()),e})},u=t;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,toPromise:u,get:e}},JD=function(t){return ZD(function(){return new qD(t)})},QD=function(t){return ZD(function(){return qD.resolve(t)})},tA={nu:JD,pure:QD},eA=["input","textarea"],nA=function(t){var e=ue(t);return H(eA,e)},rA=function(t,e){var n=e.getRoot(t).getOr(t.element);uc(n,e.invalidClass),e.notify.each(function(e){nA(t.element)&&zn(t.element,"aria-invalid",!1),e.getContainer(t).each(function(t){Xu(t,e.validHtml)}),e.onValid(t)})},oA=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element);ic(o,e.invalidClass),e.notify.each(function(e){nA(t.element)&&zn(t.element,"aria-invalid",!0),e.getContainer(t).each(function(t){Xu(t,r)}),e.onInvalid(t,r)})},iA=function(t,e,n){return e.validator.fold(function(){return tA.pure(ro.value(!0))},function(e){return e.validate(t)})},aA=function(t,e,n){return e.notify.each(function(e){e.onValidate(t)}),iA(t,e).map(function(r){return t.getSystem().isConnected()?r.fold(function(r){return oA(t,e,n,r),ro.error(r)},function(n){return rA(t,e),ro.value(n)}):ro.error("No longer in system")})},uA=function(t,e){var n=e.getRoot(t).getOr(t.element);return sc(n,e.invalidClass)},sA=Object.freeze({__proto__:null,markValid:rA,markInvalid:oA,query:iA,run:aA,isInvalid:uA}),cA=function(t,e){return t.validator.map(function(n){return Mu([ju(n.onEvent,function(n){aA(n,t,e).get(_)})].concat(n.validateOnLoad?[Hu(function(n){aA(n,t,e).get(g)})]:[]))}).getOr({})},lA=Object.freeze({__proto__:null,events:cA}),fA=[Di("invalidClass"),Xi("getRoot",P.none),qi("notify",[Xi("aria","alert"),Xi("getContainer",P.none),Xi("validHtml",""),ul("onValid"),ul("onInvalid"),ul("onValidate")]),qi("validator",[Di("validate"),Xi("onEvent","input"),Xi("validateOnLoad",!0)])],dA=mf({fields:fA,name:"invalidating",active:lA,apis:sA,extra:{validation:function(t){return function(e){var n=tg.getValue(e);return tA.pure(t(n))}}}}),hA=function(t,e,n,r){return n.getOrCreate(t,e,r)},pA=Object.freeze({__proto__:null,getCoupled:hA}),mA=[Ai("others",yi(ro.value,ai()))],gA=function(){var t={},e=function(e,n,r){var o=mt(n.others);if(o)return kt(t,r).getOrThunk(function(){var o=kt(n.others,r).getOrDie("No information found for coupled component: "+r),i=o(e),a=e.getSystem().build(i);return t[r]=a,a});throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))},n=x({});return Cs({readState:n,getOrCreate:e})},vA=Object.freeze({__proto__:null,init:gA}),yA=mf({fields:mA,name:"coupling",apis:pA,state:vA}),bA=x("sink"),xA=x(Ng({name:bA(),overrides:x({dom:{tag:"div"},behaviours:hf([Lp.config({useFixed:T})]),events:Mu([Fu(za()),Fu(Ea()),Fu(Wa())])})}));(function(t){t[t["HighlightFirst"]=0]="HighlightFirst",t[t["HighlightNone"]=1]="HighlightNone"})(GD||(GD={}));var _A,wA=function(t,e){var n=t.getHotspot(e).getOr(e),r="hotspot",o=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:r,hotspot:n,overrides:o}},function(t){return{type:r,hotspot:n,overrides:o,layouts:t}})},OA=function(t,e,n){var r=t.fetch;return r(n).map(e)},SA=function(t,e,n,r,o,i,a){var u=OA(t,e,r),s=DA(r,t);return u.map(function(t){return t.bind(function(t){return P.from(J_.sketch(D(D({},i.menu()),{uid:ds(""),data:t,highlightImmediately:a===GD.HighlightFirst,onOpenMenu:function(t,e){var r=s().getOrDie();Lp.position(r,e,{anchor:n}),ym.decloak(o)},onOpenSubmenu:function(t,e,n){var r=s().getOrDie();Lp.position(r,n,{anchor:{type:"submenu",item:e}}),ym.decloak(o)},onRepositionMenu:function(t,e,r){var o=s().getOrDie();Lp.position(o,e,{anchor:n}),Y(r,function(t){Lp.position(o,t.triggeredMenu,{anchor:{type:"submenu",item:t.triggeringItem}})})},onEscape:function(){return Kx.focus(r),ym.close(o),P.some(!0)}})))})})},CA=function(t,e,n,r,o,i,a){var u=wA(t,n),s=SA(t,e,u,n,r,o,a);return s.map(function(t){return t.fold(function(){ym.isOpen(r)&&ym.close(r)},function(t){ym.cloak(r),ym.open(r,t),i(r)}),r})},kA=function(t,e,n,r,o,i,a){return ym.close(r),tA.pure(r)},TA=function(t,e,n,r,o,i){var a=yA.getCoupled(n,"sandbox"),u=ym.isOpen(a),s=u?kA:CA;return s(t,e,n,a,r,o,i)},MA=function(t,e,n){var r=yv.getCurrent(e).getOr(e),o=vr(t.element);n?Xn(r.element,"min-width",o+"px"):gr(r.element,o)},DA=function(t,e){return t.getSystem().getByUid(e.uid+"-"+bA()).map(function(t){return function(){return ro.value(t)}}).getOrThunk(function(){return e.lazySink.fold(function(){return function(){return ro.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(e){return function(){return e(t)}})})},AA=function(t){ym.getState(t).each(function(t){J_.repositionMenus(t)})},IA=function(t,e,n){var r=Vc(),o=function(o,i){var a=wA(t,e);r.link(e.element),t.matchWidth&&MA(a.hotspot,i,t.useMinWidth),t.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(t,o){r.unlink(e.element),void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)},a=DA(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:og.augment(t.sandboxBehaviours,[tg.config({store:{mode:"memory",initialValue:e}}),ym.config({onOpen:o,onClose:i,isPartOf:function(t,n,r){return Uc(n,r)||Uc(e,r)},getAttachPoint:function(){return a().getOrDie()}}),yv.config({find:function(t){return ym.getState(t).bind(function(t){return yv.getCurrent(t)})}}),bf.config({channels:D(D({},Om({isExtraPart:k})),Cm({doReposition:AA}))})])}},jA=function(t){var e=yA.getCoupled(t,"sandbox");AA(e)},EA=function(){return[Xi("sandboxClasses",[]),og.field("sandboxBehaviours",[yv,bf,ym,tg])]},RA=x([Di("dom"),Di("fetch"),ul("onOpen"),sl("onExecute"),Xi("getHotspot",P.some),Xi("getAnchorOverrides",x({})),Fd(),eg("dropdownBehaviours",[m_,yA,Dx,Kx]),Di("toggleClass"),Xi("eventOrder",{}),zi("lazySink"),Xi("matchWidth",!1),Xi("useMinWidth",!1),zi("role")].concat(EA())),NA=x([Rg({schema:[ol()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),xA()]),PA=function(t,e,n,r){var o,i=function(e){return kt(t.dom,"attributes").bind(function(t){return kt(t,e)})},a=function(t){ym.getState(t).each(function(t){J_.highlightPrimary(t)})},u=function(e){var n=a;TA(t,_,e,r,n,GD.HighlightFirst).get(g)},s={expand:function(e){m_.isOn(e)||TA(t,_,e,r,g,GD.HighlightNone).get(g)},open:function(e){m_.isOn(e)||TA(t,_,e,r,g,GD.HighlightFirst).get(g)},isOpen:m_.isOn,close:function(e){m_.isOn(e)&&TA(t,_,e,r,g,GD.HighlightFirst).get(g)},repositionMenus:function(t){m_.isOn(t)&&jA(t)}},c=function(t,e){return Su(t),P.some(!0)};return{uid:t.uid,dom:t.dom,components:e,behaviours:rg(t.dropdownBehaviours,[m_.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),yA.config({others:{sandbox:function(e){return IA(t,e,{onOpen:function(){return m_.on(e)},onClose:function(){return m_.off(e)}})}}}),Dx.config({mode:"special",onSpace:c,onEnter:c,onDown:function(t,e){if(BA.isOpen(t)){var n=yA.getCoupled(t,"sandbox");a(n)}else BA.open(t);return P.some(!0)},onEscape:function(t,e){return BA.isOpen(t)?(BA.close(t),P.some(!0)):P.none()}}),Kx.config({})]),events:v_(P.some(u)),eventOrder:D(D({},t.eventOrder),(o={},o[eu()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:s,domModification:{attributes:D(D({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(t){return{role:t}})),"button"===t.dom.tag?{type:i("type").getOr("button")}:{})}}},BA=hv({name:"Dropdown",configFields:RA(),partFields:NA(),factory:PA,apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}}),LA=function(){return As({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},FA=function(){return Mu([Du(Xa(),T)])},zA=Object.freeze({__proto__:null,events:FA,exhibit:LA}),VA=mf({fields:[],name:"unselecting",active:zA}),HA=function(t,e){return BA.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:hf([hk.button(e.providers.isDisabled),sk(),VA.config({}),bD.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return tA.nu(function(e){return t.fetch(e)}).map(function(r){return P.from(jM(wo(nM(os("menu-value"),r,function(e){t.onItemAction(n,e)},t.columns,t.presets,UO.CLOSE_ON_EXECUTE,k,e.providers),{movement:oM(t.columns,t.presets)})))})},parts:{menu:gS(!1,1,t.presets)}})},UA=os("color-input-change"),WA=os("color-swatch-change"),GA=os("color-picker-cancel"),qA=function(t,e,n){var r=mD.parts.field({factory:HD,inputClasses:["tox-textfield"],onSetValue:function(t){return dA.run(t).get(g)},inputBehaviours:hf([Bv.config({disabled:e.providers.isDisabled}),sk(),bD.config({}),dA.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return vn(t.element)},notify:{onValid:function(t){var e=tg.getValue(t);Ou(t,UA,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=tg.getValue(t);if(0===e.length)return tA.pure(ro.value(!0));var n=ee.fromTag("span");Xn(n,"background-color",e);var r=Qn(n,"background-color").fold(function(){return ro.error("blah")},function(t){return ro.value(e)});return tA.pure(r)}}})]),selectOnFocus:!1}),o=t.label.map(function(t){return kD(t,e.providers)}),i=function(t,e){Ou(t,WA,{value:e})},a=function(t,e){u.getOpt(t).each(function(t){"custom"===e?n.colorPicker(function(e){e.fold(function(){return wu(t,GA)},function(e){i(t,e),FT(e)})},"#ffffff"):i(t,"remove"===e?"":e)})},u=Sw(HA({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Hl,Vl,ql]},onLtr:function(){return[Vl,Hl,ql]}},components:[],fetch:KT(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},e));return mD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:hf([Vx("form-field-events",[ju(UA,function(e,n){u.getOpt(e).each(function(t){Xn(t.element,"background-color",n.event.color)}),Ou(e,TD,{name:t.name})}),ju(WA,function(t,e){mD.getField(t).each(function(n){tg.setValue(n,e.event.value),yv.getCurrent(t).each(Kx.focus)})}),ju(GA,function(t,e){mD.getField(t).each(function(e){yv.getCurrent(t).each(Kx.focus)})})])])})},YA=Ng({schema:[Di("dom")],name:"label"}),XA=function(t){return Ng({name:t+"-edge",overrides:function(e){var n=e.model.manager.edgeActions[t];return n.fold(function(){return{}},function(t){return{events:Mu([Eu(Da(),function(e,n,r){return t(e,r)},[e]),Eu(Ea(),function(e,n,r){return t(e,r)},[e]),Eu(Ra(),function(e,n,r){r.mouseIsDown.get()&&t(e,r)},[e])])}})}})},$A=XA("top-left"),KA=XA("top"),ZA=XA("top-right"),JA=XA("right"),QA=XA("bottom-right"),tI=XA("bottom"),eI=XA("bottom-left"),nI=XA("left"),rI=Eg({name:"thumb",defaults:x({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Mu([Bu(Da(),t,"spectrum"),Bu(Aa(),t,"spectrum"),Bu(Ia(),t,"spectrum"),Bu(Ea(),t,"spectrum"),Bu(Ra(),t,"spectrum"),Bu(Pa(),t,"spectrum")])}}}),oI=Eg({schema:[Ti("mouseIsDown",function(){return oa(!1)})],name:"spectrum",overrides:function(t){var e=t.model,n=e.manager,r=function(e,r){return n.getValueFromEvent(r).map(function(r){return n.setValueFrom(e,t,r)})};return{behaviours:hf([Dx.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),Kx.config({})]),events:Mu([ju(Da(),r),ju(Aa(),r),ju(Ea(),r),ju(Ra(),function(e,n){t.mouseIsDown.get()&&r(e,n)})])}}}),iI=[YA,nI,JA,KA,tI,$A,ZA,eI,QA,rI,oI],aI="slider.change.value",uI=x(aI),sI=function(t){return-1!==t.type.indexOf("touch")},cI=function(t){var e=t.event.raw;if(sI(e)){var n=e;return void 0!==n.touches&&1===n.touches.length?P.some(n.touches[0]).map(function(t){return lr(t.clientX,t.clientY)}):P.none()}var r=e;return void 0!==r.clientX?P.some(r).map(function(t){return lr(t.clientX,t.clientY)}):P.none()},lI="top",fI="right",dI="bottom",hI="left",pI=function(t){return t.model.minX},mI=function(t){return t.model.minY},gI=function(t){return t.model.minX-1},vI=function(t){return t.model.minY-1},yI=function(t){return t.model.maxX},bI=function(t){return t.model.maxY},xI=function(t){return t.model.maxX+1},_I=function(t){return t.model.maxY+1},wI=function(t,e,n){return e(t)-n(t)},OI=function(t){return wI(t,yI,pI)},SI=function(t){return wI(t,bI,mI)},CI=function(t){return OI(t)/2},kI=function(t){return SI(t)/2},TI=function(t){return t.stepSize},MI=function(t){return t.snapToGrid},DI=function(t){return t.snapStart},AI=function(t){return t.rounded},II=function(t,e){return void 0!==t[e+"-edge"]},jI=function(t){return II(t,hI)},EI=function(t){return II(t,fI)},RI=function(t){return II(t,lI)},NI=function(t){return II(t,dI)},PI=function(t){return t.model.value.get()},BI=function(t){return{x:t}},LI=function(t){return{y:t}},FI=function(t,e){return{x:t,y:e}},zI=function(t,e){Ou(t,uI(),{value:e})},VI=function(t,e){zI(t,FI(gI(e),vI(e)))},HI=function(t,e){zI(t,LI(vI(e)))},UI=function(t,e){zI(t,FI(CI(e),vI(e)))},WI=function(t,e){zI(t,FI(xI(e),vI(e)))},GI=function(t,e){zI(t,BI(xI(e)))},qI=function(t,e){zI(t,FI(xI(e),kI(e)))},YI=function(t,e){zI(t,FI(xI(e),_I(e)))},XI=function(t,e){zI(t,LI(_I(e)))},$I=function(t,e){zI(t,FI(CI(e),_I(e)))},KI=function(t,e){zI(t,FI(gI(e),_I(e)))},ZI=function(t,e){zI(t,BI(gI(e)))},JI=function(t,e){zI(t,FI(gI(e),kI(e)))},QI=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},tj=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},ej=function(t,e,n){return Math.max(e,Math.min(n,t))},nj=function(t,e,n,r,o){return o.fold(function(){var o=t-e,i=Math.round(o/r)*r;return ej(e+i,e-1,n+1)},function(e){var o=(t-e)%r,i=Math.round(o/r),a=Math.floor((t-e)/r),u=Math.floor((n-e)/r),s=Math.min(u,a+i),c=e+s*r;return Math.max(e,c)})},rj=function(t,e,n){return Math.min(n,Math.max(t,e))-e},oj=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.step,a=t.snap,u=t.snapStart,s=t.rounded,c=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,d=t.maxBound,h=t.screenRange,p=c?e-1:e,m=l?n+1:n;if(o<f)return p;if(o>d)return m;var g=rj(o,f,d),v=ej(g/h*r+e,p,m);return a&&v>=e&&v<=n?nj(v,e,n,i,u):s?Math.round(v):v},ij=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,u=t.maxBound,s=t.maxOffset,c=t.centerMinEdge,l=t.centerMaxEdge;return o<e?i?0:c:o>n?a?u:l:(o-e)/r*s},aj="top",uj="right",sj="bottom",cj="left",lj="width",fj="height",dj=function(t){return t.element.dom.getBoundingClientRect()},hj=function(t,e){return t[e]},pj=function(t){var e=dj(t);return hj(e,cj)},mj=function(t){var e=dj(t);return hj(e,uj)},gj=function(t){var e=dj(t);return hj(e,aj)},vj=function(t){var e=dj(t);return hj(e,sj)},yj=function(t){var e=dj(t);return hj(e,lj)},bj=function(t){var e=dj(t);return hj(e,fj)},xj=function(t,e,n){return(t+e)/2-n},_j=function(t,e){var n=dj(t),r=dj(e),o=hj(n,cj),i=hj(n,uj),a=hj(r,cj);return xj(o,i,a)},wj=function(t,e){var n=dj(t),r=dj(e),o=hj(n,aj),i=hj(n,sj),a=hj(r,aj);return xj(o,i,a)},Oj=function(t,e){Ou(t,uI(),{value:e})},Sj=function(t){return{x:t}},Cj=function(t,e,n){var r={min:pI(e),max:yI(e),range:OI(e),value:n,step:TI(e),snap:MI(e),snapStart:DI(e),rounded:AI(e),hasMinEdge:jI(e),hasMaxEdge:EI(e),minBound:pj(t),maxBound:mj(t),screenRange:yj(t)};return oj(r)},kj=function(t,e,n){var r=Cj(t,e,n),o=Sj(r);return Oj(t,o),r},Tj=function(t,e){var n=pI(e);Oj(t,Sj(n))},Mj=function(t,e){var n=yI(e);Oj(t,Sj(n))},Dj=function(t,e,n){var r=t>0?tj:QI,o=r(PI(n).x,pI(n),yI(n),TI(n));return Oj(e,Sj(o)),P.some(o)},Aj=function(t){return function(e,n){return Dj(t,e,n).map(T)}},Ij=function(t){var e=cI(t);return e.map(function(t){return t.left})},jj=function(t,e,n,r,o){var i=0,a=yj(t),u=r.bind(function(e){return P.some(_j(e,t))}).getOr(i),s=o.bind(function(e){return P.some(_j(e,t))}).getOr(a),c={min:pI(e),max:yI(e),range:OI(e),value:n,hasMinEdge:jI(e),hasMaxEdge:EI(e),minBound:pj(t),minOffset:i,maxBound:mj(t),maxOffset:a,centerMinEdge:u,centerMaxEdge:s};return ij(c)},Ej=function(t,e,n,r,o,i){var a=jj(e,i,n,r,o);return pj(e)-pj(t)+a},Rj=function(t,e,n,r){var o=PI(n),i=Ej(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n),a=vr(e.element)/2;Xn(e.element,"left",i-a+"px")},Nj=Aj(-1),Pj=Aj(1),Bj=P.none,Lj=P.none,Fj={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(GI),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(ZI)},zj=Object.freeze({__proto__:null,setValueFrom:kj,setToMin:Tj,setToMax:Mj,findValueOfOffset:Cj,getValueFromEvent:Ij,findPositionOfValue:Ej,setPositionFromValue:Rj,onLeft:Nj,onRight:Pj,onUp:Bj,onDown:Lj,edgeActions:Fj}),Vj=function(t,e){Ou(t,uI(),{value:e})},Hj=function(t){return{y:t}},Uj=function(t,e,n){var r={min:mI(e),max:bI(e),range:SI(e),value:n,step:TI(e),snap:MI(e),snapStart:DI(e),rounded:AI(e),hasMinEdge:RI(e),hasMaxEdge:NI(e),minBound:gj(t),maxBound:vj(t),screenRange:bj(t)};return oj(r)},Wj=function(t,e,n){var r=Uj(t,e,n),o=Hj(r);return Vj(t,o),r},Gj=function(t,e){var n=mI(e);Vj(t,Hj(n))},qj=function(t,e){var n=bI(e);Vj(t,Hj(n))},Yj=function(t,e,n){var r=t>0?tj:QI,o=r(PI(n).y,mI(n),bI(n),TI(n));return Vj(e,Hj(o)),P.some(o)},Xj=function(t){return function(e,n){return Yj(t,e,n).map(T)}},$j=function(t){var e=cI(t);return e.map(function(t){return t.top})},Kj=function(t,e,n,r,o){var i=0,a=bj(t),u=r.bind(function(e){return P.some(wj(e,t))}).getOr(i),s=o.bind(function(e){return P.some(wj(e,t))}).getOr(a),c={min:mI(e),max:bI(e),range:SI(e),value:n,hasMinEdge:RI(e),hasMaxEdge:NI(e),minBound:gj(t),minOffset:i,maxBound:vj(t),maxOffset:a,centerMinEdge:u,centerMaxEdge:s};return ij(c)},Zj=function(t,e,n,r,o,i){var a=Kj(e,i,n,r,o);return gj(e)-gj(t)+a},Jj=function(t,e,n,r){var o=PI(n),i=Zj(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n),a=ar(e.element)/2;Xn(e.element,"top",i-a+"px")},Qj=P.none,tE=P.none,eE=Xj(-1),nE=Xj(1),rE={"top-left":P.none(),top:P.some(HI),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(XI),"bottom-left":P.none(),left:P.none()},oE=Object.freeze({__proto__:null,setValueFrom:Wj,setToMin:Gj,setToMax:qj,findValueOfOffset:Uj,getValueFromEvent:$j,findPositionOfValue:Zj,setPositionFromValue:Jj,onLeft:Qj,onRight:tE,onUp:eE,onDown:nE,edgeActions:rE}),iE=function(t,e){Ou(t,uI(),{value:e})},aE=function(t,e){return{x:t,y:e}},uE=function(t,e,n){var r=Cj(t,e,n.left),o=Uj(t,e,n.top),i=aE(r,o);return iE(t,i),i},sE=function(t,e,n,r){var o=t>0?tj:QI,i=e?PI(r).x:o(PI(r).x,pI(r),yI(r),TI(r)),a=e?o(PI(r).y,mI(r),bI(r),TI(r)):PI(r).y;return iE(n,aE(i,a)),P.some(i)},cE=function(t,e){return function(n,r){return sE(t,e,n,r).map(T)}},lE=function(t,e){var n=pI(e),r=mI(e);iE(t,aE(n,r))},fE=function(t,e){var n=yI(e),r=bI(e);iE(t,aE(n,r))},dE=function(t){return cI(t)},hE=function(t,e,n,r){var o=PI(n),i=Ej(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n),a=Zj(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n),u=vr(e.element)/2,s=ar(e.element)/2;Xn(e.element,"left",i-u+"px"),Xn(e.element,"top",a-s+"px")},pE=cE(-1,!1),mE=cE(1,!1),gE=cE(-1,!0),vE=cE(1,!0),yE={"top-left":P.some(VI),top:P.some(UI),"top-right":P.some(WI),right:P.some(qI),"bottom-right":P.some(YI),bottom:P.some($I),"bottom-left":P.some(KI),left:P.some(JI)},bE=Object.freeze({__proto__:null,setValueFrom:uE,setToMin:lE,setToMax:fE,getValueFromEvent:dE,setPositionFromValue:hE,onLeft:pE,onRight:mE,onUp:gE,onDown:vE,edgeActions:yE}),xE=[Xi("stepSize",1),Xi("onChange",g),Xi("onChoose",g),Xi("onInit",g),Xi("onDragStart",g),Xi("onDragEnd",g),Xi("snapToGrid",!1),Xi("rounded",!0),zi("snapStart"),Ai("model",Si("mode",{x:[Xi("minX",0),Xi("maxX",100),Ti("value",function(t){return oa(t.mode.minX)}),Di("getInitialValue"),fl("manager",zj)],y:[Xi("minY",0),Xi("maxY",100),Ti("value",function(t){return oa(t.mode.minY)}),Di("getInitialValue"),fl("manager",oE)],xy:[Xi("minX",0),Xi("maxX",100),Xi("minY",0),Xi("maxY",100),Ti("value",function(t){return oa({x:t.mode.minX,y:t.mode.minY})}),Di("getInitialValue"),fl("manager",bE)]})),eg("sliderBehaviours",[Dx,tg]),Ti("mouseIsDown",function(){return oa(!1)})],_E=function(t,e,n,r){var o,i=function(e){return $g(e,t,"thumb")},a=function(e){return $g(e,t,"spectrum")},u=function(e){return Xg(e,t,"left-edge")},s=function(e){return Xg(e,t,"right-edge")},c=function(e){return Xg(e,t,"top-edge")},l=function(e){return Xg(e,t,"bottom-edge")},f=t.model,d=f.manager,h=function(e,n){d.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},p=function(t,e){f.value.set(e);var n=i(t);h(t,n)},m=function(e,n){p(e,n);var r=i(e);return t.onChange(e,r,n),P.some(!0)},g=function(e){d.setToMin(e,t)},v=function(e){d.setToMax(e,t)},y=function(e){var n=function(){Xg(e,t,"thumb").each(function(n){var r=f.value.get();t.onChoose(e,n,r)})},r=t.mouseIsDown.get();t.mouseIsDown.set(!1),r&&n()},b=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,i(e))},x=function(e,n){n.stop(),t.onDragEnd(e,i(e)),y(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:rg(t.sliderBehaviours,[Dx.config({mode:"special",focusIn:function(e){return Xg(e,t,"spectrum").map(Dx.focusIn).map(T)}}),tg.config({store:{mode:"manual",getValue:function(t){return f.value.get()}}}),bf.config({channels:(o={},o[_m()]={onReceive:y},o)})]),events:Mu([ju(uI(),function(t,e){m(t,e.event.value)}),Hu(function(e,n){var r=f.getInitialValue();f.value.set(r);var o=i(e);h(e,o);var u=a(e);t.onInit(e,o,u,f.value.get())}),ju(Da(),b),ju(Ia(),x),ju(Ea(),b),ju(Pa(),x)]),apis:{resetToMin:g,resetToMax:v,setValue:p,refresh:h},domModification:{styles:{position:"relative"}}}},wE=hv({name:"Slider",configFields:xE,partFields:iI,factory:_E,apis:{setValue:function(t,e,n){t.setValue(e,n)},resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),OE=os("rgb-hex-update"),SE=os("slider-update"),CE=os("palette-update"),kE=function(t,e){var n=wE.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=wE.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return wE.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:x({y:0})},components:[n,r],sliderBehaviours:hf([Kx.config({})]),onChange:function(t,e,n){Ou(t,SE,{value:n})}})},TE="form",ME=[eg("formBehaviours",[tg])],DE=function(t){return"<alloy.field."+t+">"},AE=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),Ug(TE,DE(e),n)};return{field:e,record:x(t)}}(),n=t(e),r=e.record(),o=q(r,function(t){return Eg({name:t,pname:DE(t)})});return av(TE,ME,o,jE,n)},IE=function(t,e){return t.fold(function(){return ro.error(e)},ro.value)},jE=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:rg(t.formBehaviours,[tg.config({store:{mode:"manual",getValue:function(e){var n=Zg(e,t);return yt(n,function(t,e){return t().bind(function(t){var n=yv.getCurrent(t);return IE(n,new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+Qu(t.element)))}).map(tg.getValue)})},setValue:function(e,n){vt(n,function(n,r){Xg(e,t,r).each(function(t){yv.getCurrent(t).each(function(t){tg.setValue(t,n)})})})}}})]),apis:{getField:function(e,n){return Xg(e,t,n).bind(yv.getCurrent)}}}},EE={getField:Os(function(t,e,n){return t.getField(e,n)}),sketch:AE},RE=os("valid-input"),NE=os("invalid-input"),PE=os("validating-input"),BE="colorcustom.rgb.",LE=function(t,e,n,r){var o=function(n,r){return dA.config({invalidClass:e("invalid"),notify:{onValidate:function(t){Ou(t,PE,{type:n})},onValid:function(t){Ou(t,RE,{type:n,value:tg.getValue(t)})},onInvalid:function(t){Ou(t,NE,{type:n,value:tg.getValue(t)})}},validator:{validate:function(e){var n=tg.getValue(e),o=r(n)?ro.value(!0):ro.error(t("aria.input.invalid"));return tA.pure(o)},validateOnLoad:!1}})},i=function(n,r,i,a,u){var s=t(BE+"range"),c=mD.parts.label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),l=mD.parts.field({data:u,factory:HD,inputAttributes:D({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[e("textfield")],inputBehaviours:hf([o(r,n),bD.config({})]),onSetValue:function(t){if(dA.isInvalid(t)){var e=dA.run(t);e.get(g)}}}),f=[c,l],d="hex"!==r?[mD.parts["aria-descriptor"]({text:s})]:[],h=f.concat(d);return{dom:{tag:"div",attributes:{role:"presentation"}},components:h}},a=function(t,e){var n=eT(e);return EE.getField(t,"hex").each(function(e){Kx.isFocused(e)||tg.setValue(t,{hex:n.value})}),n},u=function(t,e){var n=e.red,r=e.green,o=e.blue;tg.setValue(t,{red:n,green:r,blue:o})},s=Sw({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=function(t,e){s.getOpt(t).each(function(t){Xn(t.element,"background-color","#"+e.value)})},l=function(){var o={red:oa(P.some(255)),green:oa(P.some(255)),blue:oa(P.some(255)),hex:oa(P.some("ffffff"))},l=function(t,e){var n=lT(e);u(t,n),p(n)},f=function(t){return o[t].get()},d=function(t,e){o[t].set(e)},h=function(){return f("red").bind(function(t){return f("green").bind(function(e){return f("blue").map(function(n){return uT(t,e,n,1)})})})},p=function(t){var e=t.red,n=t.green,r=t.blue;d("red",P.some(e)),d("green",P.some(n)),d("blue",P.some(r))},m=function(t,e){var n=e.event;"hex"!==n.type?d(n.type,P.none()):r(t)},g=function(t,e){n(t);var r=qk(e);d("hex",P.some(e));var o=lT(r);u(t,o),p(o),Ou(t,OE,{hex:r}),c(t,r)},v=function(t,e,n){var r=parseInt(n,10);d(e,P.some(r)),h().each(function(e){var n=a(t,e);Ou(t,OE,{hex:n}),c(t,n)})},y=function(t){return"hex"===t.type},b=function(t,e){var n=e.event;y(n)?g(t,n.value):v(t,n.type,n.value)},x=function(e){return{label:t(BE+e+".label"),description:t(BE+e+".description")}},_=x("red"),w=x("green"),O=x("blue"),S=x("hex");return wo(EE.sketch(function(n){return{dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[n.field("red",mD.sketch(i(sT,"red",_.label,_.description,255))),n.field("green",mD.sketch(i(sT,"green",w.label,w.description,255))),n.field("blue",mD.sketch(i(sT,"blue",O.label,O.description,255))),n.field("hex",mD.sketch(i($k,"hex",S.label,S.description,"ffffff"))),s.asSpec()],formBehaviours:hf([dA.config({invalidClass:e("form-invalid")}),Vx("rgb-form-events",[ju(RE,b),ju(NE,m),ju(PE,m)])])}}),{apis:{updateHex:function(t,e){tg.setValue(t,{hex:e.value}),l(t,e),c(t,e)}}})},f=dv({factory:l,name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}});return f},FE=function(t,e){var n=wE.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),r=wE.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(t,e){var n=t.width,r=t.height,o=t.getContext("2d");if(null!==o){o.fillStyle=e,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}},i=function(t,e){var n=t.components()[0].element.dom,r=_T(e,100,100),i=cT(r);o(n,hT(i))},a=function(t,e){var n=wT(lT(e));wE.setValue(t,{x:n.saturation,y:100-n.value})},u=function(t){var i=x({x:0,y:0}),a=function(t,e,n){Ou(t,CE,{value:n})},u=function(t,e,n,r){o(n.element.dom,hT(pT))},s=hf([yv.config({find:P.some}),Kx.config({})]);return wE.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:a,onInit:u,sliderBehaviours:s})},s=dv({factory:u,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(t,e,n){i(e,n)},setThumb:function(t,e,n){a(e,n)}},extraApis:{}});return s},zE=function(t,e){var n=function(n){var r=LE(t,e,n.onValidHex,n.onInvalidHex),o=FE(t,e),i=function(t){return(100-t)/100*360},a=function(t){return 100-t/360*100},u={paletteRgba:oa(pT),paletteHue:oa(0)},s=Sw(kE(t,e)),c=Sw(o.sketch({})),l=Sw(r.sketch({})),f=function(t,e,n){c.getOpt(t).each(function(t){o.setHue(t,n)})},d=function(t,e){l.getOpt(t).each(function(t){r.updateHex(t,e)})},h=function(t,e,n){s.getOpt(t).each(function(t){wE.setValue(t,{y:a(n)})})},p=function(t,e){c.getOpt(t).each(function(t){o.setThumb(t,e)})},m=function(t,e){var n=lT(t);u.paletteRgba.set(n),u.paletteHue.set(e)},g=function(t,e,n,r){m(e,n),Y(r,function(r){r(t,e,n)})},v=function(){var t=[d];return function(e,n){var r=n.event.value,o=u.paletteHue.get(),i=_T(o,r.x,100-r.y),a=ST(i);g(e,a,o,t)}},y=function(){var t=[f,d];return function(e,n){var r=i(n.event.value.y),o=u.paletteRgba.get(),a=wT(o),s=_T(r,a.saturation,a.value),c=ST(s);g(e,c,r,t)}},b=function(){var t=[f,h,p];return function(e,n){var r=n.event.hex,o=OT(r);g(e,r,o.hue,t)}};return{uid:n.uid,dom:n.dom,components:[c.asSpec(),s.asSpec(),l.asSpec()],behaviours:hf([Vx("colour-picker-events",[ju(OE,b()),ju(CE,v()),ju(SE,y())]),yv.config({find:function(t){return l.getOpt(t)}}),Dx.config({mode:"acyclic"})])}},r=dv({name:"ColourPicker",configFields:[Di("dom"),Xi("onValidHex",g),Xi("onInvalidHex",g)],factory:n});return r},VE=function(){return yv.config({find:P.some})},HE=function(t){return yv.config({find:t.getOpt})},UE=function(t){return yv.config({find:function(e){return wn(e.element,t).bind(function(t){return e.getSystem().getByDom(t).toOptional()})}})},WE={self:VE,memento:HE,childAt:UE},GE={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},qE=function(t){return GE[t]},YE=function(t){return qE(t)},XE=function(t){var e=function(t){return"tox-"+t},n=zE(YE,e),r=function(t){Ou(t,AD,{name:"hex-valid",value:!0})},o=function(t){Ou(t,AD,{name:"hex-valid",value:!1})},i=Sw(n.sketch({dom:{tag:"div",classes:[e("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:hf([tg.config({store:{mode:"manual",getValue:function(t){var e=i.get(t),n=yv.getCurrent(e),r=n.bind(function(t){var e=tg.getValue(t);return e.hex});return r.map(function(t){return"#"+t}).getOr("")},setValue:function(t,e){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,r=n.exec(e),o=i.get(t),a=yv.getCurrent(o);a.fold(function(){console.log("Can not find form")},function(t){tg.setValue(t,{hex:P.from(r[1]).getOr("")}),EE.getField(t,"hex").each(function(t){wu(t,Ha())})})}}}),WE.self()])}},$E=tinymce.util.Tools.resolve("tinymce.Resource"),KE=function(t){return Tt(t,"init")},ZE=function(t){var e=od(),n=Sw({dom:{tag:t.tag}}),r=od();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:hf([Vx("custom-editor-events",[Hu(function(o){n.getOpt(o).each(function(n){(KE(t)?t.init(n.element.dom):$E.load(t.scriptId,t.scriptUrl).then(function(e){return e(n.element.dom,t.settings)})).then(function(t){r.on(function(e){t.setValue(e)}),r.clear(),e.set(t)})})})]),tg.config({store:{mode:"manual",getValue:function(){return e.get().fold(function(){return r.get().getOr("")},function(t){return t.getValue()})},setValue:function(t,n){e.get().fold(function(){r.set(n)},function(t){return t.setValue(n)})}}}),WE.self()]),components:[n.asSpec()]}},JE=tinymce.util.Tools.resolve("tinymce.util.Tools"),QE=ti([Xi("preprocess",_),Xi("postprocess",_)]),tR=function(t,e){var n=wi("RepresentingConfigs.memento processors",QE,e);return tg.config({store:{mode:"manual",getValue:function(e){var r=t.get(e),o=tg.getValue(r);return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r),i=t.get(e);tg.setValue(i,o)}}})},eR=function(t,e,n){return tg.config(wo({store:{mode:"manual",getValue:e,setValue:n}},t.map(function(t){return{store:{initialValue:t}}}).getOr({})))},nR=function(t,e,n){return eR(t,function(t){return e(t.element)},function(t,e){return n(t.element,e)})},rR=function(t){return nR(t,dc,hc)},oR=function(t){return nR(t,Yu,Xu)},iR=function(t){return tg.config({store:{mode:"memory",initialValue:t}})},aR={memento:tR,withElement:nR,withComp:eR,domValue:rR,domHtml:oR,memory:iR},uR="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",sR=function(t,e){var n=JE.explode(e.getSetting("images_file_types",uR,"string")),r=function(t){return U(n,function(e){return Wt(t.name.toLowerCase(),"."+e.toLowerCase())})};return K(ht(t),r)},cR=function(t,e){var n=function(t,e){e.stop()},r=function(t){return function(e,n){Y(t,function(t){t(e,n)})}},o=function(t,e){if(!Bv.isDisabled(t)){var n=e.event.raw;a(t,n.dataTransfer.files)}},i=function(t,e){var n=e.event.raw.target;a(t,n.files)},a=function(n,r){tg.setValue(n,sR(r,e)),Ou(n,TD,{name:t.name})},u=Sw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:hf([Vx("input-file-events",[Fu(Wa()),Fu(ru())])])}),s=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:hf([aR.memory([]),WE.self(),Bv.config({}),m_.config({toggleClass:"dragenter",toggleOnExecute:!1}),Vx("dropzone-events",[ju("dragenter",r([n,m_.toggle])),ju("dragleave",r([n,m_.toggle])),ju("dragover",n),ju("drop",r([n,o])),ju(Ua(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},Ow.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(t){var e=u.get(t);e.element.dom.click()},buttonBehaviours:hf([bD.config({}),hk.button(e.isDisabled),sk()])})]}]}},c=t.label.map(function(t){return kD(t,e)}),l=mD.parts.field({factory:{sketch:s}});return _D(c,l,["tox-form__group--stretched"],[])},lR=function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:q(t.items,e.interpreter)}},fR=os("alloy-fake-before-tabstop"),dR=os("alloy-fake-after-tabstop"),hR=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:hf([Kx.config({ignore:!0}),bD.config({})])}},pR=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[hR([fR]),t,hR([dR])],behaviours:hf([WE.childAt(1)])}},mR=function(t,e){Ou(t,za(),{raw:{which:9,shiftKey:e}})},gR=function(t,e){var n=e.element;sc(n,fR)?mR(t,!0):sc(n,dR)&&mR(t,!1)},vR=function(t){return PM(t,["."+fR,"."+dR].join(","),k)},yR=!(en().browser.isIE()||en().browser.isEdge()),bR=function(t){var e=oa("");return{getValue:function(t){return e.get()},setValue:function(n,r){if(t)zn(n.element,"srcdoc",r);else{zn(n.element,"src","javascript:''");var o=n.element.dom.contentWindow.document;o.open(),o.write(r),o.close()}e.set(r)}}},xR=function(t,e){var n=yR&&t.sandboxed,r=D(D({},t.label.map(function(t){return{title:t}}).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=bR(n),i=t.label.map(function(t){return kD(t,e)}),a=function(t){return pR({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:hf([bD.config({}),Kx.config({}),aR.withComp(P.none(),o.getValue,o.setValue)])})},u=mD.parts.field({factory:{sketch:a}});return _D(i,u,["tox-form__group--stretched"],[])},_R=function(t,e){return SR(document.createElement("canvas"),t,e)},wR=function(t){var e=_R(t.width,t.height),n=OR(e);return n.drawImage(t,0,0),e},OR=function(t){return t.getContext("2d")},SR=function(t,e,n){return t.width=e,t.height=n,t},CR=function(t){return t.naturalWidth||t.width},kR=function(t){return t.naturalHeight||t.height},TR=function(t){return new qD(function(e,n){var r=URL.createObjectURL(t),o=new Image,i=function(){o.removeEventListener("load",a),o.removeEventListener("error",u)},a=function(){i(),e(o)},u=function(){i(),n("Unable to load data of type "+t.type+": "+r)};o.addEventListener("load",a),o.addEventListener("error",u),o.src=r,o.complete&&setTimeout(a,0)})},MR=function(t){var e=t.split(","),n=/data:([^;]+)/.exec(e[0]);if(!n)return P.none();for(var r=n[1],o=e[1],i=1024,a=atob(o),u=a.length,s=Math.ceil(u/i),c=new Array(s),l=0;l<s;++l){for(var f=l*i,d=Math.min(f+i,u),h=new Array(d-f),p=f,m=0;p<d;++m,++p)h[m]=a[p].charCodeAt(0);c[l]=new Uint8Array(h)}return P.some(new Blob(c,{type:r}))},DR=function(t){return new qD(function(e,n){MR(t).fold(function(){n("uri is not base64: "+t)},e)})},AR=function(t,e,n){return e=e||"image/png",h(HTMLCanvasElement.prototype.toBlob)?new qD(function(r,o){t.toBlob(function(t){t?r(t):o()},e,n)}):DR(t.toDataURL(e,n))},IR=function(t,e,n){return e=e||"image/png",t.toDataURL(e,n)},jR=function(t){return TR(t).then(function(t){RR(t);var e=_R(CR(t),kR(t)),n=OR(e);return n.drawImage(t,0,0),e})},ER=function(t){return new qD(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})},RR=function(t){URL.revokeObjectURL(t.src)},NR=function(t,e,n){var r=e.type,o=x(r),i=function(){return qD.resolve(e)},a=x(n),u=function(){return n.split(",")[1]},s=function(e,n){return t.then(function(t){return AR(t,e,n)})},c=function(e,n){return t.then(function(t){return IR(t,e,n)})},l=function(t,e){return c(t,e).then(function(t){return t.split(",")[1]})},f=function(){return t.then(wR)};return{getType:o,toBlob:i,toDataURL:a,toBase64:u,toAdjustedBlob:s,toAdjustedDataURL:c,toAdjustedBase64:l,toCanvas:f}},PR=function(t){return ER(t).then(function(e){return NR(jR(t),t,e)})},BR=function(t,e){return AR(t,e).then(function(e){return NR(qD.resolve(t),e,t.toDataURL())})},LR=function(t){return PR(t)},FR=function(t,e,n){var r="string"===typeof t?parseFloat(t):t;return r>n?r=n:r<e&&(r=e),r},zR=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},VR=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],HR=function(t,e){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=e[a+5*i];for(a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=t[a+5*u]*r[u];o[a+5*i]=n}}return o},UR=function(t,e){var n;return e=FR(e,-1,1),e*=100,e<0?n=127+e/100*127:(n=e%1,n=0===n?VR[e]:VR[Math.floor(e)]*(1-n)+VR[Math.floor(e)+1]*n,n=127*n+127),HR(t,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])},WR=function(t,e){return e=FR(255*e,-255,255),HR(t,[1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])},GR=function(t,e,n,r){return e=FR(e,0,2),n=FR(n,0,2),r=FR(r,0,2),HR(t,[e,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])},qR=function(t,e){return t.toCanvas().then(function(n){return YR(n,t.getType(),e)})},YR=function(t,e,n){var r=OR(t),o=function(t,e){for(var n,r,o,i,a=t.data,u=e[0],s=e[1],c=e[2],l=e[3],f=e[4],d=e[5],h=e[6],p=e[7],m=e[8],g=e[9],v=e[10],y=e[11],b=e[12],x=e[13],_=e[14],w=e[15],O=e[16],S=e[17],C=e[18],k=e[19],T=0;T<a.length;T+=4)n=a[T],r=a[T+1],o=a[T+2],i=a[T+3],a[T]=n*u+r*s+o*c+i*l+f,a[T+1]=n*d+r*h+o*p+i*m+g,a[T+2]=n*v+r*y+o*b+i*x+_,a[T+3]=n*w+r*O+o*S+i*C+k;return t},i=o(r.getImageData(0,0,t.width,t.height),n);return r.putImageData(i,0,0),BR(t,e)},XR=function(t,e){return t.toCanvas().then(function(n){return $R(n,t.getType(),e)})},$R=function(t,e,n){var r=OR(t),o=function(t,e,n){for(var r=function(t,e,n){return t>n?t=n:t<e&&(t=e),t},o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=t.data,u=e.data,s=t.width,c=t.height,l=0;l<c;l++)for(var f=0;f<s;f++){for(var d=0,h=0,p=0,m=0;m<o;m++)for(var g=0;g<o;g++){var v=r(f+g-i,0,s-1),y=r(l+m-i,0,c-1),b=4*(y*s+v),x=n[m*o+g];d+=a[b]*x,h+=a[b+1]*x,p+=a[b+2]*x}var _=4*(l*s+f);u[_]=r(d,0,255),u[_+1]=r(h,0,255),u[_+2]=r(p,0,255)}return e},i=r.getImageData(0,0,t.width,t.height),a=r.getImageData(0,0,t.width,t.height);return a=o(i,a,n),r.putImageData(a,0,0),BR(t,e)},KR=function(t){var e=function(e,n,r){for(var o=OR(e),i=new Array(256),a=function(t,e){for(var n=t.data,r=0;r<n.length;r+=4)n[r]=e[n[r]],n[r+1]=e[n[r+1]],n[r+2]=e[n[r+2]];return t},u=0;u<i.length;u++)i[u]=t(u,r);var s=a(o.getImageData(0,0,e.width,e.height),i);return o.putImageData(s,0,0),BR(e,n)};return function(t,n){return t.toCanvas().then(function(r){return e(r,t.getType(),n)})}},ZR=function(t){return function(e,n){return qR(e,t(zR(),n))}},JR=function(t){return function(e){return qR(e,t)}},QR=function(t){return function(e){return XR(e,t)}},tN=JR([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),eN=ZR(WR),nN=ZR(UR),rN=function(t,e,n,r){return qR(t,GR(zR(),e,n,r))},oN=QR([0,-1,0,-1,5,-1,0,-1,0]),iN=KR(function(t,e){return 255*Math.pow(t/255,1-e)}),aN=function(t,e,n){var r=CR(t),o=kR(t),i=e/r,a=n/o,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var s=uN(t,i,a);return u?s.then(function(t){return aN(t,e,n)}):s},uN=function(t,e,n){return new qD(function(r){var o=CR(t),i=kR(t),a=Math.floor(o*e),u=Math.floor(i*n),s=_R(a,u),c=OR(s);c.drawImage(t,0,0,o,i,0,0,a,u),r(s)})},sN=function(t,e){void 0===e&&(e=2);var n=Math.pow(10,e),r=Math.round(t*n);return Math.ceil(r/n)},cN=function(t,e){return t.toCanvas().then(function(n){return lN(n,t.getType(),e)})},lN=function(t,e,n){var r=n<0?360+n:n,o=r*Math.PI/180,i=t.width,a=t.height,u=Math.sin(o),s=Math.cos(o),c=sN(Math.abs(i*s)+Math.abs(a*u)),l=sN(Math.abs(i*u)+Math.abs(a*s)),f=_R(c,l),d=OR(f);return d.translate(c/2,l/2),d.rotate(o),d.drawImage(t,-i/2,-a/2),BR(f,e)},fN=function(t,e){return t.toCanvas().then(function(n){return dN(n,t.getType(),e)})},dN=function(t,e,n){var r=_R(t.width,t.height),o=OR(r);return"v"===n?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0)),BR(r,e)},hN=function(t,e,n,r,o){return t.toCanvas().then(function(i){return pN(i,t.getType(),e,n,r,o)})},pN=function(t,e,n,r,o,i){var a=_R(o,i),u=OR(a);return u.drawImage(t,-n,-r),BR(a,e)},mN=function(t,e,n){return t.toCanvas().then(function(r){return aN(r,e,n).then(function(e){return BR(e,t.getType())})})},gN=function(t){return tN(t)},vN=function(t){return oN(t)},yN=function(t,e){return iN(t,e)},bN=function(t,e,n,r){return rN(t,e,n,r)},xN=function(t,e){return eN(t,e)},_N=function(t,e){return nN(t,e)},wN=function(t,e){return fN(t,e)},ON=function(t,e,n,r,o){return hN(t,e,n,r,o)},SN=function(t,e,n){return mN(t,e,n)},CN=function(t,e){return cN(t,e)},kN=function(t,e,n){return Pw(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},e)},TN=function(t,e){return kN(t,e,[])},MN=function(t,e){return kN(t,e,[Fx.config({})])},DN=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:hf([Fx.config({})])}},AN=os("toolbar.button.execute"),IN=function(t){return Gu(function(e,n){pk(t,e)(function(n){Ou(e,AN,{buttonApi:n}),t.onAction(n)})})},jN=(_A={},_A[eu()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],_A),EN=os("update-menu-text"),RN=os("update-menu-icon"),NN=function(t,e,n){var r=oa(g),o=t.text.map(function(t){return Sw(DN(t,e,n.providers))}),i=t.icon.map(function(t){return Sw(MN(t,n.providers.icons))}),a=function(t,e){var n=tg.getValue(t);return Kx.focus(n),Ou(n,"keydown",{raw:e.event.raw}),BA.close(n),P.some(!0)},u=t.role.fold(function(){return{}},function(t){return{role:t}}),s=t.tooltip.fold(function(){return{}},function(t){var e=n.providers.translate(t);return{title:e,"aria-label":e}}),c=Pw("chevron-down",{tag:"div",classes:[e+"__select-chevron"]},n.providers.icons),l=Sw(BA.sketch(D(D(D({},t.uid?{uid:t.uid}:{}),u),{dom:{tag:"button",classes:[e,e+"--select"].concat(q(t.classes,function(t){return e+"--"+t})),attributes:D({},s)},components:bk([i.map(function(t){return t.asSpec()}),o.map(function(t){return t.asSpec()}),P.some(c)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:hf(I(I([],t.dropdownBehaviours,!0),[hk.button(function(){return t.disabled||n.providers.isDisabled()}),sk(),VA.config({}),Fx.config({}),Vx("dropdown-events",[mk(t,r),gk(t,r)]),Vx("menubutton-update-display-text",[ju(EN,function(t,e){o.bind(function(e){return e.getOpt(t)}).each(function(t){Fx.set(t,[Oc(n.providers.translate(e.event.text))])})}),ju(RN,function(t,e){i.bind(function(e){return e.getOpt(t)}).each(function(t){Fx.set(t,[MN(e.event.icon,n.providers.icons)])})})])],!1)),eventOrder:wo(jN,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:hf([Dx.config({mode:"special",onLeft:a,onRight:a})]),lazySink:n.getSink,toggleClass:e+"--active",parts:{menu:gS(!1,t.columns,t.presets)},fetch:function(e){return tA.nu(O(t.fetch,e))}})));return l.asSpec()},PN=function(t){return i(t)},BN=function(t){return"separator"===t.type},LN=function(t){return Tt(t,"getSubmenuItems")},FN={type:"separator"},zN=function(t,e){var n=J(t,function(t,n){return PN(n)?""===n?t:"|"===n?t.length>0&&!BN(t[t.length-1])?t.concat([FN]):t:Tt(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])},[]);return n.length>0&&BN(n[n.length-1])&&n.pop(),n},VN=function(t,e){var n=t.getSubmenuItems(),r=WN(n,e),o=wo(r.menus,ha(t.value,r.items)),i=wo(r.expansions,ha(t.value,t.value));return{item:t,menus:o,expansions:i}},HN=function(t,e){return LN(t)?VN(t,e):{item:t,menus:{},expansions:{}}},UN=function(t){if(BN(t))return t;var e=kt(t,"value").getOrThunk(function(){return os("generated-menu-item")});return wo({value:e},t)},WN=function(t,e){var n=zN(i(t)?t.split(" "):t,e);return Z(n,function(t,n){var r=UN(n),o=HN(r,e);return{menus:wo(t.menus,o.menus),items:[o.item].concat(t.items),expansions:wo(t.expansions,o.expansions)}},{menus:{},expansions:{},items:[]})},GN=function(t,e,n,r){var o=os("primary-menu"),i=WN(t,n.shared.providers.menuItems());if(0===i.items.length)return P.none();var a=IM(o,i.items,e,n,r),u=yt(i.menus,function(t,r){return IM(r,t,e,n,!1)}),s=wo(u,ha(o,a));return P.from(J_.tieredData(o,s,i.expansions))},qN=function(t){return{isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){return Bv.set(t,e)},setActive:function(e){var n=t.element;e?(ic(n,"tox-tbtn--enabled"),zn(n,"aria-pressed",!0)):(uc(n,"tox-tbtn--enabled"),Gn(n,"aria-pressed"))},isActive:function(){return sc(t.element,"tox-tbtn--enabled")}}},YN=function(t,e,n,r){return NN({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(e,r){t.fetch(function(t){r(GN(t,UO.CLOSE_ON_EXECUTE,n,!1))})},onSetup:t.onSetup,getApi:qN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[bD.config({})]},e,n.shared)},XN=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive();r.setActive(o),t.storage.set(o),n.shared.getSink().each(function(n){e().getOpt(n).each(function(e){Of(e.element),Ou(e,AD,{name:t.name,value:t.storage.get()})})})}},o=function(t){return function(e){e.setActive(t.storage.get())}};return function(e){e(q(t,function(t){var e=t.text.fold(function(){return{}},function(t){return{text:t}});return D(D({type:t.type,active:!1},e),{onAction:r(t),onSetup:o(t)})}))}},$N=function(t,e,n,r,o,i){void 0===n&&(n=[]);var a=e.fold(function(){return{}},function(t){return{action:t}}),u=D({buttonBehaviours:hf([hk.button(function(){return t.disabled||i.isDisabled()}),sk(),bD.config({}),Vx("button press",[Iu("click"),Iu("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),s=wo(u,{dom:r});return wo(s,{components:o})},KN=function(t,e,n,r){void 0===r&&(r=[]);var o=t.tooltip.map(function(t){return{"aria-label":n.translate(t),title:n.translate(t)}}).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},a=t.icon.map(function(t){return TN(t,n.icons)}),u=bk([a]);return $N(t,e,r,i,u,n)},ZN=function(t,e,n,r){void 0===r&&(r=[]);var o=KN(t,P.some(e),n,r);return Ow.sketch(o)},JN=function(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(t.text),a=t.icon?t.icon.map(function(t){return TN(t,n.icons)}):P.none(),u=a.isSome()?bk([a]):[],s=a.isSome()?{}:{innerHtml:i},c=I(I(I(I([],t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],!0),a.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),o,!0),l=D(D({tag:"button",classes:c},s),{attributes:{title:i}});return $N(t,e,r,l,u,n)},QN=function(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=JN(t,P.some(e),n,r,o);return Ow.sketch(i)},tP=function(t,e){return function(n){"custom"===e?Ou(n,AD,{name:t,value:{}}):"submit"===e?wu(n,ID):"cancel"===e?wu(n,DD):console.error("Unknown button type: ",e)}},eP=function(t,e){return"menu"===e},nP=function(t,e){return"custom"===e||"cancel"===e||"submit"===e},rP=function(t,e,n){if(eP(t,e)){var r=function(){return a},o=t,i=D(D({},t),{onSetup:function(e){return e.setDisabled(t.disabled),g},fetch:XN(o.items,r,n)}),a=Sw(YN(i,"tox-tbtn",n,P.none()));return a.asSpec()}if(nP(t,e)){var u=tP(t.name,e),s=D(D({},t),{borderless:!1});return QN(s,u,n.shared.providers,[])}console.error("Unknown footer button type: ",e)},oP=function(t,e){var n=tP(t.name,"custom");return wD(P.none(),mD.parts.field(D({factory:Ow},JN(t,P.some(n),e,[aR.memory(""),WE.self()]))))},iP=x([Xi("field1Name","field1"),Xi("field2Name","field2"),cl("onLockedChange"),il(["lockClass"]),Xi("locked",!1),og.field("coupledFieldBehaviours",[yv,tg])]),aP=function(t,e,n){return Xg(t,e,n).bind(yv.getCurrent)},uP=function(t,e){return Eg({factory:mD,name:t,overrides:function(t){return{fieldBehaviours:hf([Vx("coupled-input-behaviour",[ju(Ha(),function(n){aP(n,t,e).each(function(e){Xg(n,t,"lock").each(function(r){m_.isOn(r)&&t.onLockedChange(n,e,r)})})})])])}}})},sP=x([uP("field1","field2"),uP("field2","field1"),Eg({factory:Ow,schema:[Di("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:hf([m_.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),cP=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:og.augment(t.coupledFieldBehaviours,[yv.config({find:P.some}),tg.config({store:{mode:"manual",getValue:function(e){var n,r=Qg(e,t,["field1","field2"]);return n={},n[t.field1Name]=tg.getValue(r.field1()),n[t.field2Name]=tg.getValue(r.field2()),n},setValue:function(e,n){var r=Qg(e,t,["field1","field2"]);Mt(n,t.field1Name)&&tg.setValue(r.field1(),n[t.field1Name]),Mt(n,t.field2Name)&&tg.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return Xg(e,t,"field1")},getField2:function(e){return Xg(e,t,"field2")},getLock:function(e){return Xg(e,t,"lock")}}}},lP=hv({name:"FormCoupledInputs",configFields:iP(),partFields:sP(),factory:cP,apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),fP=function(t){var e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(t){return t in e?e[t]:1},r=t.value.toFixed(n(t.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit},dP=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=e.exec(t);if(null!==n){var r=parseFloat(n[1]),o=n[2];return ro.value({value:r,unit:o})}return ro.error(t)},hP=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Tt(n,t)};return t.unit===e?P.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?P.some(t.value):P.some(t.value/n[t.unit]*n[e]):P.none()},pP=function(t){return P.none()},mP=function(t,e){return function(n){return hP(n,e).map(function(n){return{value:n*t,unit:e}})}},gP=function(t,e){var n=dP(t).toOptional(),r=dP(e).toOptional();return Et(n,r,function(t,e){return hP(t,e.unit).map(function(t){return e.value/t}).map(function(t){return mP(t,e.unit)}).getOr(pP)}).getOr(pP)},vP=function(t,e){var n=pP,r=os("ratio-event"),o=function(t){return Pw(t,{tag:"span",classes:["tox-icon","tox-lock-icon__"+t]},e.icons)},i=lP.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:hf([Bv.config({disabled:function(){return t.disabled||e.isDisabled()}}),sk(),bD.config({})])}),a=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},u=function(n){return mD.parts.field({factory:HD,inputClasses:["tox-textfield"],inputBehaviours:hf([Bv.config({disabled:function(){return t.disabled||e.isDisabled()}}),sk(),bD.config({}),Vx("size-input-events",[ju(La(),function(t,e){Ou(t,r,{isField1:n})}),ju(Ua(),function(e,n){Ou(e,TD,{name:t.name})})])]),selectOnFocus:!1})},s=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}},c=lP.parts.field1(a([mD.parts.label(s("Width")),u(!0)])),l=lP.parts.field2(a([mD.parts.label(s("Height")),u(!1)]));return lP.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,l,a([s("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){dP(tg.getValue(t)).each(function(t){n(t).each(function(t){tg.setValue(e,fP(t))})})},coupledFieldBehaviours:hf([Bv.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){lP.getField1(t).bind(mD.getField).each(Bv.disable),lP.getField2(t).bind(mD.getField).each(Bv.disable),lP.getLock(t).each(Bv.disable)},onEnabled:function(t){lP.getField1(t).bind(mD.getField).each(Bv.enable),lP.getField2(t).bind(mD.getField).each(Bv.enable),lP.getLock(t).each(Bv.enable)}}),sk(),Vx("size-input-events2",[ju(r,function(t,e){var r=e.event.isField1,o=r?lP.getField1(t):lP.getField2(t),i=r?lP.getField2(t):lP.getField1(t),a=o.map(tg.getValue).getOr(""),u=i.map(tg.getValue).getOr("");n=gP(a,u)})])])})},yP=x(os("undo")),bP=x(os("redo")),xP=x(os("zoom")),_P=x(os("back")),wP=x(os("apply")),OP=x(os("swap")),SP=x(os("transform")),CP=x(os("temp-transform")),kP=x(os("transform-apply")),TP={undo:yP,redo:bP,zoom:xP,back:_P,apply:wP,swap:OP,transform:SP,tempTransform:CP,transformApply:kP},MP=x("save-state"),DP=x("disable"),AP=x("enable"),IP={formActionEvent:AD,saveState:MP,disable:DP,enable:AP},jP=function(t,e){var n=function(t,n,r,o){return Sw(QN({name:t,text:t,disabled:r,primary:o,icon:P.none(),borderless:!1},n,e))},r=function(t,n,r,o){return Sw(ZN({name:t,icon:P.some(t),tooltip:P.some(n),disabled:o,primary:!1,borderless:!1},r,e))},o=function(t,e){t.map(function(t){var n=t.get(e);n.hasConfigured(Bv)&&Bv.disable(n)})},i=function(t,e){t.map(function(t){var n=t.get(e);n.hasConfigured(Bv)&&Bv.enable(n)})},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},u=g,s=function(t,e,n){Ou(t,e,n)},c=function(t){return wu(t,IP.disable())},l=function(t){return wu(t,IP.enable())},f=function(t,e){c(t),s(t,TP.transform(),{transform:e}),l(t)},d=function(t,e){c(t),s(t,TP.tempTransform(),{transform:e}),l(t)},h=function(t){return function(){at.getOpt(t).each(function(t){Fx.set(t,[ot])})}},p=function(t,e){c(t),s(t,TP.transformApply(),{transform:e,swap:h(t)}),l(t)},m=function(){return n("Back",function(t){return s(t,TP.back(),{swap:h(t)})},!1,!1)},v=function(){return Sw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:hf([Bv.config({})])})},y=function(){return n("Apply",function(t){return s(t,TP.apply(),{swap:h(t)})},!0,!0)},b=function(){return function(e){var n=t.getRect();return ON(e,n.x,n.y,n.w,n.h)}},_=[m(),v(),n("Apply",function(e){var n=b();p(e,n),t.hideCrop()},!1,!0)],w=cD.sketch({dom:a,components:_.map(function(t){return t.asSpec()}),containerBehaviours:hf([Vx("image-tools-crop-buttons-events",[ju(IP.disable(),function(t,e){o(_,t)}),ju(IP.enable(),function(t,e){i(_,t)})])])}),O=Sw(vP({name:"size",label:P.none(),constrain:!0,disabled:!1},e)),S=function(t,e){return function(n){return SN(n,t,e)}},C=[m(),v(),O,v(),n("Apply",function(t){O.getOpt(t).each(function(e){var n=tg.getValue(e),r=parseInt(n.width,10),o=parseInt(n.height,10),i=S(r,o);p(t,i)})},!1,!0)],k=cD.sketch({dom:a,components:C.map(function(t){return t.asSpec()}),containerBehaviours:hf([Vx("image-tools-resize-buttons-events",[ju(IP.disable(),function(t,e){o(C,t)}),ju(IP.enable(),function(t,e){i(C,t)})])])}),T=function(t,e){return function(n){return t(n,e)}},M=T(wN,"h"),D=T(wN,"v"),A=T(CN,-90),I=T(CN,90),j=function(t,e){d(t,e)},E=[m(),v(),r("flip-horizontally","Flip horizontally",function(t){j(t,M)},!1),r("flip-vertically","Flip vertically",function(t){j(t,D)},!1),r("rotate-left","Rotate counterclockwise",function(t){j(t,A)},!1),r("rotate-right","Rotate clockwise",function(t){j(t,I)},!1),v(),y()],R=cD.sketch({dom:a,components:E.map(function(t){return t.asSpec()}),containerBehaviours:hf([Vx("image-tools-fliprotate-buttons-events",[ju(IP.disable(),function(t,e){o(E,t)}),ju(IP.enable(),function(t,e){i(E,t)})])])}),N=function(t,n,r,o,i){var a=wE.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}),u=wE.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=wE.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Sw(wE.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:x({x:o})},components:[a,u,s],sliderBehaviours:hf([Kx.config({})]),onChoose:n}))},B=function(t,e,n,r,o){var i=function(t,n,r){var o=T(e,r.x/100);f(t,o)};return N(t,i,n,r,o)},L=function(t,e,n,r,o){return[m(),B(t,e,n,r,o),y()]},F=function(t,e,n,r,u){var s=L(t,e,n,r,u);return cD.sketch({dom:a,components:s.map(function(t){return t.asSpec()}),containerBehaviours:hf([Vx("image-tools-filter-panel-buttons-events",[ju(IP.disable(),function(t,e){o(s,t)}),ju(IP.enable(),function(t,e){i(s,t)})])])})},z=[m(),v(),y()],V=cD.sketch({dom:a,components:z.map(function(t){return t.asSpec()})}),H=F("Brightness",xN,-100,0,100),U=F("Contrast",_N,-100,0,100),W=F("Gamma",yN,-100,0,100),G=function(t,e,n){return function(r){return bN(r,t,e,n)}},q=function(t){var e=function(t,e,n){var r=Y.getOpt(t),o=$.getOpt(t),i=X.getOpt(t);r.each(function(e){o.each(function(n){i.each(function(r){var o=tg.getValue(e).x/100,i=tg.getValue(r).x/100,a=tg.getValue(n).x/100,u=G(o,i,a);f(t,u)})})})};return N(t,e,0,100,200)},Y=q("R"),X=q("G"),$=q("B"),K=[m(),Y,X,$,y()],Z=cD.sketch({dom:a,components:K.map(function(t){return t.asSpec()})}),J=function(t,e,n){return function(r){var o=function(){at.getOpt(r).each(function(e){Fx.set(e,[t]),n(e)})};s(r,TP.swap(),{transform:e,swap:o})}},Q=function(e){t.showCrop()},tt=function(e){O.getOpt(e).each(function(e){var n=t.getMeasurements(),r=n.width,o=n.height;tg.setValue(e,{width:r,height:o})})},et=P.some(vN),nt=P.some(gN),rt=[r("crop","Crop",J(w,P.none(),Q),!1),r("resize","Resize",J(k,P.none(),tt),!1),r("orientation","Orientation",J(R,P.none(),u),!1),r("brightness","Brightness",J(H,P.none(),u),!1),r("sharpen","Sharpen",J(V,et,u),!1),r("contrast","Contrast",J(U,P.none(),u),!1),r("color-levels","Color levels",J(Z,P.none(),u),!1),r("gamma","Gamma",J(W,P.none(),u),!1),r("invert","Invert",J(V,nt,u),!1)],ot=cD.sketch({dom:a,components:rt.map(function(t){return t.asSpec()})}),it=cD.sketch({dom:{tag:"div"},components:[ot],containerBehaviours:hf([Fx.config({})])}),at=Sw(it),ut=function(t){return at.getOpt(t).map(function(t){var e=t.components()[0];return e.components()[e.components().length-1]})};return{memContainer:at,getApplyButton:ut}},EP=tinymce.util.Tools.resolve("tinymce.geom.Rect"),RP=tinymce.util.Tools.resolve("tinymce.util.Observable"),NP=tinymce.util.Tools.resolve("tinymce.util.VK"),PP=function(t){var e=Math.max,n=t.documentElement,r=t.body,o=e(n.scrollWidth,r.scrollWidth),i=e(n.clientWidth,r.clientWidth),a=e(n.offsetWidth,r.offsetWidth),u=e(n.scrollHeight,r.scrollHeight),s=e(n.clientHeight,r.clientHeight),c=e(n.offsetHeight,r.offsetHeight);return{width:o<a?i:o,height:u<c?s:u}},BP=function(t){return d(t.changedTouches)},LP=function(t){if(BP(t))for(var e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]};function FP(t,e){var n,r,o,i,a,u,s,c=[],l=[],f=null!==(n=e.document)&&void 0!==n?n:document,h=null!==(r=e.root)&&void 0!==r?r:f,p=ee.fromDom(f),m=ee.fromDom(h.getElementById(null!==(o=e.handle)&&void 0!==o?o:t)),g=function(t){var n=t.raw,r=PP(f);LP(n),t.prevent(),a=n.button,u=n.screenX,s=n.screenY;var o=Zn(m,"cursor");i=ee.fromTag("div",f),$n(i,{position:"absolute",top:"0",left:"0",width:r.width+"px",height:r.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:o}),Ar(Ln(p),i),l.push(ad(p,"mousemove",v),ad(p,"touchmove",v),ad(p,"mouseup",y),ad(p,"touchend",y)),e.start(n)},v=function(t){var n=t.raw;if(LP(n),n.button!==a)return y(t);n.deltaX=n.screenX-u,n.deltaY=n.screenY-s,t.prevent(),e.drag(n)},y=function(t){LP(t.raw),Y(l,function(t){return t.unbind()}),l=[],Nr(i),e.stop&&e.stop(t.raw)},b=function(){Y(l.concat(c),function(t){return t.unbind()}),l=[],c=[],d(i)&&Nr(i)};return c.push(ad(m,"mousedown",g),ad(m,"touchstart",g)),{destroy:b}}var zP=0,VP=function(t,e,n,r,o){var i,a=[],u="tox-",s=u+"crid-"+zP++,c=ee.fromDom(r),l=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],f=["top","right","bottom","left"],d=function(t,e){return{x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},h=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}},p=function(){return h(n,t)},m=function(e,r,o,i){var a=r.x+o*e.deltaX,u=r.y+i*e.deltaY,s=Math.max(20,r.w+o*e.deltaW),c=Math.max(20,r.h+i*e.deltaH),l=t=EP.clamp({x:a,y:u,w:s,h:c},n,"move"===e.name);l=h(n,l),S.fire("updateRect",{rect:l}),_(l)},g=function(){var e=function(e){var n;return FP(s,{document:r.ownerDocument,root:Dn(c).dom,handle:s+"-"+e.name,start:function(){n=t},drag:function(t){m(e,n,t.deltaX,t.deltaY)}})},n=ee.fromTag("div");Vn(n,{id:s,class:u+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Ar(c,n),Y(f,function(t){Lc(c,"#"+s).each(function(e){var n=ee.fromTag("div");Vn(n,{id:s+"-"+t,class:u+"croprect-block","data-mce-bogus":"all"}),Xn(n,"display","none"),Ar(e,n)})}),Y(l,function(t){Lc(c,"#"+s).each(function(e){var n=ee.fromTag("div");Vn(n,{id:s+"-"+t.name,"aria-label":t.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:t.label}),cc(n,[u+"croprect-handle",u+"croprect-handle-"+t.name]),Xn(n,"display","none"),Ar(e,n)})}),i=q(l,e),y(t);var d=function(t){zn(t.target,"aria-grabbed","focus"===t.raw.type?"true":"false")},h=function(e){var n;Y(l,function(t){if(Hn(e.target,"id")===s+"-"+t.name)return n=t,!1});var r=function(t,e,r,o,i){t.stopPropagation(),t.preventDefault(),m(n,r,o,i)};switch(e.raw.keyCode){case NP.LEFT:r(e,n,t,-10,0);break;case NP.RIGHT:r(e,n,t,10,0);break;case NP.UP:r(e,n,t,0,-10);break;case NP.DOWN:r(e,n,t,0,10);break;case NP.ENTER:case NP.SPACEBAR:e.prevent(),o();break}};a.push(ad(c,"focusin",d),ad(c,"focusout",d),ad(c,"keydown",h))},v=function(t){var e=I(I([],q(l,function(t){return"#"+s+"-"+t.name}),!0),q(f,function(t){return"#"+s+"-"+t}),!0).join(","),n=$h(c,e);Y(n,t?function(t){return nr(t,"display")}:function(t){return Xn(t,"display","none")})},y=function(t){var n=function(t,e){Lc(c,"#"+s+"-"+t).each(function(t){$n(t,{left:e.x+"px",top:e.y+"px",width:Math.max(0,e.w)+"px",height:Math.max(0,e.h)+"px"})})};Y(l,function(e){Lc(c,"#"+s+"-"+e.name).each(function(n){$n(n,{left:t.w*e.xMul+t.x+"px",top:t.h*e.yMul+t.y+"px"})})}),n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y}),n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h}),n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y}),n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h}),n("move",t)},b=function(e){t=e,y(t)},x=function(n){e=n,y(t)},_=function(t){b(d(n,t))},w=function(e){n=e,y(t)},O=function(){Y(i,function(t){return t.destroy()}),i=[],Y(a,function(t){return t.unbind()}),a=[]};g();var S=D(D({},RP),{toggleVisibility:v,setClampRect:w,setRect:b,getInnerRect:p,setInnerRect:_,setViewPortRect:x,destroy:O});return S},HP={create:VP},UP=function(t){return new aO(function(e){var n=function(){t.removeEventListener("load",n),e(t)};t.complete?e(t):t.addEventListener("load",n)})},WP=function(t){var e=Sw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=oa(1),r=rd(),o=oa({x:0,y:0,w:1,h:1}),i=oa({x:0,y:0,w:1,h:1}),a=function(t,i){p.getOpt(t).each(function(t){var a=n.get(),u=vr(t.element),s=ar(t.element),c=i.dom.naturalWidth*a,l=i.dom.naturalHeight*a,f=Math.max(0,u/2-c/2),d=Math.max(0,s/2-l/2),h={left:f.toString()+"px",top:d.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};$n(i,h),e.getOpt(t).each(function(t){$n(t.element,h)}),r.run(function(t){var e=o.get();t.setRect({x:e.x*a+f,y:e.y*a+d,w:e.w*a,h:e.h*a}),t.setClampRect({x:f,y:d,w:c,h:l}),t.setViewPortRect({x:0,y:0,w:u,h:s})})})},u=function(t,e){p.getOpt(t).each(function(t){var r=vr(t.element),o=ar(t.element),i=e.dom.naturalWidth,a=e.dom.naturalHeight,u=Math.min(r/i,o/a);u>=1?n.set(1):n.set(u)})},s=function(t,e){var n=ee.fromTag("img");return zn(n,"src",e),UP(n.dom).then(function(){t.getSystem().isConnected()&&p.getOpt(t).map(function(t){var e=Sc({element:n});Fx.replaceAt(t,1,P.some(e));var r=i.get(),s={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight};i.set(s);var c=EP.inflate(s,-20,-20);o.set(c),r.w===s.w&&r.h===s.h||u(t,n),a(t,n)})})},c=function(t,e){var r=n.get(),o=e>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),p.getOpt(t).each(function(t){var e=t.components()[1].element;a(t,e)})},l=function(){r.run(function(t){t.toggleVisibility(!0)})},f=function(){r.run(function(t){t.toggleVisibility(!1)})},d=function(){return o.get()},h=cD.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:hf([Vx("image-panel-crop-events",[Hu(function(t){p.getOpt(t).each(function(t){var e=t.element.dom,i=HP.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,g);i.toggleVisibility(!1),i.on("updateRect",function(t){var e=t.rect,r=n.get(),i={x:Math.round(e.x/r),y:Math.round(e.y/r),w:Math.round(e.w/r),h:Math.round(e.h/r)};o.set(i)}),r.set(i)})}),Uu(function(){r.clear()})])])}],containerBehaviours:hf([Fx.config({}),Vx("image-panel-events",[Hu(function(e){s(e,t)})])])}),p=Sw(h),m=function(){var t=i.get();return{width:t.w,height:t.h}};return{memContainer:p,updateSrc:s,zoom:c,showCrop:l,hideCrop:f,getRect:d,getMeasurements:m}},GP=function(t,e,n,r,o){return ZN({name:t,icon:P.some(e),disabled:n,tooltip:P.some(t),primary:!1,borderless:!1},r,o)},qP=function(t,e){e?Bv.enable(t):Bv.disable(t)},YP=function(t){var e=function(t,e,o){n.getOpt(t).each(function(t){qP(t,e)}),r.getOpt(t).each(function(t){qP(t,o)})},n=Sw(GP("Undo","undo",!0,function(t){Ou(t,TP.undo(),{direction:1})},t)),r=Sw(GP("Redo","redo",!0,function(t){Ou(t,TP.redo(),{direction:1})},t)),o=cD.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),GP("Zoom in","zoom-in",!1,function(t){Ou(t,TP.zoom(),{direction:1})},t),GP("Zoom out","zoom-out",!1,function(t){Ou(t,TP.zoom(),{direction:-1})},t)]});return{container:o,updateButtonUndoStates:e}};function XP(){var t=[],e=-1,n=function(n){var r=t.splice(++e);return t.push(n),{state:n,removed:r}},r=function(){if(i())return t[--e]},o=function(){if(a())return t[++e]},i=function(){return e>0},a=function(){return-1!==e&&e<t.length-1};return{data:t,add:n,undo:r,redo:o,canUndo:i,canRedo:a}}var $P,KP=function(t){var e=oa(t),n=od(),r=XP();r.add(t);var o=function(){return e.get()},i=function(t){e.set(t)},a=function(){return n.get().getOrThunk(e.get)},u=function(t){var e=s(t);return f(),n.set(e),e.url},s=function(t){return{blob:t,url:URL.createObjectURL(t)}},c=function(t){URL.revokeObjectURL(t.url)},l=function(t){JE.each(t,c)},f=function(){n.on(c),n.clear()},d=function(t){var e=s(t);i(e);var n=r.add(e).removed;return l(n),e.url},h=function(t){var e=s(t);return n.set(e),e.url},p=function(t){return n.get().fold(g,function(e){d(e.blob),t()})},m=function(){var t=r.undo();return i(t),t.url},v=function(){var t=r.redo();return i(t),t.url},y=function(){var t=r.canUndo(),e=r.canRedo();return{undoEnabled:t,redoEnabled:e}};return{getBlobState:o,setBlobState:i,addBlobState:d,getTempState:a,updateTempState:u,addTempState:h,applyTempState:p,destroyTempState:f,undo:m,redo:v,getHistoryStates:y}},ZP=function(t,e){var n=KP(t.currentState),r=function(t,e){var n=e.event.direction;S.zoom(t,n)},o=function(t){var e=n.getHistoryStates();C.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled),Ou(t,IP.formActionEvent,{name:IP.saveState(),value:e.undoEnabled})},i=function(t){C.updateButtonUndoStates(t,!1,!1)},a=function(t,e){var r=n.undo();f(t,r).then(function(e){l(t),o(t)})},u=function(t,e){var r=n.redo();f(t,r).then(function(e){l(t),o(t)})},s=function(t){return t.toBlob()},c=function(t){Ou(t,IP.formActionEvent,{name:IP.disable(),value:{}})},l=function(t){k.getApplyButton(t).each(function(t){Bv.enable(t)}),Ou(t,IP.formActionEvent,{name:IP.enable(),value:{}})},f=function(t,e){return c(t),S.updateSrc(t,e)},d=function(t,e,n,r,i){c(t),LR(e).then(n).then(s).then(r).then(function(e){return f(t,e)}).then(function(){o(t),i(),l(t)}).catch(function(e){console.log(e),t.getSystem().isConnected()&&l(t)})},h=function(t,e,r){var o=n.getBlobState().blob,i=function(t){return n.updateTempState(t)};d(t,o,e,i,r)},p=function(t,e){var r=n.getTempState().blob,o=function(t){return n.addTempState(t)};d(t,r,e,o,g)},m=function(t,e,r){var o=n.getBlobState().blob,i=function(e){var r=n.addBlobState(e);return y(t),r};d(t,o,e,i,r)},v=function(t,e){var r=function(){y(t);var n=e.event.swap;n()};n.applyTempState(r)},y=function(t){var e=n.getBlobState().url;return n.destroyTempState(),o(t),e},b=function(t){var e=y(t);f(t,e).then(function(e){l(t)})},x=function(t,e){b(t);var n=e.event.swap;n(),S.hideCrop()},_=function(t,e){return h(t,e.event.transform,g)},w=function(t,e){return p(t,e.event.transform)},O=function(t,e){return m(t,e.event.transform,e.event.swap)},S=WP(t.currentState.url),C=YP(e),k=jP(S,e),T=function(t,e){i(t);var n=e.event.transform,r=e.event.swap;n.fold(function(){r()},function(e){h(t,e,r)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[k.memContainer.asSpec(),S.memContainer.asSpec(),C.container],behaviours:hf([tg.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),Vx("image-tools-events",[ju(TP.undo(),a),ju(TP.redo(),u),ju(TP.zoom(),r),ju(TP.back(),x),ju(TP.apply(),v),ju(TP.transform(),_),ju(TP.tempTransform(),w),ju(TP.transformApply(),O),ju(TP.swap(),T)]),WE.self()])}},JP=function(t,e){var n={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}},r=q(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:hf([WE.self(),Fx.config({}),aR.domHtml(P.none()),Dx.config({mode:"acyclic"})])}},QP=function(t){return!Tt(t,"items")},tB="data-value",eB=function(t,e,n,r){return q(n,function(n){return QP(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){tg.setValue(t,n.value),Ou(t,TD,{name:e}),Kx.focus(t)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return eB(t,e,n.items,r)}}})},nB=function(t,e){return pt(t,function(t){return QP(t)?Pt(t.value===e,t):nB(t.items,e)})},rB=function(t,e){var n=e.shared.providers,r=ft(t.items).filter(QP),o=t.label.map(function(t){return kD(t,n)}),i=mD.parts.field({dom:{},factory:{sketch:function(n){return NN({uid:n.uid,text:r.map(function(t){return t.text}),icon:P.none(),tooltip:t.label,role:P.none(),fetch:function(n,r){var o=eB(n,t.name,t.items,tg.getValue(n));r(GN(o,UO.CLOSE_ON_EXECUTE,e,!1))},onSetup:x(g),getApi:x({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[bD.config({}),tg.config({store:{mode:"manual",initialValue:r.map(function(t){return t.value}).getOr(""),getValue:function(t){return Hn(t.element,tB)},setValue:function(e,n){nB(t.items,n).each(function(t){zn(e.element,tB,t.value),Ou(e,EN,{text:t.text})})}}})]},"tox-listbox",e.shared)}}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[i]};return mD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nt([o.toArray(),[a]]),fieldBehaviours:hf([Bv.config({disabled:x(t.disabled),onDisabled:function(t){mD.getField(t).each(Bv.disable)},onEnabled:function(t){mD.getField(t).each(Bv.enable)}})])})},oB=function(t,e){return{dom:{tag:"div",classes:t.classes},components:q(t.items,e.shared.interpreter)}},iB=function(t,e){var n=q(t.options,function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}}),r=t.data.map(function(t){return ha("initialValue",t)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:rg(t.selectBehaviours,[Kx.config({}),tg.config({store:D({mode:"manual",getValue:function(t){return dc(t.element)},setValue:function(e,n){var r=tt(t.options,function(t){return t.value===n});r.isSome()&&hc(e.element,n)}},r)})])}},aB=dv({name:"HtmlSelect",configFields:[Di("options"),eg("selectBehaviours",[Kx,tg]),Xi("selectClasses",[]),Xi("selectAttributes",{}),zi("data")],factory:iB}),uB=function(t,e){var n=q(t.items,function(t){return{text:e.translate(t.text),value:t.value}}),r=t.label.map(function(t){return kD(t,e)}),o=mD.parts.field({dom:{},selectAttributes:{size:t.size},options:n,factory:aB,selectBehaviours:hf([Bv.config({disabled:function(){return t.disabled||e.isDisabled()}}),bD.config({}),Vx("selectbox-change",[ju(Ua(),function(e,n){Ou(e,TD,{name:t.name})})])])}),i=t.size>1?P.none():P.some(Pw("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},e.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:nt([[o],i.toArray()])};return mD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nt([r.toArray(),[a]]),fieldBehaviours:hf([Bv.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){mD.getField(t).each(Bv.disable)},onEnabled:function(t){mD.getField(t).each(Bv.enable)}}),sk()])})},sB=function(t,e){var n=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}},r=function(t){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:q(t,n)}]}},o=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}},i=function(t){return{dom:{tag:"tr"},components:q(t,o)}},a=function(t){return{dom:{tag:"tbody"},components:q(t,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(t.header),a(t.cells)],behaviours:hf([bD.config({}),Kx.config({})])}},cB=function(t,e){var n=t.label.map(function(t){return kD(t,e)}),r=[Bv.config({disabled:function(){return t.disabled||e.isDisabled()}}),sk(),Dx.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return wu(t,ID),P.some(!0)}}),Vx("textfield-change",[ju(Ha(),function(e,n){Ou(e,TD,{name:t.name})}),ju(Qa(),function(e,n){Ou(e,TD,{name:t.name})})]),bD.config({})],o=t.validation.map(function(t){return dA.config({getRoot:function(t){return vn(t.element)},invalidClass:"tox-invalid",validator:{validate:function(e){var n=tg.getValue(e),r=t.validator(n);return tA.pure(!0===r?ro.value(n):ro.error(r))},validateOnLoad:t.validateOnLoad}})}).toArray(),i=t.placeholder.fold(x({}),function(t){return{placeholder:e.translate(t)}}),a=t.inputMode.fold(x({}),function(t){return{inputmode:t}}),u=D(D({},i),a),s=mD.parts.field({tag:!0===t.multiline?"textarea":"input",inputAttributes:u,inputClasses:[t.classname],inputBehaviours:hf(nt([r,o])),selectOnFocus:!1,factory:HD}),c=t.flex?["tox-form__group--stretched"]:[],l=c.concat(t.maximized?["tox-form-group--maximize"]:[]),f=[Bv.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){mD.getField(t).each(Bv.disable)},onEnabled:function(t){mD.getField(t).each(Bv.enable)}}),sk()];return _D(n,s,l,f)},lB=function(t,e){return cB({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:P.none(),maximized:t.maximized},e)},fB=function(t,e){return cB({name:t.name,multiline:!0,label:t.label,inputMode:P.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:P.none(),maximized:t.maximized},e)},dB=function(t,e){var n=t.stream.streams,r=n.setup(t,e);return Mu([ju(t.event,r),Uu(function(){return e.cancel()})].concat(t.cancelEvent.map(function(t){return[ju(t,function(){return e.cancel()})]}).getOr([])))},hB=Object.freeze({__proto__:null,events:dB}),pB=function(t){var e=oa(null),n=function(){return{timer:null!==e.get()?"set":"unset"}},r=function(t){e.set(t)},o=function(){var t=e.get();null!==t&&t.cancel()};return Cs({readState:n,setTimer:r,cancel:o})},mB=function(t){return t.stream.streams.state(t)},gB=Object.freeze({__proto__:null,throttle:pB,init:mB}),vB=function(t,e){var n=t.stream,r=Ww(t.onStream,n.delay);return e.setTimer(r),function(t,e){r.throttle(t,e),n.stopEvent&&e.stop()}},yB=[Ai("stream",Si("mode",{throttle:[Di("delay"),Xi("stopEvent",!0),fl("streams",{setup:vB,state:pB})]})),Xi("event","input"),zi("cancelEvent"),cl("onStream")],bB=mf({fields:yB,name:"streaming",active:hB,state:gB}),xB=function(t,e,n){var r=tg.getValue(n);tg.setValue(e,r),wB(e)},_B=function(t,e){var n=t.element,r=dc(n),o=n.dom;"number"!==Hn(n,"type")&&e(o,r)},wB=function(t){_B(t,function(t,e){return t.setSelectionRange(e.length,e.length)})},OB=function(t,e){_B(t,function(t,n){return t.setSelectionRange(e,n.length)})},SB=function(t,e,n){if(t.selectsOver){var r=tg.getValue(e),o=t.getDisplayText(r),i=tg.getValue(n),a=t.getDisplayText(i);return 0===a.indexOf(o)?P.some(function(){xB(t,e,n),OB(e,o.length)}):P.none()}return P.none()},CB=x("alloy.typeahead.itemexecute"),kB=function(t,e,n,r){var o=function(e,n,o){t.previewing.set(!1);var i=yA.getCoupled(e,"sandbox");if(ym.isOpen(i))yv.getCurrent(i).each(function(t){ry.getHighlighted(t).fold(function(){o(t)},function(){Tu(i,t.element,"keydown",n)})});else{var u=function(t){yv.getCurrent(t).each(o)};CA(t,a(e),e,i,r,u,GD.HighlightFirst).get(g)}},i=LD(t),a=function(t){return function(e){return e.map(function(e){var n=Ct(e.menus),r=rt(n,function(t){return K(t.items,function(t){return"item"===t.type})}),o=tg.getState(t);return o.update(q(r,function(t){return t.data})),e})}},u=[Kx.config({}),tg.config({onSetValue:t.onSetValue,store:D({mode:"dataset",getDataKey:function(t){return dc(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){hc(e.element,t.model.getDisplayText(n))}},t.initialData.map(function(t){return ha("initialValue",t)}).getOr({}))}),bB.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(e,n){var o=yA.getCoupled(e,"sandbox"),i=Kx.isFocused(e);if(i&&dc(e.element).length>=t.minChars){var u=yv.getCurrent(o).bind(function(t){return ry.getHighlighted(t).map(tg.getValue)});t.previewing.set(!0);var s=function(e){yv.getCurrent(o).each(function(e){u.fold(function(){t.model.selectsOver&&ry.highlightFirst(e)},function(t){ry.highlightBy(e,function(e){var n=tg.getValue(e);return n.value===t.value}),ry.getHighlighted(e).orThunk(function(){return ry.highlightFirst(e),P.none()})})})};CA(t,a(e),e,o,r,s,GD.HighlightFirst).get(g)}},cancelEvent:au()}),Dx.config({mode:"special",onDown:function(t,e){return o(t,e,ry.highlightFirst),P.some(!0)},onEscape:function(t){var e=yA.getCoupled(t,"sandbox");return ym.isOpen(e)?(ym.close(e),P.some(!0)):P.none()},onUp:function(t,e){return o(t,e,ry.highlightLast),P.some(!0)},onEnter:function(e){var n=yA.getCoupled(e,"sandbox"),r=ym.isOpen(n);if(r&&!t.previewing.get())return yv.getCurrent(n).bind(function(t){return ry.getHighlighted(t)}).map(function(t){return Ou(e,CB(),{item:t}),!0});var o=tg.getValue(e);return wu(e,au()),t.onExecute(n,e,o),r&&ym.close(n),P.some(!0)}}),m_.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),yA.config({others:{sandbox:function(e){return IA(t,e,{onOpen:function(){return m_.on(e)},onClose:function(){return m_.off(e)}})}}}),Vx("typeaheadevents",[Gu(function(e){var n=g;TA(t,a(e),e,r,n,GD.HighlightFirst).get(g)}),ju(CB(),function(e,n){var r=yA.getCoupled(e,"sandbox");xB(t.model,e,n.event.item),wu(e,au()),t.onItemExecute(e,r,n.event.item,tg.getValue(e)),ym.close(r),wB(e)})].concat(t.dismissOnBlur?[ju(Ja(),function(t){var e=yA.getCoupled(t,"sandbox");Tf(e.element).isNone()&&ym.close(e)})]:[]))];return{uid:t.uid,dom:zD(wo(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:D(D({},i),rg(t.typeaheadBehaviours,u)),eventOrder:t.eventOrder}},TB=x([zi("lazySink"),Di("fetch"),Xi("minChars",5),Xi("responseTime",1e3),ul("onOpen"),Xi("getHotspot",P.some),Xi("getAnchorOverrides",x({})),Xi("layouts",P.none()),Xi("eventOrder",{}),ra("model",{},[Xi("getDisplayText",function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value}),Xi("selectsOver",!0),Xi("populateFromBrowse",!0)]),ul("onSetValue"),sl("onExecute"),ul("onItemExecute"),Xi("inputClasses",[]),Xi("inputAttributes",{}),Xi("inputStyles",{}),Xi("matchWidth",!0),Xi("useMinWidth",!1),Xi("dismissOnBlur",!0),il(["openClass"]),zi("initialData"),eg("typeaheadBehaviours",[Kx,tg,bB,Dx,m_,yA]),Ti("previewing",function(){return oa(!0)})].concat(BD()).concat(EA())),MB=x([Rg({schema:[ol()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each(function(r){SB(t.model,r,n).fold(function(){return ry.dehighlight(e,n)},function(t){return t()})}):e.getSystem().getByUid(t.uid).each(function(e){t.model.populateFromBrowse&&xB(t.model,e,n)}),t.previewing.set(!1)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOptional().map(function(t){return Ou(t,CB(),{item:n}),!0})},onHover:function(e,n){t.previewing.set(!1),e.getSystem().getByUid(t.uid).each(function(e){t.model.populateFromBrowse&&xB(t.model,e,n)})}}}})]),DB=hv({name:"Typeahead",configFields:TB(),partFields:MB(),factory:kB}),AB=function(t){var e=function(){return AB(t.toCached())},n=function(e){return AB(t.bind(function(t){return t.fold(function(t){return tA.pure(ro.error(t))},function(t){return e(t)})}))},r=function(e){return AB(t.map(function(t){return t.bind(e)}))},o=function(e){return AB(t.map(function(t){return t.map(e)}))},i=function(e){return AB(t.map(function(t){return t.mapError(e)}))},a=function(e,n){return t.map(function(t){return t.fold(e,n)})},u=function(e,n){return AB(tA.nu(function(r){var o=!1,i=setTimeout(function(){o=!0,r(ro.error(n()))},e);t.get(function(t){o||(clearTimeout(i),r(t))})}))};return D(D({},t),{toCached:e,bindFuture:n,bindResult:r,mapResult:o,mapError:i,foldResult:a,withTimeout:u})},IB=function(t){return AB(tA.nu(t))},jB=function(t){return AB(tA.pure(ro.value(t)))},EB=function(t){return AB(tA.pure(ro.error(t)))},RB=function(t){return AB(tA.pure(t))},NB=function(t){return AB(t.map(ro.value))},PB=function(t){return IB(function(e){t.then(function(t){e(ro.value(t))},function(t){e(ro.error(t))})})},BB={nu:IB,wrap:AB,pure:jB,value:jB,error:EB,fromResult:RB,fromFuture:NB,fromPromise:PB},LB={type:"separator"},FB=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:g}},zB=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:g}},VB=function(t){return q(t,FB)},HB=function(t,e){return K(e,function(e){return e.type===t})},UB=function(t,e){return VB(HB(t,e))},WB=function(t){return UB("header",t.targets)},GB=function(t){return UB("anchor",t.targets)},qB=function(t){return P.from(t.anchorTop).map(function(t){return zB("<top>",t)}).toArray()},YB=function(t){return P.from(t.anchorBottom).map(function(t){return zB("<bottom>",t)}).toArray()},XB=function(t){return q(t,function(t){return zB(t,t)})},$B=function(t){return J(t,function(t,e){var n=0===t.length||0===e.length;return n?t.concat(e):t.concat(LB,e)},[])},KB=function(t,e){var n=t.toLowerCase();return K(e,function(t){var e=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text;return Ht(e.toLowerCase(),n)||Ht(t.value.toLowerCase(),n)})},ZB=function(t,e,n){var r=tg.getValue(e),o=void 0!==r.meta.text?r.meta.text:r.value,i=n.getLinkInformation();return i.fold(function(){return[]},function(e){var r=KB(o,XB(n.getHistory(t)));return"file"===t?$B([r,KB(o,WB(e)),KB(o,nt([qB(e),GB(e),YB(e)]))]):r})},JB=os("aria-invalid"),QB=function(t,e,n){var r,o=e.shared.providers,i=function(e){var r=tg.getValue(e);n.addToHistory(r.value,t.filetype)},a=mD.parts.field({factory:DB,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":JB,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=ZB(t.filetype,r,n),i=GN(o,UO.BUBBLE_TO_SANDBOX,e,!1);return tA.pure(i)},getHotspot:function(t){return h.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(dA)&&dA.run(t).get(g)},typeaheadBehaviours:hf(nt([n.getValidationHandler().map(function(e){return dA.config({getRoot:function(t){return vn(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){c.getOpt(t).each(function(t){zn(t.element,"title",o.translate(e))})}},validator:{validate:function(n){var r=tg.getValue(n);return BB.nu(function(n){e({type:t.filetype,url:r.value},function(t){if("invalid"===t.status){var e=ro.error(t.message);n(e)}else{var r=ro.value(t.message);n(r)}})})},validateOnLoad:!1}})}).toArray(),[Bv.config({disabled:function(){return t.disabled||o.isDisabled()}}),bD.config({}),Vx("urlinput-events",nt(["file"===t.filetype?[ju(Ha(),function(e){Ou(e,TD,{name:t.name})})]:[],[ju(Ua(),function(e){Ou(e,TD,{name:t.name}),i(e)}),ju(Qa(),function(e){Ou(e,TD,{name:t.name}),i(e)})]]))]])),eventOrder:(r={},r[Ha()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:gS(!1,1,"normal")},onExecute:function(t,e,n){Ou(e,ID,{})},onItemExecute:function(e,n,r,o){i(e),Ou(e,TD,{name:t.name})}}),u=t.label.map(function(t){return kD(t,o)}),s=function(t,e,n,r){return void 0===n&&(n=t),void 0===r&&(r=t),Pw(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],attributes:D({title:o.translate(r),"aria-live":"polite"},e.fold(function(){return{}},function(t){return{id:t}}))},o.icons)},c=Sw(s("invalid",P.some(JB),"warning")),l=Sw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),f=n.getUrlPicker(t.filetype),d=os("browser.url.event"),h=Sw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,l.asSpec()],behaviours:hf([Bv.config({disabled:function(){return t.disabled||o.isDisabled()}})])}),p=Sw(QN({name:t.name,icon:P.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(t){return wu(t,d)},o,[],["tox-browse-url"])),m=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:nt([[h.asSpec()],f.map(function(){return p.asSpec()}).toArray()])}},v=function(e){yv.getCurrent(e).each(function(n){var r=tg.getValue(n),o=D({fieldname:t.name},r);f.each(function(r){r(o).get(function(r){tg.setValue(n,r),Ou(e,TD,{name:t.name})})})})};return mD.sketch({dom:SD(),components:u.toArray().concat([m()]),fieldBehaviours:hf([Bv.config({disabled:function(){return t.disabled||o.isDisabled()},onDisabled:function(t){mD.getField(t).each(Bv.disable),p.getOpt(t).each(Bv.disable)},onEnabled:function(t){mD.getField(t).each(Bv.enable),p.getOpt(t).each(Bv.enable)}}),sk(),Vx("url-input-events",[ju(d,v)])])})},tL=function(t,e){return cD.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Ow.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Iw(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){Ou(e,AD,{name:"alert-banner",value:t.url})},buttonBehaviours:hf([Rw()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})},eL=function(t,e){var n=tg.config({store:{mode:"manual",getValue:function(t){var e=t.element.dom;return e.checked},setValue:function(t,e){var n=t.element.dom;n.checked=e}}}),r=function(t){return t.element.dom.click(),P.some(!0)},o=mD.parts.field({factory:{sketch:_},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:hf([WE.self(),Bv.config({disabled:function(){return t.disabled||e.isDisabled()}}),bD.config({}),Kx.config({}),n,Dx.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Vx("checkbox-events",[ju(Ua(),function(e,n){Ou(e,TD,{name:t.name})})])])}),i=mD.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:hf([VA.config({})])}),a=function(t){var n="checked"===t?"selected":"unselected";return Pw(n,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t]},e.icons)},u=Sw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return mD.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),i],fieldBehaviours:hf([Bv.config({disabled:function(){return t.disabled||e.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){mD.getField(t).each(Bv.disable)},onEnabled:function(t){mD.getField(t).each(Bv.enable)}}),sk()])})},nL=function(t){return"presentation"===t.presets?cD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):cD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:hf([bD.config({}),Kx.config({})])})},rL=function(t){return function(e,n,r){return kt(n,"name").fold(function(){return t(n,r)},function(o){return e.field(o,t(n,r))})}},oL=function(t){return function(e,n,r){var o=wo(n,{source:"dynamic"});return rL(t)(e,o,r)}},iL={bar:rL(function(t,e){return fD(t,e.shared)}),collection:rL(function(t,e){return PD(t,e.shared.providers)}),alertbanner:rL(function(t,e){return tL(t,e.shared.providers)}),input:rL(function(t,e){return lB(t,e.shared.providers)}),textarea:rL(function(t,e){return fB(t,e.shared.providers)}),label:rL(function(t,e){return JP(t,e.shared)}),iframe:oL(function(t,e){return xR(t,e.shared.providers)}),button:rL(function(t,e){return oP(t,e.shared.providers)}),checkbox:rL(function(t,e){return eL(t,e.shared.providers)}),colorinput:rL(function(t,e){return qA(t,e.shared,e.colorinput)}),colorpicker:rL(XE),dropzone:rL(function(t,e){return cR(t,e.shared.providers)}),grid:rL(function(t,e){return lR(t,e.shared)}),listbox:rL(function(t,e){return rB(t,e)}),selectbox:rL(function(t,e){return uB(t,e.shared.providers)}),sizeinput:rL(function(t,e){return vP(t,e.shared.providers)}),urlinput:rL(function(t,e){return QB(t,e,e.urlinput)}),customeditor:rL(ZE),htmlpanel:rL(nL),imagetools:rL(function(t,e){return ZP(t,e.shared.providers)}),table:rL(function(t,e){return sB(t,e.shared.providers)}),panel:rL(function(t,e){return oB(t,e)})},aL={field:function(t,e){return e}},uL=function(t,e,n){var r=wo(n,{shared:{interpreter:function(e){return sL(t,e,r)}}});return sL(t,e,r)},sL=function(t,e,n){return kt(iL,e.type).fold(function(){return console.error('Unknown factory type "'+e.type+'", defaulting to container: ',e),e},function(r){return r(t,e,n)})},cL=function(t,e){var n=aL;return sL(n,t,e)},lL={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},fL=function(t,e,n){var r=12,o={maxHeightFunction:Td()},i=function(){return{type:"node",root:An(t()),node:P.from(t()),bubble:jd(r,r,lL),layouts:{onRtl:function(){return[dw]},onLtr:function(){return[fw]}},overrides:o}},a=function(){return{type:"hotspot",hotspot:e(),bubble:jd(-r,r,lL),layouts:{onRtl:function(){return[Vl]},onLtr:function(){return[Hl]}},overrides:o}};return function(){return n()?i():a()}},dL=function(t,e,n){var r=function(){return{type:"node",root:An(t()),node:P.from(t()),layouts:{onRtl:function(){return[hw]},onLtr:function(){return[hw]}}}},o=function(){return{type:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[ql]},onLtr:function(){return[ql]}}}};return function(){return n()?r():o()}},hL=function(t,e){return function(){return{type:"selection",root:e(),getSelection:function(){var e=t.selection.getRng();return P.some(Sh.range(ee.fromDom(e.startContainer),e.startOffset,ee.fromDom(e.endContainer),e.endOffset))}}}},pL=function(t){return function(e){return{type:"node",root:t(),node:e}}},mL=function(t,e,n){var r=HC(t),o=function(){return ee.fromDom(t.getBody())},i=function(){return ee.fromDom(t.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:fL(i,e,a),banner:dL(i,e,a),cursor:hL(t,o),node:pL(o)}},gL=function(t){return function(e,n){var r=tM(t);r(e,n)}},vL=function(t){return function(){return NT(t)}},yL=function(t){return function(){return BT(t)}},bL=function(t){return function(){return qT(t)}},xL=function(t){return{colorPicker:gL(t),hasCustomColors:vL(t),getColors:yL(t),getColorCols:bL(t)}},_L=function(t){return function(){return YC(t)}},wL=function(t){return{isDraggableModal:_L(t)}},OL=function(t){var e=oa(BC(t)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===e.get()},getDockingMode:e.get,setDockingMode:e.set}},SL=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],CL=function(t){return Tt(t,"items")},kL=function(t){return Tt(t,"block")},TL=function(t){return Tt(t,"inline")},ML=function(t){return Tt(t,"selector")},DL=function(t){return J(t,function(t,e){if(CL(e)){var n=DL(e.items);return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(TL(e)||kL(e)||ML(e)){var r=i(e.name)?e.name:e.title.toLowerCase(),o="custom-"+r;return{customFormats:t.customFormats.concat([{name:o,format:e}]),formats:t.formats.concat([{title:e.title,format:o,icon:e.icon}])}}return D(D({},t),{formats:t.formats.concat(e)})},{customFormats:[],formats:[]})},AL=function(t,e){var n=DL(e),r=function(e){Y(e,function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)})};return t.formatter?r(n.customFormats):t.on("init",function(){r(n.customFormats)}),n.formats},IL=function(t){return OC(t).map(function(e){var n=AL(t,e);return SC(t)?SL.concat(n):n}).getOr(SL)},jL=function(t,e,n){var r={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)};return wo(t,r)},EL=function(t,e,n,r){var o=function(t){return jL(t,n,r)},a=function(t){var e={type:"submenu"};return wo(t,e)},u=function(e){var o=i(e.name)?e.name:os(e.title),a="custom-"+o,u={type:"formatter",format:a,isSelected:n(a),getStylePreview:r(a)},s=wo(e,u);return t.formatter.register(o,s),s},s=function(t){return q(t,function(t){var e=mt(t);if(Mt(t,"items")){var n=s(t.items);return wo(a(t),{getStyleItems:x(n)})}return Mt(t,"format")?o(t):1===e.length&&H(e,"title")?wo(t,{type:"separator"}):u(t)})};return s(e)},RL=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):P.none()}},r=function(t){var e=t.items;return void 0!==e&&e.length>0?rt(e,r):[t.format]},o=oa([]),i=oa([]),a=oa([]),u=oa([]),s=oa(!1);t.on("PreInit",function(a){var u=IL(t),s=EL(t,u,e,n);o.set(s),i.set(rt(s,r))}),t.on("addStyleModifications",function(o){var i=EL(t,o.items,e,n);a.set(i),s.set(o.replace),u.set(rt(i,r))});var c=function(){var t=s.get()?[]:o.get(),e=a.get();return t.concat(e)},l=function(){var t=s.get()?[]:i.get(),e=u.get();return t.concat(e)};return{getData:c,getFlattenedKeys:l}},NL=function(t){return d(t)&&1===t.nodeType},PL=JE.trim,BL=function(t){return function(e){if(NL(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},LL=BL("true"),FL=BL("false"),zL=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}},VL=function(t){while(t=t.parentNode){var e=t.contentEditable;if(e&&"inherit"!==e)return LL(t)}return!1},HL=function(t,e){return q($h(ee.fromDom(e),t),function(t){return t.dom})},UL=function(t){return t.innerText||t.textContent},WL=function(t){return t.id?t.id:os("h")},GL=function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)},qL=function(t){return GL(t)&&XL(t)},YL=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},XL=function(t){return VL(t)&&!FL(t)},$L=function(t){return YL(t)&&XL(t)},KL=function(t){return YL(t)?parseInt(t.nodeName.substr(1),10):0},ZL=function(t){var e=WL(t),n=function(){t.id=e};return zL("header",UL(t),"#"+e,KL(t),n)},JL=function(t){var e=t.id||t.name,n=UL(t);return zL("anchor",n||"#"+e,"#"+e,0,g)},QL=function(t){return q(K(t,$L),ZL)},tF=function(t){return q(K(t,qL),JL)},eF=function(t){var e=HL("h1,h2,h3,h4,h5,h6,a:not([href])",t);return e},nF=function(t){return PL(t.title).length>0},rF=function(t){var e=eF(t);return K(QL(e).concat(tF(e)),nF)},oF={find:rF},iF="tinymce-url-history",aF=5,uF=function(t){return i(t)&&/^https?/.test(t)},sF=function(t){return u(t)&&t.length<=aF&&ot(t,uF)},cF=function(t){return a(t)&&St(t,function(t){return!sF(t)}).isNone()},lF=function(){var t,e=kT.getItem(iF);if(null===e)return{};try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+iF+" was not valid JSON",n),{};throw n}return cF(t)?t:(console.log("Local storage "+iF+" was not valid format",t),{})},fF=function(t){if(!cF(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));kT.setItem(iF,JSON.stringify(t))},dF=function(t){var e=lF();return kt(e,t).getOr([])},hF=function(t,e){if(uF(t)){var n=lF(),r=kt(n,e).getOr([]),o=K(r,function(e){return e!==t});n[e]=[t].concat(o).slice(0,aF),fF(n)}},pF=function(t){return!!t},mF=function(t){return yt(JE.makeMap(t,/[, ]/),pF)},gF=function(t){return P.from(ZC(t)).filter(h)},vF=function(t){var e=P.some(JC(t)).filter(pF),n=P.some(QC(t)).filter(pF),r=e.or(n).map(mF);return gF(t).fold(k,function(t){return r.fold(T,function(t){return mt(t).length>0&&t})})},yF=function(t,e){var n=vF(t);return c(n)?n?gF(t):P.none():n[e]?gF(t):P.none()},bF=function(t,e){return yF(t,e).map(function(n){return function(r){return tA.nu(function(o){var u=function(t,e){if(!i(t))throw new Error("Expected value to be string");if(void 0!==e&&!a(e))throw new Error("Expected meta to be a object");var n={value:t,meta:e};o(n)},s=D({filetype:e,fieldname:r.fieldname},P.from(r.meta).getOr({}));n.call(t,u,r.value,s)})}})},xF=function(t){return P.from(t).filter(i).getOrUndefined()},_F=function(t){return tk(t)?P.none():P.some({targets:oF.find(t.getBody()),anchorTop:xF(ek(t)),anchorBottom:xF(nk(t))})},wF=function(t){return P.from(rk(t))},OF=function(t){return{getHistory:dF,addToHistory:hF,getLinkInformation:function(){return _F(t)},getValidationHandler:function(){return wF(t)},getUrlPicker:function(e){return bF(t,e)}}},SF=function(t,e,n){var r=oa(!1),o=OL(e),i={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:Cw.translate,isDisabled:function(){return e.mode.isReadOnly()||e.ui.isDisabled()},getSetting:e.getParam.bind(e)},interpreter:function(t){return cL(t,i)},anchors:mL(e,n,o.isPositionedAtTop),header:o,getSink:function(){return ro.value(t)}},urlinput:OF(e),styleselect:RL(e),colorinput:xL(e),dialog:wL(e),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}};return i},CF=function(t,e,n){var r=function(t,r){Y([e,n],function(e){e.broadcastEvent(t,r)})},o=function(t,r){Y([e,n],function(e){e.broadcastOn([t],r)})},i=function(t){return o(bm(),{target:t.target})},a=wf(),u=ad(a,"touchstart",i),s=ad(a,"touchmove",function(t){return r(su(),t)}),c=ad(a,"touchend",function(t){return r(cu(),t)}),l=ad(a,"mousedown",i),f=ad(a,"mouseup",function(t){0===t.raw.button&&o(_m(),{target:t.target})}),d=function(t){return o(bm(),{target:ee.fromDom(t.target)})},h=function(t){0===t.button&&o(_m(),{target:ee.fromDom(t.target)})},p=function(){Y(t.editorManager.get(),function(e){t!==e&&e.fire("DismissPopups",{relatedTarget:t})})},m=function(t){return r(lu(),sd(t))},g=function(t){o(xm(),{}),r(fu(),sd(t))},v=function(){return o(xm(),{})},y=function(e){e.state&&o(bm(),{target:ee.fromDom(t.getContainer())})},b=function(t){o(bm(),{target:ee.fromDom(t.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",d),t.on("tap",d),t.on("mouseup",h),t.on("mousedown",p),t.on("ScrollWindow",m),t.on("ResizeWindow",g),t.on("ResizeEditor",v),t.on("AfterProgressState",y),t.on("DismissPopups",b)}),t.on("remove",function(){t.off("click",d),t.off("tap",d),t.off("mouseup",h),t.off("mousedown",p),t.off("ScrollWindow",m),t.off("ResizeWindow",g),t.off("ResizeEditor",v),t.off("AfterProgressState",y),t.off("DismissPopups",b),l.unbind(),u.unbind(),s.unbind(),c.unbind(),f.unbind()}),t.on("detach",function(){Jp(e),Jp(n),e.destroy(),n.destroy()})},kF=nv,TF=Lg,MF=x([Xi("shell",!1),Di("makeItem"),Xi("setupItem",g),og.field("listBehaviours",[Fx])]),DF=function(){return{behaviours:hf([Fx.config({})])}},AF=Ng({name:"items",overrides:DF}),IF=x([AF]),jF=x("CustomList"),EF=function(t,e,n,r){var o=function(e,n){a(e).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(r){var o=Fx.contents(r),i=n.length,a=i-o.length,u=a>0?W(a,function(){return t.makeItem()}):[],s=o.slice(i);Y(s,function(t){return Fx.remove(r,t)}),Y(u,function(t){return Fx.append(r,t)});var c=Fx.contents(r);Y(c,function(r,o){t.setupItem(e,r,n[o],o)})})},i=t.shell?{behaviours:[Fx.config({})],components:[]}:{behaviours:[],components:e},a=function(e){return t.shell?P.some(e):Xg(e,t,"items")};return{uid:t.uid,dom:t.dom,components:i.components,behaviours:rg(t.listBehaviours,i.behaviours),apis:{setItems:o}}},RF=hv({name:jF(),configFields:MF(),partFields:IF(),factory:EF,apis:{setItems:function(t,e,n){t.setItems(e,n)}}}),NF=x([Di("dom"),Xi("shell",!0),eg("toolbarBehaviours",[Fx])]),PF=function(){return{behaviours:hf([Fx.config({})])}},BF=x([Ng({name:"groups",overrides:PF})]),LF=function(t,e,n,r){var o=function(t,e){i(t).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(t){Fx.set(t,e)})},i=function(e){return t.shell?P.some(e):Xg(e,t,"groups")},a=t.shell?{behaviours:[Fx.config({})],components:[]}:{behaviours:[],components:e};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:rg(t.toolbarBehaviours,a.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}},FF=hv({name:"Toolbar",configFields:NF(),partFields:BF(),factory:LF,apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),zF=g,VF=k,HF=x([]),UF=Object.freeze({__proto__:null,setup:zF,isDocked:VF,getBehaviours:HF}),WF=function(t){var e=Dt(Qn(t,"position"),"fixed"),n=e?P.none():bn(t);return n.orThunk(function(){var e=ee.fromTag("span");return vn(t).bind(function(t){Ar(t,e);var n=bn(e);return Nr(e),n})})},GF=function(t){return WF(t).map(hr).getOrThunk(function(){return lr(0,0)})},qF=aa.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),YF=function(t,e){var n=t.element;ic(n,e.transitionClass),uc(n,e.fadeOutClass),ic(n,e.fadeInClass),e.onShow(t)},XF=function(t,e){var n=t.element;ic(n,e.transitionClass),uc(n,e.fadeInClass),ic(n,e.fadeOutClass),e.onHide(t)},$F=function(t,e){return t.y<e.bottom&&t.bottom>e.y},KF=function(t,e){return t.y>=e.y},ZF=function(t,e){return t.bottom<=e.bottom},JF=function(t,e,n){return ot(t,function(t){switch(t){case"bottom":return ZF(e,n);case"top":return KF(e,n)}})},QF=function(t,e){return e.getInitialPos().map(function(e){return Kr(e.bounds.x,e.bounds.y,vr(t),ar(t))})},tz=function(t,e,n){n.setInitialPos({style:tr(t),position:Zn(t,"position")||"static",bounds:e})},ez=function(t,e,n){return n.getInitialPos().bind(function(r){switch(n.clearInitialPos(),r.position){case"static":return P.some(qF.static());case"absolute":var o=WF(t).map(Zr).getOrThunk(function(){return Zr(Bn())});return P.some(qF.absolute(Df("absolute",kt(r.style,"left").map(function(t){return e.x-o.x}),kt(r.style,"top").map(function(t){return e.y-o.y}),kt(r.style,"right").map(function(t){return o.right-e.right}),kt(r.style,"bottom").map(function(t){return o.bottom-e.bottom}))));default:return P.none()}})},nz=function(t,e,n){return QF(t,n).filter(function(t){return JF(n.getModes(),t,e)}).bind(function(e){return ez(t,e,n)})},rz=function(t,e,n){var r=Zr(t);if(JF(n.getModes(),r,e))return P.none();tz(t,r,n);var o=Qr(),i=r.x-o.x,a=e.y-o.y,u=o.bottom-e.bottom,s=r.y<=e.y;return P.some(qF.fixed(Df("fixed",P.some(i),s?P.some(a):P.none(),P.none(),s?P.none():P.some(u))))},oz=function(t,e,n){var r=t.element,o=Dt(Qn(r,"position"),"fixed");return o?nz(r,e,n):rz(r,e,n)},iz=function(t,e){var n=t.element;return QF(n,e).bind(function(t){return ez(n,t,e)})},az=function(t,e,n){n.setDocked(!1),Y(["left","right","top","bottom","position"],function(e){return nr(t.element,e)}),e.onUndocked(t)},uz=function(t,e,n,r){var o="fixed"===r.position;n.setDocked(o),If(t.element,r);var i=o?e.onDocked:e.onUndocked;i(t)},sz=function(t,e,n,r,o){void 0===o&&(o=!1),e.contextual.each(function(e){e.lazyContext(t).each(function(i){var a=$F(i,r);if(a!==n.isVisible())if(n.setVisible(a),o&&!a)cc(t.element,[e.fadeOutClass]),e.onHide(t);else{var u=a?YF:XF;u(t,e)}})})},cz=function(t,e,n){var r=e.lazyViewport(t),o=n.isDocked();o&&sz(t,e,n,r),oz(t,r,n).each(function(o){o.fold(function(){return az(t,e,n)},function(r){return uz(t,e,n,r)},function(o){sz(t,e,n,r,!0),uz(t,e,n,o)})})},lz=function(t,e,n){var r=t.element;n.setDocked(!1),iz(t,n).each(function(r){r.fold(function(){return az(t,e,n)},function(r){return uz(t,e,n,r)},g)}),n.setVisible(!0),e.contextual.each(function(e){lc(r,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(t)}),fz(t,e,n)},fz=function(t,e,n){t.getSystem().isConnected()&&cz(t,e,n)},dz=function(t,e,n){n.isDocked()&&lz(t,e,n)},hz=function(t,e,n){return n.isDocked()},pz=function(t,e,n,r){return n.setModes(r)},mz=function(t,e,n){return n.getModes()},gz=Object.freeze({__proto__:null,refresh:fz,reset:dz,isDocked:hz,getModes:mz,setModes:pz}),vz=function(t,e){return Mu([Vu(qa(),function(n,r){t.contextual.each(function(t){if(sc(n.element,t.transitionClass)){lc(n.element,[t.transitionClass,t.fadeInClass]);var o=e.isVisible()?t.onShown:t.onHidden;o(n)}r.stop()})}),ju(lu(),function(n,r){fz(n,t,e)}),ju(fu(),function(n,r){dz(n,t,e)})])},yz=Object.freeze({__proto__:null,events:vz}),bz=[qi("contextual",[ji("fadeInClass"),ji("fadeOutClass"),ji("transitionClass"),Ni("lazyContext"),ul("onShow"),ul("onShown"),ul("onHide"),ul("onHidden")]),ta("lazyViewport",Qr),na("modes",["top","bottom"],ci),ul("onDocked"),ul("onUndocked")],xz=function(t){var e=oa(!1),n=oa(!0),r=od(),o=oa(t.modes),i=function(){return"docked:  "+e.get()+", visible: "+n.get()+", modes: "+o.get().join(",")};return Cs({isDocked:e.get,setDocked:e.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:i})},_z=Object.freeze({__proto__:null,init:xz}),wz=mf({fields:bz,name:"docking",active:yz,apis:gz,state:_z}),Oz=x(os("toolbar-height-change")),Sz={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Cz="tox-tinymce--toolbar-sticky-on",kz="tox-tinymce--toolbar-sticky-off",Tz=function(t,e){var n=hn(e),r=n.dom.defaultView.innerHeight,o=Br(n),i=ee.fromDom(t.elm),a=Jr(i),u=ar(i),s=a.y,c=s+u,l=hr(e),f=ar(e),d=l.top,h=d+f,p=Math.abs(d-o.top)<2,m=Math.abs(h-(o.top+r))<2;if(p&&s<h)Lr(o.left,s-f,n);else if(m&&c>d){var g=s-r+u+f;Lr(o.left,g,n)}},Mz=function(t,e){return H(wz.getModes(t),e)},Dz=function(t){var e=function(t){return ur(t)+(parseInt(Zn(t,"margin-top"),10)||0)+(parseInt(Zn(t,"margin-bottom"),10)||0)},n=t.element;vn(n).each(function(r){var o="padding-"+wz.getModes(t)[0];if(wz.isDocked(t)){var i=vr(r);Xn(n,"width",i+"px"),Xn(r,o,e(n)+"px")}else nr(n,"width"),nr(r,o)})},Az=function(t,e){e?(uc(t,Sz.fadeOutClass),cc(t,[Sz.transitionClass,Sz.fadeInClass])):(uc(t,Sz.fadeInClass),cc(t,[Sz.fadeOutClass,Sz.transitionClass]))},Iz=function(t,e){var n=ee.fromDom(t.getContainer());e?(ic(n,Cz),uc(n,kz)):(ic(n,kz),uc(n,Cz))},jz=function(t,e){var n=hn(e);kf(n).filter(function(t){return!cn(e,t)}).filter(function(e){return cn(e,ee.fromDom(n.dom.body))||dn(t,e)}).each(function(){return Of(e)})},Ez=function(t,e){return Tf(t).orThunk(function(){return e().toOptional().bind(function(t){return Tf(t.element)})})},Rz=function(t,e,n){t.inline||(e.header.isPositionedAtTop()||t.on("ResizeEditor",function(){n().each(wz.reset)}),t.on("ResizeWindow ResizeEditor",function(){n().each(Dz)}),t.on("SkinLoaded",function(){n().each(function(t){wz.isDocked(t)?wz.reset(t):wz.refresh(t)})}),t.on("FullscreenStateChanged",function(){n().each(wz.reset)})),t.on("AfterScrollIntoView",function(t){n().each(function(e){wz.refresh(e);var n=e.element;Zy(n)&&Tz(t,n)})}),t.on("PostRender",function(){Iz(t,!1)})},Nz=function(t){return t().map(wz.isDocked).getOr(!1)},Pz=function(){var t;return[bf.config({channels:(t={},t[Oz()]={onReceive:Dz},t)})]},Bz=function(t,e){var n=od(),r=e.getSink,o=function(t){r().each(function(e){return t(e.element)})},i=function(e){t.inline||Dz(e),Iz(t,wz.isDocked(e)),e.getSystem().broadcastOn([xm()],{}),r().each(function(t){return t.getSystem().broadcastOn([xm()],{})})},a=t.inline?[]:Pz();return I([Kx.config({}),wz.config({contextual:D({lazyContext:function(e){var n=ur(e.element),r=t.inline?t.getContentAreaContainer():t.getContainer(),o=Zr(ee.fromDom(r)),i=o.height-n,a=o.y+(Mz(e,"top")?0:n);return P.some(Kr(o.x,a,o.width,i))},onShow:function(){o(function(t){return Az(t,!0)})},onShown:function(t){o(function(t){return lc(t,[Sz.transitionClass,Sz.fadeInClass])}),n.get().each(function(e){jz(t.element,e),n.clear()})},onHide:function(t){Ez(t.element,r).fold(n.clear,n.set),o(function(t){return Az(t,!1)})},onHidden:function(){o(function(t){return lc(t,[Sz.transitionClass])})}},Sz),lazyViewport:function(e){var n=Qr(),r=qC(t),o=n.y+(Mz(e,"top")?r:0),i=n.height-(Mz(e,"bottom")?r:0);return Kr(n.x,o,n.width,i)},modes:[e.header.getDockingMode()],onDocked:i,onUndocked:i})],a,!0)},Lz=Object.freeze({__proto__:null,setup:Rz,isDocked:Nz,getBehaviours:Bz}),Fz=function(t){var e=t.editor,n=t.sticky?Bz:HF;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:hf(n(e,t.sharedBackstage))}},zz=ti([ji("type"),Ai("items",ni([ii([ji("name"),Fi("items",ci)]),ci]))].concat(SO)),Vz=function(t){return xi("GroupToolbarButton",zz,t)},Hz=[Ui("text"),Ui("tooltip"),Ui("icon"),Ni("fetch"),ta("onSetup",function(){return g})],Uz=ti(I([ji("type")],Hz,!0)),Wz=function(t){return xi("menubutton",Uz,t)},Gz=ti([ji("type"),Ui("tooltip"),Ui("icon"),Ui("text"),Wi("select"),Ni("fetch"),ta("onSetup",function(){return g}),Ji("presets","normal",["normal","color","listpreview"]),Xi("columns",1),Ni("onAction"),Ni("onItemAction")]),qz=function(t){return xi("SplitButton",Gz,t)},Yz=function(t,e){var n=function(t,n){var r=q(n,function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}},r=Wz(n).mapError(function(t){return Oi(t)}).getOrDie();return YN(r,"tox-mbtn",e.backstage,P.some("menuitem"))});Fx.set(t,r)},r={focus:Dx.focusIn,setMenus:n};return{uid:t.uid,dom:t.dom,components:[],behaviours:hf([Fx.config({}),Vx("menubar-events",[Hu(function(e){t.onSetup(e)}),ju(Ba(),function(t,e){Lc(t.element,".tox-mbtn--active").each(function(n){Fc(e.event.target,".tox-mbtn").each(function(e){cn(n,e)||t.getSystem().getByDom(n).each(function(n){t.getSystem().getByDom(e).each(function(t){BA.expand(t),BA.close(n),Kx.focus(t)})})})})}),ju(gu(),function(t,e){e.event.prevFocus.bind(function(e){return t.getSystem().getByDom(e).toOptional()}).each(function(n){e.event.newFocus.bind(function(e){return t.getSystem().getByDom(e).toOptional()}).each(function(t){BA.isOpen(n)&&(BA.expand(t),BA.close(n))})})})]),Dx.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){return t.onEscape(e),P.some(!0)}}),bD.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},Xz=dv({factory:Yz,name:"silver.Menubar",configFields:[Di("dom"),Di("uid"),Di("onEscape"),Di("backstage"),Xi("onSetup",g)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),$z=function(t,e){return e.getAnimationRoot.fold(function(){return t.element},function(e){return e(t)})},Kz=function(t){return t.dimension.property},Zz=function(t,e){return t.dimension.getDimension(e)},Jz=function(t,e){var n=$z(t,e);lc(n,[e.shrinkingClass,e.growingClass])},Qz=function(t,e){uc(t.element,e.openClass),ic(t.element,e.closedClass),Xn(t.element,Kz(e),"0px"),rr(t.element)},tV=function(t,e){uc(t.element,e.closedClass),ic(t.element,e.openClass),nr(t.element,Kz(e))},eV=function(t,e,n,r){n.setCollapsed(),Xn(t.element,Kz(e),Zz(e,t.element)),rr(t.element),Jz(t,e),Qz(t,e),e.onStartShrink(t),e.onShrunk(t)},nV=function(t,e,n,r){var o=r.getOrThunk(function(){return Zz(e,t.element)});n.setCollapsed(),Xn(t.element,Kz(e),o),rr(t.element);var i=$z(t,e);uc(i,e.growingClass),ic(i,e.shrinkingClass),Qz(t,e),e.onStartShrink(t)},rV=function(t,e,n){var r=Zz(e,t.element),o="0px"===r?eV:nV;o(t,e,n,P.some(r))},oV=function(t,e,n){var r=$z(t,e),o=sc(r,e.shrinkingClass),i=Zz(e,t.element);tV(t,e);var a=Zz(e,t.element),u=function(){Xn(t.element,Kz(e),i),rr(t.element)},s=function(){Qz(t,e)},c=o?u:s;c(),uc(r,e.shrinkingClass),ic(r,e.growingClass),tV(t,e),Xn(t.element,Kz(e),a),n.setExpanded(),e.onStartGrow(t)},iV=function(t,e,n){if(n.isExpanded()){nr(t.element,Kz(e));var r=Zz(e,t.element);Xn(t.element,Kz(e),r)}},aV=function(t,e,n){n.isExpanded()||oV(t,e,n)},uV=function(t,e,n){n.isExpanded()&&rV(t,e,n)},sV=function(t,e,n){n.isExpanded()&&eV(t,e,n)},cV=function(t,e,n){return n.isExpanded()},lV=function(t,e,n){return n.isCollapsed()},fV=function(t,e,n){var r=$z(t,e);return!0===sc(r,e.growingClass)},dV=function(t,e,n){var r=$z(t,e);return!0===sc(r,e.shrinkingClass)},hV=function(t,e,n){return fV(t,e)||dV(t,e)},pV=function(t,e,n){var r=n.isExpanded()?rV:oV;r(t,e,n)},mV=Object.freeze({__proto__:null,refresh:iV,grow:aV,shrink:uV,immediateShrink:sV,hasGrown:cV,hasShrunk:lV,isGrowing:fV,isShrinking:dV,isTransitioning:hV,toggleGrow:pV,disableTransitions:Jz}),gV=function(t,e,n){var r=e.expanded;return As(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:ha(e.dimension.property,"0px")})},vV=function(t,e){return Mu([Vu(qa(),function(n,r){var o=r.event.raw;if(o.propertyName===t.dimension.property){Jz(n,t),e.isExpanded()&&nr(n.element,t.dimension.property);var i=e.isExpanded()?t.onGrown:t.onShrunk;i(n)}})])},yV=Object.freeze({__proto__:null,exhibit:gV,events:vV}),bV=[Di("closedClass"),Di("openClass"),Di("shrinkingClass"),Di("growingClass"),zi("getAnimationRoot"),ul("onShrunk"),ul("onStartShrink"),ul("onGrown"),ul("onStartGrow"),Xi("expanded",!1),Ai("dimension",Si("property",{width:[fl("property","width"),fl("getDimension",function(t){return vr(t)+"px"})],height:[fl("property","height"),fl("getDimension",function(t){return ar(t)+"px"})]}))],xV=function(t){var e=oa(t.expanded),n=function(){return"expanded: "+e.get()};return Cs({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:O(e.set,!1),setExpanded:O(e.set,!0),readState:n})},_V=Object.freeze({__proto__:null,init:xV}),wV=mf({fields:bV,name:"sliding",active:yV,apis:mV,state:_V}),OV="container",SV=[eg("slotBehaviours",[])],CV=function(t){return"<alloy.field."+t+">"},kV=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),Ug(OV,CV(e),n)};return{slot:e,record:x(t)}}(),n=t(e),r=e.record(),o=q(r,function(t){return Eg({name:t,pname:CV(t)})});return av(OV,SV,o,TV,n)},TV=function(t,e){var n=function(e){return Jg(t)},r=function(e,n){return Xg(e,t,n)},o=function(e,n){return function(r,o){return Xg(r,t,o).map(function(t){return e(t,o)}).getOr(n)}},i=function(t){return function(e,n){Y(n,function(n){return t(e,n)})}},a=function(t,e){return"true"!==Hn(t.element,"aria-hidden")},u=function(t,e){if(!a(t)){var n=t.element;nr(n,"display"),Gn(n,"aria-hidden"),Ou(t,vu(),{name:e,visible:!0})}},s=function(t,e){if(a(t)){var n=t.element;Xn(n,"display","none"),zn(n,"aria-hidden","true"),Ou(t,vu(),{name:e,visible:!1})}},c=o(a,!1),l=o(s),f=i(l),d=function(t){return f(t,n())},h=o(u),p={getSlotNames:n,getSlot:r,isShowing:c,hideSlot:l,hideAllSlots:d,showSlot:h};return{uid:t.uid,dom:t.dom,components:e,behaviours:ng(t.slotBehaviours),apis:p}},MV=yt({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},function(t){return Os(t)}),DV=D(D({},MV),{sketch:kV}),AV=ti([Ui("icon"),Ui("tooltip"),ta("onShow",g),ta("onHide",g),ta("onSetup",function(){return g})]),IV=function(t){return xi("sidebar",AV,t)},jV=function(t){var e=t.ui.registry.getAll().sidebars;Y(mt(e),function(n){var r=e[n],o=function(){return Dt(P.from(t.queryCommandValue("ToggleSidebar")),n)};t.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",!1,n),e.setActive(o())},onSetup:function(e){var n=function(){return e.setActive(o())};return t.on("ToggleSidebar",n),function(){t.off("ToggleSidebar",n)}}})})},EV=function(t){return{element:function(){return t.element.dom}}},RV=function(t,e){var n=q(mt(e),function(t){var n=e[t],r=_i(IV(n));return{name:t,getApi:EV,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return q(n,function(e){var r=oa(g);return t.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:JS.unnamedEvents([mk(e,r),gk(e,r),ju(vu(),function(t,e){var r=e.event,o=tt(n,function(t){return t.name===r.name});o.each(function(e){var n=r.visible?e.onShow:e.onHide;n(e.getApi(t))})})])})})},NV=function(t){return DV.sketch(function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:RV(e,t),slotBehaviours:JS.unnamedEvents([Hu(function(t){return DV.hideAllSlots(t)})])}})},PV=function(t,e){var n=yv.getCurrent(t);n.each(function(t){return Fx.set(t,[NV(e)])})},BV=function(t,e){var n=yv.getCurrent(t);n.each(function(t){var n=yv.getCurrent(t);n.each(function(n){wV.hasGrown(t)?DV.isShowing(n,e)?wV.shrink(t):(DV.hideAllSlots(n),DV.showSlot(n,e)):(DV.hideAllSlots(n),DV.showSlot(n,e),wV.grow(t))})})},LV=function(t){var e=yv.getCurrent(t);return e.bind(function(t){var e=wV.isGrowing(t)||wV.hasGrown(t);if(e){var n=yv.getCurrent(t);return n.bind(function(t){return tt(DV.getSlotNames(t),function(e){return DV.isShowing(t,e)})})}return P.none()})},FV=os("FixSizeEvent"),zV=os("AutoSizeEvent"),VV=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:hf([bD.config({}),Kx.config({}),wV.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var e=yv.getCurrent(t);e.each(DV.hideAllSlots),wu(t,zV)},onGrown:function(t){wu(t,zV)},onStartGrow:function(t){Ou(t,FV,{width:Qn(t.element,"width").getOr("")})},onStartShrink:function(t){Ou(t,FV,{width:vr(t.element)+"px"})}}),Fx.config({}),yv.config({find:function(t){var e=Fx.contents(t);return ft(e)}})])}],behaviours:hf([WE.childAt(0),Vx("sidebar-sliding-events",[ju(FV,function(t,e){Xn(t.element,"width",e.event.width)}),ju(zV,function(t,e){nr(t.element,"width")})])])}},HV=function(t,e,n,r){zn(t.element,"aria-busy",!0);var o=e.getRoot(t).getOr(t),i=hf([Dx.config({mode:"special",onTab:function(){return P.some(!0)},onShiftTab:function(){return P.some(!0)}}),Kx.config({})]),a=r(o,i),u=o.getSystem().build(a);Fx.append(o,Mc(u)),u.hasConfigured(Dx)&&e.focus&&Dx.focusIn(u),n.isBlocked()||e.onBlock(t),n.blockWith(function(){return Fx.remove(o,u)})},UV=function(t,e,n){Gn(t.element,"aria-busy"),n.isBlocked()&&e.onUnblock(t),n.clear()},WV=Object.freeze({__proto__:null,block:HV,unblock:UV}),GV=[ta("getRoot",P.none),Qi("focus",!0),ul("onBlock"),ul("onUnblock")],qV=function(){var t=ed(),e=function(e){t.set({destroy:e})};return Cs({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})},YV=Object.freeze({__proto__:null,init:qV}),XV=mf({fields:GV,name:"blocking",apis:WV,state:YV}),$V=function(t){var e=void 0!==t.dom.attributes?t.dom.attributes:[];return J(e,function(t,e){var n;return"class"===e.name?t:D(D({},t),(n={},n[e.name]=e.value,n))},{})},KV=function(t){return Array.prototype.slice.call(t.dom.classList,0)},ZV=function(t){var e=ee.fromHtml(t),n=_n(e),r=$V(e),o=KV(e),i=0===n.length?{}:{innerHtml:Yu(e)};return D({tag:ue(e),classes:o,attributes:r},i)},JV=function(t){return function(e,n){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:ZV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},QV=function(t){return yv.getCurrent(t).each(function(t){return Of(t.element)})},tH=function(t,e){var n="tabindex",r="data-mce-"+n;P.from(t.iframeElement).map(ee.fromDom).each(function(t){e?(Un(t,n).each(function(e){return zn(t,r,e)}),zn(t,n,-1)):(Gn(t,n),Un(t,r).each(function(e){zn(t,n,e),Gn(t,r)}))})},eH=function(t,e,n,r){var o=e.element;if(tH(t,n),n)XV.block(e,JV(r)),nr(o,"display"),Gn(o,"aria-hidden"),t.hasFocus()&&QV(e);else{var i=yv.getCurrent(e).exists(function(t){return Cf(t.element)});XV.unblock(e),Xn(o,"display","none"),zn(o,"aria-hidden","true"),i&&t.focus()}},nH=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:hf([Fx.config({}),XV.config({focus:!1}),yv.config({find:function(t){return ft(t.components())}})]),components:[]}},rH=function(t){return"focusin"===t.type},oH=function(t){if(rH(t)){var e=t.composed?ft(t.composedPath()):P.from(t.target);return e.map(ee.fromDom).filter(le).exists(function(t){return sc(t,"mce-pastebin")})}return!1},iH=function(t,e,n){var r=oa(!1),o=od(),i=function(n){r.get()&&!oH(n)&&(n.preventDefault(),QV(e()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",i),t.on("BeforeExecCommand",function(t){"mcefocus"===t.command.toLowerCase()&&!0!==t.value&&i(t)})});var a=function(o){o!==r.get()&&(r.set(o),eH(t,e(),o,n.providers),t.fire("AfterProgressState",{state:o}))};t.on("ProgressState",function(e){if(o.on(_w.clearTimeout),p(e.time)){var n=_w.setEditorTimeout(t,function(){return a(e.state)},e.time);o.set(n)}else a(e.state),o.clear()})},aH=function(t,e){var n={len:0,list:[]},r=J(t,function(t,n){var r=e(n,t.len);return r.fold(x(t),function(e){return{len:e.finish,list:t.list.concat([e])}})},n);return r.list},uH=function(t,e,n){return{within:t,extra:e,withinWidth:n}},sH=function(t,e,n){var r=aH(t,function(t,e){var r=n(t);return P.some({element:t,start:e,finish:e+r,width:r})}),o=K(r,function(t){return t.finish<=e}),i=Z(o,function(t,e){return t+e.width},0),a=r.slice(o.length);return{within:o,extra:a,withinWidth:i}},cH=function(t){return q(t,function(t){return t.element})},lH=function(t,e,n){var r=cH(t.concat(e));return uH(r,[],n)},fH=function(t,e,n,r){var o=cH(t).concat([n]);return uH(o,cH(e),r)},dH=function(t,e,n){return uH(cH(t),[],n)},hH=function(t,e,n){var r=sH(e,t,n);return 0===r.extra.length?P.some(r):P.none()},pH=function(t,e,n,r){var o=hH(t,e,n).getOrThunk(function(){return sH(e,t-n(r),n)}),i=o.within,a=o.extra,u=o.withinWidth;return 1===a.length&&a[0].width<=n(r)?lH(i,a,u):a.length>=1?fH(i,a,r,u):dH(i,a,u)},mH=function(t,e){var n=q(e,function(t){return Mc(t)});FF.setGroups(t,n)},gH=function(t){return pt(t,function(t){return Tf(t.element).bind(function(e){return t.getSystem().getByDom(e).toOptional()})})},vH=function(t,e,n){var r=e.builtGroups.get();if(0!==r.length){var o=$g(t,e,"primary"),i=yA.getCoupled(t,"overflowGroup");Xn(o.element,"visibility","hidden");var a=r.concat([i]),u=gH(a);n([]),mH(o,a);var s=vr(o.element),c=pH(s,e.builtGroups.get(),function(t){return vr(t.element)},i);0===c.extra.length?(Fx.remove(o,i),n([])):(mH(o,c.within),n(c.extra)),nr(o.element,"visibility"),rr(o.element),u.each(Kx.focus)}},yH=x([eg("splitToolbarBehaviours",[yA]),Ti("builtGroups",function(){return oa([])})]),bH=x([il(["overflowToggledClass"]),Wi("getOverflowBounds"),Di("lazySink"),Ti("overflowGroups",function(){return oa([])})].concat(yH())),xH=x([Eg({factory:FF,schema:NF(),name:"primary"}),Rg({schema:NF(),name:"overflow"}),Rg({name:"overflow-button"}),Rg({name:"overflow-group"})]),_H=x(function(t,e){br(t,Math.floor(e))}),wH=x([il(["toggledClass"]),Di("lazySink"),Ni("fetch"),Wi("getBounds"),qi("fireDismissalEventInstead",[Xi("event",pu())]),Fd()]),OH=x([Rg({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:hf([m_.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Rg({factory:FF,schema:NF(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:hf([Dx.config({mode:"cyclic",onEscape:function(e){return Xg(e,t,"button").each(Kx.focus),P.none()}})])}}})]),SH=function(t,e){var n=yA.getCoupled(t,"toolbarSandbox");ym.isOpen(n)?ym.close(n):ym.open(n,e.toolbar())},CH=function(t,e,n,r){var o=n.getBounds.map(function(t){return t()}),i=n.lazySink(t).getOrDie();Lp.positionWithinBounds(i,e,{anchor:{type:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:_H()}}},o)},kH=function(t,e,n,r,o){FF.setGroups(e,o),CH(t,e,n,r),m_.on(t)},TH=function(t,e,n){var r=Vc(),o=function(o,i){n.fetch().get(function(o){kH(t,i,n,e.layouts,o),r.link(t.element),Dx.focusIn(i)})},i=function(){m_.off(t),Kx.focus(t),r.unlink(t.element)};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:hf([Dx.config({mode:"special",onEscape:function(t){return ym.close(t),P.some(!0)}}),ym.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return Uc(n,r)||Uc(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),bf.config({channels:D(D({},Om(D({isExtraPart:k},n.fireDismissalEventInstead.map(function(t){return{fireEventInstead:{event:t.event}}}).getOr({})))),Cm({doReposition:function(){ym.getState(yA.getCoupled(t,"toolbarSandbox")).each(function(r){CH(t,r,n,e.layouts)})}}))})])}},MH=function(t,e,n,r){return D(D({},Ow.sketch(D(D({},r.button()),{action:function(t){SH(t,r)},buttonBehaviours:og.augment({dump:r.button().buttonBehaviours},[yA.config({others:{toolbarSandbox:function(e){return TH(e,n,t)}}})])}))),{apis:{setGroups:function(e,r){ym.getState(yA.getCoupled(e,"toolbarSandbox")).each(function(o){kH(e,o,t,n.layouts,r)})},reposition:function(e){ym.getState(yA.getCoupled(e,"toolbarSandbox")).each(function(r){CH(e,r,t,n.layouts)})},toggle:function(t){SH(t,r)},getToolbar:function(t){return ym.getState(yA.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return ym.isOpen(yA.getCoupled(t,"toolbarSandbox"))}}})},DH=hv({name:"FloatingToolbarButton",factory:MH,configFields:wH(),partFields:OH(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)},isOpen:function(t,e){return t.isOpen(e)}}}),AH=x([Di("items"),il(["itemSelector"]),eg("tgroupBehaviours",[Dx])]),IH=x([Pg({name:"items",unit:"item"})]),jH=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:rg(t.tgroupBehaviours,[Dx.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},EH=hv({name:"ToolbarGroup",configFields:AH(),partFields:IH(),factory:jH}),RH=function(t){return q(t,function(t){return Mc(t)})},NH=function(t,e,n){vH(t,n,function(r){n.overflowGroups.set(r),e.getOpt(t).each(function(t){DH.setGroups(t,RH(r))})})},PH=function(t,e,n,r){var o=Sw(DH.sketch({fetch:function(){return tA.nu(function(e){e(RH(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Hl,Vl]},onRtl:function(){return[Vl,Hl]},onBottomLtr:function(){return[Wl,Ul]},onBottomRtl:function(){return[Ul,Wl]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:t.uid,dom:t.dom,components:e,behaviours:rg(t.splitToolbarBehaviours,[yA.config({others:{overflowGroup:function(){return EH.sketch(D(D({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(q(n,e.getSystem().build)),NH(e,o,t)},refresh:function(e){return NH(e,o,t)},toggle:function(t){o.getOpt(t).each(function(t){DH.toggle(t)})},isOpen:function(t){return o.getOpt(t).map(DH.isOpen).getOr(!1)},reposition:function(t){o.getOpt(t).each(function(t){DH.reposition(t)})},getOverflow:function(t){return o.getOpt(t).bind(DH.getToolbar)}},domModification:{attributes:{role:"group"}}}},BH=hv({name:"SplitFloatingToolbar",configFields:bH(),partFields:xH(),factory:PH,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)},getOverflow:function(t,e){return t.getOverflow(e)}}}),LH=x([il(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ul("onOpened"),ul("onClosed")].concat(yH())),FH=x([Eg({factory:FF,schema:NF(),name:"primary"}),Eg({factory:FF,schema:NF(),name:"overflow",overrides:function(t){return{toolbarBehaviours:hf([wV.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){Xg(e,t,"overflow-button").each(function(t){m_.off(t),Kx.focus(t)}),t.onClosed(e)},onGrown:function(e){Dx.focusIn(e),t.onOpened(e)},onStartGrow:function(e){Xg(e,t,"overflow-button").each(m_.on)}}),Dx.config({mode:"acyclic",onEscape:function(e){return Xg(e,t,"overflow-button").each(Kx.focus),P.some(!0)}})])}}}),Rg({name:"overflow-button",overrides:function(t){return{buttonBehaviours:hf([m_.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Rg({name:"overflow-group"})]),zH=function(t,e){return Xg(t,e,"overflow").map(wV.hasGrown).getOr(!1)},VH=function(t,e){Xg(t,e,"overflow-button").bind(function(){return Xg(t,e,"overflow")}).each(function(n){HH(t,e),wV.toggleGrow(n)})},HH=function(t,e){Xg(t,e,"overflow").each(function(n){vH(t,e,function(t){var e=q(t,function(t){return Mc(t)});FF.setGroups(n,e)}),Xg(t,e,"overflow-button").each(function(t){wV.hasGrown(n)&&m_.on(t)}),wV.refresh(n)})},UH=function(t,e,n,r){var o="alloy.toolbar.toggle",i=function(e,n){var r=q(n,e.getSystem().build);t.builtGroups.set(r)};return{uid:t.uid,dom:t.dom,components:e,behaviours:rg(t.splitToolbarBehaviours,[yA.config({others:{overflowGroup:function(t){return EH.sketch(D(D({},r["overflow-group"]()),{items:[Ow.sketch(D(D({},r["overflow-button"]()),{action:function(e){wu(t,o)}}))]}))}}}),Vx("toolbar-toggle-events",[ju(o,function(e){VH(e,t)})])]),apis:{setGroups:function(e,n){i(e,n),HH(e,t)},refresh:function(e){return HH(e,t)},toggle:function(e){return VH(e,t)},isOpen:function(e){return zH(e,t)}},domModification:{attributes:{role:"group"}}}},WH=hv({name:"SplitSlidingToolbar",configFields:LH(),partFields:FH(),factory:UH,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)}}}),GH=function(t){var e=t.title.fold(function(){return{}},function(t){return{attributes:{title:t}}});return{dom:D({tag:"div",classes:["tox-toolbar__group"]},e),components:[EH.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:hf([bD.config({}),Kx.config({})])}},qH=function(t){return EH.sketch(GH(t))},YH=function(t,e){var n=Hu(function(e){var n=q(t.initGroups,qH);FF.setGroups(e,n)});return hf([hk.toolbarButton(t.providers.isDisabled),sk(),Dx.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Vx("toolbar-events",[n])])},XH=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":GH({title:P.none(),items:[]}),"overflow-button":KN({name:"more",icon:P.some("more-drawer"),disabled:!1,tooltip:P.some("More..."),primary:!1,borderless:!1},P.none(),t.providers)},splitToolbarBehaviours:YH(t,e)}},$H=function(t){var e=XH(t),n=4,r=BH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return BH.sketch(D(D({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element,r=Jr(e),o=mn(e),i=Jr(o),a=Math.max(o.dom.scrollHeight,i.height);return Kr(r.x+n,i.y,r.width-2*n,a)},parts:D(D({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},KH=function(t){var e=WH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=WH.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=XH(t);return WH.sketch(D(D({},r),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([Oz()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([Oz()],{type:"closed"})}}))},ZH=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return FF.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===HO.scrolling?["tox-toolbar--scrolling"]:[])},components:[FF.parts.groups({})],toolbarBehaviours:YH(t,e)})},JH=function(t,e,n){var r={getSocket:function(e){return kF.getPart(e,t,"socket")},setSidebar:function(e,n){kF.getPart(e,t,"sidebar").each(function(t){return PV(t,n)})},toggleSidebar:function(e,n){kF.getPart(e,t,"sidebar").each(function(t){return BV(t,n)})},whichSidebar:function(e){return kF.getPart(e,t,"sidebar").bind(LV).getOrNull()},getHeader:function(e){return kF.getPart(e,t,"header")},getToolbar:function(e){return kF.getPart(e,t,"toolbar")},setToolbar:function(e,n){kF.getPart(e,t,"toolbar").each(function(t){t.getApis().setGroups(t,n)})},setToolbars:function(e,n){kF.getPart(e,t,"multiple-toolbar").each(function(t){RF.setItems(t,n)})},refreshToolbar:function(e){var n=kF.getPart(e,t,"toolbar");n.each(function(t){return t.getApis().refresh(t)})},toggleToolbarDrawer:function(e){kF.getPart(e,t,"toolbar").each(function(t){Nt(t.getApis().toggle,function(e){return e(t)})})},isToolbarDrawerToggled:function(e){return kF.getPart(e,t,"toolbar").bind(function(t){return P.from(t.getApis().isOpen).map(function(e){return e(t)})}).getOr(!1)},getThrobber:function(e){return kF.getPart(e,t,"throbber")},focusToolbar:function(e){var n=kF.getPart(e,t,"toolbar").orThunk(function(){return kF.getPart(e,t,"multiple-toolbar")});n.each(function(t){Dx.focusIn(t)})},setMenubar:function(e,n){kF.getPart(e,t,"menubar").each(function(t){Xz.setMenus(t,n)})},focusMenubar:function(e){kF.getPart(e,t,"menubar").each(function(t){Xz.focus(t)})}};return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}},QH=TF.optional({factory:Xz,name:"menubar",schema:[Di("backstage")]}),tU=function(t){return t.type===HO.sliding?KH:t.type===HO.floating?$H:ZH},eU=TF.optional({factory:{sketch:function(t){return RF.sketch({uid:t.uid,dom:t.dom,listBehaviours:hf([Dx.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return ZH({type:t.type,uid:os("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),P.some(!0)}})},setupItem:function(t,e,n,r){FF.setGroups(e,n)},shell:!0})}},name:"multiple-toolbar",schema:[Di("dom"),Di("onEscape")]}),nU=TF.optional({factory:{sketch:function(t){var e=tU(t),n={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),P.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return e(n)}},name:"toolbar",schema:[Di("dom"),Di("onEscape"),Di("getSink")]}),rU=TF.optional({factory:{sketch:Fz},name:"header",schema:[Di("dom")]}),oU=TF.optional({name:"socket",schema:[Di("dom")]}),iU=TF.optional({factory:{sketch:VV},name:"sidebar",schema:[Di("dom")]}),aU=TF.optional({factory:{sketch:nH},name:"throbber",schema:[Di("dom")]}),uU=hv({name:"OuterContainer",factory:JH,configFields:[Di("dom"),Di("behaviours")],partFields:[rU,QH,nU,eU,oU,iU,aU],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var r=q(n,function(t){return qH(t)});t.setToolbar(e,r)},setToolbars:function(t,e,n){var r=q(n,function(t){return q(t,qH)});t.setToolbars(e,r)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},toggleToolbarDrawer:function(t,e){t.toggleToolbarDrawer(e)},isToolbarDrawerToggled:function(t,e){return t.isToolbarDrawerToggled(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}}),sU="file edit view insert format tools table help",cU={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},lU=function(t,e,n){var r=TC(n).split(/[ ,]/);return{text:t.title,getItems:function(){return rt(t.items,function(t){var n=t.toLowerCase();return 0===n.trim().length?[]:U(r,function(t){return t===n})?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]})}}},fU=function(t){return"string"===typeof t?t.split(" "):t},dU=function(t,e){var n=D(D({},cU),e.menus),r=mt(e.menus).length>0,o=void 0===e.menubar||!0===e.menubar?fU(sU):fU(!1===e.menubar?"":e.menubar),i=K(o,function(t){var n=Tt(cU,t);return r?n||kt(e.menus,t).exists(function(t){return Tt(t,"items")}):n}),a=q(i,function(r){var o=n[r];return lU({title:o.title,items:fU(o.items)},e,t)});return K(a,function(t){var e=function(t){return"separator"!==t.type};return t.getItems().length>0&&U(t.getItems(),e)})},hU=function(t){var e=function(){t._skinLoaded=!0,mT(t)};return function(){t.initialized?e():t.on("init",e)}},pU=function(t,e){return function(){return gT(t,{message:e})}},mU=function(t,e,n){return new aO(function(r,o){n.load(e,r,o),t.on("remove",function(){return n.unload(e)})})},gU=function(t,e){var n=e+"/skin.min.css";return mU(t,n,t.ui.styleSheetLoader)},vU=function(t,e){var n=In(ee.fromDom(t.getElement()));if(n){var r=e+"/skin.shadowdom.min.css";return mU(t,r,dC.DOM.styleSheetLoader)}return aO.resolve()},yU=function(t,e){var n=pC(e);n&&e.contentCSS.push(n+(t?"/content.inline":"/content")+".min.css"),!1===gC(e)&&i(n)?aO.all([gU(e,n),vU(e,n)]).then(hU(e),pU(e,"Skin could not be loaded")):hU(e)()},bU=O(yU,!1),xU=O(yU,!0),_U=function(t,e){return function(n){var r=nd(),o=function(){n.setActive(t.formatter.match(e));var o=t.formatter.formatChanged(e,n.setActive);r.set(o)};return t.initialized?o():t.once("init",o),function(){t.off("init",o),r.clear()}}},wU=function(t,e,n){return function(r){var o=function(){return n(r)},i=function(){n(r),t.on(e,o)};return t.initialized?i():t.once("init",i),function(){t.off("init",i),t.off(e,o)}}},OU=function(t){return function(e){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,e.format)})}}},SU=function(t,e){return function(){return t.execCommand(e)}},CU=function(t,e,n){var r=function(t,r,i,a){var u=e.shared.providers.translate(t.title);if("separator"===t.type)return P.some({type:"separator",text:u});if("submenu"===t.type){var s=rt(t.getStyleItems(),function(t){return o(t,r,a)});return 0===r&&s.length<=0?P.none():P.some({type:"nestedmenuitem",text:u,disabled:s.length<=0,getSubmenuItems:function(){return rt(t.getStyleItems(),function(t){return o(t,r,a)})}})}return P.some(D({type:"togglemenuitem",text:u,icon:t.icon,active:t.isSelected(a),disabled:i,onAction:n.onAction(t)},t.getStylePreview().fold(function(){return{}},function(t){return{meta:{style:t}}})))},o=function(t,e,o){var i="formatter"===t.type&&n.isInvalid(t);return 0===e?i?[]:r(t,e,!1,o).toArray():r(t,e,i,o).toArray()},i=function(t){var e=n.getCurrentValue(),r=n.shouldHide?0:1;return rt(t,function(t){return o(t,r,e)})},a=function(t,e){return function(n,r){var o=e(),a=i(o),u=GN(a,UO.CLOSE_ON_EXECUTE,t,!1);r(u)}};return{validateItems:i,getFetch:a}},kU=function(t,e,n){var r=n.dataset,o="basic"===r.type?function(){return q(r.data,function(t){return jL(t,n.isSelectedFor,n.getPreviewFor)})}:r.getData;return{items:CU(t,e,n),getStyleItems:o}},TU=function(t,e,n){var r=kU(t,e,n),o=r.items,i=r.getStyleItems,a=function(t){return{getComponent:x(t)}},u=wU(t,"NodeChange",function(t){var e=t.getComponent();n.updateText(e)});return NN({text:n.icon.isSome()?P.none():n.text,icon:n.icon,tooltip:P.from(n.tooltip),role:P.none(),fetch:o.getFetch(e,i),onSetup:u,getApi:a,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)},MU=function(t){return q(t,function(t){var e=t,n=t,r=t.split("=");return r.length>1&&(e=r[0],n=r[1]),{title:e,format:n}})},DU=function(t){return{type:"basic",data:t}};(function(t){t[t["SemiColon"]=0]="SemiColon",t[t["Space"]=1]="Space"})($P||($P={}));var AU,IU=function(t,e){return e===$P.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},jU=function(t,e,n,r){var o=t.getParam(e,n,"string"),i=MU(IU(o,r));return{type:"basic",data:i}},EU=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],RU=function(t){var e=function(){return tt(EU,function(e){return t.formatter.match(e.format)})},n=function(e){return function(){return t.formatter.match(e)}},r=function(t){return P.none},o=function(t){var n=e(),r=n.fold(x("left"),function(t){return t.title.toLowerCase()});Ou(t,RN,{icon:"align-"+r})},i=DU(EU),a=function(e){return function(){return tt(EU,function(t){return t.format===e.format}).each(function(e){return t.execCommand(e.command)})}};return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:n,getCurrentValue:P.none,getPreviewFor:r,onAction:a,updateText:o,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},NU=function(t,e){return TU(t,e,RU(t))},PU=function(t,e){var n=kU(t,e,RU(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},BU="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",LU=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],FU=function(t){var e=t.split(/\s*,\s*/);return q(e,function(t){return t.replace(/^['"]+|['"]+$/g,"")})},zU=function(t){var e=function(){var e=FU(t.toLowerCase());return ot(LU,function(t){return e.indexOf(t.toLowerCase())>-1})};return 0===t.indexOf("-apple-system")&&e()},VU=function(t){var e="System Font",n=function(){var n=function(t){return t?FU(t)[0]:""},r=t.queryCommandValue("FontName"),o=s.data,i=r?r.toLowerCase():"",a=tt(o,function(t){var e=t.format;return e.toLowerCase()===i||n(e).toLowerCase()===n(i).toLowerCase()}).orThunk(function(){return Pt(zU(i),{title:e,format:i})});return{matchOpt:a,font:r}},r=function(t){return function(e){return e.exists(function(e){return e.format===t})}},o=function(){var t=n().matchOpt;return t},i=function(t){return function(){return P.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},a=function(e){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,e.format)})}},u=function(t){var e=n(),r=e.matchOpt,o=e.font,i=r.fold(x(o),function(t){return t.title});Ou(t,EN,{text:i})},s=jU(t,"font_formats",BU,$P.SemiColon);return{tooltip:"Fonts",text:P.some(e),icon:P.none(),isSelectedFor:r,getCurrentValue:o,getPreviewFor:i,onAction:a,updateText:u,dataset:s,shouldHide:!1,isInvalid:k}},HU=function(t,e){return TU(t,e,VU(t))},UU=function(t,e){var n=kU(t,e,VU(t));t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},WU="8pt 10pt 12pt 14pt 18pt 24pt 36pt",GU={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},qU={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},YU=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},XU=function(t,e){return/[0-9.]+px$/.test(t)?YU(72*parseInt(t,10)/96,e||0)+"pt":kt(qU,t).getOr(t)},$U=function(t){return kt(GU,t).getOr("")},KU=function(t){var e=function(){var e=P.none(),n=u.data,r=t.queryCommandValue("FontSize");if(r)for(var o=function(t){var o=XU(r,t),i=$U(o);e=tt(n,function(t){return t.format===r||t.format===o||t.format===i})},i=3;e.isNone()&&i>=0;i--)o(i);return{matchOpt:e,size:r}},n=function(t){return function(e){return e.exists(function(e){return e.format===t})}},r=function(){var t=e().matchOpt;return t},o=x(P.none),i=function(e){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,e.format)})}},a=function(t){var n=e(),r=n.matchOpt,o=n.size,i=r.fold(x(o),function(t){return t.title});Ou(t,EN,{text:i})},u=jU(t,"fontsize_formats",WU,$P.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:i,updateText:a,dataset:u,shouldHide:!1,isInvalid:k}},ZU=function(t,e){return TU(t,e,KU(t))},JU=function(t,e){var n=kU(t,e,KU(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},QU=function(t,e){var n=e(),r=q(n,function(t){return t.format});return P.from(t.formatter.closest(r)).bind(function(t){return tt(n,function(e){return e.format===t})}).orThunk(function(){return Pt(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},tW="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",eW=function(t){var e="Paragraph",n=function(e){return function(){return t.formatter.match(e)}},r=function(e){return function(){var n=t.formatter.get(e);return P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}},o=function(n){var r=QU(t,function(){return i.data}),o=r.fold(x(e),function(t){return t.title});Ou(n,EN,{text:o})},i=jU(t,"block_formats",tW,$P.SemiColon);return{tooltip:"Blocks",text:P.some(e),icon:P.none(),isSelectedFor:n,getCurrentValue:P.none,getPreviewFor:r,onAction:OU(t),updateText:o,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},nW=function(t,e){return TU(t,e,eW(t))},rW=function(t,e){var n=kU(t,e,eW(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},oW=function(t,e){var n="Paragraph",r=function(e){return function(){return t.formatter.match(e)}},o=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):P.none()}},i=function(e){var r=function(t){var e=t.items;return void 0!==e&&e.length>0?rt(e,r):[{title:t.title,format:t.format}]},o=rt(IL(t),r),i=QU(t,x(o)),a=i.fold(x(n),function(t){return t.title});Ou(e,EN,{text:a})};return{tooltip:"Formats",text:P.some(n),icon:P.none(),isSelectedFor:r,getCurrentValue:P.none,getPreviewFor:o,onAction:OU(t),updateText:i,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}},iW=function(t,e){var n=D({type:"advanced"},e.styleselect);return TU(t,e,oW(t,n))},aW=function(t,e){var n=D({type:"advanced"},e.styleselect),r=kU(t,e,oW(t,n));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},uW=function(t,e){var n=function(n,r){t.updateState.each(function(t){var o=t(n,r);e.set(o)}),t.renderComponents.each(function(t){var o=t(r,e.get()),i=q(o,n.getSystem().build);Up(n,i)})};return Mu([ju(tu(),function(e,r){var o=r;if(!o.universal){var i=t.channel;H(o.channels,i)&&n(e,o.data)}}),Hu(function(e,r){t.initialData.each(function(t){n(e,t)})})])},sW=Object.freeze({__proto__:null,events:uW}),cW=function(t,e,n){return n},lW=Object.freeze({__proto__:null,getState:cW}),fW=[Di("channel"),zi("renderComponents"),zi("updateState"),zi("initialData")],dW=function(){var t=oa(P.none()),e=function(){return t.set(P.none())},n=function(){return t.get().getOr("none")};return{readState:n,get:t.get,set:t.set,clear:e}},hW=Object.freeze({__proto__:null,init:dW}),pW=mf({fields:fW,name:"reflecting",active:sW,apis:lW,state:hW}),mW=x([Di("toggleClass"),Di("fetch"),cl("onExecute"),Xi("getHotspot",P.some),Xi("getAnchorOverrides",x({})),Fd(),cl("onItemExecute"),zi("lazySink"),Di("dom"),ul("onOpen"),eg("splitDropdownBehaviours",[yA,Dx,Kx]),Xi("matchWidth",!1),Xi("useMinWidth",!1),Xi("eventOrder",{}),zi("role")].concat(EA())),gW=Eg({factory:Ow,schema:[Di("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:hf([Kx.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(Su)},buttonBehaviours:hf([m_.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),vW=Eg({factory:Ow,schema:[Di("dom")],name:"button",defaults:function(){return{buttonBehaviours:hf([Kx.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(function(n){t.onExecute(n,e)})}}}}),yW=x([gW,vW,Ng({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Di("text")],name:"aria-descriptor"}),Rg({schema:[ol()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each(function(r){t.onItemExecute(r,e,n)})}}}}),xA()]),bW=function(t,e,n,r){var o,i=function(t){yv.getCurrent(t).each(function(t){ry.highlightFirst(t),Dx.focusIn(t)})},a=function(e){var n=i;TA(t,_,e,r,n,GD.HighlightFirst).get(g)},u=function(t){return a(t),P.some(!0)},s=function(e){var n=$g(e,t,"button");return Su(n),P.some(!0)},c=D(D({},Mu([Hu(function(e,n){var r=Xg(e,t,"aria-descriptor");r.each(function(t){var n=os("aria");zn(t.element,"id",n),zn(e.element,"aria-describedby",n)})})])),v_(P.some(a))),l={repositionMenus:function(t){m_.isOn(t)&&jA(t)}};return{uid:t.uid,dom:t.dom,components:e,apis:l,eventOrder:D(D({},t.eventOrder),(o={},o[eu()]=["disabling","toggling","alloy.base.behaviour"],o)),events:c,behaviours:rg(t.splitDropdownBehaviours,[yA.config({others:{sandbox:function(e){var n=$g(e,t,"arrow"),r={onOpen:function(){m_.on(n),m_.on(e)},onClose:function(){m_.off(n),m_.off(e)}};return IA(t,e,r)}}}),Dx.config({mode:"special",onSpace:s,onEnter:s,onDown:u}),Kx.config({}),m_.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},xW=hv({name:"SplitDropdown",configFields:mW(),partFields:yW(),factory:bW,apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}}),_W=function(t){return{isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){return Bv.set(t,e)}}},wW=function(t){return{setActive:function(e){m_.set(t,e)},isActive:function(){return m_.isOn(t)},isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){return Bv.set(t,e)}}},OW=function(t,e){return t.map(function(t){return{"aria-label":e.translate(t),title:e.translate(t)}}).getOr({})},SW=os("focus-button"),CW=function(t,e,n,r,o,i){var a;return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]),attributes:OW(n,i)},components:bk([t.map(function(t){return TN(t,i.icons)}),e.map(function(t){return DN(t,"tox-tbtn",i)})]),eventOrder:(a={},a[Ea()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:hf([hk.toolbarButton(i.isDisabled),sk(),Vx("common-button-display-events",[ju(Ea(),function(t,e){e.event.prevent(),wu(t,SW)})])].concat(r.map(function(n){return pW.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return bk([t.icon.map(function(t){return TN(t,i.icons)}),t.text.map(function(t){return DN(t,"tox-tbtn",i)})])}})}).toArray()).concat(o.getOr([])))}},kW=function(t,e,n,r){var o=e.shared;return DH.sketch({lazySink:o.getSink,fetch:function(){return tA.nu(function(e){e(q(n(t.items),qH))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:CW(t.icon,t.text,t.tooltip,P.none(),P.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},TW=function(t,e,n){var r=oa(g),o=CW(t.icon,t.text,t.tooltip,P.none(),P.none(),n);return Ow.sketch({dom:o.dom,components:o.components,eventOrder:jN,buttonBehaviours:hf([Vx("toolbar-button-events",[IN({onAction:t.onAction,getApi:e.getApi}),mk(e,r),gk(e,r)]),hk.toolbarButton(function(){return t.disabled||n.isDisabled()}),sk()].concat(e.toolbarButtonBehaviours))})},MW=function(t,e){return DW(t,e,[])},DW=function(t,e,n){return TW(t,{toolbarButtonBehaviours:[].concat(n.length>0?[Vx("toolbarButtonWith",n)]:[]),getApi:_W,onSetup:t.onSetup},e)},AW=function(t,e){return IW(t,e,[])},IW=function(t,e,n){return wo(TW(t,{toolbarButtonBehaviours:[Fx.config({}),m_.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Vx("toolbarToggleButtonWith",n)]:[]),getApi:wW,onSetup:t.onSetup},e))},jW=function(t,e,n){return function(r){return tA.nu(function(t){return e.fetch(t)}).map(function(o){return P.from(jM(wo(nM(os("menu-value"),o,function(n){e.onItemAction(t(r),n)},e.columns,e.presets,UO.CLOSE_ON_EXECUTE,e.select.getOr(k),n),{movement:oM(e.columns,e.presets),menuBehaviours:JS.unnamedEvents("auto"!==e.columns?[]:[Hu(function(t,n){$S(t,4,lS(e.presets)).each(function(e){var n=e.numRows,r=e.numColumns;Dx.setGridSize(t,n,r)})})])})))})}},EW=function(t,e){var n,r=os("channel-update-split-dropdown-display"),o=function(t){return{isDisabled:function(){return Bv.isDisabled(t)},setDisabled:function(e){return Bv.set(t,e)},setIconFill:function(e,n){Lc(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each(function(t){zn(t,"fill",n)})},setIconStroke:function(e,n){Lc(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each(function(t){zn(t,"stroke",n)})},setActive:function(e){zn(t.element,"aria-pressed",e),Lc(t.element,"span").each(function(n){t.getSystem().getByDom(n).each(function(t){return m_.set(t,e)})})},isActive:function(){return Lc(t.element,"span").exists(function(e){return t.getSystem().getByDom(e).exists(m_.isOn)})}}},i=oa(g),a={getApi:o,onSetup:t.onSetup};return xW.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:D({"aria-pressed":!1},OW(t.tooltip,e.providers))},onExecute:function(e){t.onAction(o(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:hf([hk.splitButton(e.providers.isDisabled),sk(),Vx("split-dropdown-events",[ju(SW,Kx.focus),mk(a,i),gk(a,i)]),VA.config({})]),eventOrder:(n={},n[du()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:jW(o,t,e.providers),parts:{menu:gS(!1,t.columns,t.presets)},components:[xW.parts.button(CW(t.icon,t.text,P.none(),P.some(r),P.some([m_.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),e.providers)),xW.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Iw("chevron-down",e.providers.icons)},buttonBehaviours:hf([hk.splitButton(e.providers.isDisabled),sk(),Rw()])}),xW.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})},RW=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],NW=function(t,e){return function(n,r,o){var i=t(n).mapError(function(t){return Oi(t)}).getOrDie();return e(i,r,o)}},PW={button:NW(kO,function(t,e){return MW(t,e.backstage.shared.providers)}),togglebutton:NW(DO,function(t,e){return AW(t,e.backstage.shared.providers)}),menubutton:NW(Wz,function(t,e){return YN(t,"tox-tbtn",e.backstage,P.none())}),splitbutton:NW(qz,function(t,e){return EW(t,e.backstage.shared)}),grouptoolbarbutton:NW(Vz,function(t,e,n){var r,o=n.ui.registry.getAll().buttons,i=function(t){return WW(n,{buttons:o,toolbar:t,allowToolbarGroups:!1},e,P.none())},a=(r={},r[Bd]=e.backstage.shared.header.isPositionedAtTop()?Ff.TopToBottom:Ff.BottomToTop,r);switch(EC(n)){case HO.floating:return kW(t,e.backstage,i,a);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,e){return iW(t,e.backstage)},fontsizeSelectButton:function(t,e){return ZU(t,e.backstage)},fontSelectButton:function(t,e){return HU(t,e.backstage)},formatButton:function(t,e){return nW(t,e.backstage)},alignMenuButton:function(t,e){return NU(t,e.backstage)}},BW=function(t,e,n){return kt(PW,t.type).fold(function(){return console.error("skipping button defined by",t),P.none()},function(r){return P.some(r(t,e,n))})},LW={styleselect:PW.styleSelectButton,fontsizeselect:PW.fontsizeSelectButton,fontselect:PW.fontSelectButton,formatselect:PW.formatButton,align:PW.alignMenuButton},FW=function(t){var e=q(RW,function(e){var n=K(e.items,function(e){return Tt(t,e)||Tt(LW,e)});return{name:e.name,items:n}});return K(e,function(t){return t.items.length>0})},zW=function(t){var e=t.split("|");return q(e,function(t){return{items:t.trim().split(" ")}})},VW=function(t){return m(t,function(t){return Tt(t,"name")&&Tt(t,"items")})},HW=function(t){var e=t.toolbar,n=t.buttons;return!1===e?[]:void 0===e||!0===e?FW(n):i(e)?zW(e):VW(e)?e:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},UW=function(t,e,n,r,o,i){return kt(e,n.toLowerCase()).orThunk(function(){return i.bind(function(t){return pt(t,function(t){return kt(e,t+n.toLowerCase())})})}).fold(function(){return kt(LW,n.toLowerCase()).map(function(e){return e(t,o)}).orThunk(function(){return P.none()})},function(e){return"grouptoolbarbutton"!==e.type||r?BW(e,o,t):(console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),P.none())})},WW=function(t,e,n,r){var o=HW(e),i=q(o,function(o){var i=rt(o.items,function(o){return 0===o.trim().length?[]:UW(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()});return{title:P.from(t.translate(o.name)),items:i}});return K(i,function(t){return t.items.length>0})},GW=function(t,e,n,r){var o=e.outerContainer,a=n.toolbar,u=n.buttons;if(m(a,i)){var s=a.map(function(e){var o={toolbar:e,buttons:u,allowToolbarGroups:n.allowToolbarGroups};return WW(t,o,{backstage:r},P.none())});uU.setToolbars(o,s)}else uU.setToolbar(o,WW(t,n,{backstage:r},P.none()))},qW=en(),YW=qW.os.isiOS()&&qW.os.version.major<=12,XW=function(t,e){var n=t.dom,r=t.getWin(),o=t.getDoc().documentElement,i=oa(lr(r.innerWidth,r.innerHeight)),a=oa(lr(o.offsetWidth,o.offsetHeight)),u=function(){var e=i.get();e.left===r.innerWidth&&e.top===r.innerHeight||(i.set(lr(r.innerWidth,r.innerHeight)),yT(t))},s=function(){var e=t.getDoc().documentElement,n=a.get();n.left===e.offsetWidth&&n.top===e.offsetHeight||(a.set(lr(e.offsetWidth,e.offsetHeight)),yT(t))},c=function(e){return bT(t,e)};n.bind(r,"resize",u),n.bind(r,"scroll",c);var l=ud(ee.fromDom(t.getBody()),"load",s),f=e.uiMothership.element;t.on("hide",function(){Xn(f,"display","none")}),t.on("show",function(){nr(f,"display")}),t.on("NodeChange",s),t.on("remove",function(){l.unbind(),n.unbind(r,"resize",u),n.unbind(r,"scroll",c),r=null})},$W=function(t,e,n,r,o){var i=oa(0),a=e.outerContainer;bU(t);var u=ee.fromDom(o.targetNode),s=An(Dn(u));Kp(u,e.mothership),$p(s,e.uiMothership),t.on("PostRender",function(){GW(t,e,n,r),i.set(t.getWin().innerWidth),uU.setMenubar(a,dU(t,n)),uU.setSidebar(a,n.sidebar),XW(t,e)});var c=uU.getSocket(a).getOrDie("Could not find expected socket element");if(YW){$n(c.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var l=Uw(function(){t.fire("ScrollContent")},20),f=ad(c.element,"scroll",l.throttle);t.on("remove",f.unbind)}uk(t,e),t.addCommand("ToggleSidebar",function(e,n){uU.toggleSidebar(a,n),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return uU.whichSidebar(a)});var d=EC(t),h=function(){uU.refreshToolbar(e.outerContainer)};d!==HO.sliding&&d!==HO.floating||t.on("ResizeWindow ResizeEditor ResizeContent",function(){var e=t.getWin().innerWidth;e!==i.get()&&(h(),i.set(e))});var p={enable:function(){ak(e,!1)},disable:function(){ak(e,!0)},isDisabled:function(){return Bv.isDisabled(a)}};return{iframeContainer:c.element.dom,editorContainer:a.element.dom,api:p}},KW=Object.freeze({__proto__:null,render:$W}),ZW=function(t){var e=/^[0-9\.]+(|px)$/i;return e.test(""+t)?P.some(parseInt(""+t,10)):P.none()},JW=function(t){return p(t)?t+"px":t},QW=function(t,e,n){var r=e.filter(function(e){return t<e}),o=n.filter(function(e){return t>e});return r.or(o).getOr(t)},tG=function(t){var e=vC(t),n=xC(t),r=wC(t);return ZW(e).map(function(t){return QW(t,n,r)})},eG=function(t){var e=tG(t);return e.getOr(vC(t))},nG=function(t){var e=yC(t),n=bC(t),r=_C(t);return ZW(e).map(function(t){return QW(t,n,r)})},rG=function(t){var e=nG(t);return e.getOr(yC(t))},oG=function(t,e,n,r,o){var i=n.uiMothership,a=n.outerContainer,u=dC.DOM,s=HC(t),c=GC(t),l=_C(t).or(nG(t)),f=r.shared.header,d=f.isPositionedAtTop,h=EC(t),p=h===HO.sliding||h===HO.floating,m=oa(!1),g=function(){return m.get()&&!t.removed},v=function(t){return p?t.fold(x(0),function(t){return t.components().length>1?ar(t.components()[1].element):0}):0},y=function(n){switch(PC(t)){case jC.auto:var r=uU.getToolbar(a),o=v(r),i=ar(n.element)-o,u=Zr(e),s=u.y>i;if(s)return"top";var c=mn(e),l=Math.max(c.dom.scrollHeight,ar(c)),f=u.bottom<l-i;if(f)return"bottom";var d=Qr(),h=d.bottom<u.bottom-i;return h?"bottom":"top";case jC.bottom:return"bottom";case jC.top:default:return"top"}},b=function(t){var e=o.get();wz.setModes(e,[t]),f.setDockingMode(t);var n=d()?Ff.TopToBottom:Ff.BottomToTop;zn(e.element,Bd,n)},_=function(){var t=l.getOrThunk(function(){var t=ZW(Zn(Bn(),"margin-left")).getOr(0);return vr(Bn())-hr(e).left+t});Xn(o.get().element,"max-width",t+"px")},w=function(){var t=uU.getToolbar(a),n=v(t),r=Zr(e),i=d()?Math.max(r.y-ar(o.get().element)+n,0):r.bottom;$n(a.element,{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})},O=function(){i.broadcastOn([xm()],{})},S=function(t){if(void 0===t&&(t=!1),g()){if(s||_(),p&&uU.refreshToolbar(a),s||w(),c){var e=o.get();t?wz.reset(e):wz.refresh(e)}O()}},C=function(t){if(void 0===t&&(t=!0),!s&&c&&g()){var e=f.getDockingMode(),n=y(o.get());n!==e&&(b(n),t&&S(!0))}},k=function(){m.set(!0),Xn(a.element,"display","flex"),u.addClass(t.getBody(),"mce-edit-focus"),nr(i.element,"display"),C(!1),S()},T=function(){m.set(!1),n.outerContainer&&(Xn(a.element,"display","none"),u.removeClass(t.getBody(),"mce-edit-focus")),Xn(i.element,"display","none")};return{isVisible:g,isPositionedAtTop:d,show:k,hide:T,update:S,updateMode:C,repositionPopups:O}},iG=function(t,e){var n=Zr(t);return{pos:e?n.y:n.bottom,bounds:n}},aG=function(t,e,n,r){var o=oa(iG(e,n.isPositionedAtTop())),i=function(r){var i=iG(e,n.isPositionedAtTop()),a=i.pos,u=i.bounds,s=o.get(),c=s.pos,l=s.bounds,f=u.height!==l.height||u.width!==l.width;o.set({pos:a,bounds:u}),f&&yT(t,r),n.isVisible()&&(c!==a?n.update(!0):f&&(n.updateMode(),n.repositionPopups()))};r||(t.on("activate",n.show),t.on("deactivate",n.hide)),t.on("SkinLoaded ResizeWindow",function(){return n.update(!0)}),t.on("NodeChange keydown",function(t){_w.requestAnimationFrame(function(){return i(t)})}),t.on("ScrollWindow",function(){return n.updateMode()});var a=nd();a.set(ud(ee.fromDom(t.getBody()),"load",i)),t.on("remove",function(){a.clear()})},uG=function(t,e,n,r,o){var i=e.mothership,a=e.uiMothership,u=e.outerContainer,s=oa(null),c=ee.fromDom(o.targetNode),l=oG(t,c,e,r,s),f=zC(t);xU(t);var d=function(){if(s.get())l.show();else{s.set(uU.getHeader(u).getOrDie());var o=UC(t);$p(o,i),$p(o,a),GW(t,e,n,r),uU.setMenubar(u,dU(t,n)),l.show(),aG(t,c,l,f),t.nodeChanged()}};t.on("show",d),t.on("hide",l.hide),f||(t.on("focus",d),t.on("blur",l.hide)),t.on("init",function(){(t.hasFocus()||f)&&d()}),uk(t,e);var h={show:function(){l.show()},hide:function(){l.hide()},enable:function(){ak(e,!1)},disable:function(){ak(e,!0)},isDisabled:function(){return Bv.isDisabled(u)}};return{editorContainer:u.element.dom,api:h}},sG=Object.freeze({__proto__:null,render:uG}),cG="contexttoolbar-show",lG="contexttoolbar-hide",fG=function(t){return{hide:function(){return wu(t,iu())},getValue:function(){return tg.getValue(t)}}},dG=function(t,e){return ju(AN,function(n,r){var o=t.get(n),i=fG(o);e.onAction(i,r.event.buttonApi)})},hG=function(t,e,n){var r=e.original;r.primary;var o=A(r,["primary"]),i=_i(kO(D(D({},o),{type:"button",onAction:g})));return DW(i,n.backstage.shared.providers,[dG(t,e)])},pG=function(t,e,n){var r=e.original;r.primary;var o=A(r,["primary"]),i=_i(DO(D(D({},o),{type:"togglebutton",onAction:g})));return IW(i,n.backstage.shared.providers,[dG(t,e)])},mG=function(t,e,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===e.type?pG(t,e,r):hG(t,e,r)},gG=function(t,e,n){var r=q(e,function(e){return Sw(mG(t,e,n))}),o=function(){return q(r,function(t){return t.asSpec()})},i=function(t){return pt(e,function(e,n){return e.primary?P.from(r[n]).bind(function(e){return e.getOpt(t)}).filter(S(Bv.isDisabled)):P.none()})};return{asSpecs:o,findPrimary:i}},vG=function(t,e){var n=t.label.fold(function(){return{}},function(t){return{"aria-label":t}}),r=Sw(HD.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:hf([Dx.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map(function(t){return Su(t),!0})},onLeft:function(t,e){return e.cut(),P.none()},onRight:function(t,e){return e.cut(),P.none()}})])})),o=gG(r,t.commands,e);return[{title:P.none(),items:[r.asSpec()]},{title:P.none(),items:o.asSpecs()}]},yG=function(t,e,n){return ZH({type:t,uid:os("context-toolbar"),initGroups:vG(e,n),onEscape:P.none,cyclicKeying:!0,providers:n})},bG={renderContextForm:yG,buildInitGroups:vG},xG=function(t,e,n){return void 0===n&&(n=.01),e.bottom-t.y>=n&&t.bottom-e.y>=n},_G=function(t){var e=t.getBoundingClientRect();if(e.height<=0&&e.width<=0){var n=Cn(ee.fromDom(t.startContainer),t.startOffset).element,r=fe(n)?vn(n):P.some(n);return r.filter(le).map(function(t){return t.dom.getBoundingClientRect()}).getOr(e)}return e},wG=function(t){var e=t.selection.getRng(),n=_G(e);if(t.inline){var r=Br();return Kr(r.left+n.left,r.top+n.top,n.width,n.height)}var o=Jr(ee.fromDom(t.getBody()));return Kr(o.x+n.left,o.y+n.top,n.width,n.height)},OG=function(t,e){return e.filter(Pn).map(Jr).getOrThunk(function(){return wG(t)})},SG=function(t,e,n){var r=Math.max(t.x+n,e.x),o=Math.min(t.right-n,e.right);return{x:r,width:o-r}},CG=function(t,e,n,r,o,i){var a=ee.fromDom(t.getContainer()),u=Lc(a,".tox-editor-header").getOr(a),s=Zr(u),c=s.y>=e.bottom,l=r&&!c;if(t.inline&&l)return{y:Math.max(s.bottom+i,n.y),bottom:n.bottom};if(t.inline&&!l)return{y:n.y,bottom:Math.min(s.y-i,n.bottom)};var f="line"===o?Zr(a):e;return l?{y:Math.max(s.bottom+i,n.y),bottom:Math.min(f.bottom-i,n.bottom)}:{y:Math.max(f.y+i,n.y),bottom:Math.min(s.y-i,n.bottom)}},kG=function(t,e,n,r){void 0===r&&(r=0);var o=Vr(window),i=Zr(ee.fromDom(t.getContentAreaContainer())),a=MC(t)||DC(t)||IC(t),u=SG(i,o,r),s=u.x,c=u.width;if(t.inline&&!a)return Kr(s,o.y,c,o.height);var l=e.header.isPositionedAtTop(),f=CG(t,i,o,l,n,r),d=f.y,h=f.bottom;return Kr(s,d,c,h-d)},TG=12,MG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},DG={maxHeightFunction:Td(),maxWidthFunction:_H()},AG=function(t,e){var n=t.selection.getRng(),r=Cn(ee.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&cn(r.element,e)},IG=function(t,e,n){var r=Qn(t,"position");Xn(t,"position",e);var o=n(t);return r.each(function(e){return Xn(t,"position",e)}),o},jG=function(t){return"node"===t},EG=function(t,e,n,r,o){var i=wG(t),a=r.lastElement().exists(function(t){return cn(n,t)});if(AG(t,n))return a?yw:hw;if(a)return IG(e,r.getMode(),function(){var t=xG(i,Zr(e));return t&&!r.isReposition()?xw:yw});var u="fixed"===r.getMode()?o.y+Br().top:o.y,s=ar(e)+TG;return u+s<=i.y?hw:pw},RG=function(t,e,n,r){var o=function(e){return function(r,o,i,a,u){var s=EG(t,a,e,n,u),c=D(D({},r),{y:u.y,height:u.height});return D(D({},s(c,o,i,a,u)),{alwaysFit:!0})}},i=function(t){return jG(r)?[o(t)]:[]},a={onLtr:function(t){return[Gl,ql,Ul,Vl,Wl,Hl].concat(i(t))},onRtl:function(t){return[Gl,ql,Wl,Hl,Ul,Vl].concat(i(t))}},u={onLtr:function(t){return[ql,Vl,Hl,Ul,Wl,Gl].concat(i(t))},onRtl:function(t){return[ql,Hl,Vl,Wl,Ul,Gl].concat(i(t))}};return e?u:a},NG=function(t,e,n,r){return"line"===e?{bubble:jd(TG,0,MG),layouts:{onLtr:function(){return[Yl]},onRtl:function(){return[Xl]}},overrides:DG}:{bubble:jd(0,TG,MG,1/TG),layouts:RG(t,n,r,e),overrides:DG}},PG=function(t,e){var n=K(e,function(e){return e.predicate(t.dom)}),r=$(n,function(t){return"contexttoolbar"===t.type}),o=r.pass,i=r.fail;return{contextToolbars:o,contextForms:i}},BG=function(t){if(t.length<=1)return t;var e=function(e){return U(t,function(t){return t.position===e})},n=function(e){return K(t,function(t){return t.position===e})},r=e("selection"),o=e("node");if(r||o){if(o&&r){var i=n("node"),a=q(n("selection"),function(t){return D(D({},t),{position:"node"})});return i.concat(a)}return n(r?"selection":"node")}return n("line")},LG=function(t){if(t.length<=1)return t;var e=function(e){return tt(t,function(t){return t.position===e})},n=e("selection").orThunk(function(){return e("node")}).orThunk(function(){return e("line")}).map(function(t){return t.position});return n.fold(function(){return[]},function(e){return K(t,function(t){return t.position===e})})},FG=function(t,e,n){var r=PG(t,e);if(r.contextForms.length>0)return P.some({elem:t,toolbars:[r.contextForms[0]]});var o=PG(t,n);if(o.contextForms.length>0)return P.some({elem:t,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=BG(r.contextToolbars.concat(o.contextToolbars));return P.some({elem:t,toolbars:i})}return P.none()},zG=function(t,e,n){return t(e)?P.none():ba(e,function(t){if(le(t)){var e=PG(t,n.inNodeScope),r=e.contextToolbars,o=e.contextForms,i=o.length>0?o:LG(r);return i.length>0?P.some({elem:t,toolbars:i}):P.none()}return P.none()},t)},VG=function(t,e){var n=ee.fromDom(e.getBody()),r=function(t){return cn(t,n)},o=function(t){return!r(t)&&!dn(n,t)},i=ee.fromDom(e.selection.getNode());return o(i)?P.none():FG(i,t.inNodeScope,t.inEditorScope).orThunk(function(){return zG(r,i,t)})},HG=function(t,e){var n={},r=[],o=[],i={},a={},u=function(t,u){var s=_i(BO(u));n[t]=s,s.launch.map(function(n){i["form:"+t]=D(D({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(s)}})}),"editor"===s.scope?o.push(s):r.push(s),a[t]=s},s=function(t,e){FO(e).each(function(n){"editor"===e.scope?o.push(n):r.push(n),a[t]=n})},c=mt(t);return Y(c,function(e){var n=t[e];"contextform"===n.type?u(e,n):"contexttoolbar"===n.type&&s(e,n)}),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},UG=os("forward-slide"),WG=os("backward-slide"),GG=os("change-slide-event"),qG="tox-pop--resizing",YG=function(t){var e=oa([]);return ew.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){e.set([]),ew.getContent(t).each(function(t){nr(t.element,"visibility")}),uc(t.element,qG),nr(t.element,"width")},inlineBehaviours:hf([Vx("context-toolbar-events",[Vu(qa(),function(t,e){"width"===e.event.raw.propertyName&&(uc(t.element,qG),nr(t.element,"width"))}),ju(GG,function(t,e){var n=t.element;nr(n,"width");var r=vr(n);ew.setContent(t,e.event.contents),ic(n,qG);var o=vr(n);Xn(n,"width",r+"px"),ew.getContent(t).each(function(t){e.event.focus.bind(function(t){return Of(t),Tf(n)}).orThunk(function(){return Dx.focusIn(t),kf(Dn(n))})}),_w.setTimeout(function(){Xn(t.element,"width",o+"px")},0)}),ju(UG,function(t,n){ew.getContent(t).each(function(n){e.set(e.get().concat([{bar:n,focus:kf(Dn(t.element))}]))}),Ou(t,GG,{contents:n.event.forwardContents,focus:P.none()})}),ju(WG,function(t,n){dt(e.get()).each(function(n){e.set(e.get().slice(0,e.get().length-1)),Ou(t,GG,{contents:Mc(n.bar),focus:n.focus})})})]),Dx.config({mode:"special",onEscape:function(n){return dt(e.get()).fold(function(){return t.onEscape()},function(t){return wu(n,WG),P.some(!0)})}})]),lazySink:function(){return ro.value(t.sink)}})},XG="tox-pop--transition",$G=function(t,e,n,r){var o=r.backstage,i=o.shared,a=en().deviceType.isTouch,u=od(),s=od(),c=od(),l=Tc(YG({sink:n,onEscape:function(){return t.focus(),P.some(!0)}})),f=function(){var e=c.get().getOr("node"),n=jG(e)?1:0;return kG(t,i,e,n)},d=function(){return!t.removed&&!(a()&&o.isContextMenuOpen())},h=function(t){return Dt(Et(t,u.get(),cn),!0)},p=function(){if(d()){var e=f(),n=Dt(c.get(),"node")?OG(t,u.get()):wG(t);return e.height<=0||!xG(n,e)}return!0},m=function(){u.clear(),s.clear(),c.clear(),ew.hide(l)},v=function(){if(ew.isOpen(l)){var t=l.element;nr(t,"display"),p()?Xn(t,"display","none"):(s.set(0),ew.reposition(l))}},y=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:hf([Dx.config({mode:"acyclic"}),Vx("pop-dialog-wrap-events",[Hu(function(e){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Dx.focusIn(e)})}),Uu(function(e){t.shortcuts.remove("ctrl+F9")})])])}},b=pe(function(){return HG(e,function(t){var e=w([t]);Ou(l,UG,{forwardContents:y(e)})})}),x=function(e,n){return WW(t,{buttons:e,toolbar:n.items,allowToolbarGroups:!1},r,P.some(["form:"]))},_=function(t,e){return bG.buildInitGroups(t,e)},w=function(e){var n=t.ui.registry.getAll().buttons,r=b(),o=D(D({},n),r.formNavigators),a=EC(t)===HO.scrolling?HO.scrolling:HO.default,u=nt(q(e,function(t){return"contexttoolbar"===t.type?x(o,t):_(t,i.providers)}));return ZH({type:a,uid:os("context-toolbar"),initGroups:u,onEscape:P.none,cyclicKeying:!0,providers:i.providers})},O=function(e,r){var o="node"===e?i.anchors.node(r):i.anchors.cursor(),c=NG(t,e,a(),{lastElement:u.get,isReposition:function(){return Dt(s.get(),0)},getMode:function(){return Lp.getMode(n)}});return wo(o,c)},S=function(t,e){if(C.cancel(),d()){var r=w(t),o=t[0].position,i=O(o,e);c.set(o),s.set(1);var a=l.element;nr(a,"display"),h(e)||(uc(a,XG),Lp.reset(n,l)),ew.showWithinBounds(l,y(r),{anchor:i,transition:{classes:[XG],mode:"placement"}},function(){return P.some(f())}),e.fold(u.clear,u.set),p()&&Xn(a,"display","none")}},C=Ww(function(){if(t.hasFocus()&&!t.removed)if(sc(l.element,XG))C.throttle();else{var e=b();VG(e,t).fold(m,function(t){S(t.toolbars,P.some(t.elem))})}},17);t.on("init",function(){t.on("remove",m),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",v),t.on("click keyup focus SetContent",C.throttle),t.on(lG,m),t.on(cG,function(e){var n=b();kt(n.lookupTable,e.toolbarKey).each(function(n){S([n],Pt(e.target!==t,e.target)),ew.getContent(l).each(Dx.focusIn)})}),t.on("focusout",function(e){_w.setEditorTimeout(t,function(){Tf(n.element).isNone()&&Tf(l.element).isNone()&&m()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&m()}),t.on("AfterProgressState",function(e){e.state?m():t.hasFocus()&&C.throttle()}),t.on("NodeChange",function(t){Tf(l.element).fold(C.throttle,g)})})},KG=function(t){var e=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Y(e,function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:SU(t,e.cmd),onSetup:_U(t,e.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:SU(t,"JustifyNone")})},ZG={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},JG=function(){var t="[0-9]+",e="[+-]?"+t,n="[eE]"+e,r="\\.",o=function(t){return"(?:"+t+")?"},i=["Infinity",t+r+o(t)+o(n),r+t+o(n),t+o(n)].join("|"),a="[+-]?(?:"+i+")";return new RegExp("^("+a+")(.*)$")}(),QG=function(t,e){return U(e,function(e){return U(ZG[e],function(e){return t===e})})},tq=function(t,e){var n=P.from(JG.exec(t));return n.bind(function(t){var n=Number(t[1]),r=t[2];return QG(r,e)?P.some({value:n,unit:r}):P.none()})},eq=function(t,e){return tq(t,e).map(function(t){var e=t.value,n=t.unit;return e+n})},nq=function(t,e){var n=function(){var n=e.getOptions(t),r=e.getCurrent(t).map(e.hash),o=od();return q(n,function(n){return{type:"togglemenuitem",text:e.display(n),onSetup:function(i){var a=function(t){t&&(o.on(function(t){return t.setActive(!1)}),o.set(i)),i.setActive(t)};a(Dt(r,e.hash(n)));var u=e.watcher(t,n,a);return function(){o.clear(),u()}},onAction:function(){return e.setCurrent(t,n)}}})};t.ui.registry.addMenuButton(e.name,{tooltip:e.text,icon:e.icon,fetch:function(t){return t(n())},onSetup:e.onToolbarSetup}),t.ui.registry.addNestedMenuItem(e.name,{type:"nestedmenuitem",text:e.text,getSubmenuItems:n,onSetup:e.onMenuSetup})},rq={name:"lineheight",text:"Line height",icon:"line-height",getOptions:CC,hash:function(t){return eq(t,["fixed","relative","empty"]).getOr(t)},display:_,watcher:function(t,e,n){return t.formatter.formatChanged("lineheight",n,!1,{value:e}).unbind},getCurrent:function(t){return P.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,e){return t.execCommand("LineHeight",!1,e)}},oq=function(t){var e=P.from(kC(t));return e.map(function(e){return{name:"language",text:"Language",icon:"language",getOptions:x(e),hash:function(t){return l(t.customCode)?t.code:t.code+"/"+t.customCode},display:function(t){return t.title},watcher:function(t,e,n){return t.formatter.formatChanged("lang",n,!1,{value:e.code,customValue:e.customCode}).unbind},getCurrent:function(t){var e=ee.fromDom(t.selection.getNode());return xa(e,function(t){return P.some(t).filter(le).bind(function(t){var e=Un(t,"lang");return e.map(function(e){var n=Un(t,"data-mce-lang").getOrUndefined();return{code:e,customCode:n,title:""}})})})},setCurrent:function(t,e){return t.execCommand("Lang",!1,e)},onToolbarSetup:function(e){var n=nd();return e.setActive(t.formatter.match("lang",{},void 0,!0)),n.set(t.formatter.formatChanged("lang",e.setActive,!0)),n.clear}}})},iq=function(t){nq(t,rq),oq(t).each(function(e){return nq(t,e)})},aq=function(t,e){PU(t,e),UU(t,e),aW(t,e),rW(t,e),JU(t,e)},uq=function(t){return wU(t,"NodeChange",function(e){e.setDisabled(!t.queryCommandState("outdent"))})},sq=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:uq(t),onAction:SU(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:SU(t,"indent")})},cq=function(t){sq(t)},lq=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},fq=function(t){JE.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:_U(t,e.name),onAction:lq(t,e.name)})});for(var e=1;e<=6;e++){var n="h"+e;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:_U(t,n),onAction:lq(t,n)})}},dq=function(t){JE.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:SU(t,e.action)})})},hq=function(t){JE.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:SU(t,e.action),onSetup:_U(t,e.name)})})},pq=function(t){fq(t),dq(t),hq(t)},mq=function(t){JE.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:SU(t,e.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:lq(t,"code")})},gq=function(t){pq(t),mq(t)},vq=function(t,e){return wU(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(n){n.setDisabled(t.mode.isReadOnly()||!t.undoManager[e]())})},yq=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:vq(t,"hasUndo"),onAction:SU(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:vq(t,"hasRedo"),onAction:SU(t,"redo")})},bq=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:vq(t,"hasUndo"),onAction:SU(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:vq(t,"hasRedo"),onAction:SU(t,"redo")})},xq=function(t){yq(t),bq(t)},_q=function(t){return wU(t,"VisualAid",function(e){e.setActive(t.hasVisual)})},wq=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:_q(t),onAction:SU(t,"mceToggleVisualAid")})},Oq=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:SU(t,"mceToggleVisualAid")})},Sq=function(t){Oq(t),wq(t)},Cq=function(t,e){KG(t),gq(t),aq(t,e),xq(t),eM(t),Sq(t),cq(t),iq(t)},kq=function(t,e){return{type:"makeshift",x:t,y:e}},Tq=function(t,e,n){return kq(t.x+e,t.y+n)},Mq=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},Dq=function(t){if(Mq(t)){var e=t.touches[0];return kq(e.pageX,e.pageY)}return kq(t.pageX,t.pageY)},Aq=function(t){if(Mq(t)){var e=t.touches[0];return kq(e.clientX,e.clientY)}return kq(t.clientX,t.clientY)},Iq=function(t,e){var n=dC.DOM.getPos(t);return Tq(e,n.x,n.y)},jq=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?Dq(e):Iq(t.getContentAreaContainer(),Aq(e)):Eq(t)},Eq=function(t){return{type:"selection",root:ee.fromDom(t.selection.getNode())}},Rq=function(t){return{type:"node",node:P.some(ee.fromDom(t.selection.getNode())),root:ee.fromDom(t.getBody())}},Nq=function(t,e,n){switch(n){case"node":return Rq(t);case"point":return jq(t,e);case"selection":return Eq(t)}},Pq=function(t,e,n,r,o,i){var a=n(),u=Nq(t,e,i);GN(a,UO.CLOSE_ON_EXECUTE,r,!1).map(function(t){e.preventDefault(),ew.showMenuAt(o,{anchor:u},{menu:{markers:hS("normal")},data:t})})},Bq={onLtr:function(){return[ql,Vl,Hl,Ul,Wl,Gl,hw,pw,dw,lw,fw,cw]},onRtl:function(){return[ql,Hl,Vl,Wl,Ul,Gl,hw,pw,fw,cw,dw,lw]}},Lq=12,Fq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},zq=function(t,e){var n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;var r=e.touches[0],o=n.getRng(),i=np(t.getWin(),Sh.domRange(o));return i.exists(function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY})},Vq=function(t){var e=t.selection.getRng(),n=function(){_w.setEditorTimeout(t,function(){t.selection.setRng(e)},10),i()};t.once("touchend",n);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var o=function(){return i()};t.once("longpresscancel",o);var i=function(){t.off("touchend",n),t.off("longpresscancel",o),t.off("mousedown",r)}},Hq=function(t,e,n){var r=Nq(t,e,n),o="point"===n?Lq:0;return D({bubble:jd(0,o,Fq),layouts:Bq,overrides:{maxWidthFunction:_H(),maxHeightFunction:Td()}},r)},Uq=function(t,e,n,r,o,i,a){var u=Hq(t,e,i);GN(n,UO.CLOSE_ON_EXECUTE,r,!0).map(function(n){e.preventDefault(),ew.showMenuWithinBounds(o,{anchor:u},{menu:{markers:hS("normal"),highlightImmediately:a},data:n,type:"horizontal"},function(){return P.some(kG(t,r.shared,"node"===i?"node":"selection"))}),t.fire(lG)})},Wq=function(t,e,n,r,o,i){var a=en(),u=a.os.isiOS(),s=a.os.isOSX(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),f=function(){return!(c||u||s&&l)},d=function(){var a=n();Uq(t,e,a,r,o,i,f())};if((s||u)&&"node"!==i){var h=function(){Vq(t),d()};zq(t,e)?h():(t.once("selectionchange",h),t.once("touchend",function(){return t.off("selectionchange",h)}))}else d()},Gq=function(t){return"string"===typeof t?t.split(/[ ,]/):t},qq=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},Yq=function(t,e,n){var r=t.ui.registry.getAll().contextMenus;return P.from(t.getParam(e)).map(Gq).getOrThunk(function(){return K(Gq(n),function(t){return Tt(r,t)})})},Xq=function(t){return!1===t.getParam("contextmenu")},$q=function(t){return Yq(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},Kq=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},Zq=function(t){return i(t)?"|"===t:"separator"===t.type},Jq={type:"separator"},Qq=function(t){var e=function(t){return{text:t.text,icon:t.icon,disabled:t.disabled,shortcut:t.shortcut}};if(i(t))return t;switch(t.type){case"separator":return Jq;case"submenu":return D(D({type:"nestedmenuitem"},e(t)),{getSubmenuItems:function(){var e=t.getSubmenuItems();return i(e)?e:q(e,Qq)}});default:return D(D({type:"menuitem"},e(t)),{onAction:v(t.onAction)})}},tY=function(t,e){if(0===e.length)return t;var n=dt(t).filter(function(t){return!Zq(t)}),r=n.fold(function(){return[]},function(t){return[Jq]});return t.concat(r).concat(e).concat([Jq])},eY=function(t,e,n){var r=J(e,function(e,r){return kt(t,r.toLowerCase()).map(function(t){var r=t.update(n);if(i(r))return tY(e,r.split(" "));if(r.length>0){var o=q(r,Qq);return tY(e,o)}return e}).getOrThunk(function(){return e.concat([r])})},[]);return r.length>0&&Zq(r[r.length-1])&&r.pop(),r},nY=function(t,e){return e.ctrlKey&&!qq(t)},rY=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)},oY=function(t,e){return rY(t,e)?t.selection.getStart(!0):e.target},iY=function(t,e){var n=Kq(t),r=rY(t,e)?"selection":"point";if(Yt(n)){var o=oY(t,e),i=PM(ee.fromDom(o),n);return i?"node":r}return r},aY=function(t,e,n){var r=en(),o=r.deviceType.isTouch,i=Tc(ew.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:hf([Vx("dismissContextMenu",[ju(pu(),function(e,n){ym.close(e),t.focus()})])])})),a=function(t){return ew.hide(i)},u=function(e){if(qq(t)&&e.preventDefault(),!nY(t,e)&&!Xq(t)){var r=iY(t,e),a=function(){var n=oY(t,e),r=t.ui.registry.getAll(),o=$q(t);return eY(r.contextMenus,o,n)},u=o()?Wq:Pq;u(t,e,a,n,i,r)}};t.on("init",function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");t.on(e,a),t.on("longpress contextmenu",u)})},uY=aa.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),sY=function(t){return function(e){return e.translate(-t.left,-t.top)}},cY=function(t){return function(e){return e.translate(t.left,t.top)}},lY=function(t){return function(e,n){return J(t,function(t,e){return e(t)},lr(e,n))}},fY=function(t,e,n){return t.fold(lY([cY(n),sY(e)]),lY([sY(e)]),lY([]))},dY=function(t,e,n){return t.fold(lY([cY(n)]),lY([]),lY([cY(e)]))},hY=function(t,e,n){return t.fold(lY([]),lY([sY(n)]),lY([cY(e),sY(n)]))},pY=function(t,e,n,r,o,i){var a=dY(t,o,i),u=dY(e,o,i);return Math.abs(a.left-u.left)<=n&&Math.abs(a.top-u.top)<=r},mY=function(t,e,n,r,o,i){var a=dY(t,o,i),u=dY(e,o,i),s=Math.abs(a.left-u.left),c=Math.abs(a.top-u.top);return lr(s,c)},gY=function(t,e,n){var r=t.fold(function(t,e){return{position:P.some("absolute"),left:P.some(t+"px"),top:P.some(e+"px")}},function(t,e){return{position:P.some("absolute"),left:P.some(t-n.left+"px"),top:P.some(e-n.top+"px")}},function(t,e){return{position:P.some("fixed"),left:P.some(t+"px"),top:P.some(e+"px")}});return D({right:P.none(),bottom:P.none()},r)},vY=function(t,e,n){return t.fold(function(t,r){return bY(t+e,r+n)},function(t,r){return xY(t+e,r+n)},function(t,r){return _Y(t+e,r+n)})},yY=function(t,e,n,r){var o=function(t,o){return function(i,a){var u=t(e,n,r);return o(i.getOr(u.left),a.getOr(u.top))}};return t.fold(o(hY,bY),o(dY,xY),o(fY,_Y))},bY=uY.offset,xY=uY.absolute,_Y=uY.fixed,wY=function(t,e){var n=Hn(t,e);return l(n)?NaN:parseInt(n,10)},OY=function(t,e){var n=t.element,r=wY(n,e.leftAttr),o=wY(n,e.topAttr);return isNaN(r)||isNaN(o)?P.none():P.some(lr(r,o))},SY=function(t,e,n){var r=t.element;zn(r,e.leftAttr,n.left+"px"),zn(r,e.topAttr,n.top+"px")},CY=function(t,e){var n=t.element;Gn(n,e.leftAttr),Gn(n,e.topAttr)},kY=function(t,e,n,r){return OY(t,e).fold(function(){return n},function(t){return _Y(t.left+r.left,t.top+r.top)})},TY=function(t,e,n,r,o,i){var a=kY(t,e,n,r),u=e.mustSnap?AY(t,e,a,o,i):IY(t,e,a,o,i),s=fY(a,o,i);return SY(t,e,s),u.fold(function(){return{coord:_Y(s.left,s.top),extra:P.none()}},function(t){return{coord:t.output,extra:t.extra}})},MY=function(t,e){CY(t,e)},DY=function(t,e,n,r){return pt(t,function(t){var o=t.sensor,i=pY(e,o,t.range.left,t.range.top,n,r);return i?P.some({output:yY(t.output,e,n,r),extra:t.extra}):P.none()})},AY=function(t,e,n,r,o){var i=e.getSnapPoints(t),a=DY(i,n,r,o);return a.orThunk(function(){var t=J(i,function(t,e){var i=e.sensor,a=mY(n,i,e.range.left,e.range.top,r,o);return t.deltas.fold(function(){return{deltas:P.some(a),snap:P.some(e)}},function(n){var r=(a.left+a.top)/2,o=(n.left+n.top)/2;return r<=o?{deltas:P.some(a),snap:P.some(e)}:t})},{deltas:P.none(),snap:P.none()});return t.snap.map(function(t){return{output:yY(t.output,n,r,o),extra:t.extra}})})},IY=function(t,e,n,r,o){var i=e.getSnapPoints(t);return DY(i,n,r,o)},jY=function(t,e,n){return{coord:yY(t.output,t.output,e,n),extra:t.extra}},EY=function(t,e,n,r){var o=e.getTarget(t.element);if(e.repositionTarget){var i=hn(t.element),a=Br(i),u=GF(o),s=jY(r,a,u),c=gY(s.coord,a,u);Kn(o,c)}},RY=Object.freeze({__proto__:null,snapTo:EY}),NY="data-initial-z-index",PY=function(t){vn(t.element).filter(le).each(function(t){Un(t,NY).fold(function(){return nr(t,"z-index")},function(e){return Xn(t,"z-index",e)}),Gn(t,NY)})},BY=function(t){vn(t.element).filter(le).each(function(e){Qn(e,"z-index").each(function(t){zn(e,NY,t)}),Xn(e,"z-index",Zn(t.element,"z-index"))})},LY=function(t,e){t.getSystem().addToGui(e),BY(e)},FY=function(t){PY(t),t.getSystem().removeFromGui(t)},zY=function(t,e,n){return t.getSystem().build(cD.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))},VY=qi("snaps",[Di("getSnapPoints"),ul("onSensor"),Di("leftAttr"),Di("topAttr"),Xi("lazyViewport",Qr),Xi("mustSnap",!1)]),HY=[Xi("useFixed",k),Di("blockerClass"),Xi("getTarget",_),Xi("onDrag",g),Xi("repositionTarget",!0),Xi("onDrop",g),ta("getBounds",Qr),VY],UY=function(t){return Rt(Qn(t,"left"),Qn(t,"top"),Qn(t,"position"),function(t,e,n){var r="fixed"===n?_Y:bY;return r(parseInt(t,10),parseInt(e,10))}).getOrThunk(function(){var e=hr(t);return xY(e.left,e.top)})},WY=function(t,e,n,r,o){var i=o.bounds,a=dY(e,n,r),u=Ml(a.left,i.x,i.x+i.width-o.width),s=Ml(a.top,i.y,i.y+i.height-o.height),c=xY(u,s);return e.fold(function(){var t=hY(c,n,r);return bY(t.left,t.top)},x(c),function(){var t=fY(c,n,r);return _Y(t.left,t.top)})},GY=function(t,e,n,r,o,i,a){var u=e.fold(function(){var t=vY(n,i.left,i.top),e=fY(t,r,o);return _Y(e.left,e.top)},function(e){var a=TY(t,e,n,i,r,o);return a.extra.each(function(n){e.onSensor(t,n)}),a.coord});return WY(t,u,r,o,a)},qY=function(t,e,n,r){var o=e.getTarget(t.element);if(e.repositionTarget){var i=hn(t.element),a=Br(i),u=GF(o),s=UY(o),c=GY(t,e.snaps,s,a,u,r,n),l=gY(c,a,u);Kn(o,l)}e.onDrag(t,o,r)},YY=function(t,e){return{bounds:t.getBounds(),height:ur(e.element),width:yr(e.element)}},XY=function(t,e,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk(function(){return YY(e,t)});i.each(function(n){qY(t,e,a,n)})},$Y=function(t,e,n,r){e.each(FY),n.snaps.each(function(e){MY(t,e)});var o=n.getTarget(t.element);r.reset(),n.onDrop(t,o)},KY=function(t){return function(e,n){var r=function(t){n.setStartData(YY(e,t))};return Mu(I([ju(lu(),function(t){n.getStartData().each(function(){return r(t)})})],t(e,n,r),!0))}},ZY=function(t){return Mu([ju(Ea(),t.forceDrop),ju(Pa(),t.drop),ju(Ra(),function(e,n){t.move(n.event)}),ju(Na(),t.delayDrop)])},JY=function(t){return P.from(lr(t.x,t.y))},QY=function(t,e){return lr(e.left-t.left,e.top-t.top)},tX=Object.freeze({__proto__:null,getData:JY,getDelta:QY}),eX=function(t,e,n){return[ju(Ea(),function(r,o){var i=o.event.raw;if(0===i.button){o.stop();var a=function(){return $Y(r,P.some(c),t,e)},u=BM(a,200),s={drop:a,delayDrop:u.schedule,forceDrop:a,move:function(n){u.cancel(),XY(r,t,e,tX,n)}},c=zY(r,t.blockerClass,ZY(s)),l=function(){n(r),LY(r,c)};l()}})]},nX=I(I([],HY,!0),[fl("dragger",{handlers:KY(eX)})],!1),rX=function(t){return Mu([ju(Da(),t.forceDrop),ju(Ia(),t.drop),ju(ja(),t.drop),ju(Aa(),function(e,n){t.move(n.event)})])},oX=function(t){var e=t[0];return P.some(lr(e.clientX,e.clientY))},iX=function(t){var e=t.raw,n=e.touches;return 1===n.length?oX(n):P.none()},aX=function(t,e){return lr(e.left-t.left,e.top-t.top)},uX=Object.freeze({__proto__:null,getData:iX,getDelta:aX}),sX=function(t,e,n){var r=od(),o=function(n){$Y(n,r.get(),t,e),r.clear()};return[ju(Da(),function(i,a){a.stop();var u=function(){return o(i)},s={drop:u,delayDrop:g,forceDrop:u,move:function(n){XY(i,t,e,uX,n)}},c=zY(i,t.blockerClass,rX(s));r.set(c);var l=function(){n(i),LY(i,c)};l()}),ju(Aa(),function(n,r){r.stop(),XY(n,t,e,uX,r.event)}),ju(Ia(),function(t,e){e.stop(),o(t)}),ju(ja(),o)]},cX=I(I([],HY,!0),[fl("dragger",{handlers:KY(sX)})],!1),lX=function(t,e,n){return I(I([],eX(t,e,n),!0),sX(t,e,n),!0)},fX=I(I([],HY,!0),[fl("dragger",{handlers:KY(lX)})],!1),dX=nX,hX=cX,pX=fX,mX=Object.freeze({__proto__:null,mouse:dX,touch:hX,mouseOrTouch:pX}),gX=function(){var t=P.none(),e=P.none(),n=function(){t=P.none(),e=P.none()},r=function(e,n){var r=t.map(function(t){return e.getDelta(t,n)});return t=P.some(n),r},o=function(t,e){return t.getData(e).bind(function(e){return r(t,e)})},i=function(t){e=P.some(t)},a=function(){return e},u=x({});return Cs({readState:u,reset:n,update:o,getStartData:a,setStartData:i})},vX=Object.freeze({__proto__:null,init:gX}),yX=vf({branchKey:"mode",branches:mX,name:"dragging",active:{events:function(t,e){var n=t.dragger;return n.handlers(t,e)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:P.from(t.extra)}}},state:vX,apis:RY}),bX=40,xX=bX/2,_X=function(t,e,n,r,o,i){return t.fold(function(){return yX.snap({sensor:xY(n-xX,r-xX),range:lr(o,i),output:xY(P.some(n),P.some(r)),extra:{td:e}})},function(t){var o=n-xX,i=r-xX,a=bX,u=bX,s=t.element.dom.getBoundingClientRect();return yX.snap({sensor:xY(o,i),range:lr(a,u),output:xY(P.some(n-s.width/2),P.some(r-s.height/2)),extra:{td:e}})})},wX=function(t,e,n){var r=function(t,e){return t.exists(function(t){return cn(t,e)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var i=o.td;r(e.get(),i)||(e.set(i),n(i))},mustSnap:!0}},OX=function(t){return Sw(Ow.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:hf([yX.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),VA.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},SX=function(t,e){var n=oa([]),r=oa([]),o=oa(!1),i=od(),a=od(),u=function(t){var n=Jr(t);return _X(h.getOpt(e),t,n.x,n.y,n.width,n.height)},s=function(){return q(n.get(),function(t){return u(t)})},c=function(t){var n=Jr(t);return _X(p.getOpt(e),t,n.right,n.bottom,n.width,n.height)},l=function(){return q(r.get(),function(t){return c(t)})},f=wX(s,i,function(e){a.get().each(function(n){t.fire("TableSelectorChange",{start:e,finish:n})})}),d=wX(l,a,function(e){i.get().each(function(n){t.fire("TableSelectorChange",{start:n,finish:e})})}),h=OX(f),p=OX(d),m=Tc(h.asSpec()),g=Tc(p.asSpec()),v=function(e,n,r,o){var i=n.dom.getBoundingClientRect();nr(e.element,"display");var a=gn(ee.fromDom(t.getBody())).dom.innerHeight,u=r(i),s=o(i,a);(u||s)&&Xn(e.element,"display","none")},y=function(t,e,n,r){var o=n(e);yX.snapTo(t,o);var i=function(t){return t[r]<0},a=function(t,e){return t[r]>e};v(t,e,i,a)},b=function(t){return y(m,t,u,"top")},x=function(){return i.get().each(b)},_=function(t){return y(g,t,c,"bottom")},w=function(){return a.get().each(_)};en().deviceType.isTouch()&&(t.on("TableSelectionChange",function(t){o.get()||(Wp(e,m),Wp(e,g),o.set(!0)),i.set(t.start),a.set(t.finish),t.otherCells.each(function(e){n.set(e.upOrLeftCells),r.set(e.downOrRightCells),b(t.start),_(t.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){x(),w()}),t.on("TableSelectionClear",function(){o.get()&&(Yp(m),Yp(g),o.set(!1)),i.clear(),a.clear()}))},CX=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},kX=function(t,e,n){e.delimiter||(e.delimiter="");var r=function(r){var o=r||[],i=q(o,function(e,r){return Ow.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:e.name},action:function(n){t.focus(),t.selection.select(e.element),t.nodeChanged()},buttonBehaviours:hf([hk.button(n.isDisabled),sk()])})}),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+e.delimiter+" "}};return J(i.slice(1),function(t,e){var n=t;return n.push(a),n.push(e),n},[i[0]])},o=function(e){var n=[],r=e.length;while(r-- >0){var o=e[r];if(1===o.nodeType&&!CX(o)){var i=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:hf([Dx.config({mode:"flow",selector:"div[role=button]"}),Bv.config({disabled:n.isDisabled}),sk(),bD.config({}),Fx.config({}),Vx("elementPathEvents",[Hu(function(e,n){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Dx.focusIn(e)}),t.on("NodeChange",function(t){var n=o(t.parents);n.length>0?Fx.set(e,r(n)):Fx.set(e,[])})})])]),components:[]}};(function(t){t[t["None"]=0]="None",t[t["Both"]=1]="Both",t[t["Vertical"]=2]="Vertical"})(AU||(AU={}));var TX=function(t,e,n,r,o){var i={};return i.height=QW(r+e.top,xC(t),wC(t)),n===AU.Both&&(i.width=QW(o+e.left,bC(t),_C(t))),i},MX=function(t,e,n){var r=ee.fromDom(t.getContainer()),o=TX(t,e,n,ar(r),vr(r));vt(o,function(t,e){return Xn(r,e,JW(t))}),vT(t)},DX=function(t){var e=!t.hasPlugin("autoresize"),n=t.getParam("resize",e);return!1===n?AU.None:"both"===n?AU.Both:AU.Vertical},AX=function(t,e,n,r){var o=20,i=lr(n*o,r*o);return MX(t,i,e),P.some(!0)},IX=function(t,e){var n=DX(t);return n===AU.None?P.none():P.some(Pw("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize")},behaviours:[yX.config({mode:"mouse",repositionTarget:!1,onDrag:function(e,r,o){return MX(t,o,n)},blockerClass:"tox-blocker"}),Dx.config({mode:"special",onLeft:function(){return AX(t,n,-1,0)},onRight:function(){return AX(t,n,1,0)},onUp:function(){return AX(t,n,0,-1)},onDown:function(){return AX(t,n,0,1)}}),bD.config({}),Kx.config({})]},e.icons))},jX=function(t,e){var n,r=function(t,n,r){return Fx.set(t,[Oc(e.translate(["{0} "+r,n[r]]))])};return Ow.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:hf([hk.button(e.isDisabled),sk(),bD.config({}),Fx.config({}),tg.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Vx("wordcount-events",[Gu(function(t){var e=tg.getValue(t),n="words"===e.mode?"characters":"words";tg.setValue(t,{mode:n,count:e.count}),r(t,e.count,n)}),Hu(function(e){t.on("wordCountUpdate",function(t){var n=tg.getValue(e).mode;tg.setValue(e,{mode:n,count:t.wordCount}),r(e,t.wordCount,n)})})])]),eventOrder:(n={},n[eu()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})},EX=function(t,e){var n=function(){var t=Cw.translate(["Powered by {0}","Tiny"]),e='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+t+'">'+t+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:e}}},r=function(){var r=[];return t.getParam("elementpath",!0,"boolean")&&r.push(kX(t,{},e)),t.hasPlugin("wordcount")&&r.push(jX(t,e)),t.getParam("branding",!0,"boolean")&&r.push(n()),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]},o=function(){var n=r(),o=IX(t,e);return n.concat(o.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:o()}},RX=function(t){var e,n=t.inline,r=n?sG:KW,o=GC(t)?Lz:UF,i=P.none(),a=en(),u=a.browser.isIE(),s=u?["tox-platform-ie"]:[],c=a.deviceType.isTouch(),l="tox-platform-touch",f=c?[l]:[],d=BC(t),h=UC(t),p=Cw.isRtl()?{attributes:{dir:"rtl"}}:{},m={attributes:(e={},e[Bd]=d?Ff.BottomToTop:Ff.TopToBottom,e)},v=function(){return i.bind(uU.getHeader)},y=function(){return o.isDocked(v)},b=function(){Xn(J.element,"width",document.body.clientWidth+"px")},x=function(){var t=cn(Bn(),h)&&"grid"===Zn(h,"display"),e={dom:D({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(s).concat(f)},p),behaviours:hf([Lp.config({useFixed:function(){return y()}})])},n={dom:{styles:{width:document.body.clientWidth+"px"}},events:Mu([ju(fu(),b)])};return wo(e,t?n:{})},_=Tc(x()),w=function(){return ro.value(_)},O=Sw({dom:{tag:"div",classes:["tox-anchorbar"]}}),S=function(){return i.bind(function(t){return O.getOpt(t)}).getOrDie("Could not find a anchor bar element")},C=function(){return i.bind(function(t){return uU.getToolbar(t)}).getOrDie("Could not find more toolbar element")},k=function(){return i.bind(function(t){return uU.getThrobber(t)}).getOrDie("Could not find throbber element")},T=SF(_,t,S),M=uU.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:T,onEscape:function(){t.focus()}}),A=EC(t),I=uU.parts.toolbar(D({dom:{tag:"div",classes:["tox-toolbar"]},getSink:w,providers:T.shared.providers,onEscape:function(){t.focus()},type:A,lazyToolbar:C,lazyHeader:function(){return v().getOrDie("Could not find header element")}},m)),j=uU.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:T.shared.providers,onEscape:function(){t.focus()},type:A}),E=uU.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),R=uU.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),N=uU.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:T}),B=t.getParam("statusbar",!0,"boolean"),L=B&&!n?P.some(EX(t,T.shared.providers)):P.none(),F={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[E,R]},z=IC(t),V=DC(t),H=MC(t),U=function(){return z?[j]:V?[I]:[]},W=uU.parts.header({dom:D({tag:"div",classes:["tox-editor-header"]},m),components:nt([H?[M]:[],U(),HC(t)?[]:[O.asSpec()]]),sticky:GC(t),editor:t,sharedBackstage:T.shared}),G=nt([d?[]:[W],n?[]:[F],d?[W]:[]]),q={dom:{tag:"div",classes:["tox-editor-container"]},components:G},Y=nt([[q],n?[]:L.toArray(),[N]]),X=WC(t),$=D(D({role:"application"},Cw.isRtl()?{dir:"rtl"}:{}),X?{"aria-hidden":"true"}:{}),K=Tc(uU.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(d?["tox-tinymce--toolbar-bottom"]:[]).concat(f).concat(s),styles:D({visibility:"hidden"},X?{opacity:"0",border:"0"}:{}),attributes:$},components:Y,behaviours:hf([sk(),Bv.config({disableClass:"tox-tinymce--disabled"}),Dx.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));i=P.some(K),t.shortcuts.add("alt+F9","focus menubar",function(){uU.focusMenubar(K)}),t.shortcuts.add("alt+F10","focus toolbar",function(){uU.focusToolbar(K)}),t.addCommand("ToggleToolbarDrawer",function(){uU.toggleToolbarDrawer(K)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return uU.isToolbarDrawerToggled(K)});var Z=lD(K),J=lD(_);CF(t,Z,J);var Q=function(){var t={broadcastAll:J.broadcast,broadcastOn:J.broadcastOn,register:g};return{channels:t}},tt=function(){var e=JW(eG(t)),n=JW(rG(t));return t.inline||(er("div","width",n)&&Xn(K.element,"width",n),er("div","height",e)?Xn(K.element,"height",e):Xn(K.element,"height","200px")),e},et=function(){o.setup(t,T.shared,v),Cq(t,T),aY(t,w,T),jV(t),iH(t,k,T.shared),yt(NC(t),function(e,n){t.ui.registry.addGroupToolbarButton(n,e)});var e=t.ui.registry.getAll(),n=e.buttons,i=e.menuItems,a=e.contextToolbars,u=e.sidebars,s=AC(t),c={menuItems:i,menus:XC(t),menubar:$C(t),toolbar:s.getOrThunk(function(){return KC(t)}),allowToolbarGroups:A===HO.floating,buttons:n,sidebar:u};$G(t,a,_,{backstage:T}),SX(t,_);var l=t.getElement(),f=tt(),d={mothership:Z,uiMothership:J,outerContainer:K},h={targetNode:l,height:f};return r.render(t,d,c,T,h)};return{mothership:Z,uiMothership:J,backstage:T,renderUI:et,getUi:Q}},NX=function(t,e){var n=P.from(Hn(t,"id")).fold(function(){var t=os("dialog-describe");return zn(e,"id",t),t},_);zn(t,"aria-describedby",n)},PX=function(t,e){var n=Un(t,"id").fold(function(){var t=os("dialog-label");return zn(e,"id",t),t},_);zn(t,"aria-labelledby",n)},BX=x([Di("lazySink"),zi("dragBlockClass"),ta("getBounds",Qr),Xi("useTabstopAt",T),Xi("eventOrder",{}),eg("modalBehaviours",[Dx]),sl("onExecute"),ll("onEscape")]),LX={sketch:_},FX=x([Ng({name:"draghandle",overrides:function(t,e){return{behaviours:hf([yX.config({mode:"mouse",getTarget:function(t){return Pc(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),Eg({schema:[Di("dom")],name:"title"}),Eg({factory:LX,schema:[Di("dom")],name:"close"}),Eg({factory:LX,schema:[Di("dom")],name:"body"}),Ng({factory:LX,schema:[Di("dom")],name:"footer"}),Rg({factory:{sketch:function(t,e){return D(D({},t),{dom:e.dom,components:e.components})}},schema:[Xi("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Xi("components",[])],name:"blocker"})]),zX=function(t,e,n,r){var o,i=od(),a=function(e){i.set(e);var n=t.lazySink(e).getOrDie(),o=r.blocker(),a=n.getSystem().build(D(D({},o),{components:o.components.concat([Mc(e)]),behaviours:hf([Kx.config({}),Vx("dialog-blocker-events",[Vu(La(),function(){Dx.focusIn(e)})])])}));Wp(n,a),Dx.focusIn(e)},u=function(t){i.clear(),vn(t.element).each(function(e){t.getSystem().getByDom(e).each(function(t){Yp(t)})})},s=function(e){return $g(e,t,"body")},c=function(e){return $g(e,t,"footer")},l=function(t,e){XV.block(t,e)},f=function(t){XV.unblock(t)},d=os("modal-events"),h=D(D({},t.eventOrder),(o={},o[du()]=[d].concat(t.eventOrder["alloy.system.attached"]||[]),o));return{uid:t.uid,dom:t.dom,components:e,apis:{show:a,hide:u,getBody:s,getFooter:c,setIdle:f,setBusy:l},eventOrder:h,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:rg(t.modalBehaviours,[Fx.config({}),Dx.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),XV.config({getRoot:i.get}),Vx(d,[Hu(function(e){PX(e.element,$g(e,t,"title").element),NX(e.element,$g(e,t,"body").element)})])])}},VX=hv({name:"ModalDialog",configFields:BX(),partFields:FX(),factory:zX,apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),HX=ti([ji("type"),ji("name")].concat(ES)),UX=li,WX=[ki("name","name",Co(function(){return os("button-name")}),ci),Ui("icon"),Ji("align","end",["start","end"]),Qi("primary",!1),Qi("disabled",!1)],GX=I(I([],WX,!0),[ji("text")],!1),qX=I([Ei("type",["submit","cancel","custom"])],GX,!0),YX=I([Ei("type",["menu"]),Ui("text"),Ui("tooltip"),Ui("icon"),Fi("items",HX)],WX,!0),XX=Si("type",{submit:qX,cancel:qX,custom:qX,menu:YX}),$X=[ji("type"),ji("text"),Ei("level",["info","warn","error","success"]),ji("icon"),Xi("url","")],KX=ti($X),ZX=function(t){return[ji("type"),t]},JX=[ji("type"),ji("text"),Qi("disabled",!1),Qi("primary",!1),ki("name","name",Co(function(){return os("button-name")}),ci),Ui("icon"),Qi("borderless",!1)],QX=ti(JX),t$=[ji("type"),ji("name"),ji("label"),Qi("disabled",!1)],e$=ti(t$),n$=li,r$=[ji("type"),ji("name")],o$=r$.concat([Ui("label")]),i$=o$.concat([Xi("columns","auto")]),a$=ti(i$),u$=ii([ji("value"),ji("text"),ji("icon")]),s$=o$,c$=ti(s$),l$=ci,f$=o$,d$=ti(f$),h$=ci,p$=r$.concat([Zi("tag","textarea"),ji("scriptId"),ji("scriptUrl"),ea("settings",void 0)]),m$=r$.concat([Zi("tag","textarea"),Ni("init")]),g$=vi(function(t){return xi("customeditor.old",Qo(m$),t).orThunk(function(){return xi("customeditor.new",Qo(p$),t)})}),v$=ci,y$=o$,b$=ti(y$),x$=gi(),_$=function(t){return[ji("type"),Ii("columns"),t]},w$=[ji("type"),ji("html"),Ji("presets","presentation",["presentation","document"])],O$=ti(w$),S$=o$.concat([Qi("sandboxed",!0)]),C$=ti(S$),k$=ci,T$=o$.concat([Ai("currentState",ti([Di("blob"),ji("url")]))]),M$=ti(T$),D$=o$.concat([Ui("inputMode"),Ui("placeholder"),Qi("maximized",!1),Qi("disabled",!1)]),A$=ti(D$),I$=ci,j$=function(t){return[ji("type"),ji("label"),t]},E$=[ji("text"),ji("value")],R$=[ji("text"),Fi("items",Ci("items",function(){return N$}))],N$=ni([ti(E$),ti(R$)]),P$=o$.concat([Fi("items",N$),Qi("disabled",!1)]),B$=ti(P$),L$=ci,F$=o$.concat([Li("items",[ji("text"),ji("value")]),Ki("size",1),Qi("disabled",!1)]),z$=ti(F$),V$=ci,H$=o$.concat([Qi("constrain",!0),Qi("disabled",!1)]),U$=ti(H$),W$=ti([ji("width"),ji("height")]),G$=[ji("type"),Fi("header",ci),Fi("cells",ei(ci))],q$=ti(G$),Y$=o$.concat([Ui("placeholder"),Qi("maximized",!1),Qi("disabled",!1)]),X$=ti(Y$),$$=ci,K$=o$.concat([Ji("filetype","file",["image","media","file"]),Xi("disabled",!1)]),Z$=ti(K$),J$=ti([ji("value"),Xi("meta",{})]),Q$=function(t){return ki("items","items",So(),ei(vi(function(e){return xi("Checking item of "+t,tK,e).fold(function(t){return ro.error(Oi(t))},function(t){return ro.value(t)})})))},tK=Zo(function(){return mi("type",{alertbanner:KX,bar:ti(ZX(Q$("bar"))),button:QX,checkbox:e$,colorinput:c$,colorpicker:d$,dropzone:b$,grid:ti(_$(Q$("grid"))),iframe:C$,input:A$,listbox:B$,selectbox:z$,sizeinput:U$,textarea:X$,urlinput:Z$,customeditor:g$,htmlpanel:O$,imagetools:M$,collection:a$,label:ti(j$(Q$("label"))),table:q$,panel:nK})}),eK=[ji("type"),Xi("classes",[]),Fi("items",tK)],nK=ti(eK),rK=[ki("name","name",Co(function(){return os("tab-name")}),ci),ji("title"),Fi("items",tK)],oK=[ji("type"),Li("tabs",rK)],iK=ti(oK),aK=GX,uK=XX,sK=ti([ji("title"),Ai("body",mi("type",{panel:nK,tabpanel:iK})),Zi("size","normal"),Fi("buttons",uK),Xi("initialData",{}),ta("onAction",g),ta("onChange",g),ta("onSubmit",g),ta("onClose",g),ta("onCancel",g),Xi("onTabChange",g)]),cK=function(t){return xi("dialog",sK,t)},lK=ti(I([Ei("type",["cancel","custom"])],aK,!0)),fK=ti([ji("title"),ji("url"),Hi("height"),Hi("width"),Gi("buttons",lK),ta("onAction",g),ta("onCancel",g),ta("onClose",g),ta("onMessage",g)]),dK=function(t){return xi("dialog",fK,t)},hK=function(t){return a(t)?[t].concat(rt(Ct(t),hK)):u(t)?rt(t,hK):[]},pK=function(t){return i(t.type)&&i(t.name)},mK={checkbox:n$,colorinput:l$,colorpicker:h$,dropzone:x$,input:I$,iframe:k$,sizeinput:W$,selectbox:V$,listbox:L$,size:W$,textarea:$$,urlinput:J$,customeditor:v$,collection:u$,togglemenuitem:UX},gK=function(t){return P.from(mK[t.type])},vK=function(t){return K(hK(t),pK)},yK=function(t){var e=vK(t),n=rt(e,function(t){return gK(t).fold(function(){return[]},function(e){return[Ai(t.name,e)]})});return ti(n)},bK=function(t){var e=_i(cK(t)),n=yK(t),r=t.initialData;return{internalDialog:e,dataValidator:n,initialData:r}},xK={open:function(t,e){var n=bK(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){var n=_i(dK(e));return t(n)},redial:function(t){return bK(t)}},_K=function(t){var e=[],n={};return vt(t,function(t,r){t.fold(function(){e.push(r)},function(t){n[r]=t})}),e.length>0?ro.error(e):ro.value(n)},wK=function(t,e){var n=Sw(EE.sketch(function(n){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:q(t.items,function(t){return uL(n,t,e)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:hf([Dx.config({mode:"acyclic",useTabstopAt:S(vR)}),WE.memento(n),aR.memento(n,{postprocess:function(t){return _K(t).fold(function(t){return console.error(t),{}},_)}})])}},OK=function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:v_(t.action),behaviours:rg(t.tabButtonBehaviours,[Kx.config({}),Dx.config({mode:"execution",useSpace:!0,useEnter:!0}),tg.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},SK=dv({name:"TabButton",configFields:[Xi("uid",void 0),Di("value"),ki("dom","dom",Mo(function(){return{attributes:{role:"tab",id:os("aria"),"aria-selected":"false"}}}),ai()),zi("action"),Xi("domModification",{}),eg("tabButtonBehaviours",[Kx,Dx,tg]),Di("view")],factory:OK}),CK=x([Di("tabs"),Di("dom"),Xi("clickToDismiss",!1),eg("tabbarBehaviours",[ry,Dx]),il(["tabClass","selectedClass"])]),kK=Pg({factory:SK,name:"tabs",unit:"tab",overrides:function(t){var e=function(t,e){ry.dehighlight(t,e),Ou(t,bu(),{tabbar:t,button:e})},n=function(t,e){ry.highlight(t,e),Ou(t,yu(),{tabbar:t,button:e})};return{action:function(r){var o=r.getSystem().getByUid(t.uid).getOrDie(),i=ry.isHighlighted(o,r),a=function(){return i&&t.clickToDismiss?e:i?g:n}();a(o,r)},domModification:{classes:[t.markers.tabClass]}}}}),TK=x([kK]),MK=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:rg(t.tabbarBehaviours,[ry.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){zn(e.element,"aria-selected","true")},onDehighlight:function(t,e){zn(e.element,"aria-selected","false")}}),Dx.config({mode:"flow",getInitial:function(t){return ry.getHighlighted(t).map(function(t){return t.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},DK=hv({name:"Tabbar",configFields:CK(),partFields:TK(),factory:MK}),AK=function(t,e){return{uid:t.uid,dom:t.dom,behaviours:rg(t.tabviewBehaviours,[Fx.config({})]),domModification:{attributes:{role:"tabpanel"}}}},IK=dv({name:"Tabview",configFields:[eg("tabviewBehaviours",[Fx])],factory:AK}),jK=x([Xi("selectFirst",!0),ul("onChangeTab"),ul("onDismissTab"),Xi("tabs",[]),eg("tabSectionBehaviours",[])]),EK=Eg({factory:DK,schema:[Di("dom"),Bi("markers",[Di("tabClass"),Di("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),RK=Eg({factory:IK,name:"tabview"}),NK=x([EK,RK]),PK=function(t,e,n,r){var o=function(e){var n=tg.getValue(e);Xg(e,t,"tabview").each(function(r){var o=tt(t.tabs,function(t){return t.value===n});o.each(function(n){var o=n.view();Un(e.element,"id").each(function(t){zn(r.element,"aria-labelledby",t)}),Fx.set(r,o),t.onChangeTab(r,e,o)})})},i=function(e,n){Xg(e,t,"tabbar").each(function(t){n(t).each(Su)})};return{uid:t.uid,dom:t.dom,components:e,behaviours:ng(t.tabSectionBehaviours),events:Mu(nt([t.selectFirst?[Hu(function(t,e){i(t,ry.getFirst)})]:[],[ju(yu(),function(t,e){var n=e.event.button;o(n)}),ju(bu(),function(e,n){var r=n.event.button;t.onDismissTab(e,r)})]])),apis:{getViewItems:function(e){return Xg(e,t,"tabview").map(function(t){return Fx.contents(t)}).getOr([])},showTab:function(t,e){var n=function(t){var n=ry.getCandidates(t),r=tt(n,function(t){return tg.getValue(t)===e});return r.filter(function(e){return!ry.isHighlighted(t,e)})};i(t,n)}}}},BK=hv({name:"TabSection",configFields:jK(),partFields:NK(),factory:PK,apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),LK=function(t,e,n){return q(t,function(r,o){Fx.set(n,t[o].view());var i=e.dom.getBoundingClientRect();return Fx.set(n,[]),i.height})},FK=function(t){return ft(ct(t,function(t,e){return t>e?-1:t<e?1:0}))},zK=function(t,e,n){var r,o=mn(t).dom,i=Pc(t,".tox-dialog-wrap").getOr(t),a="fixed"===Zn(i,"position");r=a?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var u=ar(e),s=e.dom.offsetLeft>=n.dom.offsetLeft+vr(n),c=s?Math.max(ar(n),u):u,l=parseInt(Zn(t,"margin-top"),10)||0,f=parseInt(Zn(t,"margin-bottom"),10)||0,d=ar(t)+l+f,h=d-c;return r-h},VK=function(t,e){ft(t).each(function(t){return BK.showTab(e,t.value)})},HK=function(t,e){Xn(t,"height",e+"px"),en().browser.isIE()?nr(t,"flex-basis"):Xn(t,"flex-basis",e+"px")},UK=function(t,e,n){Pc(t,'[role="dialog"]').each(function(t){Lc(t,'[role="tablist"]').each(function(r){n.get().map(function(n){return Xn(e,"height","0"),Xn(e,"flex-basis","0"),Math.min(n,zK(t,e,r))}).each(function(t){HK(e,t)})})})},WK=function(t){return Lc(t,'[role="tabpanel"]')},GK=function(t){var e=function(){var e=od(),n=[Hu(function(n){var r=n.element;WK(r).each(function(o){Xn(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each(function(n){var r=LK(t,o,n),i=FK(r);i.fold(e.clear,e.set)}),UK(r,o,e),nr(o,"visibility"),VK(t,n),_w.requestAnimationFrame(function(){UK(r,o,e)})})}),ju(fu(),function(t){var n=t.element;WK(n).each(function(t){UK(n,t,e)})}),ju(ND,function(t,n){var r=t.element;WK(r).each(function(t){var n=kf(Dn(t));Xn(t,"visibility","hidden");var o=Qn(t,"height").map(function(t){return parseInt(t,10)});nr(t,"height"),nr(t,"flex-basis");var i=t.dom.getBoundingClientRect().height,a=o.forall(function(t){return i>t});a?(e.set(i),UK(r,t,e)):o.each(function(e){HK(t,e)}),nr(t,"visibility"),n.each(Of)})})],r=!1;return{extraEvents:n,selectFirst:r}}(),n=function(){var t=[],e=!0;return{extraEvents:t,selectFirst:e}}();return{smartTabHeight:e,naiveTabHeight:n}},qK="send-data-to-section",YK="send-data-to-view",XK=function(t,e){var n=oa({}),r=function(t){var e=tg.getValue(t),r=_K(e).getOr({}),o=n.get(),i=wo(o,r);n.set(i)},o=function(t){var e=n.get();tg.setValue(t,e)},i=oa(null),a=q(t.tabs,function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[EE.sketch(function(n){return{dom:{tag:"div",classes:["tox-form"]},components:q(t.items,function(t){return uL(n,t,e)}),formBehaviours:hf([Dx.config({mode:"acyclic",useTabstopAt:S(vR)}),Vx("TabView.form.events",[Hu(o),Uu(r)]),bf.config({channels:pa([{key:qK,value:{onReceive:r}},{key:YK,value:{onReceive:o}}])})])}})]}}}),u=GK(a).smartTabHeight;return BK.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=tg.getValue(e);Ou(t,RD,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[BK.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[DK.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:hf([bD.config({})])}),BK.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:hf([Vx("tabpanel",u.extraEvents),Dx.config({mode:"acyclic"}),yv.config({find:function(t){return ft(BK.getViewItems(t))}}),tg.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn([qK],{}),n.get()},setValue:function(t,e){n.set(e),t.getSystem().broadcastOn([YK],{})}}})])})},$K=os("update-dialog"),KK=os("update-title"),ZK=os("update-body"),JK=os("update-footer"),QK=os("body-send-message"),tZ=function(t,e,n,r){var o=function(t){switch(t.body.type){case"tabpanel":return[XK(t.body,n)];default:return[wK(t.body,n)]}},i=function(t,e){return P.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:D(D({},e.map(function(t){return{id:t}}).getOr({})),r?a:{})},components:[],behaviours:hf([WE.childAt(0),pW.config({channel:ZK,updateState:i,renderComponents:o,initialData:t})])}},eZ=function(t,e,n,r){return tZ(t,P.some(e),n,r)},nZ=function(t,e){var n=tZ(t,P.none(),e,!1);return VX.parts.body(n)},rZ=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[pR({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:hf([bD.config({}),Kx.config({})])})]}],behaviours:hf([Dx.config({mode:"acyclic",useTabstopAt:S(vR)})])};return VX.parts.body(e)},oZ=wk.deviceType.isTouch(),iZ=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}},aZ=function(t,e){return VX.parts.close(Ow.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:hf([bD.config({})])}))},uZ=function(){return VX.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},sZ=function(t,e){return VX.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:ZV("<p>"+e.translate(t)+"</p>")}]}]})},cZ=function(t){return VX.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},lZ=function(t,e){return[cD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),cD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},fZ=function(t){var e,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return VX.sketch({lazySink:t.lazySink,onEscape:function(e){return t.onEscape(e),P.some(!0)},useTabstopAt:function(t){return!vR(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:D({position:"relative"},t.extraStyles)},components:I([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:ZV('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:oZ?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:hf(I([Kx.config({}),Vx("dialog-events",t.dialogEvents.concat([Vu(La(),function(t,e){Dx.focusIn(t)})])),Vx("scroll-lock",[Hu(function(){ic(Bn(),i)}),Uu(function(){uc(Bn(),i)})])],t.extraBehaviours,!0)),eventOrder:D((e={},e[eu()]=["dialog-events"],e[du()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[hu()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})},dZ=function(t){return Ow.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[Pw("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(t){wu(t,DD)}})},hZ=function(t,e,n){var r=function(t){return[Oc(n.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:D({},e.map(function(t){return{id:t}}).getOr({}))},components:r(t),behaviours:hf([pW.config({channel:KK,renderComponents:r})])}},pZ=function(){return{dom:ZV('<div class="tox-dialog__draghandle"></div>')}},mZ=function(t,e,n){return cD.sketch({dom:ZV('<div class="tox-dialog__header"></div>'),components:[hZ(t,P.some(e),n),pZ(),dZ(n)],containerBehaviours:hf([yX.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return Fc(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},gZ=function(t,e){var n=VX.parts.title(hZ(t,P.none(),e)),r=VX.parts.draghandle(pZ()),o=VX.parts.close(dZ(e)),i=[n].concat(t.draggable?[r]:[]).concat([o]);return cD.sketch({dom:ZV('<div class="tox-dialog__header"></div>'),components:i})},vZ=function(t,e){return gZ({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)},yZ=function(t,e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:e,components:[{dom:ZV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},bZ=function(t,e,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){VX.setBusy(t(),function(t,r){return yZ(n.message,r,e)})},onUnblock:function(){VX.setIdle(t())}}},xZ=function(t,e,n,r){var o,i=function(t,e){return P.some(e)};return Tc(fZ(D(D({},t),{lazySink:r.shared.getSink,extraBehaviours:I([pW.config({channel:$K,updateState:i,initialData:e}),aR.memory({})],t.extraBehaviours,!0),onEscape:function(t){wu(t,DD)},dialogEvents:n,eventOrder:(o={},o[tu()]=[pW.name(),bf.name()],o[du()]=["scroll-lock",pW.name(),"messages","dialog-events","alloy.base.behaviour"],o[hu()]=["alloy.base.behaviour","dialog-events","messages",pW.name(),"scroll-lock"],o)})))},_Z=function(t){var e=function(t){var e=q(t.items,function(t){var e=oa(!1);return D(D({},t),{storage:e})});return D(D({},t),{items:e})};return q(t,function(t){return"menu"===t.type?e(t):t})},wZ=function(t){return J(t,function(t,e){if("menu"===e.type){var n=e;return J(n.items,function(t,e){return t[e.name]=e.storage,t},t)}return t},{})},OZ=function(t,e){return[Lu(La(),gR),t(MD,function(t,n){e.onClose(),n.onClose()}),t(DD,function(t,e,n,r){e.onCancel(t),wu(r,MD)}),ju(ED,function(t,n){return e.onUnblock()}),ju(jD,function(t,n){return e.onBlock(n.event)})]},SZ=function(t,e){var n=function(e,n){return ju(e,function(e,o){r(e,function(r,i){n(t(),r,o.event,e)})})},r=function(t,e){pW.getState(t).get().each(function(n){e(n,t)})};return I(I([],OZ(n,e),!0),[n(AD,function(t,e,n){e.onAction(t,{name:n.name})})],!1)},CZ=function(t,e,n){var r=function(e,n){return ju(e,function(e,r){o(e,function(o,i){n(t(),o,r.event,e)})})},o=function(t,e){pW.getState(t).get().each(function(n){e(n.internalDialog,t)})};return I(I([],OZ(r,e),!0),[r(ID,function(t,e){return e.onSubmit(t)}),r(TD,function(t,e,n){e.onChange(t,{name:n.name})}),r(AD,function(t,e,r,o){var i=function(){return Dx.focusIn(o)},a=function(t){return Wn(t,"disabled")||Un(t,"aria-disabled").exists(function(t){return"true"===t})},u=Dn(o.element),s=kf(u);e.onAction(t,{name:r.name,value:r.value}),kf(u).fold(i,function(t){a(t)?i():s.exists(function(e){return dn(t,e)&&a(e)})?i():n().toOptional().filter(function(e){return!dn(e.element,t)}).each(i)})}),r(RD,function(t,e,n){e.onTabChange(t,{newTabName:n.name,oldTabName:n.oldName})}),Uu(function(e){var n=t();tg.setValue(e,n.getData())})],!1)},kZ={initUrlDialog:SZ,initDialog:CZ},TZ=function(t,e){return rP(t,t.type,e)},MZ=function(t,e,n){return tt(e,function(t){return t.name===n}).bind(function(e){return e.memento.getOpt(t)})},DZ=function(t,e){var n=e.map(function(t){return t.footerButtons}).getOr([]),r=$(n,function(t){return"start"===t.align}),o=function(t,e){return cD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:q(e,function(t){return t.memento.asSpec()})})},i=o("start",r.pass),a=o("end",r.fail);return[i,a]},AZ=function(t,e){var n=function(t,n){var r=q(n.buttons,function(t){var n=Sw(TZ(t,e));return{name:t.name,align:t.align,memento:n}}),o=function(t,e){return MZ(t,r,e)};return P.some({lookupByName:o,footerButtons:r})};return{dom:ZV('<div class="tox-dialog__footer"></div>'),components:[],behaviours:hf([pW.config({channel:JK,initialData:t,updateState:n,renderComponents:DZ})])}},IZ=function(t,e){return AZ(t,e)},jZ=function(t,e){return VX.parts.footer(AZ(t,e))},EZ=function(t,e){var n=t.getRoot();if(n.getSystem().isConnected()){var r=yv.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return EE.getField(r,e).fold(function(){var n=t.getFooter(),o=pW.getState(n);return o.get().bind(function(t){return t.lookupByName(r,e)})},function(t){return P.some(t)})}return P.none()},RZ=function(t,e){var n=t.getRoot();return pW.getState(n).get().map(function(t){return _i(xi("data",t.dataValidator,e))}).getOr(e)},NZ=function(t,e,n){var r=function(e){var n=t.getRoot();n.getSystem().isConnected()&&e(n)},o=function(){var e=t.getRoot(),r=e.getSystem().isConnected()?t.getFormWrapper():e,o=tg.getValue(r),i=yt(n,function(t){return t.get()});return D(D({},o),i)},a=function(e){r(function(r){var o=m.getData(),i=D(D({},o),e),a=RZ(t,i),u=t.getFormWrapper();tg.setValue(u,a),vt(n,function(t,e){Tt(i,e)&&t.set(i[e])})})},u=function(e){EZ(t,e).each(Bv.disable)},s=function(e){EZ(t,e).each(Bv.enable)},c=function(e){EZ(t,e).each(Kx.focus)},l=function(t){if(!i(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(e){Ou(e,jD,{message:t})})},f=function(){r(function(t){wu(t,ED)})},d=function(e){r(function(n){var r=t.getBody(),o=pW.getState(r);o.get().exists(function(t){return t.isTabPanel()})&&yv.getCurrent(r).each(function(t){BK.showTab(t,e)})})},h=function(t){r(function(n){var r=e(t);n.getSystem().broadcastOn([$K],r),n.getSystem().broadcastOn([KK],r.internalDialog),n.getSystem().broadcastOn([ZK],r.internalDialog),n.getSystem().broadcastOn([JK],r.internalDialog),m.setData(r.initialData)})},p=function(){r(function(t){wu(t,MD)})},m={getData:o,setData:a,disable:u,enable:s,focus:c,block:l,unblock:f,showTab:d,redial:h,close:p};return m},PZ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},BZ=function(t,e,n){var r=vZ(t.internalDialog.title,n),o=nZ({body:t.internalDialog.body},n),i=_Z(t.internalDialog.buttons),a=wZ(i),u=jZ({buttons:i},n),s=kZ.initDialog(function(){return h},bZ(function(){return f},n.shared.providers,e),n.shared.getSink),c=PZ(t.internalDialog.size),l={header:r,body:o,footer:P.some(u),extraClasses:c,extraBehaviours:[],extraStyles:{}},f=xZ(l,t,s,n),d=function(){var t=function(){var t=VX.getBody(f);return yv.getCurrent(t).getOr(t)};return{getRoot:x(f),getBody:function(){return VX.getBody(f)},getFooter:function(){return VX.getFooter(f)},getFormWrapper:t}}(),h=NZ(d,e.redial,a);return{dialog:f,instanceApi:h}},LZ=function(t,e,n,r){var o,i,a=os("dialog-label"),u=os("dialog-content"),s=function(t,e){return P.some(e)},c=Sw(mZ({title:t.internalDialog.title,draggable:!0},a,n.shared.providers)),l=Sw(eZ({body:t.internalDialog.body},u,n,r)),f=_Z(t.internalDialog.buttons),d=wZ(f),h=Sw(IZ({buttons:f},n)),p=kZ.initDialog(function(){return g},{onBlock:function(t){XV.block(m,function(e,r){return yZ(t.message,r,n.shared.providers)})},onUnblock:function(){XV.unblock(m)},onClose:function(){return e.closeWindow()}},n.shared.getSink),m=Tc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=a,o["aria-describedby"]=u,o)},eventOrder:(i={},i[tu()]=[pW.name(),bf.name()],i[eu()]=["execute-on-form"],i[du()]=["reflecting","execute-on-form"],i),behaviours:hf([Dx.config({mode:"cyclic",onEscape:function(t){return wu(t,MD),P.some(!0)},useTabstopAt:function(t){return!vR(t)&&("button"!==ue(t)||"disabled"!==Hn(t,"disabled"))}}),pW.config({channel:$K,updateState:s,initialData:t}),Kx.config({}),Vx("execute-on-form",p.concat([Vu(La(),function(t,e){Dx.focusIn(t)})])),XV.config({getRoot:function(){return P.some(m)}}),Fx.config({}),aR.memory({})]),components:[c.asSpec(),l.asSpec(),h.asSpec()]}),g=NZ({getRoot:x(m),getFooter:function(){return h.get(m)},getBody:function(){return l.get(m)},getFormWrapper:function(){var t=l.get(m);return yv.getCurrent(t).getOr(t)}},e.redial,d);return{dialog:m,instanceApi:g}},FZ=tinymce.util.Tools.resolve("tinymce.util.URI"),zZ=function(t){var e=function(e){t.getSystem().isConnected()&&e(t)},n=function(t){if(!i(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e(function(e){Ou(e,jD,{message:t})})},r=function(){e(function(t){wu(t,ED)})},o=function(){e(function(t){wu(t,MD)})},a=function(t){e(function(e){e.getSystem().broadcastOn([QK],t)})};return{block:n,unblock:r,close:o,sendMessage:a}},VZ=["insertContent","setContent","execCommand","close","block","unblock"],HZ=function(t){return a(t)&&-1!==VZ.indexOf(t.mceAction)},UZ=function(t){return!HZ(t)&&a(t)&&Tt(t,"mceAction")},WZ=function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var r=!!c(n.ui)&&n.ui;t.execCommand(n.cmd,r,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock();break}},GZ=function(t,e,n,r){var o,i=vZ(t.title,r),a=rZ(t),u=t.buttons.bind(function(t){return 0===t.length?P.none():P.some(jZ({buttons:t},r))}),s=kZ.initUrlDialog(function(){return v},bZ(function(){return g},r.shared.providers,e)),c=D(D({},t.height.fold(function(){return{}},function(t){return{height:t+"px","max-height":t+"px"}})),t.width.fold(function(){return{}},function(t){return{width:t+"px","max-width":t+"px"}})),l=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],f=new FZ(t.url,{base_uri:new FZ(window.location.href)}),d=f.protocol+"://"+f.host+(f.port?":"+f.port:""),h=nd(),p=[Vx("messages",[Hu(function(){var e=ad(ee.fromDom(window),"message",function(e){if(f.isSameOrigin(new FZ(e.raw.origin))){var r=e.raw.data;HZ(r)?WZ(n,v,r):UZ(r)&&t.onMessage(v,r)}});h.set(e)}),Uu(h.clear)]),bf.config({channels:(o={},o[QK]={onReceive:function(t,e){Lc(t.element,"iframe").each(function(t){var n=t.dom.contentWindow;n.postMessage(e,d)})}},o)})],m={header:i,body:a,footer:u,extraClasses:l,extraBehaviours:p,extraStyles:c},g=xZ(m,t,s,r),v=zZ(g);return{dialog:g,instanceApi:v}},qZ=function(t){var e=t.backstage.shared,n=function(n,r){var o=function(){VX.hide(s),r()},i=Sw(rP({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:P.none()},"cancel",t.backstage)),a=uZ(),u=aZ(o,e.providers),s=Tc(fZ({lazySink:function(){return e.getSink()},header:iZ(a,u),body:sZ(n,e.providers),footer:P.some(cZ(lZ([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ju(DD,o)],eventOrder:{}}));VX.show(s);var c=i.get(s);Kx.focus(c)};return{open:n}},YZ=function(t){var e=t.backstage.shared,n=function(n,r){var o=function(t){VX.hide(c),r(t)},i=Sw(rP({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:P.none()},"submit",t.backstage)),a=rP({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:P.none()},"cancel",t.backstage),u=uZ(),s=aZ(function(){return o(!1)},e.providers),c=Tc(fZ({lazySink:function(){return e.getSink()},header:iZ(u,s),body:sZ(n,e.providers),footer:P.some(cZ(lZ([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ju(DD,function(){return o(!1)}),ju(ID,function(){return o(!0)})],eventOrder:{}}));VX.show(c);var l=i.get(c);Kx.focus(l)};return{open:n}},XZ=function(t,e){return _i(xi("data",e,t))},$Z=function(t){return PM(t,".tox-alert-dialog")||PM(t,".tox-confirm-dialog")},KZ=function(t,e,n){return e&&n?[]:[wz.config({contextual:{lazyContext:function(){return P.some(Zr(ee.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},ZZ=function(t){var e=t.backstage,n=t.editor,r=GC(n),o=qZ(t),i=YZ(t),a=function(t,n,r){return void 0!==n&&"toolbar"===n.inline?l(t,e.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(t,e.shared.anchors.cursor(),r,n.ariaAttrs):c(t,r)},u=function(t,e){return s(t,e)},s=function(t,r){var o=function(t){var o=GZ(t,{closeWindow:function(){VX.hide(o.dialog),r(o.instanceApi)}},n,e);return VX.show(o.dialog),o.instanceApi};return xK.openUrl(o,t)},c=function(t,n){var r=function(t,r,o){var i=r,a={dataValidator:o,initialData:i,internalDialog:t},u=BZ(a,{redial:xK.redial,closeWindow:function(){VX.hide(u.dialog),n(u.instanceApi)}},e);return VX.show(u.dialog),u.instanceApi.setData(i),u.instanceApi};return xK.open(r,t)},l=function(t,o,i,a){var u=function(t,u,s){var c=XZ(u,s),l=od(),f=e.shared.header.isPositionedAtTop(),d={dataValidator:s,initialData:c,internalDialog:t},h=function(){return l.on(function(t){ew.reposition(t),wz.refresh(t)})},p=LZ(d,{redial:xK.redial,closeWindow:function(){l.on(ew.hide),n.off("ResizeEditor",h),l.clear(),i(p.instanceApi)}},e,a),m=Tc(ew.sketch(D(D({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},f?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:hf(I([Vx("window-manager-inline-events",[ju(pu(),function(t,e){wu(p.dialog,DD)})])],KZ(n,r,f),!0)),isExtraPart:function(t,e){return $Z(e)}})));return l.set(m),ew.showWithin(m,Mc(p.dialog),{anchor:o},P.some(Bn())),r&&f||(wz.refresh(m),n.on("ResizeEditor",h)),p.instanceApi.setData(c),Dx.focusIn(p.dialog),p.instanceApi};return xK.open(u,t)},f=function(t,e){i.open(t,function(t){e(t)})},d=function(t,e){o.open(t,function(){e()})},h=function(t){t.close()};return{open:a,openUrl:u,alert:d,close:h,confirm:f}};function JZ(){M.add("silver",function(t){var e=RX(t),n=e.uiMothership,r=e.backstage,o=e.renderUI,i=e.getUi;NM.register(t,r.shared);var a=ZZ({editor:t,backstage:r});return{renderUI:o,getWindowManagerImpl:x(a),getNotificationManagerImpl:function(){return Vw(t,{backstage:r},n)},ui:i()}})}JZ()})()}).call(this,n("c8ba"))},"04f6":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=32,o=7;function i(t){var e=0;while(t>=r)e|=1&t,t>>=1;return t+e}function a(t,e,n,r){var o=e+1;if(o===n)return 1;if(r(t[o++],t[e])<0){while(o<n&&r(t[o],t[o-1])<0)o++;u(t,e,o)}else while(o<n&&r(t[o],t[o-1])>=0)o++;return o-e}function u(t,e,n){n--;while(e<n){var r=t[e];t[e++]=t[n],t[n--]=r}}function s(t,e,n,r,o){for(r===e&&r++;r<n;r++){var i,a=t[r],u=e,s=r;while(u<s)i=u+s>>>1,o(a,t[i])<0?s=i:u=i+1;var c=r-u;switch(c){case 3:t[u+3]=t[u+2];case 2:t[u+2]=t[u+1];case 1:t[u+1]=t[u];break;default:while(c>0)t[u+c]=t[u+c-1],c--}t[u]=a}}function c(t,e,n,r,o,i){var a=0,u=0,s=1;if(i(t,e[n+o])>0){u=r-o;while(s<u&&i(t,e[n+o+s])>0)a=s,s=1+(s<<1),s<=0&&(s=u);s>u&&(s=u),a+=o,s+=o}else{u=o+1;while(s<u&&i(t,e[n+o-s])<=0)a=s,s=1+(s<<1),s<=0&&(s=u);s>u&&(s=u);var c=a;a=o-s,s=o-c}a++;while(a<s){var l=a+(s-a>>>1);i(t,e[n+l])>0?a=l+1:s=l}return s}function l(t,e,n,r,o,i){var a=0,u=0,s=1;if(i(t,e[n+o])<0){u=o+1;while(s<u&&i(t,e[n+o-s])<0)a=s,s=1+(s<<1),s<=0&&(s=u);s>u&&(s=u);var c=a;a=o-s,s=o-c}else{u=r-o;while(s<u&&i(t,e[n+o+s])>=0)a=s,s=1+(s<<1),s<=0&&(s=u);s>u&&(s=u),a+=o,s+=o}a++;while(a<s){var l=a+(s-a>>>1);i(t,e[n+l])<0?s=l:a=l+1}return s}function f(t,e){var n,r,i=o,a=0,u=0;a=t.length;var s=[];function f(t,e){n[u]=t,r[u]=e,u+=1}function d(){while(u>1){var t=u-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;p(t)}}function h(){while(u>1){var t=u-2;t>0&&r[t-1]<r[t+1]&&t--,p(t)}}function p(o){var i=n[o],a=r[o],s=n[o+1],f=r[o+1];r[o]=a+f,o===u-3&&(n[o+1]=n[o+2],r[o+1]=r[o+2]),u--;var d=l(t[s],t,i,a,0,e);i+=d,a-=d,0!==a&&(f=c(t[i+a-1],t,s,f,f-1,e),0!==f&&(a<=f?m(i,a,s,f):g(i,a,s,f)))}function m(n,r,a,u){var f=0;for(f=0;f<r;f++)s[f]=t[n+f];var d=0,h=a,p=n;if(t[p++]=t[h++],0!==--u)if(1!==r){var m,g,v,y=i;while(1){m=0,g=0,v=!1;do{if(e(t[h],s[d])<0){if(t[p++]=t[h++],g++,m=0,0===--u){v=!0;break}}else if(t[p++]=s[d++],m++,g=0,1===--r){v=!0;break}}while((m|g)<y);if(v)break;do{if(m=l(t[h],s,d,r,0,e),0!==m){for(f=0;f<m;f++)t[p+f]=s[d+f];if(p+=m,d+=m,r-=m,r<=1){v=!0;break}}if(t[p++]=t[h++],0===--u){v=!0;break}if(g=c(s[d],t,h,u,0,e),0!==g){for(f=0;f<g;f++)t[p+f]=t[h+f];if(p+=g,h+=g,u-=g,0===u){v=!0;break}}if(t[p++]=s[d++],1===--r){v=!0;break}y--}while(m>=o||g>=o);if(v)break;y<0&&(y=0),y+=2}if(i=y,i<1&&(i=1),1===r){for(f=0;f<u;f++)t[p+f]=t[h+f];t[p+u]=s[d]}else{if(0===r)throw new Error;for(f=0;f<r;f++)t[p+f]=s[d+f]}}else{for(f=0;f<u;f++)t[p+f]=t[h+f];t[p+u]=s[d]}else for(f=0;f<r;f++)t[p+f]=s[d+f]}function g(n,r,a,u){var f=0;for(f=0;f<u;f++)s[f]=t[a+f];var d=n+r-1,h=u-1,p=a+u-1,m=0,g=0;if(t[p--]=t[d--],0!==--r)if(1!==u){var v=i;while(1){var y=0,b=0,x=!1;do{if(e(s[h],t[d])<0){if(t[p--]=t[d--],y++,b=0,0===--r){x=!0;break}}else if(t[p--]=s[h--],b++,y=0,1===--u){x=!0;break}}while((y|b)<v);if(x)break;do{if(y=r-l(s[h],t,n,r,r-1,e),0!==y){for(p-=y,d-=y,r-=y,g=p+1,m=d+1,f=y-1;f>=0;f--)t[g+f]=t[m+f];if(0===r){x=!0;break}}if(t[p--]=s[h--],1===--u){x=!0;break}if(b=u-c(t[d],s,0,u,u-1,e),0!==b){for(p-=b,h-=b,u-=b,g=p+1,m=h+1,f=0;f<b;f++)t[g+f]=s[m+f];if(u<=1){x=!0;break}}if(t[p--]=t[d--],0===--r){x=!0;break}v--}while(y>=o||b>=o);if(x)break;v<0&&(v=0),v+=2}if(i=v,i<1&&(i=1),1===u){for(p-=r,d-=r,g=p+1,m=d+1,f=r-1;f>=0;f--)t[g+f]=t[m+f];t[p]=s[h]}else{if(0===u)throw new Error;for(m=p-(u-1),f=0;f<u;f++)t[m+f]=s[f]}}else{for(p-=r,d-=r,g=p+1,m=d+1,f=r-1;f>=0;f--)t[g+f]=t[m+f];t[p]=s[h]}else for(m=p-(u-1),f=0;f<u;f++)t[m+f]=s[f]}return a<120?5:a<1542?10:a<119151?19:40,n=[],r=[],{mergeRuns:d,forceMergeRuns:h,pushRun:f}}function d(t,e,n,o){n||(n=0),o||(o=t.length);var u=o-n;if(!(u<2)){var c=0;if(u<r)return c=a(t,n,o,e),void s(t,n,o,n+c,e);var l=f(t,e),d=i(u);do{if(c=a(t,n,o,e),c<d){var h=u;h>d&&(h=d),s(t,n,n+h,n+c,e),c=h}l.pushRun(n,c),l.mergeRuns(),u-=c,n+=c}while(0!==u);l.forceMergeRuns()}}},"04f7":function(t,e,n){"use strict";n.d(e,"b",function(){return v}),n.d(e,"a",function(){return y});var r=n("07fd"),o=n("e0d3"),i=n("6d8b"),a=n("2b17"),u=n("b7d9"),s=n("edae"),c=n("ec6f"),l=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return Object(u["d"])(t,e)},t}();function f(t,e){var n=new l,o=t.data,u=n.sourceFormat=t.sourceFormat,c=t.startIndex,f="";t.seriesLayoutBy!==r["a"]&&Object(s["c"])(f);var g=[],v={},y=t.dimensionsDefine;if(y)Object(i["each"])(y,function(t,e){var n=t.name,r={index:e,name:n,displayName:t.displayName};if(g.push(r),null!=n){var o="";Object(i["hasOwn"])(v,n)&&Object(s["c"])(o),v[n]=r}});else for(var b=0;b<t.dimensionsDetectedCount;b++)g.push({index:b});var x=Object(a["c"])(u,r["a"]);e.__isBuiltIn&&(n.getRawDataItem=function(t){return x(o,c,g,t)},n.getRawData=Object(i["bind"])(d,null,t)),n.cloneRawData=Object(i["bind"])(h,null,t);var _=Object(a["b"])(u,r["a"]);n.count=Object(i["bind"])(_,null,o,c,g);var w=Object(a["d"])(u);n.retrieveValue=function(t,e){var n=x(o,c,g,t);return O(n,e)};var O=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=g[e];return n?w(t,e,n.name):void 0}};return n.getDimensionInfo=Object(i["bind"])(p,null,g,v),n.cloneAllDimensionInfo=Object(i["bind"])(m,null,g),n}function d(t){var e=t.sourceFormat;if(!x(e)){var n="";0,Object(s["c"])(n)}return t.data}function h(t){var e=t.sourceFormat,n=t.data;if(!x(e)){var o="";0,Object(s["c"])(o)}if(e===r["c"]){for(var a=[],u=0,c=n.length;u<c;u++)a.push(n[u].slice());return a}if(e===r["e"]){for(a=[],u=0,c=n.length;u<c;u++)a.push(Object(i["extend"])({},n[u]));return a}}function p(t,e,n){if(null!=n)return Object(i["isNumber"])(n)||!isNaN(n)&&!Object(i["hasOwn"])(e,n)?t[n]:Object(i["hasOwn"])(e,n)?e[n]:void 0}function m(t){return Object(i["clone"])(t)}var g=Object(i["createHashMap"])();function v(t){t=Object(i["clone"])(t);var e=t.type,n="";e||Object(s["c"])(n);var r=e.split(":");2!==r.length&&Object(s["c"])(n);var o=!1;"echarts"===r[0]&&(e=r[1],o=!0),t.__isBuiltIn=o,g.set(e,t)}function y(t,e,n){var r=Object(o["r"])(t),i=r.length,a="";i||Object(s["c"])(a);for(var u=0,c=i;u<c;u++){var l=r[u];e=b(l,e,n,1===i?null:u),u!==c-1&&(e.length=Math.max(e.length,1))}return e}function b(t,e,n,a){var u="";e.length||Object(s["c"])(u),Object(i["isObject"])(t)||Object(s["c"])(u);var l=t.type,d=g.get(l);d||Object(s["c"])(u);var h=Object(i["map"])(e,function(t){return f(t,d)}),p=Object(o["r"])(d.transform({upstream:h[0],upstreamList:h,config:Object(i["clone"])(t.config)}));return Object(i["map"])(p,function(t,n){var o="";Object(i["isObject"])(t)||Object(s["c"])(o),t.data||Object(s["c"])(o);var a,u=Object(c["d"])(t.data);x(u)||Object(s["c"])(o);var l=e[0];if(l&&0===n&&!t.dimensions){var f=l.startIndex;f&&(t.data=l.data.slice(0,f).concat(t.data)),a={seriesLayoutBy:r["a"],sourceHeader:f,dimensions:l.metaRawOption.dimensions}}else a={seriesLayoutBy:r["a"],sourceHeader:0,dimensions:t.dimensions};return Object(c["b"])(t.data,a,null)})}function x(t){return t===r["c"]||t===r["e"]}},"0655":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("8728"),o=1e-8;function i(t,e){return Math.abs(t-e)<o}function a(t,e,n){var o=0,a=t[0];if(!a)return!1;for(var u=1;u<t.length;u++){var s=t[u];o+=Object(r["a"])(a[0],a[1],s[0],s[1],e,n),a=s}var c=t[0];return i(a[0],c[0])&&i(a[1],c[1])||(o+=Object(r["a"])(a[0],a[1],c[0],c[1],e,n)),0!==o}},"06ad":function(t,e,n){"use strict";var r={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))},elasticOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-r.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*r.bounceIn(2*t):.5*r.bounceOut(2*t-1)+.5}},o=r,i=n("6d8b"),a=n("b362"),u=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||i["noop"],this.ondestroy=t.ondestroy||i["noop"],this.onrestart=t.onrestart||i["noop"],t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,r=t-this._startTime-this._pausedTime,o=r/n;o<0&&(o=0),o=Math.min(o,1);var i=this.easingFunc,a=i?i(o):o;if(this.onframe(a),1===o){if(!this.loop)return!0;var u=r%n;this._startTime=t-u,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Object(i["isFunction"])(t)?t:o[t]||Object(a["a"])(t)},t}(),s=u,c=n("41ef"),l=n("7a29");n.d(e,"a",function(){return b});var f=Array.prototype.slice;function d(t,e,n){return(e-t)*n+t}function h(t,e,n,r){for(var o=e.length,i=0;i<o;i++)t[i]=d(e[i],n[i],r);return t}function p(t,e,n,r){for(var o=e.length,i=o&&e[0].length,a=0;a<o;a++){t[a]||(t[a]=[]);for(var u=0;u<i;u++)t[a][u]=d(e[a][u],n[a][u],r)}return t}function m(t,e,n,r){for(var o=e.length,i=0;i<o;i++)t[i]=e[i]+n[i]*r;return t}function g(t,e,n,r){for(var o=e.length,i=o&&e[0].length,a=0;a<o;a++){t[a]||(t[a]=[]);for(var u=0;u<i;u++)t[a][u]=e[a][u]+n[a][u]*r}return t}function v(t,e){for(var n=t.length,r=e.length,o=n>r?e:t,i=Math.min(n,r),a=o[i-1]||{color:[0,0,0,0],offset:0},u=i;u<Math.max(n,r);u++)o.push({offset:a.offset,color:a.color.slice()})}function y(t,e,n){var r=t,o=e;if(r.push&&o.push){var i=r.length,a=o.length;if(i!==a){var u=i>a;if(u)r.length=a;else for(var s=i;s<a;s++)r.push(1===n?o[s]:f.call(o[s]))}var c=r[0]&&r[0].length;for(s=0;s<r.length;s++)if(1===n)isNaN(r[s])&&(r[s]=o[s]);else for(var l=0;l<c;l++)isNaN(r[s][l])&&(r[s][l]=o[s][l])}}function b(t){if(Object(i["isArrayLike"])(t)){var e=t.length;if(Object(i["isArrayLike"])(t[0])){for(var n=[],r=0;r<e;r++)n.push(f.call(t[r]));return n}return f.call(t)}return t}function x(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],"rgba("+t.join(",")+")"}function _(t){return Object(i["isArrayLike"])(t&&t[0])?2:1}var w=0,O=1,S=2,C=3,k=4,T=5,M=6;function D(t){return t===k||t===T}function A(t){return t===O||t===S}var I=[0,0,0,0],j=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var r=this.keyframes,u=r.length,s=!1,f=M,d=e;if(Object(i["isArrayLike"])(e)){var h=_(e);f=h,(1===h&&!Object(i["isNumber"])(e[0])||2===h&&!Object(i["isNumber"])(e[0][0]))&&(s=!0)}else if(Object(i["isNumber"])(e)&&!Object(i["eqNaN"])(e))f=w;else if(Object(i["isString"])(e))if(isNaN(+e)){var p=c["parse"](e);p&&(d=p,f=C)}else f=w;else if(Object(i["isGradientObject"])(e)){var m=Object(i["extend"])({},d);m.colorStops=Object(i["map"])(e.colorStops,function(t){return{offset:t.offset,color:c["parse"](t.color)}}),Object(l["m"])(e)?f=k:Object(l["o"])(e)&&(f=T),d=m}0===u?this.valType=f:f===this.valType&&f!==M||(s=!0),this.discrete=this.discrete||s;var g={time:t,value:d,rawValue:e,percent:0};return n&&(g.easing=n,g.easingFunc=Object(i["isFunction"])(n)?n:o[n]||Object(a["a"])(n)),r.push(g),g},t.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(t,e){return t.time-e.time});for(var r=this.valType,o=n.length,i=n[o-1],a=this.discrete,u=A(r),s=D(r),c=0;c<o;c++){var l=n[c],f=l.value,d=i.value;l.percent=l.time/t,a||(u&&c!==o-1?y(f,d,r):s&&v(f.colorStops,d.colorStops))}if(!a&&r!==T&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;var h=n[0].value;for(c=0;c<o;c++)r===w?n[c].additiveValue=n[c].value-h:r===C?n[c].additiveValue=m([],n[c].value,h,-1):A(r)&&(n[c].additiveValue=r===O?m([],n[c].value,h,-1):g([],n[c].value,h,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r,o,a=null!=this._additiveTrack,u=a?"additiveValue":"value",s=this.valType,c=this.keyframes,l=c.length,f=this.propName,m=s===C,g=this._lastFr,v=Math.min;if(1===l)r=o=c[0];else{if(e<0)n=0;else if(e<this._lastFrP){var y=v(g+1,l-1);for(n=y;n>=0;n--)if(c[n].percent<=e)break;n=v(n,l-2)}else{for(n=g;n<l;n++)if(c[n].percent>e)break;n=v(n-1,l-2)}o=c[n+1],r=c[n]}if(r&&o){this._lastFr=n,this._lastFrP=e;var b=o.percent-r.percent,_=0===b?1:v((e-r.percent)/b,1);o.easingFunc&&(_=o.easingFunc(_));var w=a?this._additiveValue:m?I:t[f];if(!A(s)&&!m||w||(w=this._additiveValue=[]),this.discrete)t[f]=_<1?r.rawValue:o.rawValue;else if(A(s))s===O?h(w,r[u],o[u],_):p(w,r[u],o[u],_);else if(D(s)){var S=r[u],T=o[u],M=s===k;t[f]={type:M?"linear":"radial",x:d(S.x,T.x,_),y:d(S.y,T.y,_),colorStops:Object(i["map"])(S.colorStops,function(t,e){var n=T.colorStops[e];return{offset:d(t.offset,n.offset,_),color:x(h([],t.color,n.color,_))}}),global:T.global},M?(t[f].x2=d(S.x2,T.x2,_),t[f].y2=d(S.y2,T.y2,_)):t[f].r=d(S.r,T.r,_)}else if(m)h(w,r[u],o[u],_),a||(t[f]=x(w));else{var j=d(r[u],o[u],_);a?this._additiveValue=j:t[f]=j}a&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,r=this._additiveValue;e===w?t[n]=t[n]+r:e===C?(c["parse"](t[n],I),m(I,I,r,1),t[n]=x(I)):e===O?m(t[n],t[n],r,1):e===S&&g(t[n],t[n],r,1)},t}(),E=function(){function t(t,e,n,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?Object(i["logError"])("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=n)}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,Object(i["keys"])(e),n)},t.prototype.whenWithKeys=function(t,e,n,r){for(var o=this._tracks,i=0;i<n.length;i++){var a=n[i],u=o[a];if(!u){u=o[a]=new j(a);var s=void 0,c=this._getAdditiveTrack(a);if(c){var l=c.keyframes,f=l[l.length-1];s=f&&f.value,c.valType===C&&s&&(s=x(s))}else s=this._target[a];if(null==s)continue;t>0&&u.addKeyframe(0,b(s),r),this._trackKeys.push(a)}u.addKeyframe(t,b(e[a]),r)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var o=n[r].getTrack(t);o&&(e=o)}return e},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var i=this._trackKeys[o],a=this._tracks[i],u=this._getAdditiveTrack(i),c=a.keyframes,l=c.length;if(a.prepare(r,u),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var f=c[l-1];f&&(e._target[a.propName]=f.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var d=new s({life:r,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var r=e._additiveAnimators;if(r){for(var o=!1,i=0;i<r.length;i++)if(r[i]._clip){o=!0;break}o||(e._additiveAnimators=null)}for(i=0;i<n.length;i++)n[i].step(e._target,t);var a=e._onframeCbs;if(a)for(i=0;i<a.length;i++)a[i](e._target,t)},ondestroy:function(){e._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return Object(i["map"])(this._trackKeys,function(e){return t._tracks[e]})},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var i=n[t[o]];i&&!i.isFinished()&&(e?i.step(this._target,1):1===this._started&&i.step(this._target,0),i.setFinished())}var a=!0;for(o=0;o<r.length;o++)if(!n[r[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var o=e[r],i=this._tracks[o];if(i&&!i.isFinished()){var a=i.keyframes,u=a[n?0:a.length-1];u&&(t[o]=b(u.rawValue))}}}},t.prototype.__changeFinalValue=function(t,e){e=e||Object(i["keys"])(t);for(var n=0;n<e.length;n++){var r=e[n],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var u=a.pop();o.addKeyframe(u.time,t[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},t}();e["b"]=E},"07fd":function(t,e,n){"use strict";n.d(e,"i",function(){return o}),n.d(e,"f",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return d});var r=n("6d8b"),o=Object(r["createHashMap"])(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),i="original",a="arrayRows",u="objectRows",s="keyedColumns",c="typedArray",l="unknown",f="column",d="row"},"0924":function(t,e,n){"use strict";function r(t,e,n){switch(n){case"color":var r=t.getItemVisual(e,"style");return r[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n);default:0}}function o(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}function i(t,e,n,r){switch(n){case"color":var o=t.ensureUniqueItemVisual(e,"style");o[t.getVisual("drawType")]=r,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,r);break;default:0}}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i})},"0da8":function(t,e,n){"use strict";var r=n("21a1"),o=n("19eb"),i=n("9850"),a=n("6d8b"),u=Object(a["defaults"])({x:0,y:0},o["b"]),s={style:Object(a["defaults"])({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},o["a"].style)};function c(t){return!!(t&&"string"!==typeof t&&t.width&&t.height)}var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.createStyle=function(t){return Object(a["createObject"])(u,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var r=c(e.image)?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",i=e[o];return null==i?r[t]:r[t]/r[o]*i},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return s},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new i["a"](t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(o["c"]);l.prototype.type="image",e["a"]=l},"0f99":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"f",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"b",function(){return h});var r=n("e0d3"),o=n("6d8b"),i=n("07fd"),a={Must:1,Might:2,Not:3},u=Object(r["o"])();function s(t){u(t).datasetMap=Object(o["createHashMap"])()}function c(t,e,n){var r={},i=f(e);if(!i||!t)return r;var a,s,c=[],l=[],d=e.ecModel,h=u(d).datasetMap,p=i.uid+"_"+n.seriesLayoutBy;t=t.slice(),Object(o["each"])(t,function(e,n){var i=Object(o["isObject"])(e)?e:t[n]={name:e};"ordinal"===i.type&&null==a&&(a=n,s=v(i)),r[i.name]=[]});var m=h.get(p)||h.set(p,{categoryWayDim:s,valueWayDim:0});function g(t,e,n){for(var r=0;r<n;r++)t.push(e+r)}function v(t){var e=t.dimsDef;return e?e.length:1}return Object(o["each"])(t,function(t,e){var n=t.name,o=v(t);if(null==a){var i=m.valueWayDim;g(r[n],i,o),g(l,i,o),m.valueWayDim+=o}else if(a===e)g(r[n],0,o),g(c,0,o);else{i=m.categoryWayDim;g(r[n],i,o),g(l,i,o),m.categoryWayDim+=o}}),c.length&&(r.itemName=c),l.length&&(r.seriesName=l),r}function l(t,e,n){var r={},u=f(t);if(!u)return r;var s,c=e.sourceFormat,l=e.dimensionsDefine;c!==i["e"]&&c!==i["d"]||Object(o["each"])(l,function(t,e){"name"===(Object(o["isObject"])(t)?t.name:t)&&(s=e)});var d=function(){for(var t={},r={},o=[],i=0,u=Math.min(5,n);i<u;i++){var f=p(e.data,c,e.seriesLayoutBy,l,e.startIndex,i);o.push(f);var d=f===a.Not;if(d&&null==t.v&&i!==s&&(t.v=i),(null==t.n||t.n===t.v||!d&&o[t.n]===a.Not)&&(t.n=i),h(t)&&o[t.n]!==a.Not)return t;d||(f===a.Might&&null==r.v&&i!==s&&(r.v=i),null!=r.n&&r.n!==r.v||(r.n=i))}function h(t){return null!=t.v&&null!=t.n}return h(t)?t:h(r)?r:null}();if(d){r.value=[d.v];var h=null!=s?s:d.n;r.itemName=[h],r.seriesName=[h]}return r}function f(t){var e=t.get("data",!0);if(!e)return Object(r["v"])(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},r["b"]).models[0]}function d(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?Object(r["v"])(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},r["b"]).models:[]}function h(t,e){return p(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function p(t,e,n,u,s,c){var l,f,d,h=5;if(Object(o["isTypedArray"])(t))return a.Not;if(u){var p=u[c];Object(o["isObject"])(p)?(f=p.name,d=p.type):Object(o["isString"])(p)&&(f=p)}if(null!=d)return"ordinal"===d?a.Must:a.Not;if(e===i["c"]){var m=t;if(n===i["b"]){for(var g=m[c],v=0;v<(g||[]).length&&v<h;v++)if(null!=(l=S(g[s+v])))return l}else for(v=0;v<m.length&&v<h;v++){var y=m[s+v];if(y&&null!=(l=S(y[c])))return l}}else if(e===i["e"]){var b=t;if(!f)return a.Not;for(v=0;v<b.length&&v<h;v++){var x=b[v];if(x&&null!=(l=S(x[f])))return l}}else if(e===i["d"]){var _=t;if(!f)return a.Not;g=_[f];if(!g||Object(o["isTypedArray"])(g))return a.Not;for(v=0;v<g.length&&v<h;v++)if(null!=(l=S(g[v])))return l}else if(e===i["f"]){var w=t;for(v=0;v<w.length&&v<h;v++){x=w[v];var O=Object(r["h"])(x);if(!Object(o["isArray"])(O))return a.Not;if(null!=(l=S(O[c])))return l}}function S(t){var e=Object(o["isString"])(t);return null!=t&&isFinite(t)&&""!==t?e?a.Might:a.Not:e&&"-"!==t?a.Must:void 0}return a.Not}},"133d":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6d8b"),o=n("e0d3");function i(t,e){var n,i=[],a=t.seriesIndex;if(null==a||!(n=e.getSeriesByIndex(a)))return{point:[]};var u=n.getData(),s=o["u"](u,t);if(null==s||s<0||r["isArray"](s))return{point:[]};var c=u.getItemGraphicEl(s),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(t.isStacked){var f=l.getBaseAxis(),d=l.getOtherAxis(f),h=d.dim,p=f.dim,m="x"===h||"radius"===h?1:0,g=u.mapDimension(p),v=[];v[m]=u.get(g,s),v[1-m]=u.get(u.getCalculationInfo("stackResultDimension"),s),i=l.dataToPoint(v)||[]}else i=l.dataToPoint(u.getValues(r["map"](l.dimensions,function(t){return u.mapDimension(t)}),s))||[];else if(c){var y=c.getBoundingRect().clone();y.applyTransform(c.transform),i=[y.x+y.width/2,y.y+y.height/2]}return{point:i,el:c}}},1418:function(t,e,n){"use strict";var r=n("7fae"),o=n("a15a"),i=n("deab"),a=n("2dc5"),u=n("861c"),s=n("7d6c"),c=n("c775"),l=n("6d8b"),f=n("7837"),d=n("0da8"),h=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.updateData(e,n,r,o),i}return Object(r["a"])(e,t),e.prototype._createSymbol=function(t,e,n,r,i){this.removeAll();var a=Object(o["a"])(t,-1,-1,2,2,null,i);a.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),a.drift=p,this._symbolType=t,this.add(a)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Object(s["r"])(this.childAt(0))},e.prototype.downplay=function(){Object(s["C"])(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,n,r,o){this.silent=!1;var a=t.getItemVisual(n,"symbol")||"circle",u=t.hostModel,s=e.getSymbolSize(t,n),c=a!==this._symbolType,l=o&&o.disableAnimation;if(c){var f=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,t,n,s,f)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:s[0]/2,scaleY:s[1]/2};l?d.attr(h):i["h"](d,h,u,n),Object(i["g"])(d)}if(this._updateCommon(t,n,s,r,o),c){d=this.childAt(0);if(!l){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,i["c"](d,h,u,n)}}l&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,n,r,i){var a,u,h,p,m,g,v,y,b,x=this.childAt(0),_=t.hostModel;if(r&&(a=r.emphasisItemStyle,u=r.blurItemStyle,h=r.selectItemStyle,p=r.focus,m=r.blurScope,v=r.labelStatesModels,y=r.hoverScale,b=r.cursorStyle,g=r.emphasisDisabled),!r||t.hasItemOption){var w=r&&r.itemModel?r.itemModel:t.getItemModel(e),O=w.getModel("emphasis");a=O.getModel("itemStyle").getItemStyle(),h=w.getModel(["select","itemStyle"]).getItemStyle(),u=w.getModel(["blur","itemStyle"]).getItemStyle(),p=O.get("focus"),m=O.get("blurScope"),g=O.get("disabled"),v=Object(f["e"])(w),y=O.getShallow("scale"),b=w.getShallow("cursor")}var S=t.getItemVisual(e,"symbolRotate");x.attr("rotation",(S||0)*Math.PI/180||0);var C=Object(o["b"])(t.getItemVisual(e,"symbolOffset"),n);C&&(x.x=C[0],x.y=C[1]),b&&x.attr("cursor",b);var k=t.getItemVisual(e,"style"),T=k.fill;if(x instanceof d["a"]){var M=x.style;x.useStyle(Object(l["extend"])({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},k))}else x.__isEmptyBrush?x.useStyle(Object(l["extend"])({},k)):x.useStyle(k),x.style.decal=null,x.setColor(T,i&&i.symbolInnerColor),x.style.strokeNoScale=!0;var D=t.getItemVisual(e,"liftZ"),A=this._z2;null!=D?null==A&&(this._z2=x.z2,x.z2+=D):null!=A&&(x.z2=A,this._z2=null);var I=i&&i.useNameLabel;function j(e){return I?t.getName(e):Object(c["b"])(t,e)}Object(f["g"])(x,v,{labelFetcher:_,labelDataIndex:e,defaultText:j,inheritColor:T,defaultOpacity:k.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var E=x.ensureState("emphasis");if(E.style=a,x.ensureState("select").style=h,x.ensureState("blur").style=u,y){var R=Math.max(Object(l["isNumber"])(y)?y:1.1,3/this._sizeY);E.scaleX=this._sizeX*R,E.scaleY=this._sizeY*R}this.setSymbolScale(1),Object(s["J"])(this,p,m,g)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var r=this.childAt(0),o=Object(u["a"])(this).dataIndex,a=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var s=r.getTextContent();s&&i["e"](s,{style:{opacity:0}},e,{dataIndex:o,removeOpt:a,cb:function(){r.removeTextContent()}})}else r.removeTextContent();i["e"](r,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:o,cb:t,removeOpt:a})},e.getSymbolSize=function(t,e){return Object(o["c"])(t.getItemVisual(e,"symbolSize"))},e}(a["a"]);function p(t,e){this.parent.drift(t,e)}e["a"]=h},1687:function(t,e,n){"use strict";function r(){return[1,0,0,1,0,0]}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(t,e,n){var r=e[0]*n[0]+e[2]*n[1],o=e[1]*n[0]+e[3]*n[1],i=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],u=e[0]*n[4]+e[2]*n[5]+e[4],s=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t}function u(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function s(t,e,n){var r=e[0],o=e[2],i=e[4],a=e[1],u=e[3],s=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*c,t[1]=-r*c+a*l,t[2]=o*l+u*c,t[3]=-o*c+l*u,t[4]=l*i+c*s,t[5]=l*s-c*i,t}function c(t,e,n){var r=n[0],o=n[1];return t[0]=e[0]*r,t[1]=e[1]*o,t[2]=e[2]*r,t[3]=e[3]*o,t[4]=e[4]*r,t[5]=e[5]*o,t}function l(t,e){var n=e[0],r=e[2],o=e[4],i=e[1],a=e[3],u=e[5],s=n*a-i*r;return s?(s=1/s,t[0]=a*s,t[1]=-i*s,t[2]=-r*s,t[3]=n*s,t[4]=(r*u-a*o)*s,t[5]=(i*o-n*u)*s,t):null}function f(t){var e=r();return i(e,t),e}n.r(e),n.d(e,"create",function(){return r}),n.d(e,"identity",function(){return o}),n.d(e,"copy",function(){return i}),n.d(e,"mul",function(){return a}),n.d(e,"translate",function(){return u}),n.d(e,"rotate",function(){return s}),n.d(e,"scale",function(){return c}),n.d(e,"invert",function(){return l}),n.d(e,"clone",function(){return f})},"17d6":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return p});var r=n("6d8b"),o=n("22d1"),i=n("e0d3"),a=Object(i["o"])(),u=r["each"];function s(t,e,n){if(!o["a"].node){var r=e.getZr();a(r).records||(a(r).records={}),c(r,e);var i=a(r).records[t]||(a(r).records[t]={});i.handler=n}}function c(t,e){function n(n,r){t.on(n,function(n){var o=h(e);u(a(t).records,function(t){t&&r(t,n,o.dispatchAction)}),l(o.pendings,e)})}a(t).initialized||(a(t).initialized=!0,n("click",r["curry"](d,"click")),n("mousemove",r["curry"](d,"mousemove")),n("globalout",f))}function l(t,e){var n,r=t.showTip.length,o=t.hideTip.length;r?n=t.showTip[r-1]:o&&(n=t.hideTip[o-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function f(t,e,n){t.handler("leave",null,n)}function d(t,e,n,r){e.handler(t,n,r)}function h(t){var e={showTip:[],hideTip:[]},n=function(r){var o=e[r.type];o?o.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}function p(t,e){if(!o["a"].node){var n=e.getZr(),r=(a(n).records||{})[t];r&&(a(n).records[t]=null)}}},1830:function(t,e,n){"use strict";var r=n("6d8b"),o=n("b682"),i=n("b1d4"),a=n("2f45"),u=n("e0d3"),s=n("1f39"),c=function(){function t(t){this.coordSysDims=[],this.axisMap=Object(r["createHashMap"])(),this.categoryAxisMap=Object(r["createHashMap"])(),this.coordSysName=t}return t}();function l(t){var e=t.get("coordinateSystem"),n=new c(e),r=f[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var f={cartesian2d:function(t,e,n,r){var o=t.getReferringComponents("xAxis",u["b"]).models[0],i=t.getReferringComponents("yAxis",u["b"]).models[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",i),d(o)&&(r.set("x",o),e.firstCategoryDimIndex=0),d(i)&&(r.set("y",i),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var o=t.getReferringComponents("singleAxis",u["b"]).models[0];e.coordSysDims=["single"],n.set("single",o),d(o)&&(r.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var o=t.getReferringComponents("polar",u["b"]).models[0],i=o.findAxisModel("radiusAxis"),a=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",i),n.set("angle",a),d(i)&&(r.set("radius",i),e.firstCategoryDimIndex=0),d(a)&&(r.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,o){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),u=e.coordSysDims=a.dimensions.slice();Object(r["each"])(a.parallelAxisIndex,function(t,r){var a=i.getComponent("parallelAxis",t),s=u[r];n.set(s,a),d(a)&&(o.set(s,a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=r))})}};function d(t){return"category"===t.get("type")}var h=n("ec6f"),p=n("ee1a"),m=n("0f99"),g=n("07fd");function v(t,e){var n,o=t.get("coordinateSystem"),i=s["a"].get(o);return e&&e.coordSysDims&&(n=r["map"](e.coordSysDims,function(t){var n={name:t},r=e.axisMap.get(t);if(r){var o=r.get("type");n.type=Object(a["a"])(o)}return n})),n||(n=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),n}function y(t,e,n){var o,i;return n&&r["each"](t,function(t,r){var a=t.coordDim,u=n.categoryAxisMap.get(a);u&&(null==o&&(o=r),t.ordinalMeta=u.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(i=!0)}),i||null==o||(t[o].otherDims.itemName=0),o}function b(t,e,n){n=n||{};var a,u=e.getSourceManager(),s=!1;t?(s=!0,a=Object(h["c"])(t)):(a=u.getSource(),s=a.sourceFormat===g["f"]);var c=l(e),f=v(e,c),d=n.useEncodeDefaulter,b=r["isFunction"](d)?d:d?r["curry"](m["c"],f,e):null,_={coordDimensions:f,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:b,canOmitUnusedDimensions:!s},w=Object(i["b"])(a,_),O=y(w.dimensions,n.createInvertedIndices,c),S=s?null:u.getSharedDataStore(w),C=Object(p["a"])(e,{schema:w,store:S}),k=new o["a"](w,e);k.setCalculationInfo(C);var T=null!=O&&x(a)?function(t,e,n,r){return r===O?n:this.defaultDimValueGetter(t,e,n,r)}:null;return k.hasItemOption=!1,k.initData(s?a:S,null,T),k}function x(t){if(t.sourceFormat===g["f"]){var e=_(t.data||[]);return!r["isArray"](Object(u["h"])(e))}}function _(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}e["a"]=b},"18c0":function(t,e,n){"use strict";var r=n("7fae"),o=n("e0d8"),i=n("8e43"),a=n("944e"),u=n("6d8b"),s=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new i["a"]({})),Object(u["isArray"])(r)&&(r=new i["a"]({categories:Object(u["map"])(r,function(t){return Object(u["isObject"])(t)?t.value:t})})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return Object(r["a"])(e,t),e.prototype.parse=function(t){return null==t?NaN:Object(u["isString"])(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),a["a"](t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),a["f"](t,this._extent)},e.prototype.scale=function(t){return t=Math.round(a["g"](t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){var t=[],e=this._extent,n=e[0];while(n<=e[1])t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],o=0,i=this._ordinalMeta.categories.length,a=Math.min(i,e.length);o<a;++o){var u=e[o];n[o]=u,r[u]=o}for(var s=0;o<i;++o){while(null!=r[s])s++;n.push(s),r[s]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(o["a"]);o["a"].registerClass(s),e["a"]=s},"19eb":function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("21a1"),o=n("d5b7"),i=n("9850"),a=n("6d8b"),u=n("4bc4"),s="__zr_style_"+Math.round(10*Math.random()),c={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},l={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};c[s]=!0;var f=["z","z2","invisible"],d=["invisible"],h=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype._init=function(e){for(var n=Object(a["keys"])(e),r=0;r<n.length;r++){var o=n[r];"style"===o?this.useStyle(e[o]):t.prototype.attrKV.call(this,o,e[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,r){var o=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&g(this,t,e)||o&&!o[0]&&!o[3])return!1;if(n&&this.__clipPaths)for(var i=0;i<this.__clipPaths.length;++i)if(this.__clipPaths[i].isZeroArea())return!1;if(r&&this.parent){var a=this.parent;while(a){if(a.ignore)return!1;a=a.parent}}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return r.contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),r=this.style,o=r.shadowBlur||0,a=r.shadowOffsetX||0,u=r.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new i["a"](0,0,0,0)),e?i["a"].applyTransform(t,n,e):t.copy(n),(o||a||u)&&(t.width+=2*o+Math.abs(a),t.height+=2*o+Math.abs(u),t.x=Math.min(t.x,t.x+a-o),t.y=Math.min(t.y,t.y+u-o));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new i["a"](0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"===typeof t?this.style[t]=e:Object(a["extend"])(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=u["c"],this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&u["c"])},e.prototype.styleUpdated=function(){this.__dirty&=~u["c"]},e.prototype.createStyle=function(t){return Object(a["createObject"])(c,t)},e.prototype.useStyle=function(t){t[s]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[s]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,f)},e.prototype._applyStateObj=function(e,n,r,o,i,u){t.prototype._applyStateObj.call(this,e,n,r,o,i,u);var s,c=!(n&&o);if(n&&n.style?i?o?s=n.style:(s=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(s,n.style)):c&&(s=r.style),s)if(i){var l=this.style;if(this.style=this.createStyle(c?{}:l),c)for(var h=Object(a["keys"])(l),p=0;p<h.length;p++){var m=h[p];m in s&&(s[m]=s[m],this.style[m]=l[m])}var g=Object(a["keys"])(s);for(p=0;p<g.length;p++){m=g[p];this.style[m]=this.style[m]}this._transitionState(e,{style:s},u,this.getAnimationStyleProps())}else this.useStyle(s);var v=this.__inHover?d:f;for(p=0;p<v.length;p++){m=v[p];n&&null!=n[m]?this[m]=n[m]:c&&null!=r[m]&&(this[m]=r[m])}},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),o=0;o<e.length;o++){var i=e[o];i.style&&(n=n||{},this._mergeStyle(n,i.style))}return n&&(r.style=n),r},e.prototype._mergeStyle=function(t,e){return Object(a["extend"])(t,e),t},e.prototype.getAnimationStyleProps=function(){return l},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=u["a"]|u["c"]}(),e}(o["a"]),p=new i["a"](0,0,0,0),m=new i["a"](0,0,0,0);function g(t,e,n){return p.copy(t.getBoundingRect()),t.transform&&p.applyTransform(t.transform),m.width=e,m.height=n,!p.intersect(m)}e["c"]=h},"1be7":function(t,e,n){"use strict";var r=n("7fae"),o=n("697e7"),i=n("6d8b"),a=n("22d1"),u=n("04f6"),s=n("6fd3"),c=n("e0d3"),l=n("4319"),f=n("6cb7"),d="";"undefined"!==typeof navigator&&(d=navigator.platform||"");var h,p,m,g="rgba(0, 0, 0, 0.2)",v={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:g,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:g,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:g,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:g,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:g,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:g,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:d.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},y=n("0f99"),b=n("2f1f"),x=n("4041"),_=n("edae"),w="\0_ec_inner",O=1;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.init=function(t,e,n,r,o,i){r=r||{},this.option=null,this._theme=new l["a"](r),this._locale=new l["a"](o),this._optionManager=i},e.prototype.setOption=function(t,e,n){var r=D(e);this._optionManager.setOption(t,n,r),this._resetOption(null,r)},e.prototype.resetOption=function(t,e){return this._resetOption(t,D(e))},e.prototype._resetOption=function(t,e){var n=!1,r=this._optionManager;if(!t||"recreate"===t){var o=r.mountOption("recreate"===t);0,this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(o,e)):m(this,o),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=r.getTimelineOption(this);a&&(n=!0,this._mergeOption(a,e))}if(!t||"recreate"===t||"media"===t){var u=r.getMediaOption(this);u.length&&Object(i["each"])(u,function(t){n=!0,this._mergeOption(t,e)},this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,r=this._componentsMap,o=this._componentsCount,a=[],u=Object(i["createHashMap"])(),s=e&&e.replaceMergeMainTypeMap;function l(e){var a=Object(b["a"])(this,e,c["r"](t[e])),u=r.get(e),l=u?s&&s.get(e)?"replaceMerge":"normalMerge":"replaceAll",d=c["q"](u,a,l);c["x"](d,e,f["a"]),n[e]=null,r.set(e,null),o.set(e,0);var p,m=[],g=[],v=0;Object(i["each"])(d,function(t,n){var r=t.existing,o=t.newOption;if(o){var a="series"===e,u=f["a"].getClass(e,t.keyInfo.subType,!a);if(!u)return;if("tooltip"===e){if(p)return void 0;p=!0}if(r&&r.constructor===u)r.name=t.keyInfo.name,r.mergeOption(o,this),r.optionUpdated(o,!1);else{var s=Object(i["extend"])({componentIndex:n},t.keyInfo);r=new u(o,this,this,s),Object(i["extend"])(r,s),t.brandNew&&(r.__requireNewView=!0),r.init(o,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(m.push(r.option),g.push(r),v++):(m.push(void 0),g.push(void 0))},this),n[e]=m,r.set(e,g),o.set(e,v),"series"===e&&h(this)}Object(y["g"])(this),Object(i["each"])(t,function(t,e){null!=t&&(f["a"].hasClass(e)?e&&(a.push(e),u.set(e,!0)):n[e]=null==n[e]?Object(i["clone"])(t):Object(i["merge"])(n[e],t,!0))}),s&&s.each(function(t,e){f["a"].hasClass(e)&&!u.get(e)&&(a.push(e),u.set(e,!0))}),f["a"].topologicalTravel(a,f["a"].getAllClassMainTypes(),l,this),this._seriesIndices||h(this)},e.prototype.getOption=function(){var t=Object(i["clone"])(this.option);return Object(i["each"])(t,function(e,n){if(f["a"].hasClass(n)){for(var r=c["r"](e),o=r.length,i=!1,a=o-1;a>=0;a--)r[a]&&!c["l"](r[a])?i=!0:(r[a]=null,!i&&o--);r.length=o,t[n]=r}}),delete t[w],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var r=n[e||0];if(r)return r;if(null==e)for(var o=0;o<n.length;o++)if(n[o])return n[o]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,o=t.id,a=t.name,u=this._componentsMap.get(e);return u&&u.length?(null!=r?(n=[],Object(i["each"])(c["r"](r),function(t){u[t]&&n.push(u[t])})):n=null!=o?T("id",o,u):null!=a?T("name",a,u):Object(i["filter"])(u,function(t){return!!t}),M(n,t)):[]},e.prototype.findComponents=function(t){var e=t.query,n=t.mainType,r=a(e),o=r?this.queryComponents(r):Object(i["filter"])(this._componentsMap.get(n),function(t){return!!t});return u(M(o,t));function a(t){var e=n+"Index",r=n+"Id",o=n+"Name";return!t||null==t[e]&&null==t[r]&&null==t[o]?null:{mainType:n,index:t[e],id:t[r],name:t[o]}}function u(e){return t.filter?Object(i["filter"])(e,t.filter):e}},e.prototype.eachComponent=function(t,e,n){var r=this._componentsMap;if(Object(i["isFunction"])(t)){var o=e,a=t;r.each(function(t,e){for(var n=0;t&&n<t.length;n++){var r=t[n];r&&a.call(o,e,r,r.componentIndex)}})}else for(var u=Object(i["isString"])(t)?r.get(t):Object(i["isObject"])(t)?this.findComponents(t):null,s=0;u&&s<u.length;s++){var c=u[s];c&&e.call(n,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=c["e"](t,null);return Object(i["filter"])(this._componentsMap.get("series"),function(t){return!!t&&null!=e&&t.name===e})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Object(i["filter"])(this._componentsMap.get("series"),function(e){return!!e&&e.subType===t})},e.prototype.getSeries=function(){return Object(i["filter"])(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){p(this),Object(i["each"])(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)},this)},e.prototype.eachRawSeries=function(t,e){Object(i["each"])(this._componentsMap.get("series"),function(n){n&&t.call(e,n,n.componentIndex)})},e.prototype.eachSeriesByType=function(t,e,n){p(this),Object(i["each"])(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];o.subType===t&&e.call(n,o,r)},this)},e.prototype.eachRawSeriesByType=function(t,e,n){return Object(i["each"])(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return p(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){p(this);var n=[];Object(i["each"])(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];t.call(e,o,r)&&n.push(r)},this),this._seriesIndices=n,this._seriesIndicesMap=Object(i["createHashMap"])(n)},e.prototype.restoreData=function(t){h(this);var e=this._componentsMap,n=[];e.each(function(t,e){f["a"].hasClass(e)&&n.push(e)}),f["a"].topologicalTravel(n,f["a"].getAllClassMainTypes(),function(n){Object(i["each"])(e.get(n),function(e){!e||"series"===n&&C(e,t)||e.restoreData()})})},e.internalField=function(){h=function(t){var e=t._seriesIndices=[];Object(i["each"])(t._componentsMap.get("series"),function(t){t&&e.push(t.componentIndex)}),t._seriesIndicesMap=Object(i["createHashMap"])(e)},p=function(t){0},m=function(t,e){t.option={},t.option[w]=O,t._componentsMap=Object(i["createHashMap"])({series:[]}),t._componentsCount=Object(i["createHashMap"])();var n=e.aria;Object(i["isObject"])(n)&&null==n.enabled&&(n.enabled=!0),k(e,t._theme.option),Object(i["merge"])(e,v,!1),t._mergeOption(e,null)}}(),e}(l["a"]);function C(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,o=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=o&&t.name!==o}}function k(t,e){var n=t.color&&!t.colorLayer;Object(i["each"])(e,function(e,r){"colorLayer"===r&&n||f["a"].hasClass(r)||("object"===typeof e?t[r]=t[r]?Object(i["merge"])(t[r],e,!1):Object(i["clone"])(e):null==t[r]&&(t[r]=e))})}function T(t,e,n){if(Object(i["isArray"])(e)){var r=Object(i["createHashMap"])();return Object(i["each"])(e,function(t){if(null!=t){var e=c["e"](t,null);null!=e&&r.set(t,!0)}}),Object(i["filter"])(n,function(e){return e&&r.get(e[t])})}var o=c["e"](e,null);return Object(i["filter"])(n,function(e){return e&&null!=o&&e[t]===o})}function M(t,e){return e.hasOwnProperty("subType")?Object(i["filter"])(t,function(t){return t&&t.subType===e.subType}):t}function D(t){var e=Object(i["createHashMap"])();return t&&Object(i["each"])(c["r"](t.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Object(i["mixin"])(S,x["a"]);var A=S,I=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],j=function(){function t(t){i["each"](I,function(e){this[e]=i["bind"](t[e],t)},this)}return t}(),E=j,R=n("1f39"),N=/^(min|max)?(.+)$/,P=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(Object(i["each"])(Object(c["r"])(t.series),function(t){t&&t.data&&Object(i["isTypedArray"])(t.data)&&Object(i["setAsPrimitive"])(t.data)}),Object(i["each"])(Object(c["r"])(t.dataset),function(t){t&&t.source&&Object(i["isTypedArray"])(t.source)&&Object(i["setAsPrimitive"])(t.source)})),t=Object(i["clone"])(t);var r=this._optionBackup,o=B(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Object(i["clone"])(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=Object(i["clone"])(n[r.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,a=[],u=[];if(!r.length&&!o)return u;for(var s=0,c=r.length;s<c;s++)L(r[s].query,e,n)&&a.push(s);return!a.length&&o&&(a=[-1]),a.length&&!z(a,this._currentMediaIndices)&&(u=Object(i["map"])(a,function(t){return Object(i["clone"])(-1===t?o.option:r[t].option)})),this._currentMediaIndices=a,u},t}();function B(t,e,n){var r,o,a=[],u=t.baseOption,s=t.timeline,c=t.options,l=t.media,f=!!t.media,d=!!(c||s||u&&u.timeline);function h(t){Object(i["each"])(e,function(e){e(t,n)})}return u?(o=u,o.timeline||(o.timeline=s)):((d||f)&&(t.options=t.media=null),o=t),f&&Object(i["isArray"])(l)&&Object(i["each"])(l,function(t){t&&t.option&&(t.query?a.push(t):r||(r=t))}),h(o),Object(i["each"])(c,function(t){return h(t)}),Object(i["each"])(a,function(t){return h(t.option)}),{baseOption:o,timelineOptions:c||[],mediaDefault:r,mediaList:a}}function L(t,e,n){var r={width:e,height:n,aspectratio:e/n},o=!0;return Object(i["each"])(t,function(t,e){var n=e.match(N);if(n&&n[1]&&n[2]){var i=n[1],a=n[2].toLowerCase();F(r[a],t,i)||(o=!1)}}),o}function F(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e}function z(t,e){return t.join(",")===e.join(",")}var V=P,H=i["each"],U=i["isObject"],W=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function G(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=W.length;n<r;n++){var o=W[n],a=e.normal,u=e.emphasis;a&&a[o]&&(t[o]=t[o]||{},t[o].normal?i["merge"](t[o].normal,a[o]):t[o].normal=a[o],a[o]=null),u&&u[o]&&(t[o]=t[o]||{},t[o].emphasis?i["merge"](t[o].emphasis,u[o]):t[o].emphasis=u[o],u[o]=null)}}function q(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,o=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,i["defaults"](t[e],r)):t[e]=r),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o,o.focus&&(t.emphasis.focus=o.focus),o.blurScope&&(t.emphasis.blurScope=o.blurScope))}}function Y(t){q(t,"itemStyle"),q(t,"lineStyle"),q(t,"areaStyle"),q(t,"label"),q(t,"labelLine"),q(t,"upperLabel"),q(t,"edgeLabel")}function X(t,e){var n=U(t)&&t[e],r=U(n)&&n.textStyle;if(r){0;for(var o=0,i=c["c"].length;o<i;o++){var a=c["c"][o];r.hasOwnProperty(a)&&(n[a]=r[a])}}}function $(t){t&&(Y(t),X(t,"label"),t.emphasis&&X(t.emphasis,"label"))}function K(t){if(U(t)){G(t),Y(t),X(t,"label"),X(t,"upperLabel"),X(t,"edgeLabel"),t.emphasis&&(X(t.emphasis,"label"),X(t.emphasis,"upperLabel"),X(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(G(e),$(e));var n=t.markLine;n&&(G(n),$(n));var r=t.markArea;r&&$(r);var o=t.data;if("graph"===t.type){o=o||t.nodes;var a=t.links||t.edges;if(a&&!i["isTypedArray"](a))for(var u=0;u<a.length;u++)$(a[u]);i["each"](t.categories,function(t){Y(t)})}if(o&&!i["isTypedArray"](o))for(u=0;u<o.length;u++)$(o[u]);if(e=t.markPoint,e&&e.data){var s=e.data;for(u=0;u<s.length;u++)$(s[u])}if(n=t.markLine,n&&n.data){var c=n.data;for(u=0;u<c.length;u++)i["isArray"](c[u])?($(c[u][0]),$(c[u][1])):$(c[u])}"gauge"===t.type?(X(t,"axisLabel"),X(t,"title"),X(t,"detail")):"treemap"===t.type?(q(t.breadcrumb,"itemStyle"),i["each"](t.levels,function(t){Y(t)})):"tree"===t.type&&Y(t.leaves)}}function Z(t){return i["isArray"](t)?t:t?[t]:[]}function J(t){return(i["isArray"](t)?t[0]:t)||{}}function Q(t,e){H(Z(t.series),function(t){U(t)&&K(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),H(n,function(e){H(Z(t[e]),function(t){t&&(X(t,"axisLabel"),X(t.axisPointer,"label"))})}),H(Z(t.parallel),function(t){var e=t&&t.parallelAxisDefault;X(e,"axisLabel"),X(e&&e.axisPointer,"label")}),H(Z(t.calendar),function(t){q(t,"itemStyle"),X(t,"dayLabel"),X(t,"monthLabel"),X(t,"yearLabel")}),H(Z(t.radar),function(t){X(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)}),H(Z(t.geo),function(t){U(t)&&($(t),H(Z(t.regions),function(t){$(t)}))}),H(Z(t.timeline),function(t){$(t),q(t,"label"),q(t,"itemStyle"),q(t,"controlStyle",!0);var e=t.data;i["isArray"](e)&&i["each"](e,function(t){i["isObject"](t)&&(q(t,"label"),q(t,"itemStyle"))})}),H(Z(t.toolbox),function(t){q(t,"iconStyle"),H(t.feature,function(t){q(t,"iconStyle")})}),X(J(t.axisPointer),"label"),X(J(t.tooltip).axisPointer,"label")}function tt(t,e){for(var n=e.split(","),r=t,o=0;o<n.length;o++)if(r=r&&r[n[o]],null==r)break;return r}function et(t,e,n,r){for(var o,i=e.split(","),a=t,u=0;u<i.length-1;u++)o=i[u],null==a[o]&&(a[o]={}),a=a[o];(r||null==a[i[u]])&&(a[i[u]]=n)}function nt(t){t&&Object(i["each"])(rt,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var rt=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],ot=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],it=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function at(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<it.length;n++){var r=it[n][1],o=it[n][0];null!=e[r]&&(e[o]=e[r])}}function ut(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function st(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function ct(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}function lt(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&lt(t[n].children,e)}function ft(t,e){Q(t,e),t.series=Object(c["r"])(t.series),Object(i["each"])(t.series,function(t){if(Object(i["isObject"])(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){null!=t.clockWise&&(t.clockwise=t.clockWise),ut(t.label);var n=t.data;if(n&&!Object(i["isTypedArray"])(n))for(var r=0;r<n.length;r++)ut(n[r]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var o=tt(t,"pointer.color");null!=o&&et(t,"itemStyle.color",o)}else if("bar"===e){at(t),at(t.backgroundStyle),at(t.emphasis);n=t.data;if(n&&!Object(i["isTypedArray"])(n))for(r=0;r<n.length;r++)"object"===typeof n[r]&&(at(n[r]),at(n[r]&&n[r].emphasis))}else if("sunburst"===e){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a)),st(t),lt(t.data,st)}else"graph"===e||"sankey"===e?ct(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Object(i["defaults"])(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),nt(t)}}),t.dataRange&&(t.visualMap=t.dataRange),Object(i["each"])(ot,function(e){var n=t[e];n&&(Object(i["isArray"])(n)||(n=[n]),Object(i["each"])(n,function(t){nt(t)}))})}var dt=n("3842");function ht(t){var e=Object(i["createHashMap"])();t.eachSeries(function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),o=t.getData(),i={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!i.stackedDimension||!i.isStackedByIndex&&!i.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(i)}}),e.each(pt)}function pt(t){Object(i["each"])(t,function(e,n){var r=[],o=[NaN,NaN],i=[e.stackResultDimension,e.stackedOverDimension],a=e.data,u=e.isStackedByIndex;a.modify(i,function(i,s,c){var l,f,d=a.get(e.stackedDimension,c);if(isNaN(d))return o;u?f=a.getRawIndex(c):l=a.get(e.stackedByDimension,c);for(var h=NaN,p=n-1;p>=0;p--){var m=t[p];if(u||(f=m.data.rawIndexOf(m.stackedByDimension,l)),f>=0){var g=m.data.getByRawIndex(m.stackResultDimension,f);if(d>=0&&g>0||d<=0&&g<0){d=Object(dt["b"])(d,g),h=g;break}}}return r[0]=d,r[1]=h,r})})}var mt=n("4f85"),gt=n("b12f"),vt=n("e887"),yt=n("c7a2"),bt=n("0da8"),xt=n("deab"),_t=n("cbe5"),wt=n("861c"),Ot=n("7d6c"),St=n("88b3"),Ct=n("282b"),kt=n("551f"),Tt=n("3901"),Mt=Object(c["o"])(),Dt={itemStyle:Object(Ct["a"])(kt["a"],!0),lineStyle:Object(Ct["a"])(Tt["a"],!0)},At={lineStyle:"stroke",itemStyle:"fill"};function It(t,e){var n=t.visualStyleMapper||Dt[e];return n||(console.warn("Unkown style type '"+e+"'."),Dt.itemStyle)}function jt(t,e){var n=t.visualDrawType||At[e];return n||(console.warn("Unkown style type '"+e+"'."),"fill")}var Et={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",o=t.getModel(r),a=It(t,r),u=a(o),s=o.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var c=jt(t,r),l=u[c],f=Object(i["isFunction"])(l)?l:null,d="auto"===u.fill||"auto"===u.stroke;if(!u[c]||f||d){var h=t.getColorFromPalette(t.name,null,e.getSeriesCount());u[c]||(u[c]=h,n.setVisual("colorFromPalette",!0)),u.fill="auto"===u.fill||Object(i["isFunction"])(u.fill)?h:u.fill,u.stroke="auto"===u.stroke||Object(i["isFunction"])(u.stroke)?h:u.stroke}if(n.setVisual("style",u),n.setVisual("drawType",c),!e.isSeriesFiltered(t)&&f)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var r=t.getDataParams(n),o=Object(i["extend"])({},u);o[c]=f(r),e.setItemVisual(n,"style",o)}}}},Rt=new l["a"],Nt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",o=It(t,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[r]){Rt.option=n[r];var u=o(Rt),s=t.ensureUniqueItemVisual(e,"style");Object(i["extend"])(s,u),Rt.option.decal&&(t.setItemVisual(e,"decal",Rt.option.decal),Rt.option.decal.dirty=!0),a in u&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},Pt={performRawSeries:!0,overallReset:function(t){var e=Object(i["createHashMap"])();t.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+n,o=e.get(r);o||(o={},e.set(r,o)),Mt(t).scope=o}}),t.eachSeries(function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),r={},o=e.getData(),i=Mt(e).scope,a=e.visualStyleAccessPath||"itemStyle",u=jt(e,a);o.each(function(t){var e=o.getRawIndex(t);r[e]=t}),n.each(function(t){var a=r[t],s=o.getItemVisual(a,"colorFromPalette");if(s){var c=o.ensureUniqueItemVisual(a,"style"),l=n.getName(t)||t+"",f=n.count();c[u]=e.getColorFromPalette(l,i,f)}})}})}},Bt=n("2dc5"),Lt=n("76a5"),Ft=n("8d32"),zt=Math.PI;function Vt(t,e){e=e||{},i["defaults"](e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Bt["a"],r=new yt["a"]({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var o,a=new Lt["a"]({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),u=new yt["a"]({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(u),e.showSpinner&&(o=new Ft["a"]({shape:{startAngle:-zt/2,endAngle:-zt/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:3*zt/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*zt/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var n=a.getBoundingRect().width,i=e.showSpinner?e.spinnerRadius:0,s=(t.getWidth()-2*i-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:i),c=t.getHeight()/2;e.showSpinner&&o.setShape({cx:s,cy:c}),u.setShape({x:s-i,y:c-i,width:2*i,height:2*i}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var Ht=n("9fbc"),Ut=n("8918"),Wt=function(){function t(t,e,n,r){this._stageTaskMap=Object(i["createHashMap"])(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,o=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex,i=o?n.step:null,a=r&&r.modDataCount,u=null!=a?Math.ceil(a/i):null;return{step:i,modBy:u,modDataCount:a}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData(),o=r.count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&o>=n.threshold,a=t.get("large")&&o>=t.get("largeThreshold"),u="mod"===t.get("progressiveChunkMode")?o:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:u,large:a}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Object(i["createHashMap"])();t.eachSeries(function(t){var r=t.getProgressive(),o=t.uid;n.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),e._pipe(t,t.dataTask)})},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;Object(i["each"])(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{}),a="";Object(i["assert"])(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,o,e,n),r.overallReset&&this._createOverallStageTask(r,o,e,n)},this)},t.prototype.prepareView=function(t,e,n,r){var o=t.renderTask,i=o.context;i.model=e,i.ecModel=n,i.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,r){r=r||{};var o=!1,a=this;function u(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}Object(i["each"])(t,function(t,i){if(!r.visualType||r.visualType===t.visualType){var s=a._stageTaskMap.get(t.uid),c=s.seriesTaskMap,l=s.overallTask;if(l){var f,d=l.agentStubMap;d.each(function(t){u(r,t)&&(t.dirty(),f=!0)}),f&&l.dirty(),a.updatePayload(l,n);var h=a.getPerformArgs(l,r.block);d.each(function(t){t.perform(h)}),l.perform(h)&&(o=!0)}else c&&c.each(function(i,s){u(r,i)&&i.dirty();var c=a.getPerformArgs(i,r.block);c.skip=!t.performRawSeries&&e.isSeriesFiltered(i.context.model),a.updatePayload(i,n),i.perform(c)&&(o=!0)})}}),this.unfinished=o||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e=t.dataTask.perform()||e}),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,r){var o=this,a=e.seriesTaskMap,u=e.seriesTaskMap=Object(i["createHashMap"])(),s=t.seriesType,c=t.getTargetSeries;function l(e){var i=e.uid,s=u.set(i,a&&a.get(i)||Object(Ht["a"])({plan:$t,reset:Kt,count:Qt}));s.context={model:e,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(e,s)}t.createOnAllSeries?n.eachRawSeries(l):s?n.eachRawSeriesByType(s,l):c&&c(n,r).each(l)},t.prototype._createOverallStageTask=function(t,e,n,r){var o=this,a=e.overallTask=e.overallTask||Object(Ht["a"])({reset:Gt});a.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:o};var u=a.agentStubMap,s=a.agentStubMap=Object(i["createHashMap"])(),c=t.seriesType,l=t.getTargetSeries,f=!0,d=!1,h="";function p(t){var e=t.uid,n=s.set(e,u&&u.get(e)||(d=!0,Object(Ht["a"])({reset:qt,onDirty:Xt})));n.context={model:t,overallProgress:f},n.agent=a,n.__block=f,o._pipe(t,n)}Object(i["assert"])(!t.createOnAllSeries,h),c?n.eachRawSeriesByType(c,p):l?l(n,r).each(p):(f=!1,Object(i["each"])(n.getSeries(),p)),d&&a.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},t.wrapStageHandler=function(t,e){return Object(i["isFunction"])(t)&&(t={overallReset:t,seriesType:te(t)}),t.uid=Object(Ut["c"])("stageHandler"),e&&(t.visualType=e),t},t}();function Gt(t){t.overallReset(t.ecModel,t.api,t.payload)}function qt(t){return t.overallProgress&&Yt}function Yt(){this.agent.dirty(),this.getDownstream().dirty()}function Xt(){this.agent&&this.agent.dirty()}function $t(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Kt(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Object(c["r"])(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Object(i["map"])(e,function(t,e){return Jt(e)}):Zt}var Zt=Jt(0);function Jt(t){return function(e,n){var r=n.data,o=n.resetDefines[t];if(o&&o.dataEach)for(var i=e.start;i<e.end;i++)o.dataEach(r,i);else o&&o.progress&&o.progress(e,r)}}function Qt(t){return t.data.count()}function te(t){ee=null;try{t(ne,re)}catch(e){}return ee}var ee,ne={},re={};function oe(t,e){for(var n in e.prototype)t[n]=i["noop"]}oe(ne,A),oe(re,E),ne.eachSeriesByType=ne.eachRawSeriesByType=function(t){ee=t},ne.eachComponent=function(t){"series"===t.mainType&&t.subType&&(ee=t.subType)};var ie=Wt,ae=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],ue={color:ae,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ae]},se="#B9B8CE",ce="#100C2A",le=function(){return{axisLine:{lineStyle:{color:se}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},fe=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],de={darkMode:!0,color:fe,backgroundColor:ce,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:se}},textStyle:{color:se},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:se}},dataZoom:{borderColor:"#71708A",textStyle:{color:se},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:se}},timeline:{lineStyle:{color:se},label:{color:se},controlStyle:{color:se,borderColor:se}},calendar:{itemStyle:{color:ce},dayLabel:{color:se},monthLabel:{color:se},yearLabel:{color:se}},timeAxis:le(),logAxis:le(),valueAxis:le(),categoryAxis:le(),line:{symbol:"circle"},graph:{color:fe},gauge:{title:{color:se},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:se},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};de.categoryAxis.splitLine.show=!1;var he=de,pe=n("625e"),me=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},r={};if(i["isString"](t)){var o=Object(pe["f"])(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],u={name:1,dataIndex:1,dataType:1};i["each"](t,function(t,o){for(var i=!1,s=0;s<a.length;s++){var c=a[s],l=o.lastIndexOf(c);if(l>0&&l===o.length-c.length){var f=o.slice(0,l);"data"!==f&&(e.mainType=f,e[c.toLowerCase()]=t,i=!0)}}u.hasOwnProperty(o)&&(n[o]=t,i=!0),i||(r[o]=t)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,o=n.packedEvent,i=n.model,a=n.view;if(!i||!a)return!0;var u=e.cptQuery,s=e.dataQuery;return c(u,i,"mainType")&&c(u,i,"subType")&&c(u,i,"index","componentIndex")&&c(u,i,"name")&&c(u,i,"id")&&c(s,o,"name")&&c(s,o,"dataIndex")&&c(s,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,r,o));function c(t,e,n,r){return null==t[n]||e[r||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),ge=["symbol","symbolSize","symbolRotate","symbolOffset"],ve=ge.concat(["symbolKeepAspect"]),ye={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){for(var r={},o={},a=!1,u=0;u<ge.length;u++){var s=ge[u],c=t.get(s);Object(i["isFunction"])(c)?(a=!0,o[s]=c):r[s]=c}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual(Object(i["extend"])({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),!e.isSeriesFiltered(t)){var l=Object(i["keys"])(o);return{dataEach:a?f:null}}}function f(e,n){for(var r=t.getRawValue(n),i=t.getDataParams(n),a=0;a<l.length;a++){var u=l[a];e.setItemVisual(n,u,o[u](r,i))}}}},be={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t)){var n=t.getData();return{dataEach:n.hasItemOption?r:null}}function r(t,e){for(var n=t.getItemModel(e),r=0;r<ve.length;r++){var o=ve[r],i=n.getShallow(o,!0);null!=i&&t.setItemVisual(e,o,i)}}}},xe=n("0924"),_e=n("f3bb"),we=n("04f7"),Oe=n("ef59"),Se=n("fadd"),Ce=n("b3c1");function ke(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(t){var n=r.getItemVisual(t,"decal");if(n){var o=r.ensureUniqueItemVisual(t,"style");o.decal=Object(Ce["a"])(n,e)}});var o=r.getVisual("decal");if(o){var i=r.getVisual("style");i.decal=Object(Ce["a"])(o,e)}}})}var Te=new s["a"],Me=Te,De=n("726e"),Ae=n("58c9");n.d(e,"B",function(){return je}),n.d(e,"d",function(){return Ee}),n.d(e,"a",function(){return Ke}),n.d(e,"l",function(){return Gn}),n.d(e,"b",function(){return qn}),n.d(e,"e",function(){return Yn}),n.d(e,"f",function(){return Xn}),n.d(e,"g",function(){return $n}),n.d(e,"i",function(){return Kn}),n.d(e,"j",function(){return Zn}),n.d(e,"w",function(){return Jn}),n.d(e,"u",function(){return Qn}),n.d(e,"v",function(){return tr}),n.d(e,"s",function(){return er}),n.d(e,"t",function(){return nr}),n.d(e,"y",function(){return rr}),n.d(e,"m",function(){return or}),n.d(e,"n",function(){return ir}),n.d(e,"h",function(){return ar}),n.d(e,"o",function(){return ur}),n.d(e,"z",function(){return sr}),n.d(e,"p",function(){return fr}),n.d(e,"A",function(){return dr}),n.d(e,"r",function(){return hr}),n.d(e,"k",function(){return pr}),n.d(e,"x",function(){return mr}),n.d(e,"c",function(){return gr}),n.d(e,"q",function(){return Oe["e"]});var Ie="undefined"!==typeof window,je="5.3.2",Ee={zrender:"5.3.1"},Re=1,Ne=800,Pe=900,Be=1e3,Le=2e3,Fe=5e3,ze=1e3,Ve=1100,He=2e3,Ue=3e3,We=4e3,Ge=4500,qe=4600,Ye=5e3,Xe=6e3,$e=7e3,Ke={PROCESSOR:{FILTER:Be,SERIES_FILTER:Ne,STATISTIC:Fe},VISUAL:{LAYOUT:ze,PROGRESSIVE_LAYOUT:Ve,GLOBAL:He,CHART:Ue,POST_CHART_LAYOUT:qe,COMPONENT:We,BRUSH:Ye,CHART_ITEM:Ge,ARIA:Xe,DECAL:$e}},Ze="__flagInMainProcess",Je="__pendingUpdate",Qe="__needsUpdateStatus",tn=/^[a-zA-Z0-9_]+$/,en="__connectUpdateStatus",nn=0,rn=1,on=2;function an(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return sn(this,t,e);jn(this.id)}}function un(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return sn(this,t,e)}}function sn(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),s["a"].prototype[e].apply(t,n)}var cn,ln,fn,dn,hn,pn,mn,gn,vn,yn,bn,xn,_n,wn,On,Sn,Cn,kn,Tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e}(s["a"]),Mn=Tn.prototype;Mn.on=un("on"),Mn.off=un("off");var Dn=function(t){function e(e,n,r){var a=t.call(this,new me)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},Object(i["isString"])(n)&&(n=Ln[n]),a._dom=e;var s="canvas",c=!1,l=a._zr=o["init"](e,{renderer:r.renderer||s,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:null==r.useDirtyRect?c:r.useDirtyRect});a._ssr=r.ssr,a._throttledZrFlush=Object(St["c"])(Object(i["bind"])(l.flush,l),17),n=Object(i["clone"])(n),n&&ft(n,!0),a._theme=n,a._locale=Object(Oe["b"])(r.locale||Oe["a"]),a._coordSysMgr=new R["a"];var f=a._api=On(a);function d(t,e){return t.__prio-e.__prio}return Object(u["a"])(Bn,d),Object(u["a"])(Nn,d),a._scheduler=new ie(a,f,Nn,Bn),a._messageCenter=new Tn,a._initEvents(),a.resize=Object(i["bind"])(a.resize,a),l.animation.on("frame",a._onframe,a),yn(l,a),bn(l,a),Object(i["setAsPrimitive"])(a),a}return Object(r["a"])(e,t),e.prototype._onframe=function(){if(!this._disposed){kn(this);var t=this._scheduler;if(this[Je]){var e=this[Je].silent;this[Ze]=!0;try{cn(this),dn.update.call(this,null,this[Je].updateParams)}catch(a){throw this[Ze]=!1,this[Je]=null,a}this._zr.flush(),this[Ze]=!1,this[Je]=null,gn.call(this,e),vn.call(this,e)}else if(t.unfinished){var n=Re,r=this._model,o=this._api;t.unfinished=!1;do{var i=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),pn(this,r),t.performVisualTasks(r),wn(this,this._model,o,"remain",{}),n-=+new Date-i}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,e,n){if(!this[Ze])if(this._disposed)jn(this.id);else{var r,o,a;if(Object(i["isObject"])(e)&&(n=e.lazyUpdate,r=e.silent,o=e.replaceMerge,a=e.transition,e=e.notMerge),this[Ze]=!0,!this._model||e){var u=new V(this._api),s=this._theme,c=this._model=new A;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,s,this._locale,u)}this._model.setOption(t,{replaceMerge:o},Pn);var l={seriesTransition:a,optionChanged:!0};if(n)this[Je]={silent:r,updateParams:l},this[Ze]=!1,this.getZr().wakeUp();else{try{cn(this),dn.update.call(this,null,l)}catch(f){throw this[Je]=null,this[Ze]=!1,f}this._ssr||this._zr.flush(),this[Je]=null,this[Ze]=!1,gn.call(this,r),vn.call(this,r)}}},e.prototype.setTheme=function(){Object(_["a"])("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ie&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var e=this._zr.painter;return e.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var e=this._zr.painter;return e.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(a["a"].svgSupported){var t=this._zr,e=t.storage.getDisplayList();return Object(i["each"])(e,function(t){t.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){t=t||{};var e=t.excludeComponents,n=this._model,r=[],o=this;Object(i["each"])(e,function(t){n.eachComponent({mainType:t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Object(i["each"])(r,function(t){t.group.ignore=!1}),a}jn(this.id)},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var e="svg"===t.type,n=this.group,r=Math.min,a=Math.max,u=1/0;if(Vn[n]){var s=u,c=u,l=-u,f=-u,d=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();Object(i["each"])(zn,function(o,u){if(o.group===n){var h=e?o.getZr().painter.getSvgDom().innerHTML:o.renderToCanvas(Object(i["clone"])(t)),p=o.getDom().getBoundingClientRect();s=r(p.left,s),c=r(p.top,c),l=a(p.right,l),f=a(p.bottom,f),d.push({dom:h,left:p.left,top:p.top})}}),s*=h,c*=h,l*=h,f*=h;var p=l-s,m=f-c,g=De["d"].createCanvas(),v=o["init"](g,{renderer:e?"svg":"canvas"});if(v.resize({width:p,height:m}),e){var y="";return Object(i["each"])(d,function(t){var e=t.left-s,n=t.top-c;y+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"}),v.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&v.painter.setBackgroundColor(t.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return t.connectedBackgroundColor&&v.add(new yt["a"]({shape:{x:0,y:0,width:p,height:m},style:{fill:t.connectedBackgroundColor}})),Object(i["each"])(d,function(t){var e=new bt["a"]({style:{x:t.left*h-s,y:t.top*h-c,image:t.dom}});v.add(e)}),v.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}jn(this.id)},e.prototype.convertToPixel=function(t,e){return hn(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return hn(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var n,r=this._model,o=c["s"](r,t);return Object(i["each"])(o,function(t,r){r.indexOf("Models")>=0&&Object(i["each"])(t,function(t){var o=t.coordinateSystem;if(o&&o.containPoint)n=n||!!o.containPoint(e);else if("seriesModels"===r){var i=this._chartsMap[t.__viewId];i&&i.containPoint&&(n=n||i.containPoint(e,t))}else 0},this)},this),!!n}jn(this.id)},e.prototype.getVisual=function(t,e){var n=this._model,r=c["s"](n,t,{defaultMainType:"series"}),o=r.seriesModel;var i=o.getData(),a=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?i.indexOfRawIndex(r.dataIndex):null;return null!=a?Object(xe["a"])(i,a,e):Object(xe["b"])(i,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Object(i["each"])(In,function(e){var n=function(n){var r,o=t.getModel(),a=n.target,u="globalout"===e;if(u?r={}:a&&Object(Se["a"])(a,function(t){var e=Object(wt["a"])(t);if(e&&null!=e.dataIndex){var n=e.dataModel||o.getSeriesByIndex(e.seriesIndex);return r=n&&n.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return r=Object(i["extend"])({},e.eventData),!0},!0),r){var s=r.componentType,c=r.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",c=r.seriesIndex);var l=s&&null!=c&&o.getComponent(s,c),f=l&&t["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];0,r.event=n,r.type=e,t._$eventProcessor.eventInfo={targetEl:a,packedEvent:r,model:l,view:f},t.trigger(e,r)}};n.zrEventfulCallAtLast=!0,t._zr.on(e,n,t)}),Object(i["each"])(Rn,function(e,n){t._messageCenter.on(n,function(t){this.trigger(n,t)},t)}),Object(i["each"])(["selectchanged"],function(e){t._messageCenter.on(e,function(t){this.trigger(e,t)},t)}),Object(_e["b"])(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?jn(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)jn(this.id);else{this._disposed=!0;var t=this.getDom();t&&c["w"](this.getDom(),Wn,"");var e=this,n=e._api,r=e._model;Object(i["each"])(e._componentsViews,function(t){t.dispose(r,n)}),Object(i["each"])(e._chartsViews,function(t){t.dispose(r,n)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete zn[e.id]}},e.prototype.resize=function(t){if(!this[Ze])if(this._disposed)jn(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[Je]&&(null==r&&(r=this[Je].silent),n=!0,this[Je]=null),this[Ze]=!0;try{n&&cn(this),dn.update.call(this,{type:"resize",animation:Object(i["extend"])({duration:0},t&&t.animation)})}catch(o){throw this[Ze]=!1,o}this[Ze]=!1,gn.call(this,r),vn.call(this,r)}}},e.prototype.showLoading=function(t,e){if(this._disposed)jn(this.id);else if(Object(i["isObject"])(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Fn[t]){var n=Fn[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},e.prototype.hideLoading=function(){this._disposed?jn(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=Object(i["extend"])({},t);return e.type=Rn[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)jn(this.id);else if(Object(i["isObject"])(e)||(e={silent:!!e}),En[t.type]&&this._model)if(this[Ze])this._pendingActions.push(t);else{var n=e.silent;mn.call(this,t,n);var r=e.flush;r?this._zr.flush():!1!==r&&a["a"].browser.weChat&&this._throttledZrFlush(),gn.call(this,n),vn.call(this,n)}},e.prototype.updateLabelLayout=function(){Me.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)jn(this.id);else{var e=t.seriesIndex,n=this.getModel(),r=n.getSeriesByIndex(e);0,r.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function e(t){var e=[],n=[],r=!1;if(t.eachComponent(function(t,o){var i=o.get("zlevel")||0,a=o.get("z")||0,u=o.getZLevelKey();r=r||!!u,("series"===t?n:e).push({zlevel:i,z:a,idx:o.componentIndex,type:t,key:u})}),r){var o,a,s=e.concat(n);Object(u["a"])(s,function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel}),Object(i["each"])(s,function(e){var n=t.getComponent(e.type,e.idx),r=e.zlevel,i=e.key;null!=o&&(r=Math.max(o,r)),i?(r===o&&i!==a&&r++,a=i):a&&(r===o&&r++,a=""),o=r,n.setZLevel(r)})}}function n(t){for(var e=[],n=t.currentStates,r=0;r<n.length;r++){var o=n[r];"emphasis"!==o&&"blur"!==o&&"select"!==o&&e.push(o)}t.selected&&t.states.select&&e.push("select"),t.hoverState===Ot["e"]&&t.states.emphasis?e.push("emphasis"):t.hoverState===Ot["d"]&&t.states.blur&&e.push("blur"),t.useStates(e)}function o(t,e){var n=t._zr,r=n.storage,o=0;r.traverse(function(t){t.isGroup||o++}),o>e.get("hoverLayerThreshold")&&!a["a"].node&&!a["a"].worker&&e.eachSeries(function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.eachRendered(function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)})}})}function s(t,e){var n=t.get("blendMode")||null;e.eachRendered(function(t){t.isGroup||(t.style.blend=n)})}function l(t,e){if(!t.preventAutoZ){var n=t.get("z")||0,r=t.get("zlevel")||0;e.eachRendered(function(t){return f(t,n,r,-1/0),!0})}}function f(t,e,n,r){var o=t.getTextContent(),i=t.getTextGuideLine(),a=t.isGroup;if(a)for(var u=t.childrenRef(),s=0;s<u.length;s++)r=Math.max(f(u[s],e,n,r),r);else t.z=e,t.zlevel=n,r=Math.max(t.z2,r);if(o&&(o.z=e,o.zlevel=n,isFinite(r)&&(o.z2=r+2)),i){var c=t.textGuideLineConfig;i.z=e,i.zlevel=n,isFinite(r)&&(i.z2=r+(c&&c.showAbove?1:-1))}return r}function d(t,e){e.eachRendered(function(t){if(!xt["d"](t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}})}function h(t,e){var r=t.getModel("stateAnimation"),o=t.isAnimationEnabled(),i=r.get("duration"),a=i>0?{duration:i,delay:r.get("delay"),easing:r.get("easing")}:null;e.eachRendered(function(t){if(t.states&&t.states.emphasis){if(xt["d"](t))return;if(t instanceof _t["b"]&&Object(Ot["E"])(t),t.__dirty){var e=t.prevStates;e&&t.useStates(e)}if(o){t.stateTransition=a;var r=t.getTextContent(),i=t.getTextGuideLine();r&&(r.stateTransition=a),i&&(i.stateTransition=a)}t.__dirty&&n(t)}})}cn=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),ln(t,!0),ln(t,!1),e.plan()},ln=function(t,e){for(var n=t._model,r=t._scheduler,o=e?t._componentsViews:t._chartsViews,i=e?t._componentsMap:t._chartsMap,a=t._zr,u=t._api,s=0;s<o.length;s++)o[s].__alive=!1;function c(t){var s=t.__requireNewView;t.__requireNewView=!1;var c="_ec_"+t.id+"_"+t.type,l=!s&&i[c];if(!l){var f=Object(pe["f"])(t.type),d=e?gt["a"].getClass(f.main,f.sub):vt["a"].getClass(f.sub);0,l=new d,l.init(n,u),i[c]=l,o.push(l),a.add(l.group)}t.__viewId=l.__id=c,l.__alive=!0,l.__model=t,l.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&r.prepareView(l,t,n,u)}e?n.eachComponent(function(t,e){"series"!==t&&c(e)}):n.eachSeries(c);for(s=0;s<o.length;){var l=o[s];l.__alive?s++:(!e&&l.renderTask.dispose(),a.remove(l.group),l.dispose(n,u),o.splice(s,1),i[l.__id]===l&&delete i[l.__id],l.__id=l.group.__ecComponentInfo=null)}},fn=function(t,e,n,r,o){var a=t._model;if(a.setUpdatePayload(n),r){var u={};u[r+"Id"]=n[r+"Id"],u[r+"Index"]=n[r+"Index"],u[r+"Name"]=n[r+"Name"];var s={mainType:r,query:u};o&&(s.subType=o);var l,f=n.excludeSeriesId;null!=f&&(l=Object(i["createHashMap"])(),Object(i["each"])(c["r"](f),function(t){var e=c["e"](t,null);null!=e&&l.set(e,!0)})),a&&a.eachComponent(s,function(e){var r=l&&null!==l.get(e.id);if(!r)if(Object(Ot["z"])(n))if(e instanceof mt["b"])n.type!==Ot["c"]||n.notBlur||e.get(["emphasis","disabled"])||Object(Ot["m"])(e,n,t._api);else{var o=Object(Ot["t"])(e.mainType,e.componentIndex,n.name,t._api),a=o.focusSelf,u=o.dispatchers;n.type===Ot["c"]&&a&&!n.notBlur&&Object(Ot["l"])(e.mainType,e.componentIndex,t._api),u&&Object(i["each"])(u,function(t){n.type===Ot["c"]?Object(Ot["r"])(t):Object(Ot["C"])(t)})}else Object(Ot["A"])(n)&&e instanceof mt["b"]&&(Object(Ot["K"])(e,n,t._api),Object(Ot["L"])(e),Cn(t))},t),a&&a.eachComponent(s,function(e){var n=l&&null!==l.get(e.id);n||d(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else Object(i["each"])([].concat(t._componentsViews).concat(t._chartsViews),d);function d(r){r&&r.__alive&&r[e]&&r[e](r.__model,a,t._api,n)}},dn={prepareAndUpdate:function(t){cn(this),dn.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(e,n){var r=this._model,o=this._api,i=this._zr,a=this._coordSysMgr,u=this._scheduler;if(r){r.setUpdatePayload(e),u.restoreData(r,e),u.performSeriesTasks(r),a.create(r,o),u.performDataProcessorTasks(r,e),pn(this,r),a.update(r,o),t(r),u.performVisualTasks(r,e),xn(this,r,o,e,n);var s=r.get("backgroundColor")||"transparent",c=r.get("darkMode");i.setBackgroundColor(s),null!=c&&"auto"!==c&&i.setDarkMode(c),Me.trigger("afterupdate",r,o)}},updateTransform:function(e){var n=this,r=this._model,o=this._api;if(r){r.setUpdatePayload(e);var a=[];r.eachComponent(function(t,i){if("series"!==t){var u=n.getViewOfComponentModel(i);if(u&&u.__alive)if(u.updateTransform){var s=u.updateTransform(i,r,o,e);s&&s.update&&a.push(u)}else a.push(u)}});var u=Object(i["createHashMap"])();r.eachSeries(function(t){var i=n._chartsMap[t.__viewId];if(i.updateTransform){var a=i.updateTransform(t,r,o,e);a&&a.update&&u.set(t.uid,1)}else u.set(t.uid,1)}),t(r),this._scheduler.performVisualTasks(r,e,{setDirty:!0,dirtyMap:u}),wn(this,r,o,e,{},u),Me.trigger("afterupdate",r,o)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),vt["a"].markUpdateMethod(e,"updateView"),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),xn(this,n,this._api,e,{}),Me.trigger("afterupdate",n,this._api))},updateVisual:function(e){var n=this,r=this._model;r&&(r.setUpdatePayload(e),r.eachSeries(function(t){t.getData().clearAllVisual()}),vt["a"].markUpdateMethod(e,"updateVisual"),t(r),this._scheduler.performVisualTasks(r,e,{visualType:"visual",setDirty:!0}),r.eachComponent(function(t,o){if("series"!==t){var i=n.getViewOfComponentModel(o);i&&i.__alive&&i.updateVisual(o,r,n._api,e)}}),r.eachSeries(function(t){var o=n._chartsMap[t.__viewId];o.updateVisual(t,r,n._api,e)}),Me.trigger("afterupdate",r,this._api))},updateLayout:function(t){dn.update.call(this,t)}},hn=function(t,e,n,r){if(t._disposed)jn(t.id);else{for(var o,i=t._model,a=t._coordSysMgr.getCoordinateSystems(),u=c["s"](i,n),s=0;s<a.length;s++){var l=a[s];if(l[e]&&null!=(o=l[e](i,u,r)))return o}0}},pn=function(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries(function(t){r.updateStreamModes(t,n[t.__viewId])})},mn=function(t,e){var n=this,r=this.getModel(),o=t.type,a=t.escapeConnect,u=En[o],s=u.actionInfo,l=(s.update||"update").split(":"),f=l.pop(),d=null!=l[0]&&Object(pe["f"])(l[0]);this[Ze]=!0;var h=[t],p=!1;t.batch&&(p=!0,h=Object(i["map"])(t.batch,function(e){return e=Object(i["defaults"])(Object(i["extend"])({},e),t),e.batch=null,e}));var m,g=[],v=Object(Ot["A"])(t),y=Object(Ot["z"])(t);if(y&&Object(Ot["k"])(this._api),Object(i["each"])(h,function(e){if(m=u.action(e,n._model,n._api),m=m||Object(i["extend"])({},e),m.type=s.event||m.type,g.push(m),y){var r=c["t"](t),o=r.queryOptionMap,a=r.mainTypeSpecified,l=a?o.keys()[0]:"series";fn(n,f,e,l),Cn(n)}else v?(fn(n,f,e,"series"),Cn(n)):d&&fn(n,f,e,d.main,d.sub)}),"none"!==f&&!y&&!v&&!d)try{this[Je]?(cn(this),dn.update.call(this,t),this[Je]=null):dn[f].call(this,t)}catch(_){throw this[Ze]=!1,_}if(m=p?{type:s.event||o,escapeConnect:a,batch:g}:g[0],this[Ze]=!1,!e){var b=this._messageCenter;if(b.trigger(m.type,m),v){var x={type:"selectchanged",escapeConnect:a,selected:Object(Ot["u"])(r),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};b.trigger(x.type,x)}}},gn=function(t){var e=this._pendingActions;while(e.length){var n=e.shift();mn.call(this,n,t)}},vn=function(t){!t&&this.trigger("updated")},yn=function(t,e){t.on("rendered",function(n){e.trigger("rendered",n),!t.animation.isFinished()||e[Je]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})},bn=function(t,e){t.on("mouseover",function(t){var n=t.target,r=Object(Se["a"])(n,Ot["y"]);r&&(Object(Ot["x"])(r,t,e._api),Cn(e))}).on("mouseout",function(t){var n=t.target,r=Object(Se["a"])(n,Ot["y"]);r&&(Object(Ot["w"])(r,t,e._api),Cn(e))}).on("click",function(t){var n=t.target,r=Object(Se["a"])(n,function(t){return null!=Object(wt["a"])(t).dataIndex},!0);if(r){var o=r.selected?"unselect":"select",i=Object(wt["a"])(r);e._api.dispatchAction({type:o,dataType:i.dataType,dataIndexInside:i.dataIndex,seriesIndex:i.seriesIndex,isFromClick:!0})}})},xn=function(t,n,r,o,a){e(n),_n(t,n,r,o,a),Object(i["each"])(t._chartsViews,function(t){t.__alive=!1}),wn(t,n,r,o,a),Object(i["each"])(t._chartsViews,function(t){t.__alive||t.remove(n,r)})},_n=function(t,e,n,r,o,a){Object(i["each"])(a||t._componentsViews,function(t){var o=t.__model;d(o,t),t.render(o,e,n,r),l(o,t),h(o,t)})},wn=function(t,e,n,r,a,u){var c=t._scheduler;a=Object(i["extend"])(a||{},{updatedSeries:e.getSeries()}),Me.trigger("series:beforeupdate",e,n,a);var f=!1;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var o=n.renderTask;c.updatePayload(o,r),d(e,n),u&&u.get(e.uid)&&o.dirty(),o.perform(c.getPerformArgs(o))&&(f=!0),n.group.silent=!!e.get("silent"),s(e,n),Object(Ot["L"])(e)}),c.unfinished=f||c.unfinished,Me.trigger("series:layoutlabels",e,n,a),Me.trigger("series:transition",e,n,a),e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];l(e,n),h(e,n)}),o(t,e),Me.trigger("series:afterupdate",e,n,a)},Cn=function(t){t[Qe]=!0,t.getZr().wakeUp()},kn=function(t){t[Qe]&&(t.getZr().storage.traverse(function(t){xt["d"](t)||n(t)}),t[Qe]=!1)},On=function(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(r["a"])(n,e),n.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(e){while(e){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},n.prototype.enterEmphasis=function(e,n){Object(Ot["r"])(e,n),Cn(t)},n.prototype.leaveEmphasis=function(e,n){Object(Ot["C"])(e,n),Cn(t)},n.prototype.enterBlur=function(e){Object(Ot["q"])(e),Cn(t)},n.prototype.leaveBlur=function(e){Object(Ot["B"])(e),Cn(t)},n.prototype.enterSelect=function(e){Object(Ot["s"])(e),Cn(t)},n.prototype.leaveSelect=function(e){Object(Ot["D"])(e),Cn(t)},n.prototype.getModel=function(){return t.getModel()},n.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},n.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},n}(E))(t)},Sn=function(t){function e(t,e){for(var n=0;n<t.length;n++){var r=t[n];r[en]=e}}Object(i["each"])(Rn,function(n,r){t._messageCenter.on(r,function(n){if(Vn[t.group]&&t[en]!==nn){if(n&&n.escapeConnect)return;var r=t.makeActionFromEvent(n),o=[];Object(i["each"])(zn,function(e){e!==t&&e.group===t.group&&o.push(e)}),e(o,nn),Object(i["each"])(o,function(t){t[en]!==rn&&t.dispatchAction(r)}),e(o,on)}})})}}(),e}(s["a"]),An=Dn.prototype;An.on=an("on"),An.off=an("off"),An.one=function(t,e,n){var r=this;function o(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e&&e.apply&&e.apply(this,n),r.off(t,o)}Object(_["a"])("ECharts#one is deprecated."),this.on.call(this,t,o,n)};var In=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function jn(t){0}var En={},Rn={},Nn=[],Pn=[],Bn=[],Ln={},Fn={},zn={},Vn={},Hn=+new Date-0,Un=+new Date-0,Wn="_echarts_instance_";function Gn(t,e,n){var r=!(n&&n.ssr);if(r){0;var o=Kn(t);if(o)return o;0}var i=new Dn(t,e,n);return i.id="ec_"+Hn++,zn[i.id]=i,r&&c["w"](t,Wn,i.id),Sn(i),Me.trigger("afterinit",i),i}function qn(t){if(Object(i["isArray"])(t)){var e=t;t=null,Object(i["each"])(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+Un++,Object(i["each"])(e,function(e){e.group=t})}return Vn[t]=!0,t}function Yn(t){Vn[t]=!1}var Xn=Yn;function $n(t){Object(i["isString"])(t)?t=zn[t]:t instanceof Dn||(t=Kn(t)),t instanceof Dn&&!t.isDisposed()&&t.dispose()}function Kn(t){return zn[c["g"](t,Wn)]}function Zn(t){return zn[t]}function Jn(t,e){Ln[t]=e}function Qn(t){Object(i["indexOf"])(Pn,t)<0&&Pn.push(t)}function tr(t,e){lr(Nn,t,e,Le)}function er(t){rr("afterinit",t)}function nr(t){rr("afterupdate",t)}function rr(t,e){Me.on(t,e)}function or(t,e,n){Object(i["isFunction"])(e)&&(n=e,e="");var r=Object(i["isObject"])(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,Rn[e]||(Object(i["assert"])(tn.test(r)&&tn.test(e)),En[r]||(En[r]={action:n,actionInfo:t}),Rn[e]=r)}function ir(t,e){R["a"].register(t,e)}function ar(t){var e=R["a"].get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function ur(t,e){lr(Bn,t,e,ze,"layout")}function sr(t,e){lr(Bn,t,e,Ue,"visual")}var cr=[];function lr(t,e,n,r,o){if((Object(i["isFunction"])(e)||Object(i["isObject"])(e))&&(n=e,e=r),!(Object(i["indexOf"])(cr,n)>=0)){cr.push(n);var a=ie.wrapStageHandler(n,o);a.__prio=e,a.__raw=n,t.push(a)}}function fr(t,e){Fn[t]=e}function dr(t){Object(De["e"])({createCanvas:t})}function hr(t,e,n){var r=Object(Ae["a"])("registerMap");r&&r(t,e,n)}function pr(t){var e=Object(Ae["a"])("getMap");return e&&e(t)}var mr=we["b"];sr(He,Et),sr(Ge,Nt),sr(Ge,Pt),sr(He,ye),sr(Ge,be),sr($e,ke),Qn(ft),tr(Pe,ht),fr("default",Vt),or({type:Ot["c"],event:Ot["c"],update:Ot["c"]},i["noop"]),or({type:Ot["b"],event:Ot["b"],update:Ot["b"]},i["noop"]),or({type:Ot["f"],event:Ot["f"],update:Ot["f"]},i["noop"]),or({type:Ot["i"],event:Ot["i"],update:Ot["i"]},i["noop"]),or({type:Ot["h"],event:Ot["h"],update:Ot["h"]},i["noop"]),Jn("light",ue),Jn("dark",he);var gr={}},"1f39":function(t,e,n){"use strict";var r=n("6d8b"),o={},i=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];r["each"](o,function(r,o){var i=r.create(t,e);n=n.concat(i||[])}),this._coordinateSystems=n},t.prototype.update=function(t,e){r["each"](this._coordinateSystems,function(n){n.update&&n.update(t,e)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){o[t]=e},t.get=function(t){return o[t]},t}();e["a"]=i},"1fb5":function(t,e,n){"use strict";e.byteLength=l,e.toByteArray=d,e.fromByteArray=m;for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],o[a.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function l(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function f(t,e,n){return 3*(e+n)/4-n}function d(t){for(var e,n=c(t),r=n[0],a=n[1],u=new i(f(t,r,a)),s=0,l=a>0?r-4:r,d=0;d<l;d+=4)e=o[t.charCodeAt(d)]<<18|o[t.charCodeAt(d+1)]<<12|o[t.charCodeAt(d+2)]<<6|o[t.charCodeAt(d+3)],u[s++]=e>>16&255,u[s++]=e>>8&255,u[s++]=255&e;return 2===a&&(e=o[t.charCodeAt(d)]<<2|o[t.charCodeAt(d+1)]>>4,u[s++]=255&e),1===a&&(e=o[t.charCodeAt(d)]<<10|o[t.charCodeAt(d+1)]<<4|o[t.charCodeAt(d+2)]>>2,u[s++]=e>>8&255,u[s++]=255&e),u}function h(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(h(r));return o.join("")}function m(t){for(var e,n=t.length,o=n%3,i=[],a=16383,u=0,s=n-o;u<s;u+=a)i.push(p(t,u,u+a>s?s:u+a));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},2023:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},t.prototype.getCoordSysModel=function(){},t}()},"20c88":function(t,e,n){"use strict";n.d(e,"b",function(){return C});var r=n("401b"),o=n("9850"),i=n("2cf4"),a=n("e263"),u=n("4a3f"),s={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],l=[],f=[],d=[],h=[],p=[],m=Math.min,g=Math.max,v=Math.cos,y=Math.sin,b=Math.abs,x=Math.PI,_=2*x,w="undefined"!==typeof Float32Array,O=[];function S(t){var e=Math.round(t/x*1e8)/1e8;return e%2*x}function C(t,e){var n=S(t[0]);n<0&&(n+=_);var r=n-t[0],o=t[1];o+=r,!e&&o-n>=_?o=n+_:e&&n-o>=_?o=n-_:!e&&n>o?o=n+(_-S(n-o)):e&&n<o&&(o=n-(_-S(o-n))),t[0]=n,t[1]=o}var k=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=b(n/i["e"]/t)||0,this._uy=b(n/i["e"]/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(s.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=b(t-this._xi),r=b(e-this._yi),o=n>this._ux||r>this._uy;if(this.addData(s.L,t,e),this._ctx&&o&&this._ctx.lineTo(t,e),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var i=n*n+r*r;i>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=i)}return this},t.prototype.bezierCurveTo=function(t,e,n,r,o,i){return this._drawPendingPt(),this.addData(s.C,t,e,n,r,o,i),this._ctx&&this._ctx.bezierCurveTo(t,e,n,r,o,i),this._xi=o,this._yi=i,this},t.prototype.quadraticCurveTo=function(t,e,n,r){return this._drawPendingPt(),this.addData(s.Q,t,e,n,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,r),this._xi=n,this._yi=r,this},t.prototype.arc=function(t,e,n,r,o,i){this._drawPendingPt(),O[0]=r,O[1]=o,C(O,i),r=O[0],o=O[1];var a=o-r;return this.addData(s.A,t,e,n,n,r,a,0,i?0:1),this._ctx&&this._ctx.arc(t,e,n,r,o,i),this._xi=v(o)*n+t,this._yi=y(o)*n+e,this},t.prototype.arcTo=function(t,e,n,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,r,o),this},t.prototype.rect=function(t,e,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,r),this.addData(s.R,t,e,n,r),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(s.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!w||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,o=0;o<e;o++)n+=t[o].len();w&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(o=0;o<e;o++)for(var i=t[o].data,a=0;a<i.length;a++)this.data[r++]=i[a];this._len=r},t.prototype.addData=function(t,e,n,r,o,i,a,u,s){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var l=0;l<arguments.length;l++)c[this._len++]=arguments[l]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,w&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){f[0]=f[1]=h[0]=h[1]=Number.MAX_VALUE,d[0]=d[1]=p[0]=p[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,i=0,u=0,c=0;for(t=0;t<this._len;){var l=e[t++],m=1===t;switch(m&&(n=e[t],i=e[t+1],u=n,c=i),l){case s.M:n=u=e[t++],i=c=e[t++],h[0]=u,h[1]=c,p[0]=u,p[1]=c;break;case s.L:Object(a["c"])(n,i,e[t],e[t+1],h,p),n=e[t++],i=e[t++];break;case s.C:Object(a["b"])(n,i,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],h,p),n=e[t++],i=e[t++];break;case s.Q:Object(a["e"])(n,i,e[t++],e[t++],e[t],e[t+1],h,p),n=e[t++],i=e[t++];break;case s.A:var g=e[t++],b=e[t++],x=e[t++],_=e[t++],w=e[t++],O=e[t++]+w;t+=1;var S=!e[t++];m&&(u=v(w)*x+g,c=y(w)*_+b),Object(a["a"])(g,b,x,_,w,O,S,h,p),n=v(O)*x+g,i=y(O)*_+b;break;case s.R:u=n=e[t++],c=i=e[t++];var C=e[t++],k=e[t++];Object(a["c"])(u,c,u+C,c+k,h,p);break;case s.Z:n=u,i=c;break}r["min"](f,f,h),r["max"](d,d,p)}return 0===t&&(f[0]=f[1]=d[0]=d[1]=0),new o["a"](f[0],f[1],d[0]-f[0],d[1]-f[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,o=0,i=0,a=0,c=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,f=0,d=0,h=0;h<e;){var p=t[h++],x=1===h;x&&(o=t[h],i=t[h+1],a=o,c=i);var w=-1;switch(p){case s.M:o=a=t[h++],i=c=t[h++];break;case s.L:var O=t[h++],S=t[h++],C=O-o,k=S-i;(b(C)>n||b(k)>r||h===e-1)&&(w=Math.sqrt(C*C+k*k),o=O,i=S);break;case s.C:var T=t[h++],M=t[h++],D=(O=t[h++],S=t[h++],t[h++]),A=t[h++];w=Object(u["d"])(o,i,T,M,O,S,D,A,10),o=D,i=A;break;case s.Q:T=t[h++],M=t[h++],O=t[h++],S=t[h++];w=Object(u["k"])(o,i,T,M,O,S,10),o=O,i=S;break;case s.A:var I=t[h++],j=t[h++],E=t[h++],R=t[h++],N=t[h++],P=t[h++],B=P+N;h+=1;t[h++];x&&(a=v(N)*E+I,c=y(N)*R+j),w=g(E,R)*m(_,Math.abs(P)),o=v(B)*E+I,i=y(B)*R+j;break;case s.R:a=o=t[h++],c=i=t[h++];var L=t[h++],F=t[h++];w=2*L+2*F;break;case s.Z:C=a-o,k=c-i;w=Math.sqrt(C*C+k*k),o=a,i=c;break}w>=0&&(l[d++]=w,f+=w)}return this._pathLen=f,f},t.prototype.rebuildPath=function(t,e){var n,r,o,i,a,f,d,h,p,x,_,w=this.data,O=this._ux,S=this._uy,C=this._len,k=e<1,T=0,M=0,D=0;if(!k||(this._pathSegLen||this._calculateLength(),d=this._pathSegLen,h=this._pathLen,p=e*h,p))t:for(var A=0;A<C;){var I=w[A++],j=1===A;switch(j&&(o=w[A],i=w[A+1],n=o,r=i),I!==s.L&&D>0&&(t.lineTo(x,_),D=0),I){case s.M:n=o=w[A++],r=i=w[A++],t.moveTo(o,i);break;case s.L:a=w[A++],f=w[A++];var E=b(a-o),R=b(f-i);if(E>O||R>S){if(k){var N=d[M++];if(T+N>p){var P=(p-T)/N;t.lineTo(o*(1-P)+a*P,i*(1-P)+f*P);break t}T+=N}t.lineTo(a,f),o=a,i=f,D=0}else{var B=E*E+R*R;B>D&&(x=a,_=f,D=B)}break;case s.C:var L=w[A++],F=w[A++],z=w[A++],V=w[A++],H=w[A++],U=w[A++];if(k){N=d[M++];if(T+N>p){P=(p-T)/N;Object(u["g"])(o,L,z,H,P,c),Object(u["g"])(i,F,V,U,P,l),t.bezierCurveTo(c[1],l[1],c[2],l[2],c[3],l[3]);break t}T+=N}t.bezierCurveTo(L,F,z,V,H,U),o=H,i=U;break;case s.Q:L=w[A++],F=w[A++],z=w[A++],V=w[A++];if(k){N=d[M++];if(T+N>p){P=(p-T)/N;Object(u["n"])(o,L,z,P,c),Object(u["n"])(i,F,V,P,l),t.quadraticCurveTo(c[1],l[1],c[2],l[2]);break t}T+=N}t.quadraticCurveTo(L,F,z,V),o=z,i=V;break;case s.A:var W=w[A++],G=w[A++],q=w[A++],Y=w[A++],X=w[A++],$=w[A++],K=w[A++],Z=!w[A++],J=q>Y?q:Y,Q=b(q-Y)>.001,tt=X+$,et=!1;if(k){N=d[M++];T+N>p&&(tt=X+$*(p-T)/N,et=!0),T+=N}if(Q&&t.ellipse?t.ellipse(W,G,q,Y,K,X,tt,Z):t.arc(W,G,J,X,tt,Z),et)break t;j&&(n=v(X)*q+W,r=y(X)*Y+G),o=v(tt)*q+W,i=y(tt)*Y+G;break;case s.R:n=o=w[A],r=i=w[A+1],a=w[A++],f=w[A++];var nt=w[A++],rt=w[A++];if(k){N=d[M++];if(T+N>p){var ot=p-T;t.moveTo(a,f),t.lineTo(a+m(ot,nt),f),ot-=nt,ot>0&&t.lineTo(a+nt,f+m(ot,rt)),ot-=rt,ot>0&&t.lineTo(a+g(nt-ot,0),f+rt),ot-=nt,ot>0&&t.lineTo(a,f+g(rt-ot,0));break t}T+=N}t.rect(a,f,nt,rt);break;case s.Z:if(k){N=d[M++];if(T+N>p){P=(p-T)/N;t.lineTo(o*(1-P)+n*P,i*(1-P)+r*P);break t}T+=N}t.closePath(),o=n,i=r}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=s,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();e["a"]=k},"216a":function(t,e,n){"use strict";var r=n("7fae"),o=n("3842"),i=n("f876"),a=n("944e"),u=n("89e3"),s=n("e0d8"),c=n("6d8b"),l=function(t,e,n,r){while(n<r){var o=n+r>>>1;t[o][1]<e?n=o+1:r=o}return n},f=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return Object(r["a"])(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Object(i["h"])(t.value,i["i"][Object(i["l"])(Object(i["m"])(this._minLevelUnit))]||i["i"].second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var r=this.getSetting("useUTC"),o=this.getSetting("locale");return Object(i["r"])(t,e,n,o,r)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];if(!t)return n;n.push({value:e[0],level:0});var r=this.getSetting("useUTC"),o=x(this._minLevelUnit,this._approxInterval,r,e);return n=n.concat(o),n.push({value:e[1],level:0}),n},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=i["a"],e[1]+=i["a"]),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-i["a"]}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,n){t=t||10;var r=this._extent,o=r[1]-r[0];this._approxInterval=o/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var i=d.length,a=Math.min(l(d,this._approxInterval,0,i),i-1);this._interval=d[a][1],this._minLevelUnit=d[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return Object(c["isNumber"])(t)?t:+o["o"](t)},e.prototype.contain=function(t){return a["a"](this.parse(t),this._extent)},e.prototype.normalize=function(t){return a["f"](this.parse(t),this._extent)},e.prototype.scale=function(t){return a["g"](t,this._extent)},e.type="time",e}(u["a"]),d=[["second",i["d"]],["minute",i["c"]],["hour",i["b"]],["quarter-day",6*i["b"]],["half-day",12*i["b"]],["day",1.2*i["a"]],["half-week",3.5*i["a"]],["week",7*i["a"]],["month",31*i["a"]],["quarter",95*i["a"]],["half-year",i["e"]/2],["year",i["e"]]];function h(t,e,n,r){var a=o["o"](e),u=o["o"](n),s=function(t){return Object(i["n"])(a,t,r)===Object(i["n"])(u,t,r)},c=function(){return s("year")},l=function(){return c()&&s("month")},f=function(){return l()&&s("day")},d=function(){return f()&&s("hour")},h=function(){return d()&&s("minute")},p=function(){return h()&&s("second")},m=function(){return p()&&s("millisecond")};switch(t){case"year":return c();case"month":return l();case"day":return f();case"hour":return d();case"minute":return h();case"second":return p();case"millisecond":return m()}}function p(t,e){return t/=i["a"],t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function m(t){var e=30*i["a"];return t/=e,t>6?6:t>3?3:t>2?2:1}function g(t){return t/=i["b"],t>12?12:t>6?6:t>3.5?4:t>2?2:1}function v(t,e){return t/=e?i["c"]:i["d"],t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function y(t){return o["m"](t,!0)}function b(t,e,n){var r=new Date(t);switch(Object(i["m"])(e)){case"year":case"month":r[Object(i["x"])(n)](0);case"day":r[Object(i["g"])(n)](1);case"hour":r[Object(i["p"])(n)](0);case"minute":r[Object(i["v"])(n)](0);case"second":r[Object(i["A"])(n)](0),r[Object(i["t"])(n)](0)}return r.getTime()}function x(t,e,n,r){var o=1e4,a=i["B"],u=0;function s(t,e,n,o,i,a,u){var s=new Date(e),c=e,l=s[o]();while(c<n&&c<=r[1])u.push({value:c}),l+=t,s[i](l),c=s.getTime();u.push({value:c,notAdd:!0})}function l(t,o,a){var u=[],c=!o.length;if(!h(Object(i["m"])(t),r[0],r[1],n)){c&&(o=[{value:b(new Date(r[0]),t,n)},{value:r[1]}]);for(var l=0;l<o.length-1;l++){var f=o[l].value,d=o[l+1].value;if(f!==d){var x=void 0,_=void 0,w=void 0,O=!1;switch(t){case"year":x=Math.max(1,Math.round(e/i["a"]/365)),_=Object(i["j"])(n),w=Object(i["k"])(n);break;case"half-year":case"quarter":case"month":x=m(e),_=Object(i["w"])(n),w=Object(i["x"])(n);break;case"week":case"half-week":case"day":x=p(e,31),_=Object(i["f"])(n),w=Object(i["g"])(n),O=!0;break;case"half-day":case"quarter-day":case"hour":x=g(e),_=Object(i["o"])(n),w=Object(i["p"])(n);break;case"minute":x=v(e,!0),_=Object(i["u"])(n),w=Object(i["v"])(n);break;case"second":x=v(e,!1),_=Object(i["z"])(n),w=Object(i["A"])(n);break;case"millisecond":x=y(e),_=Object(i["s"])(n),w=Object(i["t"])(n);break}s(x,f,d,_,w,O,u),"year"===t&&a.length>1&&0===l&&a.unshift({value:a[0].value-x})}}for(l=0;l<u.length;l++)a.push(u[l]);return u}}for(var f=[],d=[],x=0,_=0,w=0;w<a.length&&u++<o;++w){var O=Object(i["m"])(a[w]);if(Object(i["q"])(a[w])){l(a[w],f[f.length-1]||[],d);var S=a[w+1]?Object(i["m"])(a[w+1]):null;if(O!==S){if(d.length){_=x,d.sort(function(t,e){return t.value-e.value});for(var C=[],k=0;k<d.length;++k){var T=d[k].value;0!==k&&d[k-1].value===T||(C.push(d[k]),T>=r[0]&&T<=r[1]&&x++)}var M=(r[1]-r[0])/e;if(x>1.5*M&&_>M/1.5)break;if(f.push(C),x>M||t===a[w])break}d=[]}}}var D=Object(c["filter"])(Object(c["map"])(f,function(t){return Object(c["filter"])(t,function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd})}),function(t){return t.length>0}),A=[],I=D.length-1;for(w=0;w<D.length;++w)for(var j=D[w],E=0;E<j.length;++E)A.push({value:j[E].value,level:I-w});A.sort(function(t,e){return t.value-e.value});var R=[];for(w=0;w<A.length;++w)0!==w&&A[w].value===A[w-1].value||R.push(A[w]);return R}s["a"].registerClass(f),e["a"]=f},"217c":function(t,e,n){"use strict";n.d(e,"c",function(){return f}),n.d(e,"b",function(){return v}),n.d(e,"e",function(){return S}),n.d(e,"d",function(){return C}),n.d(e,"a",function(){return k});var r=n("eda2"),o=n("6d8b"),i=n("b7d9"),a=n("3842"),u="line-height:1";function s(t,e){var n=t.color||"#6e7079",o=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",u=t.fontSize||14,s=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+Object(r["d"])(o+"")+"px;color:"+Object(r["d"])(n)+";font-weight:"+Object(r["d"])(i+""),valueStyle:"font-size:"+Object(r["d"])(u+"")+"px;color:"+Object(r["d"])(a)+";font-weight:"+Object(r["d"])(s+"")}:{nameStyle:{fontSize:o,fill:n,fontWeight:i},valueStyle:{fontSize:u,fill:a,fontWeight:s}}}var c=[0,10,20,30],l=["","\n","\n\n","\n\n\n"];function f(t,e){return e.type=t,e}function d(t){return"section"===t.type}function h(t){return d(t)?m:g}function p(t){if(d(t)){var e=0,n=t.blocks.length,r=n>1||n>0&&!t.noHeader;return Object(o["each"])(t.blocks,function(t){var n=p(t);n>=e&&(e=n+ +(r&&(!n||d(t)&&!t.noHeader)))}),e}return 0}function m(t,e,n,a){var c=e.noHeader,l=y(p(e)),f=[],d=e.blocks||[];Object(o["assert"])(!d||Object(o["isArray"])(d)),d=d||[];var m=t.orderMode;if(e.sortBlocks&&m){d=d.slice();var g={valueAsc:"asc",valueDesc:"desc"};if(Object(o["hasOwn"])(g,m)){var v=new i["a"](g[m],null);d.sort(function(t,e){return v.evaluate(t.sortParam,e.sortParam)})}else"seriesDesc"===m&&d.reverse()}Object(o["each"])(d,function(n,r){var i=e.valueFormatter,u=h(n)(i?Object(o["extend"])(Object(o["extend"])({},t),{valueFormatter:i}):t,n,r>0?l.html:0,a);null!=u&&f.push(u)});var x="richText"===t.renderMode?f.join(l.richText):b(f.join(""),c?n:l.html);if(c)return x;var _=Object(r["j"])(e.header,"ordinal",t.useUTC),O=s(a,t.renderMode).nameStyle;return"richText"===t.renderMode?w(t,_,O)+l.richText+x:b('<div style="'+O+";"+u+';">'+Object(r["d"])(_)+"</div>"+x,n)}function g(t,e,n,i){var a=t.renderMode,u=e.noName,c=e.noValue,l=!e.markerType,f=e.name,d=t.useUTC,h=e.valueFormatter||t.valueFormatter||function(t){return t=Object(o["isArray"])(t)?t:[t],Object(o["map"])(t,function(t,e){return Object(r["j"])(t,Object(o["isArray"])(g)?g[e]:g,d)})};if(!u||!c){var p=l?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",a),m=u?"":Object(r["j"])(f,"ordinal",d),g=e.valueType,v=c?[]:h(e.value),y=!l||!u,S=!l&&u,C=s(i,a),k=C.nameStyle,T=C.valueStyle;return"richText"===a?(l?"":p)+(u?"":w(t,m,k))+(c?"":O(t,v,y,S,T)):b((l?"":p)+(u?"":x(m,!l,k))+(c?"":_(v,y,S,T)),n)}}function v(t,e,n,r,o,i){if(t){var a=h(t),u={useUTC:o,renderMode:n,orderMode:r,markupStyleCreator:e,valueFormatter:t.valueFormatter};return a(u,t,0,i)}}function y(t){return{html:c[t],richText:l[t]}}function b(t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+u+';">'+t+n+"</div>"}function x(t,e,n){var o=e?"margin-left:2px":"";return'<span style="'+n+";"+o+'">'+Object(r["d"])(t)+"</span>"}function _(t,e,n,i){var a=n?"10px":"20px",u=e?"float:right;margin-left:"+a:"";return t=Object(o["isArray"])(t)?t:[t],'<span style="'+u+";"+i+'">'+Object(o["map"])(t,function(t){return Object(r["d"])(t)}).join("&nbsp;&nbsp;")+"</span>"}function w(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function O(t,e,n,r,i){var a=[i],u=r?10:20;return n&&a.push({padding:[0,0,0,u],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Object(o["isArray"])(e)?e.join("  "):e,a)}function S(t,e){var n=t.getData().getItemVisual(e,"style"),o=n[t.visualDrawType];return Object(r["c"])(o)}function C(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var k=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Object(a["i"])()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var i="richText"===n?this._generateStyleName():null,a=Object(r["i"])({color:e,type:t,renderMode:n,markerId:i});return Object(o["isString"])(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};Object(o["isArray"])(e)?Object(o["each"])(e,function(t){return Object(o["extend"])(n,t)}):Object(o["extend"])(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},t}()},"21a1":function(t,e,n){"use strict";n.d(e,"a",function(){return o});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create},"22b4":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("1be7"),o=n("b12f"),i=n("e887"),a=n("6cb7"),u=n("4f85"),s=n("6d8b"),c=n("58c9"),l=n("697e7"),f=[],d={registerPreprocessor:r["u"],registerProcessor:r["v"],registerPostInit:r["s"],registerPostUpdate:r["t"],registerUpdateLifecycle:r["y"],registerAction:r["m"],registerCoordinateSystem:r["n"],registerLayout:r["o"],registerVisual:r["z"],registerTransform:r["x"],registerLoading:r["p"],registerMap:r["r"],registerImpl:c["b"],PRIORITY:r["a"],ComponentModel:a["a"],ComponentView:o["a"],SeriesModel:u["b"],ChartView:i["a"],registerComponentModel:function(t){a["a"].registerClass(t)},registerComponentView:function(t){o["a"].registerClass(t)},registerSeriesModel:function(t){u["b"].registerClass(t)},registerChartView:function(t){i["a"].registerClass(t)},registerSubTypeDefaulter:function(t,e){a["a"].registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Object(l["registerPainter"])(t,e)}};function h(t){Object(s["isArray"])(t)?Object(s["each"])(t,function(t){h(t)}):Object(s["indexOf"])(f,t)>=0||(f.push(t),Object(s["isFunction"])(t)&&(t={install:t}),t.install(d))}},"22d1":function(t,e,n){"use strict";var r=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),o=function(){function t(){this.browser=new r,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!==typeof window}return t}(),i=new o;function a(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),o=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]),o&&(n.ie=!0,n.version=o[1]),i&&(n.edge=!0,n.version=i[1],n.newEdge=+i[1].split(".")[0]>18),a&&(n.weChat=!0),e.svgSupported="undefined"!==typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!==typeof document;var u=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in u||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in u)&&!("OTransition"in u),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(i.wxa=!0,i.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?i.worker=!0:"undefined"===typeof navigator?(i.node=!0,i.svgSupported=!0):a(navigator.userAgent,i),e["a"]=i},2306:function(t,e,n){"use strict";n.r(e);var r=n("342d"),o=n("1687"),i=n("401b"),a=n("cbe5"),u=n("8582"),s=n("0da8"),c=n("2dc5"),l=n("76a5"),f=n("d9fc"),d=n("ae69"),h=n("4aa2"),p=n("4573"),m=n("87b1"),g=n("d498"),v=n("c7a2"),y=n("cb11"),b=n("ac0f"),x=n("8d32"),_=n("d4c6"),w=n("48a9"),O=n("dded"),S=n("9850"),C=n("ca80"),k=n("dce8"),T=n("21a1"),M=n("19eb"),D=[],A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Object(T["a"])(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new S["a"](1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(D)),t.union(r)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();if(r.contain(n[0],n[1]))for(var o=0;o<this._displayables.length;o++){var i=this._displayables[o];if(i.contain(t,e))return!0}return!1},e}(M["c"]),I=A,j=n("9cf9"),E=n("6d8b"),R=n("861c"),N=n("deab");n.d(e,"extendShape",function(){return F}),n.d(e,"extendPath",function(){return V}),n.d(e,"registerShape",function(){return H}),n.d(e,"getShapeClass",function(){return U}),n.d(e,"makePath",function(){return W}),n.d(e,"makeImage",function(){return G}),n.d(e,"mergePath",function(){return Y}),n.d(e,"resizePath",function(){return X}),n.d(e,"subPixelOptimizeLine",function(){return $}),n.d(e,"subPixelOptimizeRect",function(){return K}),n.d(e,"subPixelOptimize",function(){return Z}),n.d(e,"getTransform",function(){return J}),n.d(e,"applyTransform",function(){return Q}),n.d(e,"transformDirection",function(){return tt}),n.d(e,"groupTransition",function(){return rt}),n.d(e,"clipPointsByRect",function(){return ot}),n.d(e,"clipRectByRect",function(){return it}),n.d(e,"createIcon",function(){return at}),n.d(e,"linePolygonIntersect",function(){return ut}),n.d(e,"lineLineIntersect",function(){return st}),n.d(e,"setTooltipConfig",function(){return ft}),n.d(e,"traverseElements",function(){return ht}),n.d(e,"updateProps",function(){return N["h"]}),n.d(e,"initProps",function(){return N["c"]}),n.d(e,"removeElement",function(){return N["e"]}),n.d(e,"removeElementWithFadeOut",function(){return N["f"]}),n.d(e,"isElementRemoved",function(){return N["d"]}),n.d(e,"Group",function(){return c["a"]}),n.d(e,"Image",function(){return s["a"]}),n.d(e,"Text",function(){return l["a"]}),n.d(e,"Circle",function(){return f["a"]}),n.d(e,"Ellipse",function(){return d["a"]}),n.d(e,"Sector",function(){return h["a"]}),n.d(e,"Ring",function(){return p["a"]}),n.d(e,"Polygon",function(){return m["a"]}),n.d(e,"Polyline",function(){return g["a"]}),n.d(e,"Rect",function(){return v["a"]}),n.d(e,"Line",function(){return y["a"]}),n.d(e,"BezierCurve",function(){return b["a"]}),n.d(e,"Arc",function(){return x["a"]}),n.d(e,"IncrementalDisplayable",function(){return I}),n.d(e,"CompoundPath",function(){return _["a"]}),n.d(e,"LinearGradient",function(){return w["a"]}),n.d(e,"RadialGradient",function(){return O["a"]}),n.d(e,"BoundingRect",function(){return S["a"]}),n.d(e,"OrientedBoundingRect",function(){return C["a"]}),n.d(e,"Point",function(){return k["a"]}),n.d(e,"Path",function(){return a["b"]});var P=Math.max,B=Math.min,L={};function F(t){return a["b"].extend(t)}var z=r["c"];function V(t,e){return z(t,e)}function H(t,e){L[t]=e}function U(t){if(L.hasOwnProperty(t))return L[t]}function W(t,e,n,o){var i=r["b"](t,e);return n&&("center"===o&&(n=q(n,i.getBoundingRect())),X(i,n)),i}function G(t,e,n){var r=new s["a"]({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var o={width:t.width,height:t.height};r.setStyle(q(e,o))}}});return r}function q(t,e){var n,r=e.width/e.height,o=t.height*r;o<=t.width?n=t.height:(o=t.width,n=o/r);var i=t.x+t.width/2,a=t.y+t.height/2;return{x:i-o/2,y:a-n/2,width:o,height:n}}var Y=r["d"];function X(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function $(t){return j["b"](t.shape,t.shape,t.style),t}function K(t){return j["c"](t.shape,t.shape,t.style),t}var Z=j["a"];function J(t,e){var n=o["identity"]([]);while(t&&t!==e)o["mul"](n,t.getLocalTransform(),n),t=t.parent;return n}function Q(t,e,n){return e&&!Object(E["isArrayLike"])(e)&&(e=u["c"].getLocalTransform(e)),n&&(e=o["invert"]([],e)),i["applyTransform"]([],t,e)}function tt(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),i=["left"===t?-r:"right"===t?r:0,"top"===t?-o:"bottom"===t?o:0];return i=Q(i,e,n),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function et(t){return!t.isGroup}function nt(t){return null!=t.shape}function rt(t,e,n){if(t&&e){var r=o(t);e.traverse(function(t){if(et(t)&&t.anid){var e=r[t.anid];if(e){var o=i(t);t.attr(i(e)),Object(N["h"])(t,o,n,Object(R["a"])(t).dataIndex)}}})}function o(t){var e={};return t.traverse(function(t){et(t)&&t.anid&&(e[t.anid]=t)}),e}function i(t){var e={x:t.x,y:t.y,rotation:t.rotation};return nt(t)&&(e.shape=Object(E["extend"])({},t.shape)),e}}function ot(t,e){return Object(E["map"])(t,function(t){var n=t[0];n=P(n,e.x),n=B(n,e.x+e.width);var r=t[1];return r=P(r,e.y),r=B(r,e.y+e.height),[n,r]})}function it(t,e){var n=P(t.x,e.x),r=B(t.x+t.width,e.x+e.width),o=P(t.y,e.y),i=B(t.y+t.height,e.y+e.height);if(r>=n&&i>=o)return{x:n,y:o,width:r-n,height:i-o}}function at(t,e,n){var r=Object(E["extend"])({rectHover:!0},e),o=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(o.image=t.slice(8),Object(E["defaults"])(o,n),new s["a"](r)):W(t.replace("path://",""),r,n,"center")}function ut(t,e,n,r,o){for(var i=0,a=o[o.length-1];i<o.length;i++){var u=o[i];if(st(t,e,n,r,u[0],u[1],a[0],a[1]))return!0;a=u}}function st(t,e,n,r,o,i,a,u){var s=n-t,c=r-e,l=a-o,f=u-i,d=ct(l,f,s,c);if(lt(d))return!1;var h=t-o,p=e-i,m=ct(h,p,s,c)/d;if(m<0||m>1)return!1;var g=ct(h,p,l,f)/d;return!(g<0||g>1)}function ct(t,e,n,r){return t*r-n*e}function lt(t){return t<=1e-6&&t>=-1e-6}function ft(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,o=Object(E["isString"])(e)?{formatter:e}:e,i=n.mainType,a=n.componentIndex,u={componentType:i,name:r,$vars:["name"]};u[i+"Index"]=a;var s=t.formatterParamsExtra;s&&Object(E["each"])(Object(E["keys"])(s),function(t){Object(E["hasOwn"])(u,t)||(u[t]=s[t],u.$vars.push(t))});var c=Object(R["a"])(t.el);c.componentMainType=i,c.componentIndex=a,c.tooltipConfig={name:r,option:Object(E["defaults"])({content:r,formatterParams:u},o)}}function dt(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function ht(t,e){if(t)if(Object(E["isArray"])(t))for(var n=0;n<t.length;n++)dt(t[n],e);else dt(t,e)}H("circle",f["a"]),H("ellipse",d["a"]),H("sector",h["a"]),H("ring",p["a"]),H("polygon",m["a"]),H("polyline",g["a"]),H("rect",v["a"]),H("line",y["a"]),H("bezierCurve",b["a"]),H("arc",x["a"])},2355:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return c});var r=n("ca80"),o=n("9850");function i(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];if(!o.defaultAttr.ignore){var i=o.label,a=i.getComputedTransform(),u=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,c=i.style.margin||0,l=u.clone();l.applyTransform(a),l.x-=c/2,l.y-=c/2,l.width+=c,l.height+=c;var f=s?new r["a"](u,a):null;e.push({label:i,labelLine:o.labelLine,rect:l,localRect:u,obb:f,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:s,transform:a})}}return e}function a(t,e,n,r,o,i){var a=t.length;if(!(a<2)){t.sort(function(t,n){return t.rect[e]-n.rect[e]});for(var u,s=0,c=!1,l=[],f=0,d=0;d<a;d++){var h=t[d],p=h.rect;u=p[e]-s,u<0&&(p[e]-=u,h.label[e]-=u,c=!0);var m=Math.max(-u,0);l.push(m),f+=m,s=p[e]+p[n]}f>0&&i&&w(-f/a,0,a);var g,v,y=t[0],b=t[a-1];return x(),g<0&&O(-g,.8),v<0&&O(v,.8),x(),_(g,v,1),_(v,g,-1),x(),g<0&&S(-g),v<0&&S(v),c}function x(){g=y.rect[e]-r,v=o-b.rect[e]-b.rect[n]}function _(t,e,n){if(t<0){var r=Math.min(e,-t);if(r>0){w(r*n,0,a);var o=r+t;o<0&&O(-o*n,1)}else O(-t*n,1)}}function w(n,r,o){0!==n&&(c=!0);for(var i=r;i<o;i++){var a=t[i],u=a.rect;u[e]+=n,a.label[e]+=n}}function O(r,o){for(var i=[],u=0,s=1;s<a;s++){var c=t[s-1].rect,l=Math.max(t[s].rect[e]-c[e]-c[n],0);i.push(l),u+=l}if(u){var f=Math.min(Math.abs(r)/u,o);if(r>0)for(s=0;s<a-1;s++){var d=i[s]*f;w(d,0,s+1)}else for(s=a-1;s>0;s--){d=i[s-1]*f;w(-d,s,a)}}}function S(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),r=0;r<a-1;r++)if(e>0?w(n,0,r+1):w(-n,a-r-1,a),t-=n,t<=0)return}}function u(t,e,n,r){return a(t,"x","width",e,n,r)}function s(t,e,n,r){return a(t,"y","height",e,n,r)}function c(t){var e=[];t.sort(function(t,e){return e.priority-t.priority});var n=new o["a"](0,0,0,0);function i(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var a=0;a<t.length;a++){var u=t[a],s=u.axisAligned,c=u.localRect,l=u.transform,f=u.label,d=u.labelLine;n.copy(u.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var h=u.obb,p=!1,m=0;m<e.length;m++){var g=e[m];if(n.intersect(g.rect)){if(s&&g.axisAligned){p=!0;break}if(g.obb||(g.obb=new r["a"](g.localRect,g.transform)),h||(h=new r["a"](c,l)),h.intersect(g.obb)){p=!0;break}}}p?(i(f),d&&i(d)):(f.attr("ignore",u.defaultAttr.ignore),d&&d.attr("ignore",u.defaultAttr.labelGuideIgnore),e.push(u))}}},"282b":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("6d8b");function o(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,o,i){for(var a={},u=0;u<t.length;u++){var s=t[u][1];if(!(o&&r["indexOf"](o,s)>=0||i&&r["indexOf"](i,s)<0)){var c=n.getShallow(s,e);null!=c&&(a[t[u][0]]=c)}}return a}}},"2b17":function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"c",function(){return m}),n.d(e,"b",function(){return y}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return O});var r,o,i,a,u,s=n("6d8b"),c=n("e0d3"),l=n("ec6f"),f=n("07fd"),d=function(){function t(t,e){var n=Object(l["e"])(t)?t:Object(l["c"])(t);this._source=n;var r=this._data=n.data;n.sourceFormat===f["g"]&&(this._offset=0,this._dimSize=e,this._data=r),u(this,r,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;u=function(t,o,i){var u=i.sourceFormat,c=i.seriesLayoutBy,l=i.startIndex,d=i.dimensionsDefine,h=a[w(u,c)];if(Object(s["extend"])(t,h),u===f["g"])t.getItem=e,t.count=r,t.fillStorage=n;else{var p=m(u,c);t.getItem=Object(s["bind"])(p,null,o,l,d);var g=y(u,c);t.count=Object(s["bind"])(g,null,o,l,d)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,r=this._dimSize,o=r*t,i=0;i<r;i++)e[i]=n[o+i];return e},n=function(t,e,n,r){for(var o=this._data,i=this._dimSize,a=0;a<i;a++){for(var u=r[a],s=null==u[0]?1/0:u[0],c=null==u[1]?-1/0:u[1],l=e-t,f=n[a],d=0;d<l;d++){var h=o[d*i+a];f[t+d]=h,h<s&&(s=h),h>c&&(c=h)}u[0]=s,u[1]=c}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}t={},t[f["c"]+"_"+f["a"]]={pure:!0,appendData:o},t[f["c"]+"_"+f["b"]]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[f["e"]]={pure:!0,appendData:o},t[f["d"]]={pure:!0,appendData:function(t){var e=this._data;Object(s["each"])(t,function(t,n){for(var r=e[n]||(e[n]=[]),o=0;o<(t||[]).length;o++)r.push(t[o])})}},t[f["f"]]={appendData:o},t[f["g"]]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},a=t}(),t}(),h=function(t,e,n,r){return t[r]},p=(r={},r[f["c"]+"_"+f["a"]]=function(t,e,n,r){return t[r+e]},r[f["c"]+"_"+f["b"]]=function(t,e,n,r,o){r+=e;for(var i=o||[],a=t,u=0;u<a.length;u++){var s=a[u];i[u]=s?s[r]:null}return i},r[f["e"]]=h,r[f["d"]]=function(t,e,n,r,o){for(var i=o||[],a=0;a<n.length;a++){var u=n[a].name;0;var s=t[u];i[a]=s?s[r]:null}return i},r[f["f"]]=h,r);function m(t,e){var n=p[w(t,e)];return n}var g=function(t,e,n){return t.length},v=(o={},o[f["c"]+"_"+f["a"]]=function(t,e,n){return Math.max(0,t.length-e)},o[f["c"]+"_"+f["b"]]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},o[f["e"]]=g,o[f["d"]]=function(t,e,n){var r=n[0].name;var o=t[r];return o?o.length:0},o[f["f"]]=g,o);function y(t,e){var n=v[w(t,e)];return n}var b=function(t,e,n){return t[e]},x=(i={},i[f["c"]]=b,i[f["e"]]=function(t,e,n){return t[n]},i[f["d"]]=b,i[f["f"]]=function(t,e,n){var r=Object(c["h"])(t);return r instanceof Array?r[e]:r},i[f["g"]]=b,i);function _(t){var e=x[t];return e}function w(t,e){return t===f["c"]?t+"_"+e:t}function O(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var o=t.getStore(),i=o.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),u=o.getDimensionProperty(a);return _(i)(r,a,u)}var s=r;return i===f["f"]&&(s=Object(c["h"])(r)),s}}}},"2b8c":function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return f});var r=n("6d8b"),o=n("5f14"),i=n("0924"),a=r["each"];function u(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function s(t,e,n){var i={};return a(e,function(e){var s=i[e]=u();a(t[e],function(t,i){if(o["a"].isValidType(i)){var a={type:i,visual:t};n&&n(a,e),s[i]=new o["a"](a),"opacity"===i&&(a=r["clone"](a),a.type="colorAlpha",s.__hidden.__alphaForOpacity=new o["a"](a))}})}),i;function u(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}}function c(t,e,n){var o;r["each"](n,function(t){e.hasOwnProperty(t)&&u(e[t])&&(o=!0)}),o&&r["each"](n,function(n){e.hasOwnProperty(n)&&u(e[n])?t[n]=r["clone"](e[n]):delete t[n]})}function l(t,e,n,a,u,s){var c,l={};function f(t){return Object(i["a"])(n,c,t)}function d(t,e){Object(i["c"])(n,c,t,e)}function h(t,r){c=null==s?t:r;var o=n.getRawDataItem(c);if(!o||!1!==o.visualMap)for(var i=a.call(u,t),h=e[i],p=l[i],m=0,g=p.length;m<g;m++){var v=p[m];h[v]&&h[v].applyVisual(t,f,d)}}r["each"](t,function(t){var n=o["a"].prepareVisualTypes(e[t]);l[t]=n}),null==s?n.each(h):n.each([s],h)}function f(t,e,n,a){var u={};return r["each"](t,function(t){var n=o["a"].prepareVisualTypes(e[t]);u[t]=n}),{progress:function(t,r){var o,s;function c(t){return Object(i["a"])(r,s,t)}function l(t,e){Object(i["c"])(r,s,t,e)}null!=a&&(o=r.getDimensionIndex(a));var f=r.getStore();while(null!=(s=t.next())){var d=r.getRawDataItem(s);if(!d||!1!==d.visualMap)for(var h=null!=a?f.get(o,s):s,p=n(h),m=e[p],g=u[p],v=0,y=g.length;v<y;v++){var b=g[v];m[b]&&m[b].applyVisual(h,c,l)}}}}}},"2cf4":function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return c});var r=n("22d1"),o=1;r["a"].hasGlobalWindow&&(o=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var i=o,a=.4,u="#333",s="#ccc",c="#eee"},"2da7":function(t,e,n){"use strict";var r=n("af5c0"),o=n("22b4"),i=n("7fae"),a=n("6cb7"),u=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(i["a"])(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(a["a"]),s=u,c=n("6d8b"),l=n("22d1"),f=n("607d"),d=n("65ed"),h=n("eda2");function p(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function m(t){if(l["a"].domSupported)for(var e=document.documentElement.style,n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n]}var g=m(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),v=m(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function y(t,e){if(!t)return e;e=Object(h["l"])(e,!0);var n=t.indexOf(e);return t=-1===n?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function b(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?e?n[e]:n:null}var x=n("217c"),_=y(v,"transition"),w=y(g,"transform"),O="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(l["a"].transform3dSupported?"will-change:transform;":"");function S(t){return t="left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top",t}function C(t,e,n){if(!Object(c["isString"])(n)||"inside"===n)return"";var r=t.get("backgroundColor"),o=t.get("borderWidth");e=Object(h["c"])(e);var i,a=S(n),u=Math.max(1.5*Math.round(o),6),s="",l=w+":";Object(c["indexOf"])(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(i="left"===a?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(i="top"===a?225:45)+"deg)");var f=i*Math.PI/180,d=u+o,p=d*Math.abs(Math.cos(f))+d*Math.abs(Math.sin(f)),m=Math.round(100*((p-Math.SQRT2*o)/2+Math.SQRT2*o-(p-d)/2))/100;s+=";"+a+":-"+m+"px";var g=e+" solid "+o+"px;",v=["position:absolute;width:"+u+"px;height:"+u+"px;",s+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function k(t,e){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+t/2+"s "+n,o="opacity"+r+",visibility"+r;return e||(r=" "+t+"s "+n,o+=l["a"].transformSupported?","+w+r:",left"+r+",top"+r),_+":"+o}function T(t,e,n){var r=t.toFixed(0)+"px",o=e.toFixed(0)+"px";if(!l["a"].transformSupported)return n?"top:"+o+";left:"+r+";":[["top",o],["left",r]];var i=l["a"].transform3dSupported,a="translate"+(i?"3d":"")+"("+r+","+o+(i?",0":"")+")";return n?"top:0;left:0;"+w+":"+a+";":[["top",0],["left",0],[g,a]]}function M(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var o=t.get("textShadowColor"),i=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,u=t.get("textShadowOffsetY")||0;return o&&i&&e.push("text-shadow:"+a+"px "+u+"px "+i+"px "+o),Object(c["each"])(["decoration","align"],function(n){var r=t.get(n);r&&e.push("text-"+n+":"+r)}),e.join(";")}function D(t,e,n){var r=[],o=t.get("transitionDuration"),i=t.get("backgroundColor"),a=t.get("shadowBlur"),u=t.get("shadowColor"),s=t.get("shadowOffsetX"),l=t.get("shadowOffsetY"),f=t.getModel("textStyle"),d=Object(x["d"])(t,"html"),p=s+"px "+l+"px "+a+"px "+u;return r.push("box-shadow:"+p),e&&o&&r.push(k(o,n)),i&&r.push("background-color:"+i),Object(c["each"])(["width","color","radius"],function(e){var n="border-"+e,o=Object(h["l"])(n),i=t.get(o);null!=i&&r.push(n+":"+i+("color"===e?"":"px"))}),r.push(M(f)),null!=d&&r.push("padding:"+Object(h["k"])(d).join("px ")+"px"),r.join(";")+";"}function A(t,e,n,r,o){var i=e&&e.painter;if(n){var a=i&&i.getViewportRoot();a&&Object(d["c"])(t,a,document.body,r,o)}else{t[0]=r,t[1]=o;var u=i&&i.getViewportRootOffset();u&&(t[0]+=u.offsetLeft,t[1]+=u.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var I=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,l["a"].wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),i=this._appendToBody=n&&n.appendToBody;A(this._styleCoord,o,i,e.getWidth()/2,e.getHeight()/2),i?document.body.appendChild(r):t.appendChild(r),this._container=t;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=o.handler,n=o.painter.getViewportRoot();Object(f["e"])(n,t,!0),e.dispatch("mousemove",t)}},r.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e=this._container,n=b(e,"position"),r=e.style;"absolute"!==r.position&&"absolute"!==n&&(r.position="relative");var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,o=this._styleCoord;n.innerHTML?r.cssText=O+D(t,!this._firstShow,this._longHide)+T(o[0],o[1],!0)+"border-color:"+Object(h["c"])(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,r,o){var i=this.el;if(null!=t){var a="";if(Object(c["isString"])(o)&&"item"===n.get("trigger")&&!p(n)&&(a=C(n,r,o)),Object(c["isString"])(t))i.innerHTML=t+a;else if(t){i.innerHTML="",Object(c["isArray"])(t)||(t=[t]);for(var u=0;u<t.length;u++)Object(c["isDom"])(t[u])&&t[u].parentNode!==i&&i.appendChild(t[u]);if(a&&i.childNodes.length){var s=document.createElement("div");s.innerHTML=a,i.appendChild(s)}}}else i.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(A(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var r=this.el.style,o=T(n[0],n[1]);Object(c["each"])(o,function(t){r[t[0]]=t[1]})}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",l["a"].transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Object(c["bind"])(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}(),j=I,E=n("76a5"),R=n("edae"),N=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),L(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,r,o){var i=this;c["isObject"](t)&&Object(R["c"])(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new E["a"]({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Object(x["d"])(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),c["each"](["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(t){i.el.style[t]=n.get(t)}),c["each"](["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(t){i.el.style[t]=a.get(t)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=B(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var r=this._styleCoord;L(r,this._zr,t,e),t=r[0],e=r[1];var o=n.style,i=P(o.borderWidth||0),a=B(o);n.x=t+i+a.left,n.y=e+i+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(c["bind"](this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function P(t){return Math.max(0,t)}function B(t){var e=P(t.shadowBlur||0),n=P(t.shadowOffsetX||0),r=P(t.shadowOffsetY||0);return{left:P(e-n),right:P(e+n),top:P(e-r),bottom:P(e+r)}}function L(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var F=N,z=n("3842"),V=n("c7a2"),H=n("133d"),U=n("f934"),W=n("4319"),G=n("17d6"),q=n("697e"),Y=n("ff2e"),X=n("e0d3"),$=n("b12f"),K=n("f876"),Z=n("861c"),J=n("38a2"),Q=n("fadd"),tt=n("88b3"),et=new V["a"]({shape:{x:-1,y:-1,width:2,height:2}}),nt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(i["a"])(e,t),e.prototype.init=function(t,e){if(!l["a"].node&&e.getDom()){var n=t.getComponent("tooltip"),r=this._renderMode=Object(X["i"])(n.get("renderMode"));this._tooltipContent="richText"===r?new F(e):new j(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!l["a"].node&&n.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent");var r=this._tooltipContent;r.update(t),r.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?Object(tt["b"])(this,"_updatePosition",50,"fixRate"):Object(tt["a"])(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");G["a"]("itemTooltip",this._api,Object(c["bind"])(function(t,n,r){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,r):"leave"===t&&this._hide(r))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&r.manuallyShowTip(t,e,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,e,n,r){if(r.from!==this.uid&&!l["a"].node&&n.getDom()){var o=ot(r,n);this._ticket="";var i=r.dataByCoordSys,a=ct(r,e,n);if(a){var u=a.el.getBoundingRect().clone();u.applyTransform(a.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:a.el,position:r.position,positionDefault:"bottom"},o)}else if(r.tooltip&&null!=r.x&&null!=r.y){var s=et;s.x=r.x,s.y=r.y,s.update(),Object(Z["a"])(s).tooltipConfig={name:null,option:r.tooltip},this._tryShow({offsetX:r.x,offsetY:r.y,target:s},o)}else if(i)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:i,tooltipOption:r.tooltipOption},o);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,r))return;var c=Object(H["a"])(r,e),f=c.point[0],d=c.point[1];null!=f&&null!=d&&this._tryShow({offsetX:f,offsetY:d,target:c.el,position:r.position,positionDefault:"bottom"},o)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},o))}},e.prototype.manuallyHideTip=function(t,e,n,r){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(ot(r,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,r){var o=r.seriesIndex,i=r.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=i&&null!=a){var u=e.getSeriesByIndex(o);if(u){var s=u.getData(),c=rt([s.getItemModel(i),u,(u.coordinateSystem||{}).model],this._tooltipModel);if("axis"===c.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:i,position:r.position}),!0}}},e.prototype._tryShow=function(t,e){var n=t.target,r=this._tooltipModel;if(r){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(n){var i,a;this._lastDataByCoordSys=null,Object(Q["a"])(n,function(t){return null!=Object(Z["a"])(t).dataIndex?(i=t,!0):null!=Object(Z["a"])(t).tooltipConfig?(a=t,!0):void 0},!0),i?this._showSeriesItemTooltip(t,i,e):a?this._showComponentItemTooltip(t,a,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=Object(c["bind"])(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,r=this._tooltipModel,o=[e.offsetX,e.offsetY],i=rt([e.tooltipOption],r),a=this._renderMode,u=[],s=Object(x["c"])("section",{blocks:[],noHeader:!0}),l=[],f=new x["a"];Object(c["each"])(t,function(t){Object(c["each"])(t.dataByAxis,function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),o=t.value;if(e&&null!=o){var i=Y["e"](o,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),d=Object(x["c"])("section",{header:i,noHeader:!Object(c["trim"])(i),sortBlocks:!0,blocks:[]});s.blocks.push(d),Object(c["each"])(t.seriesDataIndices,function(s){var p=n.getSeriesByIndex(s.seriesIndex),m=s.dataIndexInside,g=p.getDataParams(m);if(!(g.dataIndex<0)){g.axisDim=t.axisDim,g.axisIndex=t.axisIndex,g.axisType=t.axisType,g.axisId=t.axisId,g.axisValue=q["c"](e.axis,{value:o}),g.axisValueLabel=i,g.marker=f.makeTooltipMarker("item",Object(h["c"])(g.color),a);var v=Object(J["b"])(p.formatTooltip(m,!0,null)),y=v.frag;if(y){var b=rt([p],r).get("valueFormatter");d.blocks.push(b?Object(c["extend"])({valueFormatter:b},y):y)}v.text&&l.push(v.text),u.push(g)}})}})}),s.blocks.reverse(),l.reverse();var d=e.position,p=i.get("order"),m=Object(x["b"])(s,f,a,p,n.get("useUTC"),i.get("textStyle"));m&&l.unshift(m);var g="richText"===a?"\n\n":"<br/>",v=l.join(g);this._showOrMove(i,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(i,d,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(i,v,u,Math.random()+"",o[0],o[1],d,null,f)})},e.prototype._showSeriesItemTooltip=function(t,e,n){var r=this._ecModel,o=Object(Z["a"])(e),i=o.seriesIndex,a=r.getSeriesByIndex(i),u=o.dataModel||a,s=o.dataIndex,l=o.dataType,f=u.getData(l),d=this._renderMode,p=t.positionDefault,m=rt([f.getItemModel(s),u,a&&(a.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=m.get("trigger");if(null==g||"item"===g){var v=u.getDataParams(s,l),y=new x["a"];v.marker=y.makeTooltipMarker("item",Object(h["c"])(v.color),d);var b=Object(J["b"])(u.formatTooltip(s,!1,l)),_=m.get("order"),w=m.get("valueFormatter"),O=b.frag,S=O?Object(x["b"])(w?Object(c["extend"])({valueFormatter:w},O):O,y,d,_,r.get("useUTC"),m.get("textStyle")):b.text,C="item_"+u.name+"_"+s;this._showOrMove(m,function(){this._showTooltipContent(m,S,v,C,t.offsetX,t.offsetY,t.position,t.target,y)}),n({type:"showTip",dataIndexInside:s,dataIndex:f.getRawIndex(s),seriesIndex:i,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var r=Object(Z["a"])(e),o=r.tooltipConfig,i=o.option||{};if(Object(c["isString"])(i)){var a=i;i={content:a,formatter:a}}var u=[i],s=this._ecModel.getComponent(r.componentMainType,r.componentIndex);s&&u.push(s),u.push({formatter:i.content});var l=t.positionDefault,f=rt(u,this._tooltipModel,l?{position:l}:null),d=f.get("content"),h=Math.random()+"",p=new x["a"];this._showOrMove(f,function(){var n=Object(c["clone"])(f.get("formatterParams")||{});this._showTooltipContent(f,d,n,h,t.offsetX,t.offsetY,t.position,e,p)}),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,r,o,i,a,u,s){if(this._ticket="",t.get("showContent")&&t.get("show")){var l=this._tooltipContent;l.setEnterable(t.get("enterable"));var f=t.get("formatter");a=a||t.get("position");var d=e,p=this._getNearestPoint([o,i],n,t.get("trigger"),t.get("borderColor")),m=p.color;if(f)if(Object(c["isString"])(f)){var g=t.ecModel.get("useUTC"),v=Object(c["isArray"])(n)?n[0]:n,y=v&&v.axisType&&v.axisType.indexOf("time")>=0;d=f,y&&(d=Object(K["h"])(v.axisValue,d,g)),d=Object(h["f"])(d,n,!0)}else if(Object(c["isFunction"])(f)){var b=Object(c["bind"])(function(e,r){e===this._ticket&&(l.setContent(r,s,t,m,a),this._updatePosition(t,a,o,i,l,n,u))},this);this._ticket=r,d=f(n,r,b)}else d=f;l.setContent(d,s,t,m,a),l.show(t,m),this._updatePosition(t,a,o,i,l,n,u)}},e.prototype._getNearestPoint=function(t,e,n,r){return"axis"===n||Object(c["isArray"])(e)?{color:r||("html"===this._renderMode?"#fff":"none")}:Object(c["isArray"])(e)?void 0:{color:r||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,r,o,i,a){var u=this._api.getWidth(),s=this._api.getHeight();e=e||t.get("position");var l=o.getSize(),f=t.get("align"),d=t.get("verticalAlign"),h=a&&a.getBoundingRect().clone();if(a&&h.applyTransform(a.transform),Object(c["isFunction"])(e)&&(e=e([n,r],i,o.el,h,{viewSize:[u,s],contentSize:l.slice()})),Object(c["isArray"])(e))n=Object(z["p"])(e[0],u),r=Object(z["p"])(e[1],s);else if(Object(c["isObject"])(e)){var m=e;m.width=l[0],m.height=l[1];var g=Object(U["g"])(m,{width:u,height:s});n=g.x,r=g.y,f=null,d=null}else if(Object(c["isString"])(e)&&a){var v=ut(e,h,l,t.get("borderWidth"));n=v[0],r=v[1]}else{v=it(n,r,o,u,s,f?null:20,d?null:20);n=v[0],r=v[1]}if(f&&(n-=st(f)?l[0]/2:"right"===f?l[0]:0),d&&(r-=st(d)?l[1]/2:"bottom"===d?l[1]:0),p(t)){v=at(n,r,o,u,s);n=v[0],r=v[1]}o.moveTo(n,r)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,r=this._cbParamsList,o=!!n&&n.length===t.length;return o&&Object(c["each"])(n,function(n,i){var a=n.dataByAxis||[],u=t[i]||{},s=u.dataByAxis||[];o=o&&a.length===s.length,o&&Object(c["each"])(a,function(t,n){var i=s[n]||{},a=t.seriesDataIndices||[],u=i.seriesDataIndices||[];o=o&&t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&a.length===u.length,o&&Object(c["each"])(a,function(t,e){var n=u[e];o=o&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex}),r&&Object(c["each"])(t.seriesDataIndices,function(t){var n=t.seriesIndex,i=e[n],a=r[n];i&&a&&a.data!==i.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=e,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!l["a"].node&&e.getDom()&&(Object(tt["a"])(this,"_updatePosition"),this._tooltipContent.dispose(),G["b"]("itemTooltip",e))},e.type="tooltip",e}($["a"]);function rt(t,e,n){var r,o=e.ecModel;n?(r=new W["a"](n,o,o),r=new W["a"](e.option,r,o)):r=e;for(var i=t.length-1;i>=0;i--){var a=t[i];a&&(a instanceof W["a"]&&(a=a.get("tooltip",!0)),Object(c["isString"])(a)&&(a={formatter:a}),a&&(r=new W["a"](a,r,o)))}return r}function ot(t,e){return t.dispatchAction||Object(c["bind"])(e.dispatchAction,e)}function it(t,e,n,r,o,i,a){var u=n.getSize(),s=u[0],c=u[1];return null!=i&&(t+s+i+2>r?t-=s+i:t+=i),null!=a&&(e+c+a>o?e-=c+a:e+=a),[t,e]}function at(t,e,n,r,o){var i=n.getSize(),a=i[0],u=i[1];return t=Math.min(t+a,r)-a,e=Math.min(e+u,o)-u,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function ut(t,e,n,r){var o=n[0],i=n[1],a=Math.ceil(Math.SQRT2*r)+8,u=0,s=0,c=e.width,l=e.height;switch(t){case"inside":u=e.x+c/2-o/2,s=e.y+l/2-i/2;break;case"top":u=e.x+c/2-o/2,s=e.y-i-a;break;case"bottom":u=e.x+c/2-o/2,s=e.y+l+a;break;case"left":u=e.x-o-a,s=e.y+l/2-i/2;break;case"right":u=e.x+c+a,s=e.y+l/2-i/2}return[u,s]}function st(t){return"center"===t||"middle"===t}function ct(t,e,n){var r=Object(X["t"])(t).queryOptionMap,o=r.keys()[0];if(o&&"series"!==o){var i=Object(X["v"])(e,o,r.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}),a=i.models[0];if(a){var u,s=n.getViewOfComponentModel(a);return s.group.traverse(function(e){var n=Object(Z["a"])(e).tooltipConfig;if(n&&n.name===t.name)return u=e,!0}),u?{componentMainType:o,componentIndex:a.componentIndex,el:u}:void 0}}}var lt=nt;function ft(t){Object(o["a"])(r["a"]),t.registerComponentModel(s),t.registerComponentView(lt),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},c["noop"]),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},c["noop"])}n.d(e,"a",function(){return ft})},"2dc5":function(t,e,n){"use strict";var r=n("21a1"),o=n("6d8b"),i=n("d5b7"),a=n("9850"),u=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return Object(r["a"])(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=o["indexOf"](this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,r=n[e];if(t&&t!==this&&t.parent!==this&&t!==r){n[e]=t,r.parent=null;var o=this.__zr;o&&r.removeSelfFromZr(o),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,r=o["indexOf"](n,t);return r<0?this:(n.splice(r,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var r=t[n];e&&r.removeSelfFromZr(e),r.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,r=0;r<n.length;r++){var o=n[r];t.call(e,o,r)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n],o=t.call(e,r);r.isGroup&&!o&&r.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new a["a"](0,0,0,0),n=t||this._children,r=[],o=null,i=0;i<n.length;i++){var u=n[i];if(!u.ignore&&!u.invisible){var s=u.getBoundingRect(),c=u.getLocalTransform(r);c?(a["a"].applyTransform(e,s,c),o=o||e.clone(),o.union(e)):(o=o||s.clone(),o.union(s))}}return o||e},e}(i["a"]);u.prototype.type="group",e["a"]=u},"2f1f":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var r=n("6d8b"),o=Object(r["createHashMap"])();function i(t,e){Object(r["assert"])(null==o.get(t)&&e),o.set(t,e)}function a(t,e,n){var r=o.get(e);if(!r)return n;var i=r(t);return i?n.concat(i):n}},"2f45":function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var r=n("6d8b"),o=n("07fd"),i=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function a(t,e){var n={},a=n.encode={},s=Object(r["createHashMap"])(),l=[],f=[],d={};Object(r["each"])(t.dimensions,function(e){var n=t.getDimensionInfo(e),r=n.coordDim;if(r){0;var i=n.coordDimIndex;u(a,r)[i]=e,n.isExtraCoord||(s.set(r,1),c(n.type)&&(l[0]=e),u(d,r)[i]=t.getDimensionIndex(n.name)),n.defaultTooltip&&f.push(e)}o["i"].each(function(t,e){var r=u(a,e),o=n.otherDims[e];null!=o&&!1!==o&&(r[o]=n.name)})});var h=[],p={};s.each(function(t,e){var n=a[e];p[e]=n[0],h=h.concat(n)}),n.dataDimsOnCoord=h,n.dataDimIndicesOnCoord=Object(r["map"])(h,function(e){return t.getDimensionInfo(e).storeDimIndex}),n.encodeFirstDimNotExtra=p;var m=a.label;m&&m.length&&(l=m.slice());var g=a.tooltip;return g&&g.length?f=g.slice():f.length||(f=l.slice()),a.defaultedLabel=l,a.defaultedTooltip=f,n.userOutput=new i(d,e),n}function u(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function s(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function c(t){return!("ordinal"===t||"time"===t)}},3014:function(t,e,n){"use strict";var r=n("7fae"),o=n("4f85"),i=n("1830"),a=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object(i["a"])(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e&&e.clampData){var n=e.dataToPoint(e.clampData(t)),r=this.getData(),o=r.getLayout("offset"),i=r.getLayout("size"),a=e.getBaseAxis().isHorizontal()?0:1;return n[a]+=o+i/2,n}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(o["b"]);o["b"].registerClass(a),e["a"]=a},"342d":function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=n("20c88"),a=n("401b"),u=i["a"].CMD,s=[[],[],[]],c=Math.sqrt,l=Math.atan2;function f(t,e){if(e){var n,r,o,i,f,d,h=t.data,p=t.len(),m=u.M,g=u.C,v=u.L,y=u.R,b=u.A,x=u.Q;for(o=0,i=0;o<p;){switch(n=h[o++],i=o,r=0,n){case m:r=1;break;case v:r=1;break;case g:r=3;break;case x:r=2;break;case b:var _=e[4],w=e[5],O=c(e[0]*e[0]+e[1]*e[1]),S=c(e[2]*e[2]+e[3]*e[3]),C=l(-e[1]/S,e[0]/O);h[o]*=O,h[o++]+=_,h[o]*=S,h[o++]+=w,h[o++]*=O,h[o++]*=S,h[o++]+=C,h[o++]+=C,o+=2,i=o;break;case y:d[0]=h[o++],d[1]=h[o++],Object(a["applyTransform"])(d,d,e),h[i++]=d[0],h[i++]=d[1],d[0]+=h[o++],d[1]+=h[o++],Object(a["applyTransform"])(d,d,e),h[i++]=d[0],h[i++]=d[1]}for(f=0;f<r;f++){var k=s[f];k[0]=h[o++],k[1]=h[o++],Object(a["applyTransform"])(k,k,e),h[i++]=k[0],h[i++]=k[1]}}t.increaseVersion()}}var d=n("6d8b");n.d(e,"b",function(){return T}),n.d(e,"c",function(){return M}),n.d(e,"d",function(){return D}),n.d(e,"a",function(){return A});var h=Math.sqrt,p=Math.sin,m=Math.cos,g=Math.PI;function v(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function y(t,e){return(t[0]*e[0]+t[1]*e[1])/(v(t)*v(e))}function b(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(y(t,e))}function x(t,e,n,r,o,i,a,u,s,c,l){var f=s*(g/180),d=m(f)*(t-n)/2+p(f)*(e-r)/2,v=-1*p(f)*(t-n)/2+m(f)*(e-r)/2,x=d*d/(a*a)+v*v/(u*u);x>1&&(a*=h(x),u*=h(x));var _=(o===i?-1:1)*h((a*a*(u*u)-a*a*(v*v)-u*u*(d*d))/(a*a*(v*v)+u*u*(d*d)))||0,w=_*a*v/u,O=_*-u*d/a,S=(t+n)/2+m(f)*w-p(f)*O,C=(e+r)/2+p(f)*w+m(f)*O,k=b([1,0],[(d-w)/a,(v-O)/u]),T=[(d-w)/a,(v-O)/u],M=[(-1*d-w)/a,(-1*v-O)/u],D=b(T,M);if(y(T,M)<=-1&&(D=g),y(T,M)>=1&&(D=0),D<0){var A=Math.round(D/g*1e6)/1e6;D=2*g+A%2*g}l.addData(c,S,C,a,u,k,D,f,i)}var _=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,w=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function O(t){var e=new i["a"];if(!t)return e;var n,r=0,o=0,a=r,u=o,s=i["a"].CMD,c=t.match(_);if(!c)return e;for(var l=0;l<c.length;l++){for(var f=c[l],d=f.charAt(0),h=void 0,p=f.match(w)||[],m=p.length,g=0;g<m;g++)p[g]=parseFloat(p[g]);var v=0;while(v<m){var y=void 0,b=void 0,O=void 0,S=void 0,C=void 0,k=void 0,T=void 0,M=r,D=o,A=void 0,I=void 0;switch(d){case"l":r+=p[v++],o+=p[v++],h=s.L,e.addData(h,r,o);break;case"L":r=p[v++],o=p[v++],h=s.L,e.addData(h,r,o);break;case"m":r+=p[v++],o+=p[v++],h=s.M,e.addData(h,r,o),a=r,u=o,d="l";break;case"M":r=p[v++],o=p[v++],h=s.M,e.addData(h,r,o),a=r,u=o,d="L";break;case"h":r+=p[v++],h=s.L,e.addData(h,r,o);break;case"H":r=p[v++],h=s.L,e.addData(h,r,o);break;case"v":o+=p[v++],h=s.L,e.addData(h,r,o);break;case"V":o=p[v++],h=s.L,e.addData(h,r,o);break;case"C":h=s.C,e.addData(h,p[v++],p[v++],p[v++],p[v++],p[v++],p[v++]),r=p[v-2],o=p[v-1];break;case"c":h=s.C,e.addData(h,p[v++]+r,p[v++]+o,p[v++]+r,p[v++]+o,p[v++]+r,p[v++]+o),r+=p[v-2],o+=p[v-1];break;case"S":y=r,b=o,A=e.len(),I=e.data,n===s.C&&(y+=r-I[A-4],b+=o-I[A-3]),h=s.C,M=p[v++],D=p[v++],r=p[v++],o=p[v++],e.addData(h,y,b,M,D,r,o);break;case"s":y=r,b=o,A=e.len(),I=e.data,n===s.C&&(y+=r-I[A-4],b+=o-I[A-3]),h=s.C,M=r+p[v++],D=o+p[v++],r+=p[v++],o+=p[v++],e.addData(h,y,b,M,D,r,o);break;case"Q":M=p[v++],D=p[v++],r=p[v++],o=p[v++],h=s.Q,e.addData(h,M,D,r,o);break;case"q":M=p[v++]+r,D=p[v++]+o,r+=p[v++],o+=p[v++],h=s.Q,e.addData(h,M,D,r,o);break;case"T":y=r,b=o,A=e.len(),I=e.data,n===s.Q&&(y+=r-I[A-4],b+=o-I[A-3]),r=p[v++],o=p[v++],h=s.Q,e.addData(h,y,b,r,o);break;case"t":y=r,b=o,A=e.len(),I=e.data,n===s.Q&&(y+=r-I[A-4],b+=o-I[A-3]),r+=p[v++],o+=p[v++],h=s.Q,e.addData(h,y,b,r,o);break;case"A":O=p[v++],S=p[v++],C=p[v++],k=p[v++],T=p[v++],M=r,D=o,r=p[v++],o=p[v++],h=s.A,x(M,D,r,o,k,T,O,S,C,h,e);break;case"a":O=p[v++],S=p[v++],C=p[v++],k=p[v++],T=p[v++],M=r,D=o,r+=p[v++],o+=p[v++],h=s.A,x(M,D,r,o,k,T,O,S,C,h,e);break}}"z"!==d&&"Z"!==d||(h=s.Z,e.addData(h),r=a,o=u),n=h}return e.toStatic(),e}var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.applyTransform=function(t){},e}(o["b"]);function C(t){return null!=t.setData}function k(t,e){var n=O(t),r=Object(d["extend"])({},e);return r.buildPath=function(t){if(C(t)){t.setData(n.data);var e=t.getContext();e&&t.rebuildPath(e,1)}else{e=t;n.rebuildPath(e,1)}},r.applyTransform=function(t){f(n,t),this.dirtyShape()},r}function T(t,e){return new S(k(t,e))}function M(t,e){var n=k(t,e),o=function(t){function e(e){var r=t.call(this,e)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return Object(r["a"])(e,t),e}(S);return o}function D(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var a=t[i];n.push(a.getUpdatedPathProxy(!0))}var u=new o["b"](e);return u.createPathProxy(),u.buildPath=function(t){if(C(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},u}function A(t,e){e=e||{};var n=new o["b"];return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?f(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}},3437:function(t,e,n){"use strict";function r(t,e,n){var r=null==e.x?0:e.x,o=null==e.x2?1:e.x2,i=null==e.y?0:e.y,a=null==e.y2?0:e.y2;e.global||(r=r*n.width+n.x,o=o*n.width+n.x,i=i*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,o=isNaN(o)?1:o,i=isNaN(i)?0:i,a=isNaN(a)?0:a;var u=t.createLinearGradient(r,i,o,a);return u}function o(t,e,n){var r=n.width,o=n.height,i=Math.min(r,o),a=null==e.x?.5:e.x,u=null==e.y?.5:e.y,s=null==e.r?.5:e.r;e.global||(a=a*r+n.x,u=u*o+n.y,s*=i);var c=t.createRadialGradient(a,u,0,a,u,s);return c}function i(t,e,n){for(var i="radial"===e.type?o(t,e,n):r(t,e,n),a=e.colorStops,u=0;u<a.length;u++)i.addColorStop(a[u].offset,a[u].color);return i}function a(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function u(t){return parseInt(t,10)}function s(t,e,n){var r=["width","height"][e],o=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=n[r]&&"auto"!==n[r])return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(t);return(t[o]||u(s[r])||u(t.style[r]))-(u(s[i])||0)-(u(s[a])||0)|0}n.d(e,"a",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return s})},3620:function(t,e,n){"use strict";var r=n("7fae"),o=n("1830"),i=n("4f85"),a=n("a15a"),u=n("2dc5"),s=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(r["a"])(e,t),e.prototype.getInitialData=function(t){return Object(o["a"])(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new u["a"],n=Object(a["a"])("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),i="none"===r?"circle":r,s=.8*t.itemHeight,c=Object(a["a"])(i,(t.itemWidth-s)/2,(t.itemHeight-s)/2,s,s,t.itemStyle.fill);e.add(c),c.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?o:t.iconRotate||0;return c.rotation=l*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),i.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(i["b"]),c=s,l=n("6d8b"),f=n("f706"),d=n("1418"),h=n("ee1a");function p(t,e,n){var r=t.getBaseAxis(),o=t.getOtherAxis(r),i=m(o,n),a=r.dim,u=o.dim,s=e.mapDimension(u),c=e.mapDimension(a),f="x"===u||"radius"===u?1:0,d=Object(l["map"])(t.dimensions,function(t){return e.mapDimension(t)}),p=!1,g=e.getCalculationInfo("stackResultDimension");return Object(h["c"])(e,d[0])&&(p=!0,d[0]=g),Object(h["c"])(e,d[1])&&(p=!0,d[1]=g),{dataDimsForPoint:d,valueStart:i,valueAxisDim:u,baseAxisDim:a,stacked:!!p,valueDim:s,baseDim:c,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function m(t,e){var n=0,r=t.scale.getExtent();return"start"===e?n=r[0]:"end"===e?n=r[1]:Object(l["isNumber"])(e)&&!isNaN(e)?n=e:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function g(t,e,n,r){var o=NaN;t.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(o)&&(o=t.valueStart);var i=t.baseDataOffset,a=[];return a[i]=n.get(t.baseDim,r),a[1-i]=o,e.dataToPoint(a)}var v=n("f658");function y(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}function b(t,e,n,r,o,i,a,u){for(var s=y(t,e),c=[],l=[],f=[],d=[],h=[],m=[],b=[],x=p(o,e,a),_=t.getLayout("points")||[],w=e.getLayout("points")||[],O=0;O<s.length;O++){var S=s[O],C=!0,k=void 0,T=void 0;switch(S.cmd){case"=":k=2*S.idx,T=2*S.idx1;var M=_[k],D=_[k+1],A=w[T],I=w[T+1];(isNaN(M)||isNaN(D))&&(M=A,D=I),c.push(M,D),l.push(A,I),f.push(n[k],n[k+1]),d.push(r[T],r[T+1]),b.push(e.getRawIndex(S.idx1));break;case"+":var j=S.idx,E=x.dataDimsForPoint,R=o.dataToPoint([e.get(E[0],j),e.get(E[1],j)]);T=2*j,c.push(R[0],R[1]),l.push(w[T],w[T+1]);var N=g(x,o,e,j);f.push(N[0],N[1]),d.push(r[T],r[T+1]),b.push(e.getRawIndex(j));break;case"-":C=!1}C&&(h.push(S),m.push(m.length))}m.sort(function(t,e){return b[t]-b[e]});var P=c.length,B=Object(v["a"])(P),L=Object(v["a"])(P),F=Object(v["a"])(P),z=Object(v["a"])(P),V=[];for(O=0;O<m.length;O++){var H=m[O],U=2*O,W=2*H;B[U]=c[W],B[U+1]=c[W+1],L[U]=l[W],L[U+1]=l[W+1],F[U]=f[W],F[U+1]=f[W+1],z[U]=d[W],z[U+1]=d[W+1],V[O]=h[H]}return{current:B,next:L,stackedOnCurrent:F,stackedOnNext:z,status:V}}var x=n("48a9"),_=n("deab"),w=n("76a5"),O=n("e0d3"),S=n("d4d1"),C=n("e887"),k=n("b0af"),T=n("5426"),M=n("7d6c"),D=n("7837"),A=n("c775"),I=n("861c"),j=n("eda2"),E=n("41ef");function R(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function N(t){for(var e=1/0,n=1/0,r=-1/0,o=-1/0,i=0;i<t.length;){var a=t[i++],u=t[i++];isNaN(a)||(e=Math.min(a,e),r=Math.max(a,r)),isNaN(u)||(n=Math.min(u,n),o=Math.max(u,o))}return[[e,n],[r,o]]}function P(t,e){var n=N(t),r=n[0],o=n[1],i=N(e),a=i[0],u=i[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]))}function B(t){return l["isNumber"](t)?t:t?.5:0}function L(t,e,n){if(!n.valueDim)return[];for(var r=e.count(),o=Object(v["a"])(2*r),i=0;i<r;i++){var a=g(n,t,e,i);o[2*i]=a[0],o[2*i+1]=a[1]}return o}function F(t,e,n,r){var o=e.getBaseAxis(),i="x"===o.dim||"radius"===o.dim?0:1,a=[],u=0,s=[],c=[],l=[],f=[];if(r){for(u=0;u<t.length;u+=2)isNaN(t[u])||isNaN(t[u+1])||f.push(t[u],t[u+1]);t=f}for(u=0;u<t.length-2;u+=2)switch(l[0]=t[u+2],l[1]=t[u+3],c[0]=t[u],c[1]=t[u+1],a.push(c[0],c[1]),n){case"end":s[i]=l[i],s[1-i]=c[1-i],a.push(s[0],s[1]);break;case"middle":var d=(c[i]+l[i])/2,h=[];s[i]=h[i]=d,s[1-i]=c[1-i],h[1-i]=l[1-i],a.push(s[0],s[1]),a.push(h[0],h[1]);break;default:s[i]=c[i],s[1-i]=l[1-i],a.push(s[0],s[1])}return a.push(t[u++],t[u++]),a}function z(t,e){var n,r,o=[],i=t.length;function a(t,e,n){var r=t.coord,o=(n-r)/(e.coord-r),i=Object(E["lerp"])(o,[t.color,e.color]);return{coord:n,color:i}}for(var u=0;u<i;u++){var s=t[u],c=s.coord;if(c<0)n=s;else{if(c>e){r?o.push(a(r,s,e)):n&&o.push(a(n,s,0),a(n,s,e));break}n&&(o.push(a(n,s,0)),n=null),o.push(s),r=s}}return o}function V(t,e,n){var r=t.getVisual("visualMeta");if(r&&r.length&&t.count()&&"cartesian2d"===e.type){for(var o,i,a=r.length-1;a>=0;a--){var u=t.getDimensionInfo(r[a].dimension);if(o=u&&u.coordDim,"x"===o||"y"===o){i=r[a];break}}if(i){var s=e.getAxis(o),c=l["map"](i.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),f=c.length,d=i.outerColors.slice();f&&c[0].coord>c[f-1].coord&&(c.reverse(),d.reverse());var h=z(c,"x"===o?n.getWidth():n.getHeight()),p=h.length;if(!p&&f)return c[0].coord<0?d[1]?d[1]:c[f-1].color:d[0]?d[0]:c[0].color;var m=10,g=h[0].coord-m,v=h[p-1].coord+m,y=v-g;if(y<.001)return"transparent";l["each"](h,function(t){t.offset=(t.coord-g)/y}),h.push({offset:p?h[p-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:d[0]||"transparent"});var b=new x["a"](0,0,0,0,h,!0);return b[o]=g,b[o+"2"]=v,b}}}function H(t,e,n){var r=t.get("showAllSymbol"),o="auto"===r;if(!r||o){var i=n.getAxesByScale("ordinal")[0];if(i&&(!o||!U(i,e))){var a=e.mapDimension(i.dim),u={};return l["each"](i.getViewLabels(),function(t){var e=i.scale.getRawOrdinalNumber(t.tickValue);u[e]=1}),function(t){return!u.hasOwnProperty(e.get(a,t))}}}}function U(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var o=e.count(),i=Math.max(1,Math.round(o/5)),a=0;a<o;a+=i)if(1.5*d["a"].getSymbolSize(e,a)[t.isHorizontal()?1:0]>r)return!1;return!0}function W(t,e){return isNaN(t)||isNaN(e)}function G(t){for(var e=t.length/2;e>0;e--)if(!W(t[2*e-2],t[2*e-1]))break;return e-1}function q(t,e){return[t[2*e],t[2*e+1]]}function Y(t,e,n){for(var r,o,i=t.length/2,a="x"===n?0:1,u=0,s=-1,c=0;c<i;c++)if(o=t[2*c+a],!isNaN(o)&&!isNaN(t[2*c+1-a]))if(0!==c){if(r<=e&&o>=e||r>=e&&o<=e){s=c;break}u=c,r=o}else r=o;return{range:[u,s],t:(e-r)/(o-r)}}function X(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<M["g"].length;e++)if(t.get([M["g"][e],"endLabel","show"]))return!0;return!1}function $(t,e,n,r){if(Object(T["a"])(e,"cartesian2d")){var o=r.getModel("endLabel"),i=o.get("valueAnimation"),a=r.getData(),u={lastFrameIndex:0},s=X(r)?function(n,r){t._endLabelOnDuring(n,r,a,u,i,o,e)}:null,c=e.getBaseAxis().isHorizontal(),l=Object(k["b"])(e,n,r,function(){var e=t._endLabel;e&&n&&null!=u.originalX&&e.attr({x:u.originalX,y:u.originalY})},s);if(!r.get("clip",!0)){var f=l.shape,d=Math.max(f.width,f.height);c?(f.y-=d,f.height+=2*d):(f.x-=d,f.width+=2*d)}return s&&s(1,l),l}return Object(k["c"])(e,n,r)}function K(t,e){var n=e.getBaseAxis(),r=n.isHorizontal(),o=n.inverse,i=r?o?"right":"left":"center",a=r?"middle":o?"top":"bottom";return{normal:{align:t.get("align")||i,verticalAlign:t.get("verticalAlign")||a}}}var Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.init=function(){var t=new u["a"],e=new f["a"];this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var r=this,o=t.coordinateSystem,i=this.group,a=t.getData(),u=t.getModel("lineStyle"),s=t.getModel("areaStyle"),c=a.getLayout("points")||[],f="polar"===o.type,d=this._coordSys,h=this._symbolDraw,m=this._polyline,g=this._polygon,v=this._lineGroup,y=t.get("animation"),b=!s.isEmpty(),x=s.get("origin"),w=p(o,a,x),O=b&&L(o,a,w),S=t.get("showSymbol"),C=t.get("connectNulls"),k=S&&!f&&H(t,a,o),T=this._data;T&&T.eachItemGraphicEl(function(t,e){t.__temp&&(i.remove(t),T.setItemGraphicEl(e,null))}),S||h.remove(),i.add(v);var D,A=!f&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(D=o.getArea(),null!=D.width?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var E=V(a,o,n)||a.getVisual("style")[a.getVisual("drawType")];if(m&&d.type===o.type&&A===this._step){b&&!g?g=this._newPolygon(c,O):g&&!b&&(v.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,Object(j["c"])(E));var N=v.getClipPath();if(N){var P=$(this,o,!1,t);_["c"](N,{shape:P.shape},t)}else v.setClipPath($(this,o,!0,t));S&&h.updateData(a,{isIgnore:k,clipShape:D,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),R(this._stackedOnPoints,O)&&R(this._points,c)||(y?this._doUpdateAnimation(a,O,o,n,A,x,C):(A&&(c=F(c,o,A,C),O&&(O=F(O,o,A,C))),m.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:O})))}else S&&h.updateData(a,{isIgnore:k,clipShape:D,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),y&&this._initSymbolLabelAnimation(a,o,D),A&&(c=F(c,o,A,C),O&&(O=F(O,o,A,C))),m=this._newPolyline(c),b&&(g=this._newPolygon(c,O)),f||this._initOrUpdateEndLabel(t,o,Object(j["c"])(E)),v.setClipPath($(this,o,!0,t));var z=t.getModel("emphasis"),U=z.get("focus"),W=z.get("blurScope"),G=z.get("disabled");if(m.useStyle(l["defaults"](u.getLineStyle(),{fill:"none",stroke:E,lineJoin:"bevel"})),Object(M["I"])(m,t,"lineStyle"),m.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])){var q=m.getState("emphasis").style;q.lineWidth=+m.style.lineWidth+1}Object(I["a"])(m).seriesIndex=t.seriesIndex,Object(M["J"])(m,U,W,G);var Y=B(t.get("smooth")),X=t.get("smoothMonotone");if(m.setShape({smooth:Y,smoothMonotone:X,connectNulls:C}),g){var K=a.getCalculationInfo("stackedOnSeries"),Z=0;g.useStyle(l["defaults"](s.getAreaStyle(),{fill:E,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),K&&(Z=B(K.get("smooth"))),g.setShape({smooth:Y,stackedOnSmooth:Z,smoothMonotone:X,connectNulls:C}),Object(M["I"])(g,t,"areaStyle"),Object(I["a"])(g).seriesIndex=t.seriesIndex,Object(M["J"])(g,U,W,G)}var J=function(t){r._changePolyState(t)};a.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=J)}),this._polyline.onHoverStateChange=J,this._data=a,this._coordSys=o,this._stackedOnPoints=O,this._points=c,this._step=A,this._valueOrigin=x,t.get("triggerLineEvent")&&(this.packEventData(t,m),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,e){Object(I["a"])(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,r){var o=t.getData(),i=O["u"](o,r);if(this._changePolyState("emphasis"),!(i instanceof Array)&&null!=i&&i>=0){var a=o.getLayout("points"),u=o.getItemGraphicEl(i);if(!u){var s=a[2*i],c=a[2*i+1];if(isNaN(s)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s,c))return;var l=t.get("zlevel"),f=t.get("z");u=new d["a"](o,i),u.x=s,u.y=c,u.setZ(l,f);var h=u.getSymbolPath().getTextContent();h&&(h.zlevel=l,h.z=f,h.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(i,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else C["a"].prototype.highlight.call(this,t,e,n,r)},e.prototype.downplay=function(t,e,n,r){var o=t.getData(),i=O["u"](o,r);if(this._changePolyState("normal"),null!=i&&i>=0){var a=o.getItemGraphicEl(i);a&&(a.__temp?(o.setItemGraphicEl(i,null),this.group.remove(a)):a.downplay())}else C["a"].prototype.downplay.call(this,t,e,n,r)},e.prototype._changePolyState=function(t){var e=this._polygon;Object(M["H"])(this._polyline,t),e&&Object(M["H"])(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new S["b"]({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new S["a"]({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var r,o,i=e.getBaseAxis(),a=i.inverse;"cartesian2d"===e.type?(r=i.isHorizontal(),o=!1):"polar"===e.type&&(r="angle"===i.dim,o=!0);var u=t.hostModel,s=u.get("animationDuration");l["isFunction"](s)&&(s=s(null));var c=u.get("animationDelay")||0,f=l["isFunction"](c)?c(null):c;t.eachItemGraphicEl(function(t,i){var u=t;if(u){var d=[t.x,t.y],h=void 0,p=void 0,m=void 0;if(n)if(o){var g=n,v=e.pointToCoord(d);r?(h=g.startAngle,p=g.endAngle,m=-v[1]/180*Math.PI):(h=g.r0,p=g.r,m=v[0])}else{var y=n;r?(h=y.x,p=y.x+y.width,m=t.x):(h=y.y+y.height,p=y.y,m=t.y)}var b=p===h?0:(m-h)/(p-h);a&&(b=1-b);var x=l["isFunction"](c)?c(i):s*b+f,_=u.getSymbolPath(),w=_.getTextContent();u.attr({scaleX:0,scaleY:0}),u.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:x}),_.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,e,n){var r=t.getModel("endLabel");if(X(t)){var o=t.getData(),i=this._polyline,a=o.getLayout("points");if(!a)return i.removeTextContent(),void(this._endLabel=null);var u=this._endLabel;u||(u=this._endLabel=new w["a"]({z2:200}),u.ignoreClip=!0,i.setTextContent(this._endLabel),i.disableLabelAnimation=!0);var s=G(a);s>=0&&(Object(D["g"])(i,Object(D["e"])(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:s,defaultText:function(t,e,n){return null!=n?Object(A["a"])(o,n):Object(A["b"])(o,t)},enableTextSetter:!0},K(r,e)),i.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,r,o,i,a){var u=this._endLabel,s=this._polyline;if(u){t<1&&null==r.originalX&&(r.originalX=u.x,r.originalY=u.y);var c=n.getLayout("points"),l=n.hostModel,f=l.get("connectNulls"),d=i.get("precision"),h=i.get("distance")||0,p=a.getBaseAxis(),m=p.isHorizontal(),g=p.inverse,v=e.shape,y=g?m?v.x:v.y+v.height:m?v.x+v.width:v.y,b=(m?h:0)*(g?-1:1),x=(m?0:-h)*(g?-1:1),_=m?"x":"y",w=Y(c,y,_),S=w.range,C=S[1]-S[0],k=void 0;if(C>=1){if(C>1&&!f){var T=q(c,S[0]);u.attr({x:T[0]+b,y:T[1]+x}),o&&(k=l.getRawValue(S[0]))}else{T=s.getPointOn(y,_);T&&u.attr({x:T[0]+b,y:T[1]+x});var M=l.getRawValue(S[0]),A=l.getRawValue(S[1]);o&&(k=O["k"](n,d,M,A,w.t))}r.lastFrameIndex=S[0]}else{var I=1===t||r.lastFrameIndex>0?S[0]:0;T=q(c,I);o&&(k=l.getRawValue(I)),u.attr({x:T[0]+b,y:T[1]+x})}o&&Object(D["f"])(u).setLabelText(k)}},e.prototype._doUpdateAnimation=function(t,e,n,r,o,i,a){var u=this._polyline,s=this._polygon,c=t.hostModel,l=b(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,i),f=l.current,d=l.stackedOnCurrent,h=l.next,p=l.stackedOnNext;if(o&&(f=F(l.current,n,o,a),d=F(l.stackedOnCurrent,n,o,a),h=F(l.next,n,o,a),p=F(l.stackedOnNext,n,o,a)),P(f,h)>3e3||s&&P(d,p)>3e3)return u.stopAnimation(),u.setShape({points:h}),void(s&&(s.stopAnimation(),s.setShape({points:h,stackedOnPoints:p})));u.shape.__points=l.current,u.shape.points=f;var m={shape:{points:h}};l.current!==f&&(m.shape.__points=l.next),u.stopAnimation(),_["h"](u,m,c),s&&(s.setShape({points:f,stackedOnPoints:d}),s.stopAnimation(),_["h"](s,{shape:{stackedOnPoints:p}},c),u.shape.points!==s.shape.points&&(s.shape.points=u.shape.points));for(var g=[],v=l.status,y=0;y<v.length;y++){var x=v[y].cmd;if("="===x){var w=t.getItemGraphicEl(v[y].idx1);w&&g.push({el:w,ptIdx:y})}}u.animators&&u.animators.length&&u.animators[0].during(function(){s&&s.dirtyShape();for(var t=u.shape.__points,e=0;e<g.length;e++){var n=g[e].el,r=2*g[e].ptIdx;n.x=t[r],n.y=t[r+1],n.markRedraw()}})},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,r){t.__temp&&(e.remove(t),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(C["a"]),J=Z,Q=n("87c3"),tt=n("fdde");function et(t){t.registerChartView(J),t.registerSeriesModel(c),t.registerLayout(Object(Q["a"])("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Object(tt["a"])("line"))}n.d(e,"a",function(){return et})},3842:function(t,e,n){"use strict";n.d(e,"l",function(){return u}),n.d(e,"p",function(){return s}),n.d(e,"v",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"g",function(){return f}),n.d(e,"h",function(){return d}),n.d(e,"f",function(){return h}),n.d(e,"e",function(){return p}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"u",function(){return v}),n.d(e,"k",function(){return y}),n.d(e,"o",function(){return x}),n.d(e,"r",function(){return _}),n.d(e,"s",function(){return w}),n.d(e,"m",function(){return O}),n.d(e,"q",function(){return S}),n.d(e,"t",function(){return C}),n.d(e,"n",function(){return k}),n.d(e,"j",function(){return T}),n.d(e,"i",function(){return M}),n.d(e,"d",function(){return A});var r=n("6d8b"),o=1e-4,i=20;function a(t){return t.replace(/^\s+|\s+$/g,"")}function u(t,e,n,r){var o=e[0],i=e[1],a=n[0],u=n[1],s=i-o,c=u-a;if(0===s)return 0===c?a:(a+u)/2;if(r)if(s>0){if(t<=o)return a;if(t>=i)return u}else{if(t>=o)return a;if(t<=i)return u}else{if(t===o)return a;if(t===i)return u}return(t-o)/s*c+a}function s(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return r["isString"](t)?a(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function c(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),i),t=(+t).toFixed(e),n?t:+t}function l(t){return t.sort(function(t,e){return t-e}),t}function f(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return d(t)}function d(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,o=n>0?n:e.length,i=e.indexOf("."),a=i<0?0:o-1-i;return Math.max(0,a-r)}function h(t,e){var n=Math.log,r=Math.LN10,o=Math.floor(n(t[1]-t[0])/r),i=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-o+i,0),20);return isFinite(a)?a:20}function p(t,e,n){if(!t[e])return 0;var o=r["reduce"](t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===o)return 0;var i=Math.pow(10,n),a=r["map"](t,function(t){return(isNaN(t)?0:t)/o*i*100}),u=100*i,s=r["map"](a,function(t){return Math.floor(t)}),c=r["reduce"](s,function(t,e){return t+e},0),l=r["map"](a,function(t,e){return t-s[e]});while(c<u){for(var f=Number.NEGATIVE_INFINITY,d=null,h=0,p=l.length;h<p;++h)l[h]>f&&(f=l[h],d=h);++s[d],l[d]=0,++c}return s[e]/i}function m(t,e){var n=Math.max(f(t),f(e)),r=t+e;return n>i?r:c(r,n)}var g=9007199254740991;function v(t){var e=2*Math.PI;return(t%e+e)%e}function y(t){return t>-o&&t<o}var b=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function x(t){if(t instanceof Date)return t;if(r["isString"](t)){var e=b.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function _(t){return Math.pow(10,w(t))}function w(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function O(t,e){var n,r=w(t),o=Math.pow(10,r),i=t/o;return n=e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10,t=n*o,r>=-20?+t.toFixed(r<0?-r:0):t}function S(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o}function C(t){t.sort(function(t,e){return u(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var o=t[r].interval,i=t[r].close,a=0;a<2;a++)o[a]<=e&&(o[a]=e,i[a]=a?1:1-n),e=o[a],n=i[a];o[0]===o[1]&&i[0]*i[1]!==1?t.splice(r,1):r++}return t;function u(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]===(n?-1:1)||!n&&u(t,e,1))}}function k(t){var e=parseFloat(t);return e==t&&(0!==e||!r["isString"](t)||t.indexOf("x")<=0)?e:NaN}function T(t){return!isNaN(k(t))}function M(){return Math.round(9*Math.random())}function D(t,e){return 0===e?t:D(e,t%e)}function A(t,e){return null==t?e:null==e?t:t*e/D(t,e)}},"38a2":function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s});var r=n("6d8b"),o=n("2b17"),i=n("eda2"),a=/\{@(.+?)\}/g,u=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),o=n.getRawIndex(t),i=n.getName(t),a=n.getRawDataItem(t),u=n.getItemVisual(t,"style"),s=u&&u[n.getItemVisual(t,"drawType")||"fill"],c=u&&u.stroke,l=this.mainType,f="series"===l,d=n.userOutput&&n.userOutput.get();return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:i,dataIndex:o,data:a,dataType:e,value:r,color:s,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,u,s,c){e=e||"normal";var l=this.getData(n),f=this.getDataParams(t,n);if(c&&(f.value=c.interpolatedValue),null!=u&&r["isArray"](f.value)&&(f.value=f.value[u]),!s){var d=l.getItemModel(t);s=d.get("normal"===e?["label","formatter"]:[e,"label","formatter"])}if(r["isFunction"](s))return f.status=e,f.dimensionIndex=u,s(f);if(r["isString"](s)){var h=Object(i["f"])(s,f);return h.replace(a,function(e,n){var i=n.length,a=n;"["===a.charAt(0)&&"]"===a.charAt(i-1)&&(a=+a.slice(1,i-1));var u=Object(o["e"])(l,t,a);if(c&&r["isArray"](c.interpolatedValue)){var s=l.getDimensionIndex(a);s>=0&&(u=c.interpolatedValue[s])}return null!=u?u+"":""})}},t.prototype.getRawValue=function(t,e){return Object(o["e"])(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function s(t){var e,n;return r["isObject"](t)?t.type&&(n=t):e=t,{text:e,frag:n}}},3901:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("282b"),o=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],i=Object(r["a"])(o),a=function(){function t(){}return t.prototype.getLineStyle=function(t){return i(this,t)},t}()},"3f23":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("b1d4"),o=n("b682"),i=n("6d8b");function a(t,e,n){e=Object(i["isArray"])(e)&&{coordDimensions:e}||Object(i["extend"])({encodeDefine:t.getEncode()},e);var a=t.getSource(),u=Object(r["b"])(a,e).dimensions,s=new o["a"](u,t);return s.initData(a,n),s}},"401b":function(t,e,n){"use strict";function r(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function o(t,e){return t[0]=e[0],t[1]=e[1],t}function i(t){return[t[0],t[1]]}function a(t,e,n){return t[0]=e,t[1]=n,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function s(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function l(t){return Math.sqrt(d(t))}n.r(e),n.d(e,"create",function(){return r}),n.d(e,"copy",function(){return o}),n.d(e,"clone",function(){return i}),n.d(e,"set",function(){return a}),n.d(e,"add",function(){return u}),n.d(e,"scaleAndAdd",function(){return s}),n.d(e,"sub",function(){return c}),n.d(e,"len",function(){return l}),n.d(e,"length",function(){return f}),n.d(e,"lenSquare",function(){return d}),n.d(e,"lengthSquare",function(){return h}),n.d(e,"mul",function(){return p}),n.d(e,"div",function(){return m}),n.d(e,"dot",function(){return g}),n.d(e,"scale",function(){return v}),n.d(e,"normalize",function(){return y}),n.d(e,"distance",function(){return b}),n.d(e,"dist",function(){return x}),n.d(e,"distanceSquare",function(){return _}),n.d(e,"distSquare",function(){return w}),n.d(e,"negate",function(){return O}),n.d(e,"lerp",function(){return S}),n.d(e,"applyTransform",function(){return C}),n.d(e,"min",function(){return k}),n.d(e,"max",function(){return T});var f=l;function d(t){return t[0]*t[0]+t[1]*t[1]}var h=d;function p(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function m(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function g(t,e){return t[0]*e[0]+t[1]*e[1]}function v(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function y(t,e){var n=l(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function b(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var x=b;function _(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var w=_;function O(t,e){return t[0]=-e[0],t[1]=-e[1],t}function S(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function C(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}function k(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function T(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},4041:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("e0d3"),o=Object(r["o"])(),i=Object(r["o"])(),a=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var i=Object(r["r"])(this.get("color",!0)),a=this.get("colorLayer",!0);return c(this,o,i,a,t,e,n)},t.prototype.clearColorPalette=function(){l(this,o)},t}();function u(t,e,n,o){var a=Object(r["r"])(t.get(["aria","decal","decals"]));return c(t,i,a,null,e,n,o)}function s(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}function c(t,e,n,r,o,i,a){i=i||t;var u=e(i),c=u.paletteIdx||0,l=u.paletteNameMap=u.paletteNameMap||{};if(l.hasOwnProperty(o))return l[o];var f=null!=a&&r?s(r,a):n;if(f=f||n,f&&f.length){var d=f[c];return o&&(l[o]=d),u.paletteIdx=(c+1)%f.length,d}}function l(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}},"41ef":function(t,e,n){"use strict";n.r(e),n.d(e,"parse",function(){return v}),n.d(e,"lift",function(){return x}),n.d(e,"toHex",function(){return _}),n.d(e,"fastLerp",function(){return w}),n.d(e,"fastMapToColor",function(){return O}),n.d(e,"lerp",function(){return S}),n.d(e,"mapToColor",function(){return C}),n.d(e,"modifyHSL",function(){return k}),n.d(e,"modifyAlpha",function(){return T}),n.d(e,"stringify",function(){return M}),n.d(e,"lum",function(){return D}),n.d(e,"random",function(){return A});var r=n("d51b"),o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return t=Math.round(t),t<0?0:t>255?255:t}function a(t){return t=Math.round(t),t<0?0:t>360?360:t}function u(t){return t<0?0:t>1?1:t}function s(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?i(parseFloat(e)/100*255):i(parseInt(e,10))}function c(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?u(parseFloat(e)/100):u(parseFloat(e))}function l(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function f(t,e,n){return t+(e-t)*n}function d(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var p=new r["a"](20),m=null;function g(t,e){m&&h(m,e),m=p.put(t,m||e.slice())}function v(t,e){if(t){e=e||[];var n=p.get(t);if(n)return h(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in o)return h(e,o[r]),g(t,e),e;var i=r.length;if("#"!==r.charAt(0)){var a=r.indexOf("("),u=r.indexOf(")");if(-1!==a&&u+1===i){var l=r.substr(0,a),f=r.substr(a+1,u-(a+1)).split(","),m=1;switch(l){case"rgba":if(4!==f.length)return 3===f.length?d(e,+f[0],+f[1],+f[2],1):d(e,0,0,0,1);m=c(f.pop());case"rgb":return 3!==f.length?void d(e,0,0,0,1):(d(e,s(f[0]),s(f[1]),s(f[2]),m),g(t,e),e);case"hsla":return 4!==f.length?void d(e,0,0,0,1):(f[3]=c(f[3]),y(f,e),g(t,e),e);case"hsl":return 3!==f.length?void d(e,0,0,0,1):(y(f,e),g(t,e),e);default:return}}d(e,0,0,0,1)}else{if(4===i||5===i){var v=parseInt(r.slice(1,4),16);return v>=0&&v<=4095?(d(e,(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,5===i?parseInt(r.slice(4),16)/15:1),g(t,e),e):void d(e,0,0,0,1)}if(7===i||9===i){v=parseInt(r.slice(1,7),16);return v>=0&&v<=16777215?(d(e,(16711680&v)>>16,(65280&v)>>8,255&v,9===i?parseInt(r.slice(7),16)/255:1),g(t,e),e):void d(e,0,0,0,1)}}}}function y(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=c(t[1]),o=c(t[2]),a=o<=.5?o*(r+1):o+r-o*r,u=2*o-a;return e=e||[],d(e,i(255*l(u,a,n+1/3)),i(255*l(u,a,n)),i(255*l(u,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function b(t){if(t){var e,n,r=t[0]/255,o=t[1]/255,i=t[2]/255,a=Math.min(r,o,i),u=Math.max(r,o,i),s=u-a,c=(u+a)/2;if(0===s)e=0,n=0;else{n=c<.5?s/(u+a):s/(2-u-a);var l=((u-r)/6+s/2)/s,f=((u-o)/6+s/2)/s,d=((u-i)/6+s/2)/s;r===u?e=d-f:o===u?e=1/3+l-d:i===u&&(e=2/3+f-l),e<0&&(e+=1),e>1&&(e-=1)}var h=[360*e,n,c];return null!=t[3]&&h.push(t[3]),h}}function x(t,e){var n=v(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return M(n,4===n.length?"rgba":"rgb")}}function _(t){var e=v(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function w(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),o=Math.floor(r),a=Math.ceil(r),s=e[o],c=e[a],l=r-o;return n[0]=i(f(s[0],c[0],l)),n[1]=i(f(s[1],c[1],l)),n[2]=i(f(s[2],c[2],l)),n[3]=u(f(s[3],c[3],l)),n}}var O=w;function S(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),o=Math.floor(r),a=Math.ceil(r),s=v(e[o]),c=v(e[a]),l=r-o,d=M([i(f(s[0],c[0],l)),i(f(s[1],c[1],l)),i(f(s[2],c[2],l)),u(f(s[3],c[3],l))],"rgba");return n?{color:d,leftIndex:o,rightIndex:a,value:r}:d}}var C=S;function k(t,e,n,r){var o=v(t);if(t)return o=b(o),null!=e&&(o[0]=a(e)),null!=n&&(o[1]=c(n)),null!=r&&(o[2]=c(r)),M(y(o),"rgba")}function T(t,e){var n=v(t);if(n&&null!=e)return n[3]=u(e),M(n,"rgba")}function M(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function D(t,e){var n=v(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}function A(){return M([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}},"42e5":function(t,e,n){"use strict";var r=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}();e["a"]=r},4319:function(t,e,n){"use strict";var r=n("22d1"),o=n("625e"),i=n("282b"),a=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],u=Object(i["a"])(a),s=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return u(this,t,e)},t}(),c=n("7837"),l=n("76a5"),f=["textStyle","color"],d=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],h=new l["a"],p=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(f):null)},t.prototype.getFont=function(){return Object(c["d"])({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<d.length;n++)e[d[n]]=this.getShallow(d[n]);return h.useStyle(e),h.update(),h.getBoundingRect()},t}(),m=p,g=n("3901"),v=n("551f"),y=n("6d8b"),b=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},t.prototype.mergeOption=function(t,e){Object(y["merge"])(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,r=null==n?n:n[t];if(null==r&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},t.prototype.getModel=function(e,n){var r=null!=e,o=r?this.parsePath(e):null,i=r?this._doGet(o):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),new t(i,n,this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){var t=this.constructor;return new t(Object(y["clone"])(this.option))},t.prototype.parsePath=function(t){return"string"===typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!r["a"].node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length;r++)if(t[r]&&(n=n&&"object"===typeof n?n[t[r]]:null,null==n))break;return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();Object(o["b"])(b),Object(o["a"])(b),Object(y["mixin"])(b,g["b"]),Object(y["mixin"])(b,v["b"]),Object(y["mixin"])(b,s),Object(y["mixin"])(b,m);e["a"]=b},4573:function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new i},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,o=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,o,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,o,!0)},e}(o["b"]);a.prototype.type="ring",e["a"]=a},"48a9":function(t,e,n){"use strict";var r=n("21a1"),o=n("42e5"),i=function(t){function e(e,n,r,o,i,a){var u=t.call(this,i)||this;return u.x=null==e?0:e,u.y=null==n?0:n,u.x2=null==r?1:r,u.y2=null==o?0:o,u.type="linear",u.global=a||!1,u}return Object(r["a"])(e,t),e}(o["a"]);e["a"]=i},"49bb":function(t,e,n){"use strict";var r=n("f3bb"),o=n("3842"),i=n("f934"),a=n("6d8b"),u=2*Math.PI,s=Math.PI/180;function c(t,e){return i["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function l(t,e){var n=c(t,e),r=t.get("center"),i=t.get("radius");a["isArray"](i)||(i=[0,i]),a["isArray"](r)||(r=[r,r]);var u=Object(o["p"])(n.width,e.getWidth()),s=Object(o["p"])(n.height,e.getHeight()),l=Math.min(u,s),f=Object(o["p"])(r[0],u)+n.x,d=Object(o["p"])(r[1],s)+n.y,h=Object(o["p"])(i[0],l/2),p=Object(o["p"])(i[1],l/2);return{cx:f,cy:d,r0:h,r:p}}function f(t,e,n){e.eachSeriesByType(t,function(t){var e=t.getData(),r=e.mapDimension("value"),i=c(t,n),a=l(t,n),f=a.cx,d=a.cy,h=a.r,p=a.r0,m=-t.get("startAngle")*s,g=t.get("minAngle")*s,v=0;e.each(r,function(t){!isNaN(t)&&v++});var y=e.getSum(r),b=Math.PI/(y||v)*2,x=t.get("clockwise"),_=t.get("roseType"),w=t.get("stillShowZeroSum"),O=e.getDataExtent(r);O[0]=0;var S=u,C=0,k=m,T=x?1:-1;if(e.setLayout({viewRect:i,r:h}),e.each(r,function(t,n){var r;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:f,cy:d,r0:p,r:_?NaN:h});else{r="area"!==_?0===y&&w?b:t*b:u/v,r<g?(r=g,S-=g):C+=t;var i=k+T*r;e.setItemLayout(n,{angle:r,startAngle:k,endAngle:i,clockwise:x,cx:f,cy:d,r0:p,r:_?Object(o["l"])(t,O,[p,h]):h}),k=i}}),S<u&&v)if(S<=.001){var M=u/v;e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n);r.angle=M,r.startAngle=m+T*n*M,r.endAngle=m+T*(n+1)*M}})}else b=S/C,k=m,e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n),o=r.angle===g?g:t*b;r.startAngle=k,r.endAngle=k+T*o,k+=T*o}})})}var d=n("d3f47"),h=n("7fae"),p=n("76a5"),m=n("deab"),g=n("d498"),v=n("4aa2"),y=n("7d6c"),b=n("e887"),x=n("dce8"),_=n("89b6"),w=n("2355"),O=Math.PI/180;function S(t,e,n,r,o,i,a,u,s,c){if(!(t.length<2)){for(var l=t.length,f=0;f<l;f++)if("outer"===t[f].position&&"labelLine"===t[f].labelAlignTo){var d=t[f].label.x-c;t[f].linePoints[1][0]+=d,t[f].label.x=c}Object(w["d"])(t,s,s+a)&&p(t)}function h(t){for(var i=t.rB,a=i*i,u=0;u<t.list.length;u++){var s=t.list[u],c=Math.abs(s.label.y-n),l=r+s.len,f=l*l,d=Math.sqrt((1-Math.abs(c*c/a))*f),h=e+(d+s.len2)*o,p=h-s.label.x,m=s.targetTextWidth-p*o;k(s,m,!0),s.label.x=h}}function p(t){for(var i={list:[],maxY:0},a={list:[],maxY:0},u=0;u<t.length;u++)if("none"===t[u].labelAlignTo){var s=t[u],c=s.label.y>n?a:i,l=Math.abs(s.label.y-n);if(l>=c.maxY){var f=s.label.x-e-s.len2*o,d=r+s.len,p=Math.abs(f)<d?Math.sqrt(l*l/(1-f*f/d/d)):d;c.rB=p,c.maxY=l}c.list.push(s)}h(i),h(a)}}function C(t,e,n,r,o,i,a,u){for(var s=[],c=[],l=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<t.length;d++){var h=t[d].label;T(t[d])||(h.x<e?(l=Math.min(l,h.x),s.push(t[d])):(f=Math.max(f,h.x),c.push(t[d])))}for(d=0;d<t.length;d++){var p=t[d];if(!T(p)&&p.linePoints){if(null!=p.labelStyleWidth)continue;h=p.label;var m=p.linePoints,g=void 0;g="edge"===p.labelAlignTo?h.x<e?m[2][0]-p.labelDistance-a-p.edgeDistance:a+o-p.edgeDistance-m[2][0]-p.labelDistance:"labelLine"===p.labelAlignTo?h.x<e?l-a-p.bleedMargin:a+o-f-p.bleedMargin:h.x<e?h.x-a-p.bleedMargin:a+o-h.x-p.bleedMargin,p.targetTextWidth=g,k(p,g)}}S(c,e,n,r,1,o,i,a,u,f),S(s,e,n,r,-1,o,i,a,u,l);for(d=0;d<t.length;d++){p=t[d];if(!T(p)&&p.linePoints){h=p.label,m=p.linePoints;var v="edge"===p.labelAlignTo,y=h.style.padding,b=y?y[1]+y[3]:0,x=h.style.backgroundColor?0:b,_=p.rect.width+x,w=m[1][0]-m[2][0];v?h.x<e?m[2][0]=a+p.edgeDistance+_+p.labelDistance:m[2][0]=a+o-p.edgeDistance-_-p.labelDistance:(h.x<e?m[2][0]=h.x+p.labelDistance:m[2][0]=h.x-p.labelDistance,m[1][0]=m[2][0]+w),m[1][1]=m[2][1]=h.y}}}function k(t,e,n){if(void 0===n&&(n=!1),null==t.labelStyleWidth){var r=t.label,o=r.style,i=t.rect,a=o.backgroundColor,u=o.padding,s=u?u[1]+u[3]:0,c=o.overflow,l=i.width+(a?0:s);if(e<l||n){var f=i.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-s);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",a)}else{var h=e-s,p=e<l?h:n?h>t.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var m=r.getBoundingRect();i.width=m.width;var g=(r.style.margin||0)+2.1;i.height=m.height+g,i.y-=(i.height-f)/2}}}function T(t){return"center"===t.position}function M(t){var e,n,r=t.getData(),i=[],u=!1,s=(t.get("minShowLabelAngle")||0)*O,c=r.getLayout("viewRect"),l=r.getLayout("r"),f=c.width,d=c.x,h=c.y,p=c.height;function m(t){t.ignore=!0}function g(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}r.each(function(t){var c=r.getItemGraphicEl(t),h=c.shape,p=c.getTextContent(),v=c.getTextGuideLine(),y=r.getItemModel(t),b=y.getModel("label"),_=b.get("position")||y.get(["emphasis","label","position"]),w=b.get("distanceToLabelLine"),O=b.get("alignTo"),S=Object(o["p"])(b.get("edgeDistance"),f),C=b.get("bleedMargin"),k=y.getModel("labelLine"),T=k.get("length");T=Object(o["p"])(T,f);var M=k.get("length2");if(M=Object(o["p"])(M,f),Math.abs(h.endAngle-h.startAngle)<s)return Object(a["each"])(p.states,m),void(p.ignore=!0);if(g(p)){var D,A,I,j,E=(h.startAngle+h.endAngle)/2,R=Math.cos(E),N=Math.sin(E);e=h.cx,n=h.cy;var P="inside"===_||"inner"===_;if("center"===_)D=h.cx,A=h.cy,j="center";else{var B=(P?(h.r+h.r0)/2*R:h.r*R)+e,L=(P?(h.r+h.r0)/2*N:h.r*N)+n;if(D=B+3*R,A=L+3*N,!P){var F=B+R*(T+l-h.r),z=L+N*(T+l-h.r),V=F+(R<0?-1:1)*M,H=z;D="edge"===O?R<0?d+S:d+f-S:V+(R<0?-w:w),A=H,I=[[B,L],[F,z],[V,H]]}j=P?"center":"edge"===O?R>0?"right":"left":R>0?"left":"right"}var U=Math.PI,W=0,G=b.get("rotate");if(Object(a["isNumber"])(G))W=G*(U/180);else if("center"===_)W=0;else if("radial"===G||!0===G){var q=R<0?-E+U:-E;W=q}else if("tangential"===G&&"outside"!==_&&"outer"!==_){var Y=Math.atan2(R,N);Y<0&&(Y=2*U+Y);var X=N>0;X&&(Y=U+Y),W=Y-U}if(u=!!W,p.x=D,p.y=A,p.rotation=W,p.setStyle({verticalAlign:"middle"}),P){p.setStyle({align:j});var $=p.states.select;$&&($.x+=p.x,$.y+=p.y)}else{var K=p.getBoundingRect().clone();K.applyTransform(p.getComputedTransform());var Z=(p.style.margin||0)+2.1;K.y-=Z/2,K.height+=Z,i.push({label:p,labelLine:v,position:_,len:T,len2:M,minTurnAngle:k.get("minTurnAngle"),maxSurfaceAngle:k.get("maxSurfaceAngle"),surfaceNormal:new x["a"](R,N),linePoints:I,textAlign:j,labelDistance:w,labelAlignTo:O,edgeDistance:S,bleedMargin:C,rect:K,unconstrainedWidth:K.width,labelStyleWidth:p.style.width})}c.setTextConfig({inside:P})}}),!u&&t.get("avoidLabelOverlap")&&C(i,e,n,l,f,p,d,h);for(var v=0;v<i.length;v++){var y=i[v],b=y.label,w=y.labelLine,S=isNaN(b.x)||isNaN(b.y);if(b){b.setStyle({align:y.textAlign}),S&&(Object(a["each"])(b.states,m),b.ignore=!0);var k=b.states.select;k&&(k.x+=b.x,k.y+=b.y)}if(w){var T=y.linePoints;S||!T?(Object(a["each"])(w.states,m),w.ignore=!0):(Object(_["c"])(T,y.minTurnAngle),Object(_["b"])(T,y.surfaceNormal,y.maxSurfaceAngle),w.setShape({points:T}),b.__hostTarget.textGuideLineConfig={anchor:new x["a"](T[0][0],T[0][1])})}}}var D=n("7837"),A=n("d32f"),I=function(t){function e(e,n,r){var o=t.call(this)||this;o.z2=2;var i=new p["a"];return o.setTextContent(i),o.updateData(e,n,r,!0),o}return Object(h["a"])(e,t),e.prototype.updateData=function(t,e,n,r){var o=this,i=t.hostModel,u=t.getItemModel(e),s=u.getModel("emphasis"),c=t.getItemLayout(e),l=Object(a["extend"])(Object(A["a"])(u.getModel("itemStyle"),c,!0),c);if(isNaN(l.startAngle))o.setShape(l);else{if(r){o.setShape(l);var f=i.getShallow("animationType");i.ecModel.ssr?(m["c"](o,{scaleX:0,scaleY:0},i,{dataIndex:e,isFrom:!0}),o.originX=l.cx,o.originY=l.cy):"scale"===f?(o.shape.r=c.r0,m["c"](o,{shape:{r:c.r}},i,e)):null!=n?(o.setShape({startAngle:n,endAngle:n}),m["c"](o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},i,e)):(o.shape.endAngle=c.startAngle,m["h"](o,{shape:{endAngle:c.endAngle}},i,e))}else Object(m["g"])(o),m["h"](o,{shape:l},i,e);o.useStyle(t.getItemVisual(e,"style")),Object(y["I"])(o,u);var d=(c.startAngle+c.endAngle)/2,h=i.get("selectedOffset"),p=Math.cos(d)*h,g=Math.sin(d)*h,v=u.getShallow("cursor");v&&o.attr("cursor",v),this._updateLabel(i,t,e),o.ensureState("emphasis").shape=Object(a["extend"])({r:c.r+(s.get("scale")&&s.get("scaleSize")||0)},Object(A["a"])(s.getModel("itemStyle"),c)),Object(a["extend"])(o.ensureState("select"),{x:p,y:g,shape:Object(A["a"])(u.getModel(["select","itemStyle"]),c)}),Object(a["extend"])(o.ensureState("blur"),{shape:Object(A["a"])(u.getModel(["blur","itemStyle"]),c)});var b=o.getTextGuideLine(),x=o.getTextContent();b&&Object(a["extend"])(b.ensureState("select"),{x:p,y:g}),Object(a["extend"])(x.ensureState("select"),{x:p,y:g}),Object(y["J"])(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},e.prototype._updateLabel=function(t,e,n){var r=this,o=e.getItemModel(n),i=o.getModel("labelLine"),u=e.getItemVisual(n,"style"),s=u&&u.fill,c=u&&u.opacity;Object(D["g"])(r,Object(D["e"])(o),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:c,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)});var l=r.getTextContent();r.setTextConfig({position:null,rotation:null}),l.attr({z2:10});var f=t.get(["label","position"]);if("outside"!==f&&"outer"!==f)r.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new g["a"],this.setTextGuideLine(d)),Object(_["d"])(this,Object(_["a"])(o),{stroke:s,opacity:Object(a["retrieve3"])(i.get(["lineStyle","opacity"]),c,1)})}},e}(v["a"]),j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return Object(h["a"])(e,t),e.prototype.render=function(t,e,n,r){var o,i=t.getData(),a=this._data,u=this.group;if(!a&&i.count()>0){for(var s=i.getItemLayout(0),c=1;isNaN(s&&s.startAngle)&&c<i.count();++c)s=i.getItemLayout(c);s&&(o=s.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===i.count()&&t.get("showEmptyCircle")){var f=new v["a"]({shape:l(t,n)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,u.add(f)}i.diff(a).add(function(t){var e=new I(i,t,o);i.setItemGraphicEl(t,e),u.add(e)}).update(function(t,e){var n=a.getItemGraphicEl(e);n.updateData(i,t,o),n.off("click"),u.add(n),i.setItemGraphicEl(t,n)}).remove(function(e){var n=a.getItemGraphicEl(e);m["f"](n,t,e)}).execute(),M(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=i)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var n=e.getData(),r=n.getItemLayout(0);if(r){var o=t[0]-r.cx,i=t[1]-r.cy,a=Math.sqrt(o*o+i*i);return a<=r.r&&a>=r.r0}},e.type="pie",e}(b["a"]),E=j,R=n("3f23"),N=n("e0d3"),P=n("0f99"),B=n("c4a3"),L=n("4f85"),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new B["a"](a["bind"](this.getData,this),a["bind"](this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Object(R["a"])(this,{coordDimensions:["value"],encodeDefaulter:a["curry"](P["d"],this)})},e.prototype.getDataParams=function(e){var n=this.getData(),r=t.prototype.getDataParams.call(this,e),i=[];return n.each(n.mapDimension("value"),function(t){i.push(t)}),r.percent=Object(o["e"])(i,e,n.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},e.prototype._defaultLabelLine=function(t){N["f"](t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(L["b"]),z=F;function V(t){return{seriesType:t,reset:function(t,e){var n=t.getData();n.filterSelf(function(t){var e=n.mapDimension("value"),r=n.get(e,t);return!(Object(a["isNumber"])(r)&&!isNaN(r)&&r<0)})}}}function H(t){t.registerChartView(E),t.registerSeriesModel(z),Object(r["a"])("pie",t.registerAction),t.registerLayout(Object(a["curry"])(f,"pie")),t.registerProcessor(Object(d["a"])("pie")),t.registerProcessor(V("pie"))}n.d(e,"a",function(){return H})},"4a3f":function(t,e,n){"use strict";n.d(e,"a",function(){return m}),n.d(e,"b",function(){return g}),n.d(e,"f",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"e",function(){return x}),n.d(e,"d",function(){return _}),n.d(e,"h",function(){return w}),n.d(e,"i",function(){return O}),n.d(e,"m",function(){return S}),n.d(e,"j",function(){return C}),n.d(e,"n",function(){return k}),n.d(e,"l",function(){return T}),n.d(e,"k",function(){return M});var r=n("401b"),o=Math.pow,i=Math.sqrt,a=1e-8,u=1e-4,s=i(3),c=1/3,l=Object(r["create"])(),f=Object(r["create"])(),d=Object(r["create"])();function h(t){return t>-a&&t<a}function p(t){return t>a||t<-a}function m(t,e,n,r,o){var i=1-o;return i*i*(i*t+3*o*e)+o*o*(o*r+3*i*n)}function g(t,e,n,r,o){var i=1-o;return 3*(((e-t)*i+2*(n-e)*o)*i+(r-n)*o*o)}function v(t,e,n,r,a,u){var l=r+3*(e-n)-t,f=3*(n-2*e+t),d=3*(e-t),p=t-a,m=f*f-3*l*d,g=f*d-9*l*p,v=d*d-3*f*p,y=0;if(h(m)&&h(g))if(h(f))u[0]=0;else{var b=-d/f;b>=0&&b<=1&&(u[y++]=b)}else{var x=g*g-4*m*v;if(h(x)){var _=g/m,w=(b=-f/l+_,-_/2);b>=0&&b<=1&&(u[y++]=b),w>=0&&w<=1&&(u[y++]=w)}else if(x>0){var O=i(x),S=m*f+1.5*l*(-g+O),C=m*f+1.5*l*(-g-O);S=S<0?-o(-S,c):o(S,c),C=C<0?-o(-C,c):o(C,c);b=(-f-(S+C))/(3*l);b>=0&&b<=1&&(u[y++]=b)}else{var k=(2*m*f-3*l*g)/(2*i(m*m*m)),T=Math.acos(k)/3,M=i(m),D=Math.cos(T),A=(b=(-f-2*M*D)/(3*l),w=(-f+M*(D+s*Math.sin(T)))/(3*l),(-f+M*(D-s*Math.sin(T)))/(3*l));b>=0&&b<=1&&(u[y++]=b),w>=0&&w<=1&&(u[y++]=w),A>=0&&A<=1&&(u[y++]=A)}}return y}function y(t,e,n,r,o){var a=6*n-12*e+6*t,u=9*e+3*r-3*t-9*n,s=3*e-3*t,c=0;if(h(u)){if(p(a)){var l=-s/a;l>=0&&l<=1&&(o[c++]=l)}}else{var f=a*a-4*u*s;if(h(f))o[0]=-a/(2*u);else if(f>0){var d=i(f),m=(l=(-a+d)/(2*u),(-a-d)/(2*u));l>=0&&l<=1&&(o[c++]=l),m>=0&&m<=1&&(o[c++]=m)}}return c}function b(t,e,n,r,o,i){var a=(e-t)*o+t,u=(n-e)*o+e,s=(r-n)*o+n,c=(u-a)*o+a,l=(s-u)*o+u,f=(l-c)*o+c;i[0]=t,i[1]=a,i[2]=c,i[3]=f,i[4]=f,i[5]=l,i[6]=s,i[7]=r}function x(t,e,n,o,a,s,c,h,p,g,v){var y,b,x,_,w,O=.005,S=1/0;l[0]=p,l[1]=g;for(var C=0;C<1;C+=.05)f[0]=m(t,n,a,c,C),f[1]=m(e,o,s,h,C),_=Object(r["distSquare"])(l,f),_<S&&(y=C,S=_);S=1/0;for(var k=0;k<32;k++){if(O<u)break;b=y-O,x=y+O,f[0]=m(t,n,a,c,b),f[1]=m(e,o,s,h,b),_=Object(r["distSquare"])(f,l),b>=0&&_<S?(y=b,S=_):(d[0]=m(t,n,a,c,x),d[1]=m(e,o,s,h,x),w=Object(r["distSquare"])(d,l),x<=1&&w<S?(y=x,S=w):O*=.5)}return v&&(v[0]=m(t,n,a,c,y),v[1]=m(e,o,s,h,y)),i(S)}function _(t,e,n,r,o,i,a,u,s){for(var c=t,l=e,f=0,d=1/s,h=1;h<=s;h++){var p=h*d,g=m(t,n,o,a,p),v=m(e,r,i,u,p),y=g-c,b=v-l;f+=Math.sqrt(y*y+b*b),c=g,l=v}return f}function w(t,e,n,r){var o=1-r;return o*(o*t+2*r*e)+r*r*n}function O(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function S(t,e,n,r,o){var a=t-2*e+n,u=2*(e-t),s=t-r,c=0;if(h(a)){if(p(u)){var l=-s/u;l>=0&&l<=1&&(o[c++]=l)}}else{var f=u*u-4*a*s;if(h(f)){l=-u/(2*a);l>=0&&l<=1&&(o[c++]=l)}else if(f>0){var d=i(f),m=(l=(-u+d)/(2*a),(-u-d)/(2*a));l>=0&&l<=1&&(o[c++]=l),m>=0&&m<=1&&(o[c++]=m)}}return c}function C(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function k(t,e,n,r,o){var i=(e-t)*r+t,a=(n-e)*r+e,u=(a-i)*r+i;o[0]=t,o[1]=i,o[2]=u,o[3]=u,o[4]=a,o[5]=n}function T(t,e,n,o,a,s,c,h,p){var m,g=.005,v=1/0;l[0]=c,l[1]=h;for(var y=0;y<1;y+=.05){f[0]=w(t,n,a,y),f[1]=w(e,o,s,y);var b=Object(r["distSquare"])(l,f);b<v&&(m=y,v=b)}v=1/0;for(var x=0;x<32;x++){if(g<u)break;var _=m-g,O=m+g;f[0]=w(t,n,a,_),f[1]=w(e,o,s,_);b=Object(r["distSquare"])(f,l);if(_>=0&&b<v)m=_,v=b;else{d[0]=w(t,n,a,O),d[1]=w(e,o,s,O);var S=Object(r["distSquare"])(d,l);O<=1&&S<v?(m=O,v=S):g*=.5}}return p&&(p[0]=w(t,n,a,m),p[1]=w(e,o,s,m)),i(v)}function M(t,e,n,r,o,i,a){for(var u=t,s=e,c=0,l=1/a,f=1;f<=a;f++){var d=f*l,h=w(t,n,o,d),p=w(e,r,i,d),m=h-u,g=p-s;c+=Math.sqrt(m*m+g*g),u=h,s=p}return c}},"4aa2":function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=n("6d8b"),a=Math.PI,u=2*a,s=Math.sin,c=Math.cos,l=Math.acos,f=Math.atan2,d=Math.abs,h=Math.sqrt,p=Math.max,m=Math.min,g=1e-4;function v(t,e,n,r,o,i,a,u){var s=n-t,c=r-e,l=a-o,f=u-i,d=f*s-l*c;if(!(d*d<g))return d=(l*(e-i)-f*(t-o))/d,[t+d*s,e+d*c]}function y(t,e,n,r,o,i,a){var u=t-n,s=e-r,c=(a?i:-i)/h(u*u+s*s),l=c*s,f=-c*u,d=t+l,m=e+f,g=n+l,v=r+f,y=(d+g)/2,b=(m+v)/2,x=g-d,_=v-m,w=x*x+_*_,O=o-i,S=d*v-g*m,C=(_<0?-1:1)*h(p(0,O*O*w-S*S)),k=(S*_-x*C)/w,T=(-S*x-_*C)/w,M=(S*_+x*C)/w,D=(-S*x+_*C)/w,A=k-y,I=T-b,j=M-y,E=D-b;return A*A+I*I>j*j+E*E&&(k=M,T=D),{cx:k,cy:T,x0:-l,y0:-f,x1:k*(o/O-1),y1:T*(o/O-1)}}function b(t){var e;if(Object(i["isArray"])(t)){var n=t.length;if(!n)return t;e=1===n?[t[0],t[0],0,0]:2===n?[t[0],t[0],t[1],t[1]]:3===n?t.concat(t[2]):t}else e=[t,t,t,t];return e}function x(t,e){var n,r=p(e.r,0),o=p(e.r0||0,0),i=r>0,x=o>0;if(i||x){if(i||(r=o,o=0),o>r){var _=r;r=o,o=_}var w=e.startAngle,O=e.endAngle;if(!isNaN(w)&&!isNaN(O)){var S=e.cx,C=e.cy,k=!!e.clockwise,T=d(O-w),M=T>u&&T%u;if(M>g&&(T=M),r>g)if(T>u-g)t.moveTo(S+r*c(w),C+r*s(w)),t.arc(S,C,r,w,O,!k),o>g&&(t.moveTo(S+o*c(O),C+o*s(O)),t.arc(S,C,o,O,w,k));else{var D=void 0,A=void 0,I=void 0,j=void 0,E=void 0,R=void 0,N=void 0,P=void 0,B=void 0,L=void 0,F=void 0,z=void 0,V=void 0,H=void 0,U=void 0,W=void 0,G=r*c(w),q=r*s(w),Y=o*c(O),X=o*s(O),$=T>g;if($){var K=e.cornerRadius;K&&(n=b(K),D=n[0],A=n[1],I=n[2],j=n[3]);var Z=d(r-o)/2;if(E=m(Z,I),R=m(Z,j),N=m(Z,D),P=m(Z,A),F=B=p(E,R),z=L=p(N,P),(B>g||L>g)&&(V=r*c(O),H=r*s(O),U=o*c(w),W=o*s(w),T<a)){var J=v(G,q,U,W,V,H,Y,X);if(J){var Q=G-J[0],tt=q-J[1],et=V-J[0],nt=H-J[1],rt=1/s(l((Q*et+tt*nt)/(h(Q*Q+tt*tt)*h(et*et+nt*nt)))/2),ot=h(J[0]*J[0]+J[1]*J[1]);F=m(B,(r-ot)/(rt+1)),z=m(L,(o-ot)/(rt-1))}}}if($)if(F>g){var it=m(I,F),at=m(j,F),ut=y(U,W,G,q,r,it,k),st=y(V,H,Y,X,r,at,k);t.moveTo(S+ut.cx+ut.x0,C+ut.cy+ut.y0),F<B&&it===at?t.arc(S+ut.cx,C+ut.cy,F,f(ut.y0,ut.x0),f(st.y0,st.x0),!k):(it>0&&t.arc(S+ut.cx,C+ut.cy,it,f(ut.y0,ut.x0),f(ut.y1,ut.x1),!k),t.arc(S,C,r,f(ut.cy+ut.y1,ut.cx+ut.x1),f(st.cy+st.y1,st.cx+st.x1),!k),at>0&&t.arc(S+st.cx,C+st.cy,at,f(st.y1,st.x1),f(st.y0,st.x0),!k))}else t.moveTo(S+G,C+q),t.arc(S,C,r,w,O,!k);else t.moveTo(S+G,C+q);if(o>g&&$)if(z>g){it=m(D,z),at=m(A,z),ut=y(Y,X,V,H,o,-at,k),st=y(G,q,U,W,o,-it,k);t.lineTo(S+ut.cx+ut.x0,C+ut.cy+ut.y0),z<L&&it===at?t.arc(S+ut.cx,C+ut.cy,z,f(ut.y0,ut.x0),f(st.y0,st.x0),!k):(at>0&&t.arc(S+ut.cx,C+ut.cy,at,f(ut.y0,ut.x0),f(ut.y1,ut.x1),!k),t.arc(S,C,o,f(ut.cy+ut.y1,ut.cx+ut.x1),f(st.cy+st.y1,st.cx+st.x1),k),it>0&&t.arc(S+st.cx,C+st.cy,it,f(st.y1,st.x1),f(st.y0,st.x0),!k))}else t.lineTo(S+Y,C+X),t.arc(S,C,o,O,w,k);else t.lineTo(S+Y,C+X)}else t.moveTo(S,C);t.closePath()}}}var _=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0}return t}(),w=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new _},e.prototype.buildPath=function(t,e){x(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(o["b"]);w.prototype.type="sector";e["a"]=w},"4b2a":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("8702"),o=n("af5c0"),i=n("22b4");function a(t){Object(i["a"])(r["a"]),Object(i["a"])(o["a"])}},"4bc4":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return i});var r=1,o=2,i=4},"4cb5":function(t,e,n){"use strict";var r=n("6d8b"),o=n("9d57"),i=n("fdde"),a=n("7fae"),u=n("3014"),s=n("1830"),c=n("8918"),l=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(a["a"])(e,t),e.prototype.getInitialData=function(){return Object(s["a"])(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Object(c["d"])(u["a"].defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(u["a"]),f=l,d=n("cbe5"),h=n("2dc5"),p=n("2306"),m=n("deab"),g=n("c7a2"),v=n("4aa2"),y=n("861c"),b=n("7d6c"),x=n("7837"),_=n("88b3"),w=n("b0af"),O=n("c2be"),S=n("e887"),C=n("5426"),k=n("c775"),T=n("e86a");function M(t,e){e=e||{};var n=e.isRoundCap;return function(e,r,o){var i=r.position;if(!i||i instanceof Array)return Object(T["c"])(e,r,o);var a=t(i),u=null!=r.distance?r.distance:5,s=this.shape,c=s.cx,l=s.cy,f=s.r,d=s.r0,h=(f+d)/2,p=s.startAngle,m=s.endAngle,g=(p+m)/2,v=n?Math.abs(f-d)/2:0,y=Math.cos,b=Math.sin,x=c+f*y(p),_=l+f*b(p),w="left",O="top";switch(a){case"startArc":x=c+(d-u)*y(g),_=l+(d-u)*b(g),w="center",O="top";break;case"insideStartArc":x=c+(d+u)*y(g),_=l+(d+u)*b(g),w="center",O="bottom";break;case"startAngle":x=c+h*y(p)+A(p,u+v,!1),_=l+h*b(p)+I(p,u+v,!1),w="right",O="middle";break;case"insideStartAngle":x=c+h*y(p)+A(p,-u+v,!1),_=l+h*b(p)+I(p,-u+v,!1),w="left",O="middle";break;case"middle":x=c+h*y(g),_=l+h*b(g),w="center",O="middle";break;case"endArc":x=c+(f+u)*y(g),_=l+(f+u)*b(g),w="center",O="bottom";break;case"insideEndArc":x=c+(f-u)*y(g),_=l+(f-u)*b(g),w="center",O="top";break;case"endAngle":x=c+h*y(m)+A(m,u+v,!0),_=l+h*b(m)+I(m,u+v,!0),w="left",O="middle";break;case"insideEndAngle":x=c+h*y(m)+A(m,-u+v,!0),_=l+h*b(m)+I(m,-u+v,!0),w="right",O="middle";break;default:return Object(T["c"])(e,r,o)}return e=e||{},e.x=x,e.y=_,e.align=w,e.verticalAlign=O,e}}function D(t,e,n,o){if(Object(r["isNumber"])(o))t.setTextConfig({rotation:o});else if(Object(r["isArray"])(e))t.setTextConfig({rotation:0});else{var i,a=t.shape,u=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,c=(u+s)/2,l=n(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":i=c;break;case"startAngle":case"insideStartAngle":i=u;break;case"endAngle":case"insideEndAngle":i=s;break;default:return void t.setTextConfig({rotation:0})}var f=1.5*Math.PI-i;"middle"===l&&f>Math.PI/2&&f<1.5*Math.PI&&(f-=Math.PI),t.setTextConfig({rotation:f})}}function A(t,e,n){return e*Math.sin(t)*(n?-1:1)}function I(t,e,n){return e*Math.cos(t)*(n?1:-1)}var j=Math.max,E=Math.min;function R(t,e){var n=t.getArea&&t.getArea();if(Object(C["a"])(t,"cartesian2d")){var r=t.getBaseAxis();if("category"!==r.type||!r.onBand){var o=e.getLayout("bandWidth");r.isHorizontal()?(n.x-=o,n.width+=2*o):(n.y-=o,n.height+=2*o)}}return n}var N=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return Object(a["a"])(e,t),e.prototype.render=function(t,e,n,r){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var o=t.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,r))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){Object(p["traverseElements"])(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,r){var o,i=this.group,a=t.getData(),u=this._data,s=t.coordinateSystem,c=s.getBaseAxis();"cartesian2d"===s.type?o=c.isHorizontal():"polar"===s.type&&(o="angle"===c.dim);var l=t.isAnimationEnabled()?t:null,f=L(t,s);f&&this._enableRealtimeSort(f,a,n);var d=t.get("clip",!0)||f,p=R(s,a);i.removeClipPath();var g=t.get("roundCap",!0),v=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),b=y.get("borderRadius")||0,_=[],w=this._backgroundEls,O=r&&r.isInitSort,S=r&&"changeAxisOrder"===r.type;function C(t){var e=W[s.type](a,t),n=et(s,o,e);return n.useStyle(y.getItemStyle()),"cartesian2d"===s.type&&n.setShape("r",b),_[t]=n,n}a.diff(u).add(function(e){var n=a.getItemModel(e),r=W[s.type](a,e,n);if(v&&C(e),a.hasValue(e)&&U[s.type](r)){var u=!1;d&&(u=P[s.type](p,r));var h=B[s.type](t,a,e,r,o,l,c.model,!1,g);f&&(h.forceLabelAnimation=!0),Y(h,a,e,n,r,t,o,"polar"===s.type),O?h.attr({shape:r}):f?F(f,l,h,r,e,o,!1,!1):Object(m["c"])(h,{shape:r},t,e),a.setItemGraphicEl(e,h),i.add(h),h.ignore=u}}).update(function(e,n){var r=a.getItemModel(e),h=W[s.type](a,e,r);if(v){var k=void 0;0===w.length?k=C(n):(k=w[n],k.useStyle(y.getItemStyle()),"cartesian2d"===s.type&&k.setShape("r",b),_[e]=k);var T=W[s.type](a,e),M=tt(o,T,s);Object(m["h"])(k,{shape:M},l,e)}var D=u.getItemGraphicEl(n);if(a.hasValue(e)&&U[s.type](h)){var A=!1;if(d&&(A=P[s.type](p,h),A&&i.remove(D)),D?Object(m["g"])(D):D=B[s.type](t,a,e,h,o,l,c.model,!!D,g),f&&(D.forceLabelAnimation=!0),S){var I=D.getTextContent();if(I){var j=Object(x["f"])(I);null!=j.prevValue&&(j.prevValue=j.value)}}else Y(D,a,e,r,h,t,o,"polar"===s.type);O?D.attr({shape:h}):f?F(f,l,D,h,e,o,!0,S):Object(m["h"])(D,{shape:h},t,e,null),a.setItemGraphicEl(e,D),D.ignore=A,i.add(D)}else i.remove(D)}).remove(function(e){var n=u.getItemGraphicEl(e);n&&Object(m["f"])(n,t,e)}).execute();var k=this._backgroundGroup||(this._backgroundGroup=new h["a"]);k.removeAll();for(var T=0;T<_.length;++T)k.add(_[T]);i.add(k),this._backgroundEls=_,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),Z(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),Z(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&Object(w["a"])(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var r=this;if(e.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var i=function(t){var n=e.getItemGraphicEl(t),r=n&&n.shape;return r&&Math.abs(o.isHorizontal()?r.height:r.width)||0};this._onRendered=function(){r._updateSortWithinSameData(e,i,o,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var o=[];return t.each(t.mapDimension(e.dim),function(t,e){var r=n(e);r=null==r?NaN:r,o.push({dataIndex:e,mappedValue:r,ordinalNumber:t})}),o.sort(function(t,e){return e.mappedValue-t.mappedValue}),{ordinalNumbers:Object(r["map"])(o,function(t){return t.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var r=n.scale,o=t.mapDimension(n.dim),i=Number.MAX_VALUE,a=0,u=r.getOrdinalMeta().categories.length;a<u;++a){var s=t.rawIndexOf(o,r.getRawOrdinalNumber(a)),c=s<0?Number.MIN_VALUE:e(t.indexOfRawIndex(s));if(c>i)return!0;i=c}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,r=n.getExtent(),o=Math.max(0,r[0]),i=Math.min(r[1],n.getOrdinalMeta().categories.length-1);o<=i;++o)if(t.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,r){if(this._isOrderChangedWithinSameData(t,e,n)){var o=this._dataSort(t,n,e);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,e,n){var r=e.baseAxis,o=this._dataSort(t,r,function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)});n.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:o})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(e){Object(m["f"])(e,t,Object(y["a"])(e).dataIndex)})):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(S["a"]),P={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var o=t.x+t.width,i=t.y+t.height,a=j(e.x,t.x),u=E(e.x+e.width,o),s=j(e.y,t.y),c=E(e.y+e.height,i),l=u<a,f=c<s;return e.x=l&&a>o?u:a,e.y=f&&s>i?c:s,e.width=l?0:u-a,e.height=f?0:c-s,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),l||f},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var o=E(e.r,t.r),i=j(e.r0,t.r0);e.r=o,e.r0=i;var a=o-i<0;if(n<0){r=e.r;e.r=e.r0,e.r0=r}return a}},B={cartesian2d:function(t,e,n,o,i,a,u,s,c){var l=new g["a"]({shape:Object(r["extend"])({},o),z2:1});if(l.__dataIndex=n,l.name="item",a){var f=l.shape,d=i?"height":"width";f[d]=0}return l},polar:function(t,e,n,r,o,i,a,u,s){var c=!o&&s?O["a"]:v["a"],l=new c({shape:r,z2:1});l.name="item";var f=q(o);if(l.calculateTextPosition=M(f,{isRoundCap:c===O["a"]}),i){var d=l.shape,h=o?"r":"endAngle",p={};d[h]=o?0:r.startAngle,p[h]=r[h],(u?m["h"]:m["c"])(l,{shape:p},i)}return l}};function L(t,e){var n=t.get("realtimeSort",!0),r=e.getBaseAxis();if(n&&"category"===r.type&&"cartesian2d"===e.type)return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function F(t,e,n,r,o,i,a,u){var s,c;i?(c={x:r.x,width:r.width},s={y:r.y,height:r.height}):(c={y:r.y,height:r.height},s={x:r.x,width:r.width}),u||(a?m["h"]:m["c"])(n,{shape:s},e,o,null);var l=e?t.baseAxis.model:null;(a?m["h"]:m["c"])(n,{shape:c},l,o)}function z(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var V=["x","y","width","height"],H=["cx","cy","r","startAngle","endAngle"],U={cartesian2d:function(t){return!z(t,V)},polar:function(t){return!z(t,H)}},W={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),o=n?X(n,r):0,i=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+i*o/2,y:r.y+a*o/2,width:r.width-i*o,height:r.height-a*o}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function G(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function q(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function Y(t,e,n,o,i,a,u,s){var c=e.getItemVisual(n,"style");s||t.setShape("r",o.get(["itemStyle","borderRadius"])||0),t.useStyle(c);var l=o.getShallow("cursor");l&&t.attr("cursor",l);var f=s?u?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":u?i.height>=0?"bottom":"top":i.width>=0?"right":"left",d=Object(x["e"])(o);Object(x["g"])(t,d,{labelFetcher:a,labelDataIndex:n,defaultText:Object(k["b"])(a.getData(),n),inheritColor:c.fill,defaultOpacity:c.opacity,defaultOutsidePosition:f});var h=t.getTextContent();if(s&&h){var p=o.get(["label","position"]);t.textConfig.inside="middle"===p||null,D(t,"outside"===p?f:p,q(u),o.get(["label","rotate"]))}Object(x["h"])(h,d,a.getRawValue(n),function(t){return Object(k["a"])(e,t)});var m=o.getModel(["emphasis"]);Object(b["J"])(t,m.get("focus"),m.get("blurScope"),m.get("disabled")),Object(b["I"])(t,o),G(i)&&(t.style.fill="none",t.style.stroke="none",Object(r["each"])(t.states,function(t){t.style&&(t.style.fill=t.style.stroke="none")}))}function X(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var r=t.get(["itemStyle","borderWidth"])||0,o=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,o,i)}var $=function(){function t(){}return t}(),K=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return Object(a["a"])(e,t),e.prototype.getDefaultShape=function(){return new $},e.prototype.buildPath=function(t,e){for(var n=e.points,r=this.baseDimIdx,o=1-this.baseDimIdx,i=[],a=[],u=this.barWidth,s=0;s<n.length;s+=3)a[r]=u,a[o]=n[s+2],i[r]=n[s+r],i[o]=n[s+o],t.rect(i[0],i[1],a[0],a[1])},e}(d["b"]);function Z(t,e,n,r){var o=t.getData(),i=o.getLayout("valueAxisHorizontal")?1:0,a=o.getLayout("largeDataIndices"),u=o.getLayout("size"),s=t.getModel("backgroundStyle"),c=o.getLayout("largeBackgroundPoints");if(c){var l=new K({shape:{points:c},incremental:!!r,silent:!0,z2:0});l.baseDimIdx=i,l.largeDataIndices=a,l.barWidth=u,l.useStyle(s.getItemStyle()),e.add(l),n&&n.push(l)}var f=new K({shape:{points:o.getLayout("largePoints")},incremental:!!r,z2:1});f.baseDimIdx=i,f.largeDataIndices=a,f.barWidth=u,e.add(f),f.useStyle(o.getVisual("style")),Object(y["a"])(f).seriesIndex=t.seriesIndex,t.get("silent")||(f.on("mousedown",J),f.on("mousemove",J)),n&&n.push(f)}var J=Object(_["c"])(function(t){var e=this,n=Q(e,t.offsetX,t.offsetY);Object(y["a"])(e).dataIndex=n>=0?n:null},30,!1);function Q(t,e,n){for(var r=t.baseDimIdx,o=1-r,i=t.shape.points,a=t.largeDataIndices,u=[],s=[],c=t.barWidth,l=0,f=i.length/3;l<f;l++){var d=3*l;if(s[r]=c,s[o]=i[d+2],u[r]=i[d+r],u[o]=i[d+o],s[o]<0&&(u[o]+=s[o],s[o]=-s[o]),e>=u[0]&&e<=u[0]+s[0]&&n>=u[1]&&n<=u[1]+s[1])return a[l]}return-1}function tt(t,e,n){if(Object(C["a"])(n,"cartesian2d")){var r=e,o=n.getArea();return{x:t?r.x:o.x,y:t?o.y:r.y,width:t?r.width:o.width,height:t?o.height:r.height}}o=n.getArea();var i=e;return{cx:o.cx,cy:o.cy,r0:t?o.r0:i.r0,r:t?o.r:i.r,startAngle:t?i.startAngle:0,endAngle:t?i.endAngle:2*Math.PI}}function et(t,e,n){var r="polar"===t.type?v["a"]:g["a"];return new r({shape:tt(e,n,t),silent:!0,z2:0})}var nt=N;function rt(t){t.registerChartView(nt),t.registerSeriesModel(f),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,r["curry"](o["c"],"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Object(o["a"])("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Object(i["a"])("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)})})}n.d(e,"a",function(){return rt})},"4f85":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("7fae"),o=n("6d8b"),i=n("22d1"),a=n("e0d3"),u=n("6cb7"),s=n("4041"),c=n("38a2"),l=n("f934"),f=n("9fbc"),d=n("625e"),h=n("f72b"),p=n("f6d8"),m=a["o"]();function g(t,e){return t.getName(e)||t.getId(e)}var v="__universalTransitionEnabled",y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return Object(r["a"])(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=Object(f["a"])({count:_,reset:w}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n);var r=m(this).sourceManager=new h["a"](this);r.prepareSource();var o=this.getInitialData(t,n);S(o,this),this.dataTask.context.data=o,m(this).dataBeforeProcessed=o,b(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=Object(l["d"])(this),r=n?Object(l["f"])(t):{},i=this.subType;u["a"].hasClass(i)&&(i+="Series"),o["merge"](t,e.getTheme().get(this.subType)),o["merge"](t,this.getDefaultOption()),a["f"](t,"label",["show"]),this.fillDataTextStyle(t.data),n&&Object(l["h"])(t,r,n)},e.prototype.mergeOption=function(t,e){t=o["merge"](this.option,t,!0),this.fillDataTextStyle(t.data);var n=Object(l["d"])(this);n&&Object(l["h"])(this.option,t,n);var r=m(this).sourceManager;r.dirty(),r.prepareSource();var i=this.getInitialData(t,e);S(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,m(this).dataBeforeProcessed=i,b(this),this._initSelectedMapFromData(i)},e.prototype.fillDataTextStyle=function(t){if(t&&!o["isTypedArray"](t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&a["f"](t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){var e=this.getRawData();e.appendData(t.data)},e.prototype.getData=function(t){var e=k(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return m(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=k(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}m(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return o["createHashMap"](t)},e.prototype.getSourceManager=function(){return m(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return m(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return Object(p["a"])({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(i["a"].node&&(!t||!t.ssr))return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var r=this.ecModel,o=s["a"].prototype.getColorFromPalette.call(this,t,e,n);return o||(o=r.getColorFromPalette(t,e,n)),o},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var r=this.option.selectedMode,o=this.getData(e);if("series"===r||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var i=0;i<t.length;i++){var a=t[i],u=g(o,a);n[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,e){for(var n=[],r=0;r<t.length;r++)n[0]=t[r],this.isSelected(t[r],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=o["keys"](t),n=[],r=0;r<e.length;r++){var i=t[e[r]];i>=0&&n.push(i)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(e);return("all"===n||n[g(r,t)])&&!r.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[v])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,r,i=this.option,a=i.selectedMode,u=e.length;if(a&&u)if("series"===a)i.selectedMap="all";else if("multiple"===a){o["isObject"](i.selectedMap)||(i.selectedMap={});for(var s=i.selectedMap,c=0;c<u;c++){var l=e[c],f=g(t,l);s[f]=!0,this._selectedDataIndicesMap[f]=t.getRawIndex(l)}}else if("single"===a||!0===a){var d=e[u-1];f=g(t,d);i.selectedMap=(n={},n[f]=!0,n),this._selectedDataIndicesMap=(r={},r[f]=t.getRawIndex(d),r)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each(function(n){var r=t.getRawDataItem(n);r&&r.selected&&e.push(n)}),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return u["a"].registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(u["a"]);function b(t){var e=t.name;a["n"](t)||(t.name=x(t)||e)}function x(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return o["each"](n,function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)}),r.join(" ")}function _(t){return t.model.getRawData().count()}function w(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),O}function O(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function S(t,e){o["each"](o["concatArray"](t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,o["curry"](C,e))})}function C(t,e){var n=k(t);return n&&n.setOutputEnd((e||this).count()),e}function k(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var o=r.agentStubMap;o&&(r=o.get(t.uid))}return r}}o["mixin"](y,c["a"]),o["mixin"](y,s["a"]),Object(d["e"])(y,u["a"]),e["b"]=y},"4fac":function(t,e,n){"use strict";var r=n("401b");function o(t,e,n,o){var i,a,u,s,c=[],l=[],f=[],d=[];if(o){u=[1/0,1/0],s=[-1/0,-1/0];for(var h=0,p=t.length;h<p;h++)Object(r["min"])(u,u,t[h]),Object(r["max"])(s,s,t[h]);Object(r["min"])(u,u,o[0]),Object(r["max"])(s,s,o[1])}for(h=0,p=t.length;h<p;h++){var m=t[h];if(n)i=t[h?h-1:p-1],a=t[(h+1)%p];else{if(0===h||h===p-1){c.push(Object(r["clone"])(t[h]));continue}i=t[h-1],a=t[h+1]}Object(r["sub"])(l,a,i),Object(r["scale"])(l,l,e);var g=Object(r["distance"])(m,i),v=Object(r["distance"])(m,a),y=g+v;0!==y&&(g/=y,v/=y),Object(r["scale"])(f,l,-g),Object(r["scale"])(d,l,v);var b=Object(r["add"])([],m,f),x=Object(r["add"])([],m,d);o&&(Object(r["max"])(b,b,u),Object(r["min"])(b,b,s),Object(r["max"])(x,x,u),Object(r["min"])(x,x,s)),c.push(b),c.push(x)}return n&&c.push(c.shift()),c}function i(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=o(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var u=i.length,s=0;s<(n?u:u-1);s++){var c=a[2*s],l=a[2*s+1],f=i[(s+1)%u];t.bezierCurveTo(c[0],c[1],l[0],l[1],f[0],f[1])}}else{t.moveTo(i[0][0],i[0][1]);s=1;for(var d=i.length;s<d;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}n.d(e,"a",function(){return i})},5210:function(t,e,n){"use strict";n.d(e,"c",function(){return x}),n.d(e,"b",function(){return F}),n.d(e,"a",function(){return z});var r=n("19eb"),o=n("20c88"),i=n("5e76"),a=n("3437"),u=n("cbe5"),s=n("0da8"),c=n("dd4f"),l=n("6d8b"),f=n("8d1d"),d=n("4bc4"),h=n("726e"),p=new o["a"](!0);function m(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function g(t){return"string"===typeof t&&"none"!==t}function v(t){var e=t.fill;return null!=e&&"none"!==e}function y(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function b(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function x(t,e,n){var r=Object(i["a"])(e.image,e.__image,n);if(Object(i["c"])(r)){var o=t.createPattern(r,e.repeat||"repeat");if("function"===typeof DOMMatrix&&o&&o.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*l["RADIAN_TO_DEGREE"]),a.scaleSelf(e.scaleX||1,e.scaleY||1),o.setTransform(a)}return o}}function _(t,e,n,r){var o,i=m(n),u=v(n),s=n.strokePercent,c=s<1,l=!e.path;e.silent&&!c||!l||e.createPathProxy();var h=e.path||p,g=e.__dirty;if(!r){var _=n.fill,w=n.stroke,O=u&&!!_.colorStops,S=i&&!!w.colorStops,C=u&&!!_.image,k=i&&!!w.image,T=void 0,M=void 0,D=void 0,A=void 0,I=void 0;(O||S)&&(I=e.getBoundingRect()),O&&(T=g?Object(a["a"])(t,_,I):e.__canvasFillGradient,e.__canvasFillGradient=T),S&&(M=g?Object(a["a"])(t,w,I):e.__canvasStrokeGradient,e.__canvasStrokeGradient=M),C&&(D=g||!e.__canvasFillPattern?x(t,_,e):e.__canvasFillPattern,e.__canvasFillPattern=D),k&&(A=g||!e.__canvasStrokePattern?x(t,w,e):e.__canvasStrokePattern,e.__canvasStrokePattern=D),O?t.fillStyle=T:C&&(D?t.fillStyle=D:u=!1),S?t.strokeStyle=M:k&&(A?t.strokeStyle=A:i=!1)}var j,E,R=e.getGlobalScale();h.setScale(R[0],R[1],e.segmentIgnoreThreshold),t.setLineDash&&n.lineDash&&(o=Object(f["a"])(e),j=o[0],E=o[1]);var N=!0;(l||g&d["b"])&&(h.setDPR(t.dpr),c?h.setContext(null):(h.setContext(t),N=!1),h.reset(),e.buildPath(h,e.shape,r),h.toStatic(),e.pathUpdated()),N&&h.rebuildPath(t,c?s:1),j&&(t.setLineDash(j),t.lineDashOffset=E),r||(n.strokeFirst?(i&&b(t,n),u&&y(t,n)):(u&&y(t,n),i&&b(t,n))),j&&t.setLineDash([])}function w(t,e,n){var r=e.__image=Object(i["a"])(n.image,e.__image,e,e.onload);if(r&&Object(i["c"])(r)){var o=n.x||0,a=n.y||0,u=e.getWidth(),s=e.getHeight(),c=r.width/r.height;if(null==u&&null!=s?u=s*c:null==s&&null!=u?s=u/c:null==u&&null==s&&(u=r.width,s=r.height),n.sWidth&&n.sHeight){var l=n.sx||0,f=n.sy||0;t.drawImage(r,l,f,n.sWidth,n.sHeight,o,a,u,s)}else if(n.sx&&n.sy){l=n.sx,f=n.sy;var d=u-l,h=s-f;t.drawImage(r,l,f,d,h,o,a,u,s)}else t.drawImage(r,o,a,u,s)}}function O(t,e,n){var r,o=n.text;if(null!=o&&(o+=""),o){t.font=n.font||h["a"],t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var i=void 0,a=void 0;t.setLineDash&&n.lineDash&&(r=Object(f["a"])(e),i=r[0],a=r[1]),i&&(t.setLineDash(i),t.lineDashOffset=a),n.strokeFirst?(m(n)&&t.strokeText(o,n.x,n.y),v(n)&&t.fillText(o,n.x,n.y)):(v(n)&&t.fillText(o,n.x,n.y),m(n)&&t.strokeText(o,n.x,n.y)),i&&t.setLineDash([])}}var S=["shadowBlur","shadowOffsetX","shadowOffsetY"],C=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function k(t,e,n,o,i){var a=!1;if(!o&&(n=n||{},e===n))return!1;if(o||e.opacity!==n.opacity){B(t,i),a=!0;var u=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(u)?r["b"].opacity:u}(o||e.blend!==n.blend)&&(a||(B(t,i),a=!0),t.globalCompositeOperation=e.blend||r["b"].blend);for(var s=0;s<S.length;s++){var c=S[s];(o||e[c]!==n[c])&&(a||(B(t,i),a=!0),t[c]=t.dpr*(e[c]||0))}return(o||e.shadowColor!==n.shadowColor)&&(a||(B(t,i),a=!0),t.shadowColor=e.shadowColor||r["b"].shadowColor),a}function T(t,e,n,r,o){var i=L(e,o.inHover),a=r?null:n&&L(n,o.inHover)||{};if(i===a)return!1;var u=k(t,i,a,r,o);if((r||i.fill!==a.fill)&&(u||(B(t,o),u=!0),g(i.fill)&&(t.fillStyle=i.fill)),(r||i.stroke!==a.stroke)&&(u||(B(t,o),u=!0),g(i.stroke)&&(t.strokeStyle=i.stroke)),(r||i.opacity!==a.opacity)&&(u||(B(t,o),u=!0),t.globalAlpha=null==i.opacity?1:i.opacity),e.hasStroke()){var s=i.lineWidth,c=s/(i.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==c&&(u||(B(t,o),u=!0),t.lineWidth=c)}for(var l=0;l<C.length;l++){var f=C[l],d=f[0];(r||i[d]!==a[d])&&(u||(B(t,o),u=!0),t[d]=i[d]||f[1])}return u}function M(t,e,n,r,o){return k(t,L(e,o.inHover),n&&L(n,o.inHover),r,o)}function D(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}function A(t,e,n){for(var r=!1,o=0;o<t.length;o++){var i=t[o];r=r||i.isZeroArea(),D(e,i),e.beginPath(),i.buildPath(e,i.shape),e.clip()}n.allClipped=r}function I(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var j=1,E=2,R=3,N=4;function P(t){var e=v(t),n=m(t);return!(t.lineDash||!(+e^+n)||e&&"string"!==typeof t.fill||n&&"string"!==typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function B(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function L(t,e){return e&&t.__hoverStyle||t.style}function F(t,e){z(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function z(t,e,n,r){var o=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~d["a"],void(e.__isRendered=!1);var i=e.__clipPaths,l=n.prevElClipPaths,f=!1,h=!1;if(l&&!Object(a["c"])(i,l)||(l&&l.length&&(B(t,n),t.restore(),h=f=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),i&&i.length&&(B(t,n),t.save(),A(i,t,n),f=!0),n.prevElClipPaths=i),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var p=n.prevEl;p||(h=f=!0);var m=e instanceof u["b"]&&e.autoBatch&&P(e.style);f||I(o,p.transform)?(B(t,n),D(t,e)):m||B(t,n);var g=L(e,n.inHover);e instanceof u["b"]?(n.lastDrawType!==j&&(h=!0,n.lastDrawType=j),T(t,e,p,h,n),m&&(n.batchFill||n.batchStroke)||t.beginPath(),_(t,e,g,m),m&&(n.batchFill=g.fill||"",n.batchStroke=g.stroke||"")):e instanceof c["a"]?(n.lastDrawType!==R&&(h=!0,n.lastDrawType=R),T(t,e,p,h,n),O(t,e,g)):e instanceof s["a"]?(n.lastDrawType!==E&&(h=!0,n.lastDrawType=E),M(t,e,p,h,n),w(t,e,g)):e.getTemporalDisplayables&&(n.lastDrawType!==N&&(h=!0,n.lastDrawType=N),V(t,e,n)),m&&r&&B(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}function V(t,e,n){var r=e.getDisplayables(),o=e.getTemporalDisplayables();t.save();var i,a,u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(i=e.getCursor(),a=r.length;i<a;i++){var s=r[i];s.beforeBrush&&s.beforeBrush(),s.innerBeforeBrush(),z(t,s,u,i===a-1),s.innerAfterBrush(),s.afterBrush&&s.afterBrush(),u.prevEl=s}for(var c=0,l=o.length;c<l;c++){s=o[c];s.beforeBrush&&s.beforeBrush(),s.innerBeforeBrush(),z(t,s,u,c===l-1),s.innerAfterBrush(),s.afterBrush&&s.afterBrush(),u.prevEl=s}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}},"538f":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6d8b"),o=n("e86a"),i=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",!0);Object(r["isFunction"])(a)?this._modelMinNum=c(t,a({min:n[0],max:n[1]})):"dataMin"!==a&&(this._modelMinNum=c(t,a));var u=this._modelMaxRaw=e.get("max",!0);if(Object(r["isFunction"])(u)?this._modelMaxNum=c(t,u({min:n[0],max:n[1]})):"dataMax"!==u&&(this._modelMaxNum=c(t,u)),i)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),l=Object(r["isArray"])(s)?s:[s||0,s||0];"boolean"===typeof l[0]||"boolean"===typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Object(o["g"])(l[0],1),Object(o["g"])(l[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,o=this._axisDataLen,i=this._boundaryGapInner,a=t?null:n-e||Math.abs(e),u="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,c=null!=u,l=null!=s;null==u&&(u=t?o?0:NaN:e-i[0]*a),null==s&&(s=t?o?o-1:NaN:n+i[1]*a),(null==u||!isFinite(u))&&(u=NaN),(null==s||!isFinite(s))&&(s=NaN);var f=Object(r["eqNaN"])(u)||Object(r["eqNaN"])(s)||t&&!o;this._needCrossZero&&(u>0&&s>0&&!c&&(u=0),u<0&&s<0&&!l&&(s=0));var d=this._determinedMin,h=this._determinedMax;return null!=d&&(u=d,c=!0),null!=h&&(s=h,l=!0),{min:u,max:s,minFixed:c,maxFixed:l,isBlank:f}},t.prototype.modifyDataMinMax=function(t,e){this[u[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=a[t];this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),a={min:"_determinedMin",max:"_determinedMax"},u={min:"_dataMin",max:"_dataMax"};function s(t,e,n){var r=t.rawExtentInfo;return r||(r=new i(t,e,n),t.rawExtentInfo=r,r)}function c(t,e){return null==e?null:Object(r["eqNaN"])(e)?NaN:t.parse(e)}},5426:function(t,e,n){"use strict";function r(t,e){return t.type===e}n.d(e,"a",function(){return r})},"551f":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("282b"),o=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],i=Object(r["a"])(o),a=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return i(this,t,e)},t}()},"58c9":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});var r={};function o(t,e){r[t]=e}function i(t){return r[t]}},"58df":function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s});var r=n("6d8b"),o=n("c7a2"),i=n("e0d3"),a=Object(i["o"])();function u(t,e,n,i){var u=n.axis;if(!u.scale.isBlank()){var s=n.getModel("splitArea"),c=s.getModel("areaStyle"),l=c.get("color"),f=i.coordinateSystem.getRect(),d=u.getTicksCoords({tickModel:s,clamp:!0});if(d.length){var h=l.length,p=a(t).splitAreaColors,m=r["createHashMap"](),g=0;if(p)for(var v=0;v<d.length;v++){var y=p.get(d[v].tickValue);if(null!=y){g=(y+(h-1)*v)%h;break}}var b=u.toGlobalCoord(d[0].coord),x=c.getAreaStyle();l=r["isArray"](l)?l:[l];for(v=1;v<d.length;v++){var _=u.toGlobalCoord(d[v].coord),w=void 0,O=void 0,S=void 0,C=void 0;u.isHorizontal()?(w=b,O=f.y,S=_-w,C=f.height,b=w+S):(w=f.x,O=b,S=f.width,C=_-O,b=O+C);var k=d[v-1].tickValue;null!=k&&m.set(k,g),e.add(new o["a"]({anid:null!=k?"area_"+k:null,shape:{x:w,y:O,width:S,height:C},style:r["defaults"]({fill:l[g]},x),autoBatch:!0,silent:!0})),g=(g+1)%h}a(t).splitAreaColors=m}}}function s(t){a(t).splitAreaColors=null}},"5e76":function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return c});var r=n("d51b"),o=n("726e"),i=new r["a"](50);function a(t){if("string"===typeof t){var e=i.get(t);return e&&e.image}return t}function u(t,e,n,r,a){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var u=i.get(t),l={hostEl:n,cb:r,cbPayload:a};if(u)e=u.image,!c(e)&&u.pending.push(l);else{var f=o["d"].loadImage(t,s,s);f.__zrImageSrc=t,i.put(t,f.__cachedImgObj={image:f,pending:[l]})}return e}return t}return e}function s(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function c(t){return t&&t.width&&t.height}},"5e81":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("7fae"),o=n("6cb7"),i=n("b12f"),a=n("07fd"),u=n("f72b"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(r["a"])(e,t),e.prototype.init=function(e,n,r){t.prototype.init.call(this,e,n,r),this._sourceManager=new u["a"](this),Object(u["b"])(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Object(u["b"])(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:a["a"]},e}(o["a"]),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(r["a"])(e,t),e.type="dataset",e}(i["a"]);function l(t){t.registerComponentModel(s),t.registerComponentView(c)}},"5f14":function(t,e,n){"use strict";var r=n("6d8b"),o=n("41ef"),i=n("3842"),a=(n("edae"),r["each"]),u=r["isObject"],s=-1,c=function(){function t(e){var n=e.mappingMethod,o=e.type,i=this.option=r["clone"](e);this.type=o,this.mappingMethod=n,this._normalizeData=_[n];var a=t.visualHandlers[o];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],"piecewise"===n?(d(i),l(i)):"category"===n?i.categories?f(i):d(i,!0):(r["assert"]("linear"!==n||i.dataExtent),d(i))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return r["bind"](this._normalizeData,this)},t.listVisualTypes=function(){return r["keys"](t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){r["isObject"](t)?r["each"](t,e,n):e.call(n,t)},t.mapVisual=function(e,n,o){var i,a=r["isArray"](e)?[]:r["isObject"](e)?{}:(i=!0,null);return t.eachVisual(e,function(t,e){var r=n.call(o,t,e);i?a=r:a[e]=r}),a},t.retrieveVisuals=function(e){var n,r={};return e&&a(t.visualHandlers,function(t,o){e.hasOwnProperty(o)&&(r[o]=e[o],n=!0)}),n?r:null},t.prepareVisualTypes=function(t){if(r["isArray"](t))t=t.slice();else{if(!u(t))return[];var e=[];a(t,function(t,n){e.push(n)}),t=e}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var o,i=1/0,a=0,u=e.length;a<u;a++){var s=e[a].value;if(null!=s){if(s===t||r["isString"](s)&&s===t+"")return a;n&&d(s,a)}}for(a=0,u=e.length;a<u;a++){var c=e[a],l=c.interval,f=c.close;if(l){if(l[0]===-1/0){if(w(f[1],t,l[1]))return a}else if(l[1]===1/0){if(w(f[0],l[0],t))return a}else if(w(f[0],l[0],t)&&w(f[1],t,l[1]))return a;n&&d(l[0],a),n&&d(l[1],a)}}if(n)return t===1/0?e.length-1:t===-1/0?0:o;function d(e,n){var r=Math.abs(e-t);r<i&&(i=r,o=n)}},t.visualHandlers={color:{applyVisual:m("color"),getColorMapper:function(){var t=this.option;return r["bind"]("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),g.call(this,t)}:function(e,n,r){var i=!!r;return!n&&(e=this._normalizeData(e)),r=o["fastLerp"](e,t.parsedVisual,r),i?r:o["stringify"](r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return o["stringify"](o["fastLerp"](t,this.option.parsedVisual),"rgba")},category:g,piecewise:function(t,e){var n=b.call(this,e);return null==n&&(n=o["stringify"](o["fastLerp"](t,this.option.parsedVisual),"rgba")),n},fixed:v}},colorHue:h(function(t,e){return o["modifyHSL"](t,e)}),colorSaturation:h(function(t,e){return o["modifyHSL"](t,null,e)}),colorLightness:h(function(t,e){return o["modifyHSL"](t,null,null,e)}),colorAlpha:h(function(t,e){return o["modifyAlpha"](t,e)}),decal:{applyVisual:m("decal"),_normalizedToVisual:{linear:null,category:g,piecewise:null,fixed:null}},opacity:{applyVisual:m("opacity"),_normalizedToVisual:y([0,1])},liftZ:{applyVisual:m("liftZ"),_normalizedToVisual:{linear:v,category:v,piecewise:v,fixed:v}},symbol:{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);n("symbol",r)},_normalizedToVisual:{linear:p,category:g,piecewise:function(t,e){var n=b.call(this,e);return null==n&&(n=p.call(this,t)),n},fixed:v}},symbolSize:{applyVisual:m("symbolSize"),_normalizedToVisual:y([0,1])}},t}();function l(t){var e=t.pieceList;t.hasSpecialVisual=!1,r["each"](e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}function f(t){var e=t.categories,n=t.categoryMap={},o=t.visual;if(a(e,function(t,e){n[t]=e}),!r["isArray"](o)){var i=[];r["isObject"](o)?a(o,function(t,e){var r=n[e];i[null!=r?r:s]=t}):i[s]=o,o=x(t,i)}for(var u=e.length-1;u>=0;u--)null==o[u]&&(delete n[e[u]],e.pop())}function d(t,e){var n=t.visual,o=[];r["isObject"](n)?a(n,function(t){o.push(t)}):null!=n&&o.push(n);var i={color:1,symbol:1};e||1!==o.length||i.hasOwnProperty(t.type)||(o[1]=o[0]),x(t,o)}function h(t){return{applyVisual:function(e,n,r){var o=this.mapValueToVisual(e);r("color",t(n("color"),o))},_normalizedToVisual:y([0,1])}}function p(t){var e=this.option.visual;return e[Math.round(Object(i["l"])(t,[0,1],[0,e.length-1],!0))]||{}}function m(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function g(t){var e=this.option.visual;return e[this.option.loop&&t!==s?t%e.length:t]}function v(){return this.option.visual[0]}function y(t){return{linear:function(e){return Object(i["l"])(e,t,this.option.visual,!0)},category:g,piecewise:function(e,n){var r=b.call(this,n);return null==r&&(r=Object(i["l"])(e,t,this.option.visual,!0)),r},fixed:v}}function b(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=c.findPieceIndex(t,n),o=n[r];if(o&&o.visual)return o.visual[this.type]}}function x(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=r["map"](e,function(t){var e=o["parse"](t);return e||[0,0,0,1]})),e}var _={linear:function(t){return Object(i["l"])(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=c.findPieceIndex(t,e,!0);if(null!=n)return Object(i["l"])(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?s:e},fixed:r["noop"]};function w(t,e,n){return t?e<=n:e<n}e["a"]=c},"607d":function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"c",function(){return l}),n.d(e,"e",function(){return f}),n.d(e,"a",function(){return h}),n.d(e,"f",function(){return p}),n.d(e,"g",function(){return m}),n.d(e,"d",function(){return g});var r=n("22d1"),o=n("65ed"),i=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,a=[],u=r["a"].browser.firefox&&+r["a"].browser.version.split(".")[0]<39;function s(t,e,n,r){return n=n||{},r?c(t,e,n):u&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):c(t,e,n),n}function c(t,e,n){if(r["a"].domSupported&&t.getBoundingClientRect){var i=e.clientX,u=e.clientY;if(Object(o["a"])(t)){var s=t.getBoundingClientRect();return n.zrX=i-s.left,void(n.zrY=u-s.top)}if(Object(o["b"])(a,t,i,u))return n.zrX=a[0],void(n.zrY=a[1])}n.zrX=n.zrY=0}function l(t){return t||window.event}function f(t,e,n){if(e=l(e),null!=e.zrX)return e;var r=e.type,o=r&&r.indexOf("touch")>=0;if(o){var a="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];a&&s(t,a,e,n)}else{s(t,e,e,n);var u=d(e);e.zrDelta=u?u/120:-(e.detail||0)/3}var c=e.button;return null==e.which&&void 0!==c&&i.test(e.type)&&(e.which=1&c?1:2&c?3:4&c?2:0),e}function d(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(null==n||null==r)return e;var o=0!==r?Math.abs(r):Math.abs(n),i=r>0?-1:r<0?1:n>0?-1:1;return 3*o*i}function h(t,e,n,r){t.addEventListener(e,n,r)}function p(t,e,n,r){t.removeEventListener(e,n,r)}var m=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function g(t){return 2===t.which||3===t.which}},"60e3":function(t,e,n){"use strict";var r=n("6d8b"),o={get:function(t,e,n){var o=r["clone"]((i[t]||{})[e]);return n&&r["isArray"](o)?o[o.length-1]:o}},i={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};e["a"]=o},"625e":function(t,e,n){"use strict";n.d(e,"f",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"e",function(){return h}),n.d(e,"a",function(){return m}),n.d(e,"c",function(){return y});var r=n("7fae"),o=n("6d8b"),i=".",a="___EC__COMPONENT__CONTAINER___",u="___EC__EXTENDED_CLASS___";function s(t){var e={main:"",sub:""};if(t){var n=t.split(i);e.main=n[0]||"",e.sub=n[1]||""}return e}function c(t){o["assert"](/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function l(t){return!(!t||!t[u])}function f(t,e){t.$constructor=t,t.extend=function(t){var e,n=this;return d(n)?e=function(t){function e(){return t.apply(this,arguments)||this}return Object(r["a"])(e,t),e}(n):(e=function(){(t.$constructor||n).apply(this,arguments)},o["inherits"](e,this)),o["extend"](e.prototype,t),e[u]=!0,e.extend=this.extend,e.superCall=g,e.superApply=v,e.superClass=n,e}}function d(t){return o["isFunction"](t)&&/^class\s/.test(Function.prototype.toString.call(t))}function h(t,e){t.extend=e.extend}var p=Math.round(10*Math.random());function m(t){var e=["__\0is_clz",p++].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function g(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function v(t,e,n){return this.superClass.prototype[e].apply(t,n)}function y(t){var e={};function n(t){var n=e[t.main];return n&&n[a]||(n=e[t.main]={},n[a]=!0),n}t.registerClass=function(t){var r=t.type||t.prototype.type;if(r){c(r),t.prototype.type=r;var o=s(r);if(o.sub){if(o.sub!==a){var i=n(o);i[o.sub]=t}}else e[o.main]=t}return t},t.getClass=function(t,n,r){var o=e[t];if(o&&o[a]&&(o=n?o[n]:null),r&&!o)throw new Error(n?"Component "+t+"."+(n||"")+" is used but not imported.":t+".type should be specified.");return o},t.getClassesByMainType=function(t){var n=s(t),r=[],i=e[n.main];return i&&i[a]?o["each"](i,function(t,e){e!==a&&r.push(t)}):r.push(i),r},t.hasClass=function(t){var n=s(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return o["each"](e,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){var n=s(t),r=e[n.main];return r&&r[a]}}},"65ed":function(t,e,n){"use strict";var r=n("22d1"),o=Math.log(2);function i(t,e,n,r,a,u){var s=r+"-"+a,c=t.length;if(u.hasOwnProperty(s))return u[s];if(1===e){var l=Math.round(Math.log((1<<c)-1&~a)/o);return t[n][l]}var f=r|1<<n,d=n+1;while(r&1<<d)d++;for(var h=0,p=0,m=0;p<c;p++){var g=1<<p;g&a||(h+=(m%2?-1:1)*t[n][p]*i(t,e-1,d,f,a|g,u),m++)}return u[s]=h,h}function a(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},o=i(n,8,0,0,0,r);if(0!==o){for(var a=[],u=0;u<8;u++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((u+s)%2?-1:1)*i(n,7,0===u?1:0,1<<u,1<<s,r)/o*e[u];return function(t,e,n){var r=e*a[6]+n*a[7]+1;t[0]=(e*a[0]+n*a[1]+a[2])/r,t[1]=(e*a[3]+n*a[4]+a[5])/r}}}n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var u="___zrEVENTSAVED",s=[];function c(t,e,n,r,o){return l(s,e,r,o,!0)&&l(t,n,s[0],s[1])}function l(t,e,n,o,i){if(e.getBoundingClientRect&&r["a"].domSupported&&!h(e)){var a=e[u]||(e[u]={}),s=f(e,a),c=d(s,a,i);if(c)return c(t,n,o),!0}return!1}function f(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],o=["top","bottom"],i=0;i<4;i++){var a=document.createElement("div"),u=a.style,s=i%2,c=(i>>1)%2;u.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[s]+":0",o[c]+":0",r[1-s]+":auto",o[1-c]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}function d(t,e,n){for(var r=n?"invTrans":"trans",o=e[r],i=e.srcCoords,u=[],s=[],c=!0,l=0;l<4;l++){var f=t[l].getBoundingClientRect(),d=2*l,h=f.left,p=f.top;u.push(h,p),c=c&&i&&h===i[d]&&p===i[d+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return c&&o?o:(e.srcCoords=u,e[r]=n?a(s,u):a(u,s))}function h(t){return"CANVAS"===t.nodeName.toUpperCase()}},6679:function(t,e,n){"use strict";var r=n("7fae"),o=n("cd33"),i=n("b12f"),a={},u=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r["a"])(e,t),e.prototype.render=function(e,n,r,i){this.axisPointerClass&&o["b"](e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},e.prototype.updateAxisPointer=function(t,e,n,r){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,r){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var a=o["d"](t);a?(this._axisPointer||(this._axisPointer=new i)).render(t,a,n,r):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){a[t]=e},e.getAxisPointerClass=function(t){return t&&a[t]},e.type="axis",e}(i["a"]);e["a"]=u},"68ab":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("4a3f");function o(t,e,n,o,i,a,u,s,c){if(0===u)return!1;var l=u;if(c>e+l&&c>o+l&&c>a+l||c<e-l&&c<o-l&&c<a-l||s>t+l&&s>n+l&&s>i+l||s<t-l&&s<n-l&&s<i-l)return!1;var f=Object(r["l"])(t,e,n,o,i,a,s,c,null);return f<=l/2}},"697e":function(t,e,n){"use strict";var r=n("6d8b"),o=n("18c0"),i=n("89e3"),a=n("e0d8"),u=n("9d57"),s=n("9850"),c=n("216a"),l=n("7fae"),f=n("3842"),d=n("944e"),h=a["a"].prototype,p=i["a"].prototype,m=f["v"],g=Math.floor,v=Math.ceil,y=Math.pow,b=Math.log,x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new i["a"],e._interval=0,e}return Object(l["a"])(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,o=e.getExtent(),i=p.getTicks.call(this,t);return r["map"](i,function(t){var e=t.value,r=f["v"](y(this.base,e));return r=e===n[0]&&this._fixMin?w(r,o[0]):r,r=e===n[1]&&this._fixMax?w(r,o[1]):r,{value:r}},this)},e.prototype.setExtent=function(t,e){var n=this.base;t=b(t)/b(n),e=b(e)/b(n),p.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=h.getExtent.call(this);e[0]=y(t,e[0]),e[1]=y(t,e[1]);var n=this._originalScale,r=n.getExtent();return this._fixMin&&(e[0]=w(e[0],r[0])),this._fixMax&&(e[1]=w(e[1],r[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=b(t[0])/b(e),t[1]=b(t[1])/b(e),h.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=f["r"](n),o=t/n*r;o<=.5&&(r*=10);while(!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0)r*=10;var i=[f["v"](v(e[0]/r)*r),f["v"](g(e[1]/r)*r)];this._interval=r,this._niceExtent=i}},e.prototype.calcNiceExtent=function(t){p.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=b(t)/b(this.base),d["a"](t,this._extent)},e.prototype.normalize=function(t){return t=b(t)/b(this.base),d["f"](t,this._extent)},e.prototype.scale=function(t){return t=d["g"](t,this._extent),y(this.base,t)},e.type="log",e}(a["a"]),_=x.prototype;function w(t,e){return m(t,f["g"](e))}_.getMinorTicks=p.getMinorTicks,_.getLabel=p.getLabel,a["a"].registerClass(x);var O=x,S=n("ee1a"),C=n("538f");function k(t,e){var n=t.type,o=Object(C["a"])(t,e,t.getExtent()).calculate();t.setBlank(o.isBlank);var i=o.min,a=o.max,s=e.ecModel;if(s&&"time"===n){var c=Object(u["e"])("bar",s),l=!1;if(r["each"](c,function(t){l=l||t.getBaseAxis()===e.axis}),l){var f=Object(u["d"])(c),d=T(i,a,e,f);i=d.min,a=d.max}}return{extent:[i,a],fixMin:o.minFixed,fixMax:o.maxFixed}}function T(t,e,n,o){var i=n.axis.getExtent(),a=i[1]-i[0],s=Object(u["f"])(o,n.axis);if(void 0===s)return{min:t,max:e};var c=1/0;r["each"](s,function(t){c=Math.min(t.offset,c)});var l=-1/0;r["each"](s,function(t){l=Math.max(t.offset+t.width,l)}),c=Math.abs(c),l=Math.abs(l);var f=c+l,d=e-t,h=1-(c+l)/a,p=d/h-d;return e+=p*(l/f),t-=p*(c/f),{min:t,max:e}}function M(t,e){var n=e,r=k(t,n),o=r.extent,i=n.get("splitNumber");t instanceof O&&(t.base=n.get("logBase"));var a=t.type,u=n.get("interval"),s="interval"===a||"time"===a;t.setExtent(o[0],o[1]),t.calcNiceExtent({splitNumber:i,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:s?n.get("minInterval"):null,maxInterval:s?n.get("maxInterval"):null}),null!=u&&t.setInterval&&t.setInterval(u)}function D(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new o["a"]({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new c["a"]({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(a["a"].getClass(e)||i["a"])}}function A(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function I(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?function(e){return function(n,r){return t.scale.getFormattedLabel(n,r,e)}}(e):r["isString"](e)?function(e){return function(n){var r=t.scale.getLabel(n),o=e.replace("{value}",null!=r?r:"");return o}}(e):r["isFunction"](e)?function(e){return function(r,o){return null!=n&&(o=r.value-n),e(j(t,r),o,null!=r.level?{level:r.level}:null)}}(e):function(e){return t.scale.getLabel(e)}}function j(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function E(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var r,i,a=n.getExtent();n instanceof o["a"]?i=n.count():(r=n.getTicks(),i=r.length);var u,s=t.getLabelModel(),c=I(t),l=1;i>40&&(l=Math.ceil(i/40));for(var f=0;f<i;f+=l){var d=r?r[f]:{value:a[0]+f},h=c(d,f),p=s.getTextRect(h),m=R(p,s.get("rotate")||0);u?u.union(m):u=m}return u}}function R(t,e){var n=e*Math.PI/180,r=t.width,o=t.height,i=r*Math.abs(Math.cos(n))+Math.abs(o*Math.sin(n)),a=r*Math.abs(Math.sin(n))+Math.abs(o*Math.cos(n)),u=new s["a"](t.x,t.y,i,a);return u}function N(t){var e=t.get("interval");return null==e?"auto":e}function P(t){return"category"===t.type&&0===N(t.getLabelModel())}function B(t,e){var n={};return r["each"](t.mapDimensionsAll(e),function(e){n[Object(S["b"])(t,e)]=!0}),r["keys"](n)}function L(t,e,n){e&&r["each"](B(e,n),function(n){var r=e.getApproximateExtent(n);r[0]<t[0]&&(t[0]=r[0]),r[1]>t[1]&&(t[1]=r[1])})}n.d(e,"f",function(){return k}),n.d(e,"i",function(){return M}),n.d(e,"a",function(){return D}),n.d(e,"g",function(){return A}),n.d(e,"h",function(){return I}),n.d(e,"c",function(){return j}),n.d(e,"b",function(){return E}),n.d(e,"e",function(){return N}),n.d(e,"j",function(){return P}),n.d(e,"d",function(){return B}),n.d(e,"k",function(){return L})},"697e7":function(t,e,n){"use strict";n.r(e);var r=n("22d1"),o=n("6d8b"),i=n("21a1"),a=n("401b"),u=function(){function t(t,e){this.target=t,this.topTarget=e&&e.topTarget}return t}(),s=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){var e=t.target;while(e&&!e.draggable)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new u(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,o=n-this._x,i=r-this._y;this._x=n,this._y=r,e.drift(o,i,t),this.handler.dispatchToElement(new u(e,t),"drag",t.event);var a=this.handler.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new u(s,t),"dragleave",t.event),a&&a!==s&&this.handler.dispatchToElement(new u(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new u(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new u(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),c=s,l=n("6fd3"),f=n("607d"),d=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},i=0,a=r.length;i<a;i++){var u=r[i],s=f["b"](n,u,{});o.points.push([s.zrX,s.zrY]),o.touches.push(u)}this._track.push(o)}},t.prototype._recognize=function(t){for(var e in m)if(m.hasOwnProperty(e)){var n=m[e](this._track,t);if(n)return n}},t}();function h(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function p(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var m={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,o=(t[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var i=h(r)/h(o);!isFinite(i)&&(i=1),e.pinchScale=i;var a=p(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}},g="silent";function v(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:y}}function y(){f["g"](this.event)}var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return Object(i["a"])(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(l["a"]),x=function(){function t(t,e){this.x=t,this.y=e}return t}(),_=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],w=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i._hovered=new x(0,0),i.storage=e,i.painter=n,i.painterRoot=o,r=r||new b,i.proxy=null,i.setHandlerProxy(r),i._draggingMgr=new c(i),i}return Object(i["a"])(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(o["each"](_,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,r=S(this,e,n),o=this._hovered,i=o.target;i&&!i.__zr&&(o=this.findHover(o.x,o.y),i=o.target);var a=this._hovered=r?new x(e,n):this.findHover(e,n),u=a.target,s=this.proxy;s.setCursor&&s.setCursor(u?u.cursor:"default"),i&&u!==i&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(a,"mousemove",t),u&&u!==i&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new x(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){t=t||{};var r=t.target;if(!r||!r.silent){var o="on"+e,i=v(e,t,n);while(r)if(r[o]&&(i.cancelBubble=!!r[o].call(r,i)),r.trigger(e,i),r=r.__hostTarget?r.__hostTarget:r.parent,i.cancelBubble)break;i.cancelBubble||(this.trigger(e,i),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(t){"function"===typeof t[o]&&t[o].call(t,i),t.trigger&&t.trigger(e,i)}))}},e.prototype.findHover=function(t,e,n){for(var r=this.storage.getDisplayList(),o=new x(t,e),i=r.length-1;i>=0;i--){var a=void 0;if(r[i]!==n&&!r[i].ignore&&(a=O(r[i],t,e))&&(!o.topTarget&&(o.topTarget=r[i]),a!==g)){o.target=r[i];break}}return o},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new d);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var o=r.type;t.gestureEvent=o;var i=new x;i.target=r.target,this.dispatchToElement(i,o,r.event)}},e}(l["a"]);function O(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){var r=t,o=void 0,i=!1;while(r){if(r.ignoreClip&&(i=!0),!i){var a=r.getClipPath();if(a&&!a.contain(e,n))return!1;r.silent&&(o=!0)}var u=r.__hostTarget;r=u||r.parent}return!o||g}return!1}function S(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}o["each"](["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){w.prototype[t]=function(e){var n,r,o=e.zrX,i=e.zrY,u=S(this,o,i);if("mouseup"===t&&u||(n=this.findHover(o,i),r=n.target),"mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||a["dist"](this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}});var C=w,k=n("04f6"),T=n("4bc4"),M=!1;function D(){M||(M=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function A(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var I=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=A}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Object(k["a"])(n,A)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];var o=r,i=t;while(o)o.parent=i,o.updateTransform(),e.push(o),i=o,o=o.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),u=0;u<a.length;u++){var s=a[u];t.__dirty&&(s.__dirty|=T["a"]),this._updateAndAddDisplayable(s,e,n)}t.__dirty=0}else{var c=t;e&&e.length?c.__clipPaths=e:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(D(),c.z=0),isNaN(c.z2)&&(D(),c.z2=0),isNaN(c.zlevel)&&(D(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var l=t.getDecalElement&&t.getDecalElement();l&&this._updateAndAddDisplayable(l,e,n);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,e,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var r=o["indexOf"](this._roots,t);r>=0&&this._roots.splice(r,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),j=I,E=n("98b7"),R=n("06ad");function N(){return(new Date).getTime()}var P=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return Object(i["a"])(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){var e=N()-this._pausedTime,n=e-this._time,r=this._head;while(r){var o=r.next,i=r.step(e,n);i?(r.ondestroy(),this.removeClip(r),r=o):r=o}this._time=e,t||(this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;function e(){t._running&&(Object(E["a"])(e),!t._paused&&t.update())}this._running=!0,Object(E["a"])(e)},e.prototype.start=function(){this._running||(this._time=N(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=N(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=N()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){var t=this._head;while(t){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new R["b"](t,e.loop);return this.addAnimator(n),n},e}(l["a"]),B=P,L=300,F=r["a"].domSupported,z=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=o["map"](t,function(t){var e=t.replace("mouse","pointer");return n.hasOwnProperty(e)?e:t});return{mouse:t,touch:e,pointer:r}}(),V={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},H=!1;function U(t){var e=t.pointerType;return"pen"===e||"touch"===e}function W(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function G(t){t&&(t.zrByTouch=!0)}function q(t,e){return Object(f["e"])(t.dom,new X(t,e),!0)}function Y(t,e){var n=e,r=!1;while(n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot))n=n.parentNode;return r}var X=function(){function t(t,e){this.stopPropagation=o["noop"],this.stopImmediatePropagation=o["noop"],this.preventDefault=o["noop"],this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return t}(),$={mousedown:function(t){t=Object(f["e"])(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Object(f["e"])(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Object(f["e"])(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Object(f["e"])(this.dom,t);var e=t.toElement||t.relatedTarget;Y(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){H=!0,t=Object(f["e"])(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){H||(t=Object(f["e"])(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=Object(f["e"])(this.dom,t),G(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),$.mousemove.call(this,t),$.mousedown.call(this,t)},touchmove:function(t){t=Object(f["e"])(this.dom,t),G(t),this.handler.processGesture(t,"change"),$.mousemove.call(this,t)},touchend:function(t){t=Object(f["e"])(this.dom,t),G(t),this.handler.processGesture(t,"end"),$.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<L&&$.click.call(this,t)},pointerdown:function(t){$.mousedown.call(this,t)},pointermove:function(t){U(t)||$.mousemove.call(this,t)},pointerup:function(t){$.mouseup.call(this,t)},pointerout:function(t){U(t)||$.mouseout.call(this,t)}};o["each"](["click","dblclick","contextmenu"],function(t){$[t]=function(e){e=Object(f["e"])(this.dom,e),this.trigger(t,e)}});var K={pointermove:function(t){U(t)||K.mousemove.call(this,t)},pointerup:function(t){K.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Z(t,e){var n=e.domHandlers;r["a"].pointerEventsSupported?o["each"](z.pointer,function(r){Q(e,r,function(e){n[r].call(t,e)})}):(r["a"].touchEventsSupported&&o["each"](z.touch,function(r){Q(e,r,function(o){n[r].call(t,o),W(e)})}),o["each"](z.mouse,function(r){Q(e,r,function(o){o=Object(f["c"])(o),e.touching||n[r].call(t,o)})}))}function J(t,e){function n(n){function r(r){r=Object(f["c"])(r),Y(t,r.target)||(r=q(t,r),e.domHandlers[n].call(t,r))}Q(e,n,r,{capture:!0})}r["a"].pointerEventsSupported?o["each"](V.pointer,n):r["a"].touchEventsSupported||o["each"](V.mouse,n)}function Q(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,Object(f["a"])(t.domTarget,e,n,r)}function tt(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&Object(f["f"])(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var et=function(){function t(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return t}(),nt=function(t){function e(e,n){var r=t.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new et(e,$),F&&(r._globalHandlerScope=new et(document,K)),Z(r,r._localHandlerScope),r}return Object(i["a"])(e,t),e.prototype.dispose=function(){tt(this._localHandlerScope),F&&tt(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,F&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?J(this,e):tt(e)}},e}(l["a"]),rt=nt,ot=n("41ef"),it=n("2cf4"),at=n("2dc5");n.d(e,"init",function(){return dt}),n.d(e,"dispose",function(){return ht}),n.d(e,"disposeAll",function(){return pt}),n.d(e,"getInstance",function(){return mt}),n.d(e,"registerPainter",function(){return gt}),n.d(e,"version",function(){return vt});
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var ut={},st={};function ct(t){delete st[t]}function lt(t){if(!t)return!1;if("string"===typeof t)return Object(ot["lum"])(t,1)<it["b"];if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,o=0;o<r;o++)n+=Object(ot["lum"])(e[o].color,1);return n/=r,n<it["b"]}return!1}var ft=function(){function t(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new j,u=n.renderer||"canvas";ut[u]||(u=o["keys"](ut)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var s=new ut[u](e,a,n,t),c=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var l=r["a"].node||r["a"].worker||c?null:new rt(s.getViewportRoot(),s.root);this.handler=new C(a,s,l,s.root),this.animation=new B({stage:{update:c?null:function(){return i._flush(!0)}}}),c||this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=lt(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=N();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=N();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof at["a"]&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,ct(this.id)},t}();function dt(t,e){var n=new ft(o["guid"](),t,e);return st[n.id]=n,n}function ht(t){t.dispose()}function pt(){for(var t in st)st.hasOwnProperty(t)&&st[t].dispose();st={}}function mt(t){return st[t]}function gt(t,e){ut[t]=e}var vt="5.3.0"},"6cb7":function(t,e,n){"use strict";var r=n("7fae"),o=n("6d8b"),i=n("4319"),a=n("8918"),u=n("625e"),s=n("e0d3"),c=n("f934"),l=Object(s["o"])(),f=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.uid=a["c"]("ec_cpt_model"),o}return Object(r["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=c["d"](this),r=n?c["f"](t):{},i=e.getTheme();o["merge"](t,i.get(this.mainType)),o["merge"](t,this.getDefaultOption()),n&&c["h"](t,r,n)},e.prototype.mergeOption=function(t,e){o["merge"](this.option,t,!0);var n=c["d"](this);n&&c["h"](this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Object(u["d"])(t))return t.defaultOption;var e=l(this);if(!e.defaultOption){var n=[],r=t;while(r){var i=r.prototype.defaultOption;i&&n.push(i),r=r.superClass}for(var a={},s=n.length-1;s>=0;s--)a=o["merge"](a,n[s],!0);e.defaultOption=a}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",r=t+"Id";return Object(s["v"])(this.ecModel,t,{index:this.get(n,!0),id:this.get(r,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(i["a"]);function d(t){var e=[];return o["each"](f.getClassesByMainType(t),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=o["map"](e,function(t){return Object(u["f"])(t).main}),"dataset"!==t&&o["indexOf"](e,"dataset")<=0&&e.unshift("dataset"),e}Object(u["e"])(f,i["a"]),Object(u["c"])(f),a["a"](f),a["b"](f,d),e["a"]=f},"6d8b":function(t,e,n){"use strict";n.r(e),n.d(e,"guid",function(){return g}),n.d(e,"logError",function(){return v}),n.d(e,"clone",function(){return y}),n.d(e,"merge",function(){return b}),n.d(e,"mergeAll",function(){return x}),n.d(e,"extend",function(){return _}),n.d(e,"defaults",function(){return w}),n.d(e,"createCanvas",function(){return O}),n.d(e,"indexOf",function(){return S}),n.d(e,"inherits",function(){return C}),n.d(e,"mixin",function(){return k}),n.d(e,"isArrayLike",function(){return T}),n.d(e,"each",function(){return M}),n.d(e,"map",function(){return D}),n.d(e,"reduce",function(){return A}),n.d(e,"filter",function(){return I}),n.d(e,"find",function(){return j}),n.d(e,"keys",function(){return E}),n.d(e,"bind",function(){return N}),n.d(e,"curry",function(){return P}),n.d(e,"isArray",function(){return B}),n.d(e,"isFunction",function(){return L}),n.d(e,"isString",function(){return F}),n.d(e,"isStringSafe",function(){return z}),n.d(e,"isNumber",function(){return V}),n.d(e,"isObject",function(){return H}),n.d(e,"isBuiltInObject",function(){return U}),n.d(e,"isTypedArray",function(){return W}),n.d(e,"isDom",function(){return G}),n.d(e,"isGradientObject",function(){return q}),n.d(e,"isImagePatternObject",function(){return Y}),n.d(e,"isRegExp",function(){return X}),n.d(e,"eqNaN",function(){return $}),n.d(e,"retrieve",function(){return K}),n.d(e,"retrieve2",function(){return Z}),n.d(e,"retrieve3",function(){return J}),n.d(e,"slice",function(){return Q}),n.d(e,"normalizeCssArray",function(){return tt}),n.d(e,"assert",function(){return et}),n.d(e,"trim",function(){return nt}),n.d(e,"setAsPrimitive",function(){return ot}),n.d(e,"isPrimitive",function(){return it}),n.d(e,"HashMap",function(){return at}),n.d(e,"createHashMap",function(){return ut}),n.d(e,"concatArray",function(){return st}),n.d(e,"createObject",function(){return ct}),n.d(e,"disableUserSelect",function(){return lt}),n.d(e,"hasOwn",function(){return ft}),n.d(e,"noop",function(){return dt}),n.d(e,"RADIAN_TO_DEGREE",function(){return ht});var r=n("726e"),o=A(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),i=A(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),a=Object.prototype.toString,u=Array.prototype,s=u.forEach,c=u.filter,l=u.slice,f=u.map,d=function(){}.constructor,h=d?d.prototype:null,p="__proto__",m=2311;function g(){return m++}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!==typeof console&&console.error.apply(console,t)}function y(t){if(null==t||"object"!==typeof t)return t;var e=t,n=a.call(t);if("[object Array]"===n){if(!it(t)){e=[];for(var r=0,u=t.length;r<u;r++)e[r]=y(t[r])}}else if(i[n]){if(!it(t)){var s=t.constructor;if(s.from)e=s.from(t);else{e=new s(t.length);for(r=0,u=t.length;r<u;r++)e[r]=t[r]}}}else if(!o[n]&&!it(t)&&!G(t))for(var c in e={},t)t.hasOwnProperty(c)&&c!==p&&(e[c]=y(t[c]));return e}function b(t,e,n){if(!H(e)||!H(t))return n?y(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==p){var o=t[r],i=e[r];!H(i)||!H(o)||B(i)||B(o)||G(i)||G(o)||U(i)||U(o)||it(i)||it(o)?!n&&r in t||(t[r]=y(e[r])):b(o,i,n)}return t}function x(t,e){for(var n=t[0],r=1,o=t.length;r<o;r++)n=b(n,t[r],e);return n}function _(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==p&&(t[n]=e[n]);return t}function w(t,e,n){for(var r=E(e),o=0;o<r.length;o++){var i=r[o];(n?null!=e[i]:null==t[i])&&(t[i]=e[i])}return t}var O=r["d"].createCanvas;function S(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function C(t,e){var n=t.prototype;function r(){}for(var o in r.prototype=e.prototype,t.prototype=new r,n)n.hasOwnProperty(o)&&(t.prototype[o]=n[o]);t.prototype.constructor=t,t.superClass=e}function k(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var i=r[o];"constructor"!==i&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i])}else w(t,e,n)}function T(t){return!!t&&("string"!==typeof t&&"number"===typeof t.length)}function M(t,e,n){if(t&&e)if(t.forEach&&t.forEach===s)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t);else for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function D(t,e,n){if(!t)return[];if(!e)return Q(t);if(t.map&&t.map===f)return t.map(e,n);for(var r=[],o=0,i=t.length;o<i;o++)r.push(e.call(n,t[o],o,t));return r}function A(t,e,n,r){if(t&&e){for(var o=0,i=t.length;o<i;o++)n=e.call(r,n,t[o],o,t);return n}}function I(t,e,n){if(!t)return[];if(!e)return Q(t);if(t.filter&&t.filter===c)return t.filter(e,n);for(var r=[],o=0,i=t.length;o<i;o++)e.call(n,t[o],o,t)&&r.push(t[o]);return r}function j(t,e,n){if(t&&e)for(var r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return t[r]}function E(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function R(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(l.call(arguments)))}}var N=h&&L(h.bind)?h.call.bind(h.bind):R;function P(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(l.call(arguments)))}}function B(t){return Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)}function L(t){return"function"===typeof t}function F(t){return"string"===typeof t}function z(t){return"[object String]"===a.call(t)}function V(t){return"number"===typeof t}function H(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function U(t){return!!o[a.call(t)]}function W(t){return!!i[a.call(t)]}function G(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function q(t){return null!=t.colorStops}function Y(t){return null!=t.image}function X(t){return"[object RegExp]"===a.call(t)}function $(t){return t!==t}function K(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(null!=t[n])return t[n]}function Z(t,e){return null!=t?t:e}function J(t,e,n){return null!=t?t:null!=e?e:n}function Q(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return l.apply(t,e)}function tt(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function et(t,e){if(!t)throw new Error(e)}function nt(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var rt="__ec_primitive__";function ot(t){t[rt]=!0}function it(t){return t[rt]}var at=function(){function t(e){this.data={};var n=B(e);this.data={};var r=this;function o(t,e){n?r.set(t,e):r.set(e,t)}e instanceof t?e.each(o):e&&M(e,o)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},t.prototype.keys=function(){return E(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function ut(t){return new at(t)}function st(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var o=t.length;for(r=0;r<e.length;r++)n[r+o]=e[r];return n}function ct(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&_(n,e),n}function lt(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function ft(t,e){return t.hasOwnProperty(e)}function dt(){}var ht=180/Math.PI},"6fd3":function(t,e,n){"use strict";var r=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"===typeof e&&(r=n,n=e,e=null),!n||!t)return this;var i=this._$eventProcessor;null!=e&&i&&i.normalizeQuery&&(e=i.normalizeQuery(e)),o[t]||(o[t]=[]);for(var a=0;a<o[t].length;a++)if(o[t][a].h===n)return this;var u={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},s=o[t].length-1,c=o[t][s];return c&&c.callAtLast?o[t].splice(s,0,u):o[t].push(u),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],o=0,i=n[t].length;o<i;o++)n[t][o].h!==e&&r.push(n[t][o]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var i=e.length,a=r.length,u=0;u<a;u++){var s=r[u];if(!o||!o.filter||null==s.query||o.filter(t,s.query))switch(i){case 0:s.h.call(s.ctx);break;case 1:s.h.call(s.ctx,e[0]);break;case 2:s.h.call(s.ctx,e[0],e[1]);break;default:s.h.apply(s.ctx,e);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var i=e.length,a=e[i-1],u=r.length,s=0;s<u;s++){var c=r[s];if(!o||!o.filter||null==c.query||o.filter(t,c.query))switch(i){case 0:c.h.call(a);break;case 1:c.h.call(a,e[0]);break;case 2:c.h.call(a,e[0],e[1]);break;default:c.h.apply(a,e.slice(1,i-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},t}();e["a"]=r},"71ad":function(t,e,n){"use strict";var r=n("6d8b"),o={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},i=r["merge"]({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},o),a=r["merge"]({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},o),u=r["merge"]({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},a),s=r["defaults"]({logBase:10},a);e["a"]={category:i,value:a,time:u,log:s}},"726e":function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return d});var r=12,o="sans-serif",i=r+"px "+o,a=20,u=100,s="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function c(t){var e={};if("undefined"===typeof JSON)return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),o=(t.charCodeAt(n)-a)/u;e[r]=o}return e}var l=c(s),f={createCanvas:function(){return"undefined"!==typeof document&&document.createElement("canvas")},measureText:function(){var t,e;return function(n,o){if(!t){var a=f.createCanvas();t=a&&a.getContext("2d")}if(t)return e!==o&&(e=t.font=o||i),t.measureText(n);n=n||"",o=o||i;var u=/^([0-9]*?)px$/.exec(o),s=+(u&&u[1])||r,c=0;if(o.indexOf("mono")>=0)c=s*n.length;else for(var d=0;d<n.length;d++){var h=l[n[d]];c+=null==h?s:h*s}return{width:c}}}(),loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}};function d(t){for(var e in f)t[e]&&(f[e]=t[e])}},"72b6":function(t,e,n){"use strict";var r=n("7fae"),o=n("6d8b"),i=n("c7a2"),a=n("eda2"),u=n("f934"),s=n("5f14"),c=n("b12f"),l=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return Object(r["a"])(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,r){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,r):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=a["k"](e.get("padding")||0),r=t.getBoundingRect();t.add(new i["a"]({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){n=n||{};var r=n.forceState,i=this.visualMapModel,a={};if("color"===e){var u=i.get("contentColor");a.color=u}function c(t){return a[t]}function l(t,e){a[t]=e}var f=i.controllerVisuals[r||i.getValueState(t)],d=s["a"].prepareVisualTypes(f);return o["each"](d,function(r){var o=f[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",o=f.__alphaForOpacity),s["a"].dependsOn(r,e)&&o&&o.applyVisual(t,c,l)}),a[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;u["i"](t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,r){},e.type="visualMap",e}(c["a"]);e["a"]=l},"76a5":function(t,e,n){"use strict";n.d(e,"c",function(){return x}),n.d(e,"b",function(){return w});var r=n("21a1"),o=n("d409"),i=n("dd4f"),a=n("6d8b"),u=n("e86a"),s=n("0da8"),c=n("c7a2"),l=n("9850"),f=n("19eb"),d=n("726e"),h={fill:"#000"},p=2,m={style:Object(a["defaults"])({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},f["a"].style)},g=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=h,n.attr(e),n}return Object(r["a"])(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,O(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new l["a"](0,0,0,0),e=this._children,n=[],r=null,o=0;o<e.length;o++){var i=e[o],a=i.getBoundingRect(),u=i.getLocalTransform(n);u?(t.copy(a),t.applyTransform(u),r=r||t.clone(),r.union(t)):(r=r||a.clone(),r.union(a))}this._rect=r||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||h},e.prototype.setTextContent=function(t){0},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,r=t.rich||n&&{};return Object(a["extend"])(t,e),n&&r?(this._mergeRich(r,n),t.rich=r):r&&(t.rich=r),t},e.prototype._mergeRich=function(t,e){for(var n=Object(a["keys"])(e),r=0;r<n.length;r++){var o=n[r];t[o]=t[o]||{},Object(a["extend"])(t[o],e[o])}},e.prototype.getAnimationStyleProps=function(){return m},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||d["a"],n=t.padding,r=M(t),a=Object(o["a"])(r,t),s=D(t),c=!!t.backgroundColor,f=a.outerHeight,h=a.outerWidth,m=a.contentWidth,g=a.lines,v=a.lineHeight,y=this._defaultStyle,b=t.x||0,x=t.y||0,w=t.align||y.align||"left",O=t.verticalAlign||y.verticalAlign||"top",S=b,A=Object(u["b"])(x,a.contentHeight,O);if(s||n){var I=Object(u["a"])(b,h,w),j=Object(u["b"])(x,f,O);s&&this._renderBackground(t,t,I,j,h,f)}A+=v/2,n&&(S=T(b,w,n),"top"===O?A+=n[0]:"bottom"===O&&(A-=n[2]));for(var E=0,R=!1,N=(k("fill"in t?t.fill:(R=!0,y.fill))),P=(C("stroke"in t?t.stroke:c||y.autoStroke&&!R?null:(E=p,y.stroke))),B=t.textShadowBlur>0,L=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),F=a.calculatedLineHeight,z=0;z<g.length;z++){var V=this._getOrCreateChild(i["a"]),H=V.createStyle();V.useStyle(H),H.text=g[z],H.x=S,H.y=A,w&&(H.textAlign=w),H.textBaseline="middle",H.opacity=t.opacity,H.strokeFirst=!0,B&&(H.shadowBlur=t.textShadowBlur||0,H.shadowColor=t.textShadowColor||"transparent",H.shadowOffsetX=t.textShadowOffsetX||0,H.shadowOffsetY=t.textShadowOffsetY||0),H.stroke=P,H.fill=N,P&&(H.lineWidth=t.lineWidth||E,H.lineDash=t.lineDash,H.lineDashOffset=t.lineDashOffset||0),H.font=e,_(H,t),A+=v,L&&V.setBoundingRect(new l["a"](Object(u["a"])(H.x,t.width,H.textAlign),Object(u["b"])(H.y,F,H.textBaseline),m,F))}},e.prototype._updateRichTexts=function(){var t=this.style,e=M(t),n=Object(o["b"])(e,t),r=n.width,i=n.outerWidth,a=n.outerHeight,s=t.padding,c=t.x||0,l=t.y||0,f=this._defaultStyle,d=t.align||f.align,h=t.verticalAlign||f.verticalAlign,p=Object(u["a"])(c,i,d),m=Object(u["b"])(l,a,h),g=p,v=m;s&&(g+=s[3],v+=s[0]);var y=g+r;D(t)&&this._renderBackground(t,t,p,m,i,a);for(var b=!!t.backgroundColor,x=0;x<n.lines.length;x++){var _=n.lines[x],w=_.tokens,O=w.length,S=_.lineHeight,C=_.width,k=0,T=g,A=y,I=O-1,j=void 0;while(k<O&&(j=w[k],!j.align||"left"===j.align))this._placeToken(j,t,S,v,T,"left",b),C-=j.width,T+=j.width,k++;while(I>=0&&(j=w[I],"right"===j.align))this._placeToken(j,t,S,v,A,"right",b),C-=j.width,A-=j.width,I--;T+=(r-(T-g)-(y-A)-C)/2;while(k<=I)j=w[k],this._placeToken(j,t,S,v,T+j.width/2,"center",b),T+=j.width,k++;v+=S}},e.prototype._placeToken=function(t,e,n,r,o,s,c){var f=e.rich[t.styleName]||{};f.text=t.text;var h=t.verticalAlign,m=r+n/2;"top"===h?m=r+t.height/2:"bottom"===h&&(m=r+n-t.height/2);var g=!t.isLineHolder&&D(f);g&&this._renderBackground(f,e,"right"===s?o-t.width:"center"===s?o-t.width/2:o,m-t.height/2,t.width,t.height);var v=!!f.backgroundColor,y=t.textPadding;y&&(o=T(o,s,y),m-=t.height/2-y[0]-t.innerHeight/2);var b=this._getOrCreateChild(i["a"]),x=b.createStyle();b.useStyle(x);var w=this._defaultStyle,O=!1,S=0,M=k("fill"in f?f.fill:"fill"in e?e.fill:(O=!0,w.fill)),A=C("stroke"in f?f.stroke:"stroke"in e?e.stroke:v||c||w.autoStroke&&!O?null:(S=p,w.stroke)),I=f.textShadowBlur>0||e.textShadowBlur>0;x.text=t.text,x.x=o,x.y=m,I&&(x.shadowBlur=f.textShadowBlur||e.textShadowBlur||0,x.shadowColor=f.textShadowColor||e.textShadowColor||"transparent",x.shadowOffsetX=f.textShadowOffsetX||e.textShadowOffsetX||0,x.shadowOffsetY=f.textShadowOffsetY||e.textShadowOffsetY||0),x.textAlign=s,x.textBaseline="middle",x.font=t.font||d["a"],x.opacity=Object(a["retrieve3"])(f.opacity,e.opacity,1),_(x,f),A&&(x.lineWidth=Object(a["retrieve3"])(f.lineWidth,e.lineWidth,S),x.lineDash=Object(a["retrieve2"])(f.lineDash,e.lineDash),x.lineDashOffset=e.lineDashOffset||0,x.stroke=A),M&&(x.fill=M);var j=t.contentWidth,E=t.contentHeight;b.setBoundingRect(new l["a"](Object(u["a"])(x.x,j,x.textAlign),Object(u["b"])(x.y,E,x.textBaseline),j,E))},e.prototype._renderBackground=function(t,e,n,r,o,i){var u,l,f=t.backgroundColor,d=t.borderWidth,h=t.borderColor,p=f&&f.image,m=f&&!p,g=t.borderRadius,v=this;if(m||t.lineHeight||d&&h){u=this._getOrCreateChild(c["a"]),u.useStyle(u.createStyle()),u.style.fill=null;var y=u.shape;y.x=n,y.y=r,y.width=o,y.height=i,y.r=g,u.dirtyShape()}if(m){var b=u.style;b.fill=f||null,b.fillOpacity=Object(a["retrieve2"])(t.fillOpacity,1)}else if(p){l=this._getOrCreateChild(s["a"]),l.onload=function(){v.dirtyStyle()};var x=l.style;x.image=f.image,x.x=n,x.y=r,x.width=o,x.height=i}if(d&&h){b=u.style;b.lineWidth=d,b.stroke=h,b.strokeOpacity=Object(a["retrieve2"])(t.strokeOpacity,1),b.lineDash=t.borderDash,b.lineDashOffset=t.borderDashOffset||0,u.strokeContainThreshold=0,u.hasFill()&&u.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var _=(u||l).style;_.shadowBlur=t.shadowBlur||0,_.shadowColor=t.shadowColor||"transparent",_.shadowOffsetX=t.shadowOffsetX||0,_.shadowOffsetY=t.shadowOffsetY||0,_.opacity=Object(a["retrieve3"])(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";return w(t)&&(e=[t.fontStyle,t.fontWeight,x(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),e&&Object(a["trim"])(e)||t.textFont||t.font},e}(f["c"]),v={left:!0,right:1,center:1},y={top:1,bottom:1,middle:1},b=["fontStyle","fontWeight","fontSize","fontFamily"];function x(t){return"string"!==typeof t||-1===t.indexOf("px")&&-1===t.indexOf("rem")&&-1===t.indexOf("em")?isNaN(+t)?d["c"]+"px":t+"px":t}function _(t,e){for(var n=0;n<b.length;n++){var r=b[n],o=e[r];null!=o&&(t[r]=o)}}function w(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}function O(t){return S(t),Object(a["each"])(t.rich,S),t}function S(t){if(t){t.font=g.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||v[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||y[n]?n:"top";var r=t.padding;r&&(t.padding=Object(a["normalizeCssArray"])(t.padding))}}function C(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function k(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function T(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function M(t){var e=t.text;return null!=e&&(e+=""),e}function D(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}e["a"]=g},7837:function(t,e,n){"use strict";n.d(e,"g",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"d",function(){return _}),n.d(e,"f",function(){return w}),n.d(e,"h",function(){return O}),n.d(e,"a",function(){return S});var r=n("76a5"),o=n("6d8b"),i=n("7d6c"),a=n("e0d3"),u=n("deab"),s={};function c(t,e){for(var n=0;n<i["g"].length;n++){var r=i["g"][n],o=e[r],a=t.ensureState(r);a.style=a.style||{},a.style.text=o}var u=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(u,!0)}function l(t,e,n){var r,a=t.labelFetcher,u=t.labelDataIndex,s=t.labelDimIndex,c=e.normal;a&&(r=a.getFormattedLabel(u,"normal",null,s,c&&c.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=Object(o["isFunction"])(t.defaultText)?t.defaultText(u,t,n):t.defaultText);for(var l={normal:r},f=0;f<i["g"].length;f++){var d=i["g"][f],h=e[d];l[d]=Object(o["retrieve2"])(a?a.getFormattedLabel(u,d,null,s,h&&h.get("formatter")):null,r)}return l}function f(t,e,n,a){n=n||s;for(var u=t instanceof r["a"],f=!1,d=0;d<i["a"].length;d++){var m=e[i["a"][d]];if(m&&m.getShallow("show")){f=!0;break}}var g=u?t:t.getTextContent();if(f){u||(g||(g=new r["a"],t.setTextContent(g)),t.stateProxy&&(g.stateProxy=t.stateProxy));var v=l(n,e),y=e.normal,b=!!y.getShallow("show"),x=h(y,a&&a.normal,n,!1,!u);x.text=v.normal,u||t.setTextConfig(p(y,n,!1));for(d=0;d<i["g"].length;d++){var _=i["g"][d];m=e[_];if(m){var O=g.ensureState(_),S=!!Object(o["retrieve2"])(m.getShallow("show"),b);if(S!==b&&(O.ignore=!S),O.style=h(m,a&&a[_],n,!0,!u),O.style.text=v[_],!u){var C=t.ensureState(_);C.textConfig=p(m,n,!0)}}}g.silent=!!y.getShallow("silent"),null!=g.style.x&&(x.x=g.style.x),null!=g.style.y&&(x.y=g.style.y),g.ignore=!b,g.useStyle(x),g.dirty(),n.enableTextSetter&&(w(g).setLabelText=function(t){var r=l(n,e,t);c(g,r)})}else g&&(g.ignore=!0);t.dirty()}function d(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<i["g"].length;r++){var o=i["g"][r];n[o]=t.getModel([o,e])}return n}function h(t,e,n,r,i){var a={};return m(a,t,n,r,i),e&&Object(o["extend"])(a,e),a}function p(t,e,n){e=e||{};var r,i={},a=t.getShallow("rotate"),u=Object(o["retrieve2"])(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return r=t.getShallow("position")||(n?null:"inside"),"outside"===r&&(r=e.defaultOutsidePosition||"top"),null!=r&&(i.position=r),null!=s&&(i.offset=s),null!=a&&(a*=Math.PI/180,i.rotation=a),null!=u&&(i.distance=u),i.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",i}function m(t,e,n,r,o){n=n||s;var i,a=e.ecModel,u=a&&a.option.textStyle,c=g(e);if(c)for(var l in i={},c)if(c.hasOwnProperty(l)){var f=e.getModel(["rich",l]);x(i[l]={},f,u,n,r,o,!1,!0)}i&&(t.rich=i);var d=e.get("overflow");d&&(t.overflow=d);var h=e.get("minMargin");null!=h&&(t.margin=h),x(t,e,u,n,r,o,!0,!1)}function g(t){var e;while(t&&t!==t.ecModel){var n=(t.option||s).rich;if(n){e=e||{};for(var r=Object(o["keys"])(n),i=0;i<r.length;i++){var a=r[i];e[a]=1}}t=t.parentModel}return e}var v=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],y=["align","lineHeight","width","height","tag","verticalAlign"],b=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function x(t,e,n,r,i,a,u,c){n=!i&&n||s;var l=r&&r.inheritColor,f=e.getShallow("color"),d=e.getShallow("textBorderColor"),h=Object(o["retrieve2"])(e.getShallow("opacity"),n.opacity);"inherit"!==f&&"auto"!==f||(f=l||null),"inherit"!==d&&"auto"!==d||(d=l||null),a||(f=f||n.color,d=d||n.textBorderColor),null!=f&&(t.fill=f),null!=d&&(t.stroke=d);var p=Object(o["retrieve2"])(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=p&&(t.lineWidth=p);var m=Object(o["retrieve2"])(e.getShallow("textBorderType"),n.textBorderType);null!=m&&(t.lineDash=m);var g=Object(o["retrieve2"])(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=g&&(t.lineDashOffset=g),i||null!=h||c||(h=r&&r.defaultOpacity),null!=h&&(t.opacity=h),i||a||null==t.fill&&r.inheritColor&&(t.fill=r.inheritColor);for(var x=0;x<v.length;x++){var _=v[x],w=Object(o["retrieve2"])(e.getShallow(_),n[_]);null!=w&&(t[_]=w)}for(x=0;x<y.length;x++){_=y[x],w=e.getShallow(_);null!=w&&(t[_]=w)}if(null==t.verticalAlign){var O=e.getShallow("baseline");null!=O&&(t.verticalAlign=O)}if(!u||!r.disableBox){for(x=0;x<b.length;x++){_=b[x],w=e.getShallow(_);null!=w&&(t[_]=w)}var S=e.getShallow("borderType");null!=S&&(t.borderDash=S),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!l||(t.backgroundColor=l),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!l||(t.borderColor=l)}}function _(t,e){var n=e&&e.getModel("textStyle");return Object(o["trim"])([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var w=Object(a["o"])();function O(t,e,n,r){if(t){var o=w(t);o.prevValue=o.value,o.value=n;var i=e.normal;o.valueAnimation=i.get("valueAnimation"),o.valueAnimation&&(o.precision=i.get("precision"),o.defaultInterpolatedText=r,o.statesModels=e)}}function S(t,e,n,r,i){var s=w(t);if(s.valueAnimation&&s.prevValue!==s.value){var f=s.defaultInterpolatedText,d=Object(o["retrieve2"])(s.interpolatedValue,s.prevValue),h=s.value;t.percent=0,(null==s.prevValue?u["c"]:u["h"])(t,{percent:1},r,e,null,p)}function p(r){var o=Object(a["k"])(n,s.precision,d,h,r);s.interpolatedValue=1===r?null:o;var u=l({labelDataIndex:e,labelFetcher:i,defaultText:f?f(o):o+""},s.statesModels,o);c(t,u)}}},7919:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("f934"),o=n("eda2"),i=n("c7a2");function a(t,e,n){var o=e.getBoxLayoutParams(),i=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},u=Object(r["g"])(o,a,i);Object(r["b"])(e.get("orient"),t,e.get("itemGap"),u.width,u.height),Object(r["i"])(t,o,a,i)}function u(t,e){var n=o["k"](e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new i["a"]({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),t}},"7a29":function(t,e,n){"use strict";(function(t){n.d(e,"p",function(){return u}),n.d(e,"j",function(){return c}),n.d(e,"q",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"h",function(){return g}),n.d(e,"l",function(){return v}),n.d(e,"n",function(){return b}),n.d(e,"m",function(){return x}),n.d(e,"o",function(){return _}),n.d(e,"k",function(){return w}),n.d(e,"d",function(){return O}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return C}),n.d(e,"c",function(){return k});var r=n("6d8b"),o=n("41ef"),i=n("22d1"),a=Math.round;function u(t){var e;if(t&&"transparent"!==t){if("string"===typeof t&&t.indexOf("rgba")>-1){var n=Object(o["parse"])(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}}else t="none";return{color:t,opacity:null==e?1:e}}var s=1e-4;function c(t){return t<s&&t>-s}function l(t){return a(1e3*t)/1e3}function f(t){return a(1e4*t)/1e4}function d(t){return"matrix("+l(t[0])+","+l(t[1])+","+l(t[2])+","+l(t[3])+","+f(t[4])+","+f(t[5])+")"}var h={left:"start",right:"end",center:"middle",middle:"middle"};function p(t,e,n){return"top"===n?t+=e/2:"bottom"===n&&(t-=e/2),t}function m(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function g(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function v(t){return t&&!!t.image}function y(t){return t&&!!t.svgElement}function b(t){return v(t)||y(t)}function x(t){return"linear"===t.type}function _(t){return"radial"===t.type}function w(t){return t&&("linear"===t.type||"radial"===t.type)}function O(t){return"url(#"+t+")"}function S(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function C(t){var e=t.x||0,n=t.y||0,o=(t.rotation||0)*r["RADIAN_TO_DEGREE"],i=Object(r["retrieve2"])(t.scaleX,1),u=Object(r["retrieve2"])(t.scaleY,1),s=t.skewX||0,c=t.skewY||0,l=[];return(e||n)&&l.push("translate("+e+"px,"+n+"px)"),o&&l.push("rotate("+o+")"),1===i&&1===u||l.push("scale("+i+","+u+")"),(s||c)&&l.push("skew("+a(s*r["RADIAN_TO_DEGREE"])+"deg, "+a(c*r["RADIAN_TO_DEGREE"])+"deg)"),l.join(" ")}var k=function(){return i["a"].hasGlobalWindow&&Object(r["isFunction"])(window.btoa)?function(t){return window.btoa(unescape(t))}:"undefined"!==typeof t?function(e){return t.from(e).toString("base64")}:function(t){return null}}()}).call(this,n("b639").Buffer)},"7c0d":function(t,e,n){"use strict";var r=n("7fae"),o=n("6d8b"),i=n("eaea"),a=n("3842"),u=n("8918"),s=[20,140],c=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r["a"])(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=s[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=s[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):o["isArray"](e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),o["each"](this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=a["c"]((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries(function(n){var r=[],o=n.getData();o.each(this.getDataDimensionIndex(o),function(e,n){t[0]<=e&&e<=t[1]&&r.push(n)},this),e.push({seriesId:n.id,dataIndex:r})},this),e},e.prototype.getVisualMeta=function(t){var e=l(this,"outOfRange",this.getExtent()),n=l(this,"inRange",this.option.range.slice()),r=[];function o(e,n){r.push({value:e,color:t(e,n)})}for(var i=0,a=0,u=n.length,s=e.length;a<s&&(!n.length||e[a]<=n[0]);a++)e[a]<n[i]&&o(e[a],"outOfRange");for(var c=1;i<u;i++,c=0)c&&r.length&&o(n[i],"outOfRange"),o(n[i],"inRange");for(c=1;a<s;a++)(!n.length||n[n.length-1]<e[a])&&(c&&(r.length&&o(r[r.length-1].value,"outOfRange"),c=0),o(e[a],"outOfRange"));var f=r.length;return{stops:r,outerColors:[f?r[0].color:"transparent",f?r[f-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Object(u["d"])(i["a"].defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(i["a"]);function l(t,e,n){if(n[0]===n[1])return n.slice();for(var r=200,o=(n[1]-n[0])/r,i=n[0],a=[],u=0;u<=r&&i<n[1];u++)a.push(i),i+=o;return a.push(n[1]),a}var f=c,d=n("48a9"),h=n("607d"),p=n("72b6"),m=n("76a5"),g=n("2dc5"),v=n("c7a2"),y=n("2306"),b=n("87b1"),x=n("ef6a"),_=n("cbb0"),w=n("e0d3"),O=n("e86a"),S=n("7d6c"),C=n("a15a"),k=n("0da8"),T=n("861c"),M=n("7837"),D=a["l"],A=o["each"],I=Math.min,j=Math.max,E=12,R=6,N=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return Object(r["a"])(e,t),e.prototype.doRender=function(t,e,n,r){this._api=n,r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var r=e[1-n];r=null!=r?r+"":"";var o=this.visualMapModel,i=o.get("textGap"),a=o.itemSize,u=this._shapes.mainGroup,s=this._applyTransform([a[0]/2,0===n?-i:a[1]+i],u),c=this._applyTransform(0===n?"bottom":"top",u),l=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new m["a"]({style:Object(M["c"])(f,{x:s[0],y:s[1],verticalAlign:"horizontal"===l?"middle":c,align:"horizontal"===l?c:"center",text:r})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,i=this._orient,a=this._useHandle,u=_["a"](e,this.api,r),s=n.mainGroup=this._createBarGroup(u),c=new g["a"];s.add(c),c.add(n.outOfRange=P()),c.add(n.inRange=P(null,a?F(this._orient):null,o["bind"](this._dragHandle,this,"all",!1),o["bind"](this._dragHandle,this,"all",!0))),c.setClipPath(new v["a"]({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var l=e.textStyleModel.getTextRect(""),f=j(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,r,f,i),this._createHandle(e,s,1,r,f,i)),this._createIndicator(e,s,r,f,i),t.add(s)},e.prototype._createHandle=function(t,e,n,r,i,a){var u=o["bind"](this._dragHandle,this,n,!1),s=o["bind"](this._dragHandle,this,n,!0),c=Object(O["g"])(t.get("handleSize"),r[0]),l=Object(C["a"])(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),f=F(this._orient);l.attr({cursor:f,draggable:!0,drift:u,ondragend:s,onmousemove:function(t){h["g"](t.event)}}),l.x=r[0]/2,l.useStyle(t.getModel("handleStyle").getItemStyle()),l.setStyle({strokeNoScale:!0,strokeFirst:!0}),l.style.lineWidth*=2,l.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(S["F"])(l,!0),e.add(l);var d=this.visualMapModel.textStyleModel,p=new m["a"]({cursor:f,draggable:!0,drift:u,onmousemove:function(t){h["g"](t.event)},ondragend:s,style:Object(M["c"])(d,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[c,0],v=this._shapes;v.handleThumbs[n]=l,v.handleLabelPoints[n]=g,v.handleLabels[n]=p},e.prototype._createIndicator=function(t,e,n,r,i){var a=Object(O["g"])(t.get("indicatorSize"),n[0]),u=Object(C["a"])(t.get("indicatorIcon"),-a/2,-a/2,a,a,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(u instanceof k["a"]){var c=u.style;u.useStyle(o["extend"]({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},s))}else u.useStyle(s);e.add(u);var l=this.visualMapModel.textStyleModel,f=new m["a"]({silent:!0,invisible:!0,style:Object(M["c"])(l,{x:0,y:0,text:""})});this.group.add(f);var d=[("horizontal"===i?r/2:R)+n[0]/2,0],h=this._shapes;h.indicator=u,h.indicatorLabel=f,h.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,r){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():L(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),r=[0,t.itemSize[1]];this._handleEnds=[D(e[0],n,r,!0),D(e[1],n,r,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,r=this._handleEnds,o=[0,n.itemSize[1]];Object(x["a"])(e,r,o,t,0);var i=n.getExtent();this._dataInterval=[D(r[0],o,i,!0),D(r[1],o,i,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),r=this._shapes,o=[0,e.itemSize[1]],i=t?o:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,i,"inRange"),u=this._createBarVisual(n,n,o,"outOfRange");r.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),r.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(i,a)},e.prototype._createBarVisual=function(t,e,n,r){var o={forceState:r,convertOpacityToAlpha:!0},i=this._makeColorGradient(t,o),a=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(n,a);return{barColor:new d["a"](0,0,0,1,i),barPoints:u,handlesColor:[i[0].color,i[i.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=100,r=[],o=(t[1]-t[0])/n;r.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<n;i++){var a=t[0]+o*i;if(a>t[1])break;r.push({color:this.getControllerVisual(a,"color",e),offset:i/n})}return r.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),r},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new g["a"]("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,o=n.handleThumbs,i=n.handleLabels,a=r.itemSize,u=r.getExtent();A([0,1],function(s){var c=o[s];c.setStyle("fill",e.handlesColor[s]),c.y=t[s];var l=D(t[s],[0,a[1]],u,!0),f=this.getControllerVisual(l,"symbolSize");c.scaleX=c.scaleY=f/a[0],c.x=a[0]-f/2;var d=y["applyTransform"](n.handleLabelPoints[s],y["getTransform"](c,this.group));i[s].setStyle({x:d[0],y:d[1],text:r.formatValueText(this._dataInterval[s]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,e,n,r){var o=this.visualMapModel,i=o.getExtent(),a=o.itemSize,u=[0,a[1]],s=this._shapes,c=s.indicator;if(c){c.attr("invisible",!1);var l={convertOpacityToAlpha:!0},f=this.getControllerVisual(t,"color",l),d=this.getControllerVisual(t,"symbolSize"),h=D(t,i,u,!0),p=a[0]-d/2,m={x:c.x,y:c.y};c.y=h,c.x=p;var g=y["applyTransform"](s.indicatorLabelPoint,y["getTransform"](c,this.group)),v=s.indicatorLabel;v.attr("invisible",!1);var b=this._applyTransform("left",s.mainGroup),x=this._orient,_="horizontal"===x;v.setStyle({text:(n||"")+o.formatValueText(e),verticalAlign:_?b:"middle",align:_?"center":b});var w={x:p,y:h,style:{fill:f}},O={style:{x:g[0],y:g[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};c.x=m.x,c.y=m.y,c.animateTo(w,S),v.animateTo(O,S)}else c.attr(w),v.attr(O);this._firstShowIndicator=!1;var C=this._shapes.handleLabels;if(C)for(var k=0;k<C.length;k++)this._api.enterBlur(C[k])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,r=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);r[1]=I(j(0,r[1]),n[1]),t._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var o=[0,r[1]],i=n.getExtent();t=I(j(o[0],t),o[1]);var a=B(n,i,o),u=[t-a,t+a],s=D(t,o,i,!0),c=[D(u[0],o,i,!0),D(u[1],o,i,!0)];u[0]<o[0]&&(c[0]=-1/0),u[1]>o[1]&&(c[1]=1/0),e&&(c[0]===-1/0?this._showIndicator(s,c[1],"< ",a):c[1]===1/0?this._showIndicator(s,c[0],"> ",a):this._showIndicator(s,s," ",a));var l=this._hoverLinkDataIndices,f=[];(e||L(n))&&(f=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var d=w["d"](l,f);this._dispatchHighDown("downplay",_["b"](d[0],n)),this._dispatchHighDown("highlight",_["b"](d[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=Object(T["a"])(e).dataIndex){var r=Object(T["a"])(e),o=this.ecModel.getSeriesByIndex(r.seriesIndex);if(n.isTargetSeries(o)){var i=o.getData(r.dataType),a=i.getStore().get(n.getDataDimensionIndex(i),r.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",_["b"](t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,r){var i=y["getTransform"](e,r?null:this.group);return o["isArray"](t)?y["applyTransform"](t,i,n):y["transformDirection"](t,i,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(p["a"]);function P(t,e,n,r){return new b["a"]({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){h["g"](t.event)},ondragend:r})}function B(t,e,n){var r=E/2,o=t.get("hoverLinkDataSize");return o&&(r=D(o,e,n,!0)/2),r}function L(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function F(t){return"vertical"===t?"ns-resize":"ew-resize"}var z=N,V=n("d6c2");function H(t){t.registerComponentModel(f),t.registerComponentView(z),Object(V["a"])(t)}n.d(e,"a",function(){return H})},"7d6c":function(t,e,n){"use strict";n.d(e,"d",function(){return p}),n.d(e,"e",function(){return m}),n.d(e,"g",function(){return g}),n.d(e,"a",function(){return v}),n.d(e,"j",function(){return y}),n.d(e,"c",function(){return x}),n.d(e,"b",function(){return _}),n.d(e,"f",function(){return w}),n.d(e,"i",function(){return O}),n.d(e,"h",function(){return S}),n.d(e,"H",function(){return B}),n.d(e,"G",function(){return U}),n.d(e,"r",function(){return q}),n.d(e,"C",function(){return Y}),n.d(e,"q",function(){return X}),n.d(e,"B",function(){return $}),n.d(e,"s",function(){return K}),n.d(e,"D",function(){return Z}),n.d(e,"k",function(){return Q}),n.d(e,"l",function(){return et}),n.d(e,"m",function(){return nt}),n.d(e,"t",function(){return rt}),n.d(e,"x",function(){return ot}),n.d(e,"w",function(){return it}),n.d(e,"K",function(){return at}),n.d(e,"L",function(){return ut}),n.d(e,"u",function(){return st}),n.d(e,"o",function(){return ct}),n.d(e,"J",function(){return ft}),n.d(e,"p",function(){return dt}),n.d(e,"I",function(){return mt}),n.d(e,"F",function(){return gt}),n.d(e,"y",function(){return vt}),n.d(e,"n",function(){return yt}),n.d(e,"v",function(){return bt}),n.d(e,"A",function(){return xt}),n.d(e,"z",function(){return _t}),n.d(e,"E",function(){return wt});var r=n("d51b"),o=n("6d8b"),i=n("861c"),a=n("41ef"),u=n("e0d3"),s=n("cbe5"),c=1,l={},f=Object(u["o"])(),d=Object(u["o"])(),h=0,p=1,m=2,g=["emphasis","blur","select"],v=["normal","emphasis","blur","select"],y=10,b=9,x="highlight",_="downplay",w="select",O="unselect",S="toggleSelect";function C(t){return null!=t&&"none"!==t}var k=new r["a"](100);function T(t){if(Object(o["isString"])(t)){var e=k.get(t);return e||(e=a["lift"](t,-.1),k.put(t,e)),e}if(Object(o["isGradientObject"])(t)){var n=Object(o["extend"])({},t);return n.colorStops=Object(o["map"])(t.colorStops,function(t){return{offset:t.offset,color:a["lift"](t.color,-.1)}}),n}return t}function M(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function D(t){M(t,"emphasis",m)}function A(t){t.hoverState===m&&M(t,"normal",h)}function I(t){M(t,"blur",p)}function j(t){t.hoverState===p&&M(t,"normal",h)}function E(t){t.selected=!0}function R(t){t.selected=!1}function N(t,e,n){e(t,n)}function P(t,e,n){N(t,e,n),t.isGroup&&t.traverse(function(t){N(t,e,n)})}function B(t,e){switch(e){case"emphasis":t.hoverState=m;break;case"normal":t.hoverState=h;break;case"blur":t.hoverState=p;break;case"select":t.selected=!0}}function L(t,e,n,r){for(var o=t.style,i={},a=0;a<e.length;a++){var u=e[a],s=o[u];i[u]=null==s?r&&r[u]:s}for(a=0;a<t.animators.length;a++){var c=t.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&"style"===c.targetName&&c.saveTo(i,e)}return i}function F(t,e,n,r){var i=n&&Object(o["indexOf"])(n,"select")>=0,a=!1;if(t instanceof s["b"]){var u=f(t),c=i&&u.selectFill||u.normalFill,l=i&&u.selectStroke||u.normalStroke;if(C(c)||C(l)){r=r||{};var d=r.style||{};"inherit"===d.fill?(a=!0,r=Object(o["extend"])({},r),d=Object(o["extend"])({},d),d.fill=c):!C(d.fill)&&C(c)?(a=!0,r=Object(o["extend"])({},r),d=Object(o["extend"])({},d),d.fill=T(c)):!C(d.stroke)&&C(l)&&(a||(r=Object(o["extend"])({},r),d=Object(o["extend"])({},d)),d.stroke=T(l)),r.style=d}}if(r&&null==r.z2){a||(r=Object(o["extend"])({},r));var h=t.z2EmphasisLift;r.z2=t.z2+(null!=h?h:y)}return r}function z(t,e,n){if(n&&null==n.z2){n=Object(o["extend"])({},n);var r=t.z2SelectLift;n.z2=t.z2+(null!=r?r:b)}return n}function V(t,e,n){var r=Object(o["indexOf"])(t.currentStates,e)>=0,i=t.style.opacity,a=r?null:L(t,["opacity"],e,{opacity:1});n=n||{};var u=n.style||{};return null==u.opacity&&(n=Object(o["extend"])({},n),u=Object(o["extend"])({opacity:r?i:.1*a.opacity},u),n.style=u),n}function H(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return F(this,t,e,n);if("blur"===t)return V(this,t,n);if("select"===t)return z(this,t,n)}return n}function U(t){t.stateProxy=H;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=H),n&&(n.stateProxy=H)}function W(t,e){!J(t,e)&&!t.__highByOuter&&P(t,D)}function G(t,e){!J(t,e)&&!t.__highByOuter&&P(t,A)}function q(t,e){t.__highByOuter|=1<<(e||0),P(t,D)}function Y(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&P(t,A)}function X(t){P(t,I)}function $(t){P(t,j)}function K(t){P(t,E)}function Z(t){P(t,R)}function J(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Q(t){var e=t.getModel(),n=[],r=[];e.eachComponent(function(e,o){var i=d(o),a="series"===e,u=a?t.getViewOfSeriesModel(o):t.getViewOfComponentModel(o);!a&&r.push(u),i.isBlured&&(u.group.traverse(function(t){j(t)}),a&&n.push(o)),i.isBlured=!1}),Object(o["each"])(r,function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(n,!1,e)})}function tt(t,e,n,r){var i=r.getModel();function a(t,e){for(var n=0;n<e.length;n++){var r=t.getItemGraphicEl(e[n]);r&&$(r)}}if(n=n||"coordinateSystem",null!=t&&e&&"none"!==e){var u=i.getSeriesByIndex(t),s=u.coordinateSystem;s&&s.master&&(s=s.master);var c=[];i.eachSeries(function(t){var i=u===t,l=t.coordinateSystem;l&&l.master&&(l=l.master);var f=l&&s?l===s:i;if(!("series"===n&&!i||"coordinateSystem"===n&&!f||"series"===e&&i)){var h=r.getViewOfSeriesModel(t);if(h.group.traverse(function(t){I(t)}),Object(o["isArrayLike"])(e))a(t.getData(),e);else if(Object(o["isObject"])(e))for(var p=Object(o["keys"])(e),m=0;m<p.length;m++)a(t.getData(p[m]),e[p[m]]);c.push(t),d(t).isBlured=!0}}),i.eachComponent(function(t,e){if("series"!==t){var n=r.getViewOfComponentModel(e);n&&n.toggleBlurSeries&&n.toggleBlurSeries(c,!0,i)}})}}function et(t,e,n){if(null!=t&&null!=e){var r=n.getModel().getComponent(t,e);if(r){d(r).isBlured=!0;var o=n.getViewOfComponentModel(r);o&&o.focusBlurEnabled&&o.group.traverse(function(t){I(t)})}}}function nt(t,e,n){var r=t.seriesIndex,a=t.getData(e.dataType);if(a){var s=Object(u["u"])(a,e);s=(Object(o["isArray"])(s)?s[0]:s)||0;var c=a.getItemGraphicEl(s);if(!c){var l=a.count(),f=0;while(!c&&f<l)c=a.getItemGraphicEl(f++)}if(c){var d=Object(i["a"])(c);tt(r,d.focus,d.blurScope,n)}else{var h=t.get(["emphasis","focus"]),p=t.get(["emphasis","blurScope"]);null!=h&&tt(r,h,p,n)}}}function rt(t,e,n,r){var o={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==n)return o;var a=r.getModel().getComponent(t,e);if(!a)return o;var u=r.getViewOfComponentModel(a);if(!u||!u.findHighDownDispatchers)return o;for(var s,c=u.findHighDownDispatchers(n),l=0;l<c.length;l++)if("self"===Object(i["a"])(c[l]).focus){s=!0;break}return{focusSelf:s,dispatchers:c}}function ot(t,e,n){var r=Object(i["a"])(t),a=rt(r.componentMainType,r.componentIndex,r.componentHighDownName,n),u=a.dispatchers,s=a.focusSelf;u?(s&&et(r.componentMainType,r.componentIndex,n),Object(o["each"])(u,function(t){return W(t,e)})):(tt(r.seriesIndex,r.focus,r.blurScope,n),"self"===r.focus&&et(r.componentMainType,r.componentIndex,n),W(t,e))}function it(t,e,n){Q(n);var r=Object(i["a"])(t),a=rt(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;a?Object(o["each"])(a,function(t){return G(t,e)}):G(t,e)}function at(t,e,n){if(xt(e)){var r=e.dataType,i=t.getData(r),a=Object(u["u"])(i,e);Object(o["isArray"])(a)||(a=[a]),t[e.type===S?"toggleSelect":e.type===w?"select":"unselect"](a,r)}}function ut(t){var e=t.getAllData();Object(o["each"])(e,function(e){var n=e.data,r=e.type;n.eachItemGraphicEl(function(e,n){t.isSelected(n,r)?K(e):Z(e)})})}function st(t){var e=[];return t.eachSeries(function(t){var n=t.getAllData();Object(o["each"])(n,function(n){n.data;var r=n.type,o=t.getSelectedDataIndices();if(o.length>0){var i={dataIndex:o,seriesIndex:t.seriesIndex};null!=r&&(i.dataType=r),e.push(i)}})}),e}function ct(t,e,n){gt(t,!0),P(t,U),dt(t,e,n)}function lt(t){gt(t,!1)}function ft(t,e,n,r){r?lt(t):ct(t,e,n)}function dt(t,e,n){var r=Object(i["a"])(t);null!=e?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var ht=["emphasis","blur","select"],pt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function mt(t,e,n,r){n=n||"itemStyle";for(var o=0;o<ht.length;o++){var i=ht[o],a=e.getModel([i,n]),u=t.ensureState(i);u.style=r?r(a):a[pt[n]]()}}function gt(t,e){var n=!1===e,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function vt(t){return!(!t||!t.__highDownDispatcher)}function yt(t,e,n){var r=Object(i["a"])(t);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=n}function bt(t){var e=l[t];return null==e&&c<=32&&(e=l[t]=c++),e}function xt(t){var e=t.type;return e===w||e===O||e===S}function _t(t){var e=t.type;return e===x||e===_}function wt(t){var e=f(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}},"7fae":function(t,e,n){"use strict";n.d(e,"a",function(){return o});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create},"80b9":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return f}),n.d(e,"e",function(){return d});var r=n("6d8b"),o=n("e0d3"),i=n("ec6f"),a=Object(o["o"])(),u={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},s=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=f(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return Object(r["retrieve2"])(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Object(i["f"])(this.source),n=!d(t),r="",o=[],a=0,s=0;a<t;a++){var c=void 0,l=void 0,f=void 0,h=this.dimensions[s];if(h&&h.storeDimIndex===a)c=e?h.name:null,l=h.type,f=h.ordinalMeta,s++;else{var p=this.getSourceDimension(a);p&&(c=e?p.name:null,l=p.type)}o.push({property:c,type:l,ordinalMeta:f}),!e||null==c||h&&h.isCalculationCoord||(r+=n?c.replace(/\`/g,"`1").replace(/\$/g,"`2"):c),r+="$",r+=u[l]||"f",f&&(r+=f.uid),r+="$"}var m=this.source,g=[m.seriesLayoutBy,m.startIndex,r].join("$$");return{dimensions:o,hash:g}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,o=this.dimensions[n];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(r=o.name),n++;else{var i=this.getSourceDimension(e);i&&(r=i.name)}t.push(r)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function c(t){return t instanceof s}function l(t){for(var e=Object(r["createHashMap"])(),n=0;n<(t||[]).length;n++){var o=t[n],i=Object(r["isObject"])(o)?o.name:o;null!=i&&null==e.get(i)&&e.set(i,n)}return e}function f(t){var e=a(t);return e.dimNameMap||(e.dimNameMap=l(t.dimensionsDefine))}function d(t){return t>30}},"80f0":function(t,e,n){"use strict";function r(t){return null==t?0:t.length||1}function o(t){return t}var i=function(){function t(t,e,n,r,i,a){this._old=t,this._new=e,this._oldKeyGetter=n||o,this._newKeyGetter=r||o,this.context=i,this._diffModeMultiple="multiple"===a}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},o=new Array(t.length),i=new Array(e.length);this._initIndexMap(t,null,o,"_oldKeyGetter"),this._initIndexMap(e,n,i,"_newKeyGetter");for(var a=0;a<t.length;a++){var u=o[a],s=n[u],c=r(s);if(c>1){var l=s.shift();1===s.length&&(n[u]=s[0]),this._update&&this._update(l,a)}else 1===c?(n[u]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a)}this._performRestAdd(i,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},o={},i=[],a=[];this._initIndexMap(t,n,i,"_oldKeyGetter"),this._initIndexMap(e,o,a,"_newKeyGetter");for(var u=0;u<i.length;u++){var s=i[u],c=n[s],l=o[s],f=r(c),d=r(l);if(f>1&&1===d)this._updateManyToOne&&this._updateManyToOne(l,c),o[s]=null;else if(1===f&&d>1)this._updateOneToMany&&this._updateOneToMany(l,c),o[s]=null;else if(1===f&&1===d)this._update&&this._update(l,c),o[s]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(l,c),o[s]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(c[h]);else this._remove&&this._remove(c)}this._performRestAdd(a,o)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=e[o],a=r(i);if(a>1)for(var u=0;u<a;u++)this._add&&this._add(i[u]);else 1===a&&this._add&&this._add(i);e[o]=null}},t.prototype._initIndexMap=function(t,e,n,o){for(var i=this._diffModeMultiple,a=0;a<t.length;a++){var u="_ec_"+this[o](t[a],a);if(i||(n[a]=u),e){var s=e[u],c=r(s);0===c?(e[u]=a,i&&n.push(u)):1===c?e[u]=[s,a]:s.push(a)}}},t}();e["a"]=i},"84ce":function(t,e,n){"use strict";var r=n("6d8b"),o=n("3842"),i=n("e86a"),a=n("e0d3"),u=n("697e"),s=Object(a["o"])();function c(t){return"category"===t.type?f(t):p(t)}function l(t,e){return"category"===t.type?h(t,e):{ticks:r["map"](t.scale.getTicks(),function(t){return t.value})}}function f(t){var e=t.getLabelModel(),n=d(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function d(t,e){var n,o,i=m(t,"labels"),a=Object(u["e"])(e),s=g(i,a);return s||(r["isFunction"](a)?n=w(t,a):(o="auto"===a?y(t):a,n=_(t,o)),v(i,a,{labels:n,labelCategoryInterval:o}))}function h(t,e){var n,o,i=m(t,"ticks"),a=Object(u["e"])(e),s=g(i,a);if(s)return s;if(e.get("show")&&!t.scale.isBlank()||(n=[]),r["isFunction"](a))n=w(t,a,!0);else if("auto"===a){var c=d(t,t.getLabelModel());o=c.labelCategoryInterval,n=r["map"](c.labels,function(t){return t.tickValue})}else o=a,n=_(t,o,!0);return v(i,a,{ticks:n,tickCategoryInterval:o})}function p(t){var e=t.scale.getTicks(),n=Object(u["h"])(t);return{labels:r["map"](e,function(e,r){return{level:e.level,formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e.value}})}}function m(t,e){return s(t)[e]||(s(t)[e]=[])}function g(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function v(t,e,n){return t.push({key:e,value:n}),n}function y(t){var e=s(t).autoInterval;return null!=e?e:s(t).autoInterval=t.calculateCategoryInterval()}function b(t){var e=x(t),n=Object(u["h"])(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),c=o.count();if(a[1]-a[0]<1)return 0;var l=1;c>40&&(l=Math.max(1,Math.floor(c/40)));for(var f=a[0],d=t.dataToCoord(f+1)-t.dataToCoord(f),h=Math.abs(d*Math.cos(r)),p=Math.abs(d*Math.sin(r)),m=0,g=0;f<=a[1];f+=l){var v=0,y=0,b=i["d"](n({value:f}),e.font,"center","top");v=1.3*b.width,y=1.3*b.height,m=Math.max(m,v,7),g=Math.max(g,y,7)}var _=m/h,w=g/p;isNaN(_)&&(_=1/0),isNaN(w)&&(w=1/0);var O=Math.max(0,Math.floor(Math.min(_,w))),S=s(t.model),C=t.getExtent(),k=S.lastAutoInterval,T=S.lastTickCount;return null!=k&&null!=T&&Math.abs(k-O)<=1&&Math.abs(T-c)<=1&&k>O&&S.axisExtent0===C[0]&&S.axisExtent1===C[1]?O=k:(S.lastTickCount=c,S.lastAutoInterval=O,S.axisExtent0=C[0],S.axisExtent1=C[1]),O}function x(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function _(t,e,n){var r=Object(u["h"])(t),o=t.scale,i=o.getExtent(),a=t.getLabelModel(),s=[],c=Math.max((e||0)+1,1),l=i[0],f=o.count();0!==l&&c>1&&f/c>2&&(l=Math.round(Math.ceil(l/c)*c));var d=Object(u["j"])(t),h=a.get("showMinLabel")||d,p=a.get("showMaxLabel")||d;h&&l!==i[0]&&g(i[0]);for(var m=l;m<=i[1];m+=c)g(m);function g(t){var e={value:t};s.push(n?t:{formattedLabel:r(e),rawLabel:o.getLabel(e),tickValue:t})}return p&&m-c!==i[1]&&g(i[1]),s}function w(t,e,n){var o=t.scale,i=Object(u["h"])(t),a=[];return r["each"](o.getTicks(),function(t){var r=o.getLabel(t),u=t.value;e(t.value,r)&&a.push(n?u:{formattedLabel:i(t),rawLabel:r,tickValue:u})}),a}var O=[0,1],S=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Object(o["f"])(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&(n=n.slice(),C(n,r.count())),Object(o["l"])(t,O,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),C(n,r.count()));var i=Object(o["l"])(t,n,O,e);return this.scale.scale(i)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=l(this,e),o=n.ticks,i=Object(r["map"])(o,function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}},this),a=e.get("alignWithLabel");return k(this,i,a,t.clamp),i},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),o=Object(r["map"])(n,function(t){return Object(r["map"])(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this);return o},t.prototype.getViewLabels=function(){return c(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},t.prototype.calculateCategoryInterval=function(){return b(this)},t}();function C(t,e){var n=t[1]-t[0],r=e,o=n/r/2;t[0]+=o,t[1]-=o}function k(t,e,n,i){var a=e.length;if(t.onBand&&!n&&a){var u,s,c=t.getExtent();if(1===a)e[0].coord=c[0],u=e[1]={coord:c[0]};else{var l=e[a-1].tickValue-e[0].tickValue,f=(e[a-1].coord-e[0].coord)/l;Object(r["each"])(e,function(t){t.coord-=f/2});var d=t.scale.getExtent();s=1+d[1]-e[a-1].tickValue,u={coord:e[a-1].coord+f*s},e.push(u)}var h=c[0]>c[1];p(e[0].coord,c[0])&&(i?e[0].coord=c[0]:e.shift()),i&&p(c[0],e[0].coord)&&e.unshift({coord:c[0]}),p(c[1],u.coord)&&(i?u.coord=c[1]:e.pop()),i&&p(u.coord,c[1])&&e.push({coord:c[1]})}function p(t,e){return t=Object(o["v"])(t),e=Object(o["v"])(e),h?t>e:t<e}}e["a"]=S},"857d":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=2*Math.PI;function o(t){return t%=r,t<0&&(t+=r),t}},8582:function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return p});var r=n("1687"),o=n("401b"),i=r["identity"],a=5e-5;function u(t){return t>a||t<-a}var s=[],c=[],l=r["create"](),f=Math.abs,d=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return u(this.rotation)||u(this.x)||u(this.y)||u(this.scaleX-1)||u(this.scaleY-1)||u(this.skewX)||u(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||r["create"](),e?this.getLocalTransform(n):i(n),t&&(e?r["mul"](n,t,n):r["copy"](n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&i(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(s);var n=s[0]<0?-1:1,o=s[1]<0?-1:1,i=((s[0]-n)*e+n)/s[0]||0,a=((s[1]-o)*e+o)/s[1]||0;t[0]*=i,t[1]*=i,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||r["create"](),r["invert"](this.invTransform,t)},t.prototype.getComputedTransform=function(){var t=this,e=[];while(t)e.push(t),t=t.parent;while(t=e.pop())t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),o=Math.PI/2+r-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r["mul"](c,t.invTransform,e),e=c);var n=this.originX,o=this.originY;(n||o)&&(l[4]=n,l[5]=o,r["mul"](c,e,l),c[4]-=n,c[5]-=o,e=c),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&o["applyTransform"](n,n,r),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&o["applyTransform"](n,n,r),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&f(t[0]-1)>1e-10&&f(t[3]-1)>1e-10?Math.sqrt(f(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){p(this,t)},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,o=t.originY||0,i=t.scaleX,a=t.scaleY,u=t.anchorX,s=t.anchorY,c=t.rotation||0,l=t.x,f=t.y,d=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;if(n||o||u||s){var p=n+u,m=o+s;e[4]=-p*i-d*m*a,e[5]=-m*a-h*p*i}else e[4]=e[5]=0;return e[0]=i,e[3]=a,e[1]=h*i,e[2]=d*a,c&&r["rotate"](e,e,c),e[4]+=n+l,e[5]+=o+f,e},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),h=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function p(t,e){for(var n=0;n<h.length;n++){var r=h[n];t[r]=e[r]}}e["c"]=d},"861c":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("e0d3"),o=Object(r["o"])(),i=function(t,e,n,r){if(r){var i=o(r);i.dataIndex=n,i.dataType=e,i.seriesIndex=t,"group"===r.type&&r.traverse(function(r){var i=o(r);i.seriesIndex=t,i.dataIndex=n,i.dataType=e})}}},8702:function(t,e,n){"use strict";var r=n("7fae"),o=n("b12f"),i=n("6cb7"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(i["a"]),u=a,s=n("c7a2"),c=n("6d8b"),l=n("2023"),f=n("e0d3"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",f["b"]).models[0]},e.type="cartesian2dAxis",e}(i["a"]);c["mixin"](d,l["a"]);var h=n("9e47"),p=n("f934"),m=n("697e"),g=n("9850"),v=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return c["map"](this._dimList,function(t){return this._axes[t]},this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),c["filter"](this.getAxes(),function(e){return e.scale.type===t})},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),y=v,b=n("1687"),x=n("401b"),_=["x","y"];function w(t){return"interval"===t.type||"time"===t.type}var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=_,e}return Object(r["a"])(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(w(t)&&w(e)){var n=t.getExtent(),r=e.getExtent(),o=this.dataToPoint([n[0],r[0]]),i=this.dataToPoint([n[1],r[1]]),a=n[1]-n[0],u=r[1]-r[0];if(a&&u){var s=(i[0]-o[0])/a,c=(i[1]-o[1])/u,l=o[0]-n[0]*s,f=o[1]-r[0]*c,d=this._transform=[s,0,0,c,l,f];this._invTransform=Object(b["invert"])([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,n){n=n||[];var r=t[0],o=t[1];if(this._transform&&null!=r&&isFinite(r)&&null!=o&&isFinite(o))return Object(x["applyTransform"])(n,t,this._transform);var i=this.getAxis("x"),a=this.getAxis("y");return n[0]=i.toGlobalCoord(i.dataToCoord(r,e)),n[1]=a.toGlobalCoord(a.dataToCoord(o,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,o=n.getExtent(),i=r.getExtent(),a=n.parse(t[0]),u=r.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(i[0],i[1]),u),Math.max(i[0],i[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return Object(x["applyTransform"])(n,t,this._invTransform);var r=this.getAxis("x"),o=this.getAxis("y");return n[0]=r.coordToData(r.toLocalCoord(t[0]),e),n[1]=o.coordToData(o.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),r=Math.min(e[0],e[1]),o=Math.max(t[0],t[1])-n,i=Math.max(e[0],e[1])-r;return new g["a"](n,r,o,i)},e}(y),S=O,C=n("84ce"),k=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,r)||this;return a.index=0,a.type=o||"value",a.position=i||"bottom",a}return Object(r["a"])(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(C["a"]),T=k,M=n("0156"),D=n("944e"),A=n("b2a0"),I=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=_,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function r(t){var e,n=Object(c["keys"])(t),r=n.length;if(r){for(var o=[],i=r-1;i>=0;i--){var a=+n[i],u=t[a],s=u.model,l=u.scale;Object(D["e"])(l)&&s.get("alignTicks")&&null==s.get("interval")?o.push(u):(Object(m["i"])(l,s),Object(D["e"])(l)&&(e=u))}o.length&&(e||(e=o.pop(),Object(m["i"])(e.scale,e.model)),Object(c["each"])(o,function(t){Object(A["a"])(t.scale,t.model,e.scale)}))}}this._updateScale(t,this.model),r(n.x),r(n.y);var o={};Object(c["each"])(n.x,function(t){E(n,"y",t,o)}),Object(c["each"])(n.y,function(t){E(n,"x",t,o)}),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var r=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),i=Object(p["g"])(r,{width:e.getWidth(),height:e.getHeight()});this._rect=i;var a=this._axesList;function u(){Object(c["each"])(a,function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),N(t,e?i.x:i.y)})}u(),o&&(Object(c["each"])(a,function(t){if(!t.model.get(["axisLabel","inside"])){var e=Object(m["b"])(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get(["axisLabel","margin"]);i[n]-=e[n]+r,"top"===t.position?i.y+=e.height+r:"left"===t.position&&(i.x+=e.width+r)}}}),u()),Object(c["each"])(this._coordsList,function(t){t.calcAffineTransform()})},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}Object(c["isObject"])(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis",f["b"]).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",f["b"]).models[0],a=t.gridModel,u=this._coordsList;if(r)e=r.coordinateSystem,Object(c["indexOf"])(u,e)<0&&(e=null);else if(o&&i)e=this.getCartesian(o.componentIndex,i.componentIndex);else if(o)n=this.getAxis("x",o.componentIndex);else if(i)n=this.getAxis("y",i.componentIndex);else if(a){var s=a.coordinateSystem;s===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var r=this,o=this,i={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",s("x"),this),e.eachComponent("yAxis",s("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function s(e){return function(n,r){if(j(n,t)){var s=n.get("position");"x"===e?"top"!==s&&"bottom"!==s&&(s=i.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=i.left?"right":"left"),i[s]=!0;var c=new T(e,Object(m["a"])(n),[0,0],n.get("type"),s),l="category"===c.type;c.onBand=l&&n.get("boundaryGap"),c.inverse=n.get("inverse"),n.axis=c,c.model=n,c.grid=o,c.index=r,o._axesList.push(c),a[e][r]=c,u[e]++}}}this._axesMap=a,Object(c["each"])(a.x,function(e,n){Object(c["each"])(a.y,function(o,i){var a="x"+n+"y"+i,u=new S(a);u.master=r,u.model=t,r._coordsMap[a]=u,r._coordsList.push(u),u.addAxis(e),u.addAxis(o)})})},t.prototype._updateScale=function(t,e){function n(t,e){Object(c["each"])(Object(m["d"])(t,e.dim),function(n){e.scale.unionExtentFromData(t,n)})}Object(c["each"])(this._axesList,function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}}),t.eachSeries(function(t){if(Object(M["b"])(t)){var r=Object(M["a"])(t),o=r.xAxisModel,i=r.yAxisModel;if(!j(o,e)||!j(i,e))return;var a=this.getCartesian(o.componentIndex,i.componentIndex),u=t.getData(),s=a.getAxis("x"),c=a.getAxis("y");n(u,s),n(u,c)}},this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return Object(c["each"])(this.getCartesians(),function(r){var o=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),i=r.getOtherAxis(o);Object(c["indexOf"])(e,o)<0&&e.push(o),Object(c["indexOf"])(n,i)<0&&n.push(i)}),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var r=[];return e.eachComponent("grid",function(o,i){var a=new t(o,e,n);a.name="grid_"+i,a.resize(o,n,!0),o.coordinateSystem=a,r.push(a)}),e.eachSeries(function(t){if(Object(M["b"])(t)){var e=Object(M["a"])(t),n=e.xAxisModel,r=e.yAxisModel,o=n.getCoordSysModel();0;var i=o.coordinateSystem;t.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}}),r},t.dimensions=_,t}();function j(t,e){return t.getCoordSysModel()===e}function E(t,e,n,r){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,i=t[e],a=n.model,u=a.get(["axisLine","onZero"]),s=a.get(["axisLine","onZeroAxisIndex"]);if(u){if(null!=s)R(i[s])&&(o=i[s]);else for(var c in i)if(i.hasOwnProperty(c)&&R(i[c])&&!r[l(i[c])]){o=i[c];break}o&&(r[l(o)]=!0)}function l(t){return t.dim+"_"+t.index}}function R(t){return t&&"category"!==t.type&&"time"!==t.type&&Object(m["g"])(t)}function N(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return r-t+e}}var P=I,B=n("2dc5"),L=n("2306"),F=n("cb11"),z=n("fab22"),V=n("6679"),H=n("58df"),U=["axisLine","axisTickLabel","axisName"],W=["splitArea","splitLine","minorSplitLine"],G=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return Object(r["a"])(e,t),e.prototype.render=function(e,n,r,o){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new B["a"],this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),u=M["c"](a,e),s=new z["a"](e,c["extend"]({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),r=0;r<n.length;r++)if(Object(D["e"])(n[r].getOtherAxis(e.axis).scale))return!0;return!1}},u));c["each"](U,s.add,s),this._axisGroup.add(s.getGroup()),c["each"](W,function(t){e.get([t,"show"])&&q[t](this,this._axisGroup,e,a)},this);var l=o&&"changeAxisOrder"===o.type&&o.isInitSort;l||L["groupTransition"](i,this._axisGroup,e),t.prototype.render.call(this,e,n,r,o)}},e.prototype.remove=function(){Object(H["b"])(this)},e.type="cartesianAxis",e}(V["a"]),q={splitLine:function(t,e,n,r){var o=n.axis;if(!o.scale.isBlank()){var i=n.getModel("splitLine"),a=i.getModel("lineStyle"),u=a.get("color");u=c["isArray"](u)?u:[u];for(var s=r.coordinateSystem.getRect(),l=o.isHorizontal(),f=0,d=o.getTicksCoords({tickModel:i}),h=[],p=[],m=a.getLineStyle(),g=0;g<d.length;g++){var v=o.toGlobalCoord(d[g].coord);l?(h[0]=v,h[1]=s.y,p[0]=v,p[1]=s.y+s.height):(h[0]=s.x,h[1]=v,p[0]=s.x+s.width,p[1]=v);var y=f++%u.length,b=d[g].tickValue;e.add(new F["a"]({anid:null!=b?"line_"+d[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:c["defaults"]({stroke:u[y]},m),silent:!0}))}}},minorSplitLine:function(t,e,n,r){var o=n.axis,i=n.getModel("minorSplitLine"),a=i.getModel("lineStyle"),u=r.coordinateSystem.getRect(),s=o.isHorizontal(),c=o.getMinorTicksCoords();if(c.length)for(var l=[],f=[],d=a.getLineStyle(),h=0;h<c.length;h++)for(var p=0;p<c[h].length;p++){var m=o.toGlobalCoord(c[h][p].coord);s?(l[0]=m,l[1]=u.y,f[0]=m,f[1]=u.y+u.height):(l[0]=u.x,l[1]=m,f[0]=u.x+u.width,f[1]=m),e.add(new F["a"]({anid:"minor_line_"+c[h][p].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:f[0],y2:f[1]},style:d,silent:!0}))}},splitArea:function(t,e,n,r){Object(H["a"])(t,e,n,r)}},Y=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r["a"])(e,t),e.type="xAxis",e}(G),X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=Y.type,e}return Object(r["a"])(e,t),e.type="yAxis",e}(G);n.d(e,"a",function(){return Z});var $=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return Object(r["a"])(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new s["a"]({shape:t.coordinateSystem.getRect(),style:Object(c["defaults"])({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(o["a"]),K={offset:0};function Z(t){t.registerComponentView($),t.registerComponentModel(u),t.registerCoordinateSystem("cartesian2d",P),Object(h["a"])(t,"x",d,K),Object(h["a"])(t,"y",d,K),t.registerComponentView(Y),t.registerComponentView(X),t.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}},8728:function(t,e,n){"use strict";function r(t,e,n,r,o,i){if(i>e&&i>r||i<e&&i<r)return 0;if(r===e)return 0;var a=(i-e)/(r-e),u=r<e?1:-1;1!==a&&0!==a||(u=r<e?.5:-.5);var s=a*(n-t)+t;return s===o?1/0:s>o?u:0}n.d(e,"a",function(){return r})},"87b1":function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=n("4fac"),a=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),u=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){i["a"](t,e,!0)},e}(o["b"]);u.prototype.type="polygon",e["a"]=u},"87c3":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6d8b"),o=n("cccd"),i=n("ee1a"),a=n("f658");function u(t,e){return{seriesType:t,plan:Object(o["a"])(),reset:function(t){var n=t.getData(),o=t.coordinateSystem,u=t.pipelineContext,s=e||u.large;if(o){var c=Object(r["map"])(o.dimensions,function(t){return n.mapDimension(t)}).slice(0,2),l=c.length,f=n.getCalculationInfo("stackResultDimension");Object(i["c"])(n,c[0])&&(c[0]=f),Object(i["c"])(n,c[1])&&(c[1]=f);var d=n.getStore(),h=n.getDimensionIndex(c[0]),p=n.getDimensionIndex(c[1]);return l&&{progress:function(t,e){for(var n=t.end-t.start,r=s&&Object(a["a"])(n*l),i=[],u=[],c=t.start,f=0;c<t.end;c++){var m=void 0;if(1===l){var g=d.get(h,c);m=o.dataToPoint(g,null,u)}else i[0]=d.get(h,c),i[1]=d.get(p,c),m=o.dataToPoint(i,null,u);s?(r[f++]=m[0],r[f++]=m[1]):e.setItemLayout(c,m.slice())}s&&e.setLayout("points",r)}}}}}}},"88b3":function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return s});var r="\0__throttleOriginMethod",o="\0__throttleRate",i="\0__throttleType";function a(t,e,n){var r,o,i,a,u,s=0,c=0,l=null;function f(){c=(new Date).getTime(),l=null,t.apply(i,a||[])}e=e||0;var d=function(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];r=(new Date).getTime(),i=this,a=t;var h=u||e,p=u||n;u=null,o=r-(p?s:c)-h,clearTimeout(l),p?l=setTimeout(f,h):o>=0?f():l=setTimeout(f,-o),s=r};return d.clear=function(){l&&(clearTimeout(l),l=null)},d.debounceNextCall=function(t){u=t},d}function u(t,e,n,u){var s=t[e];if(s){var c=s[r]||s,l=s[i],f=s[o];if(f!==n||l!==u){if(null==n||!u)return t[e]=c;s=t[e]=a(c,n,"debounce"===u),s[r]=c,s[i]=u,s[o]=n}return s}}function s(t,e){var n=t[e];n&&n[r]&&(n.clear&&n.clear(),t[e]=n[r])}},8918:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return c});var r=n("6d8b"),o=n("625e"),i=Math.round(10*Math.random());function a(t){return[t||"",i++].join("_")}function u(t){var e={};t.registerSubTypeDefaulter=function(t,n){var r=Object(o["f"])(t);e[r.main]=n},t.determineSubType=function(n,r){var i=r.type;if(!i){var a=Object(o["f"])(n).main;t.hasSubTypes(n)&&e[a]&&(i=e[a](r))}return i}}function s(t,e){function n(t){var n={},a=[];return r["each"](t,function(u){var s=o(n,u),c=s.originalDeps=e(u),l=i(c,t);s.entryCount=l.length,0===s.entryCount&&a.push(u),r["each"](l,function(t){r["indexOf"](s.predecessor,t)<0&&s.predecessor.push(t);var e=o(n,t);r["indexOf"](e.successor,t)<0&&e.successor.push(u)})}),{graph:n,noEntryList:a}}function o(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function i(t,e){var n=[];return r["each"](t,function(t){r["indexOf"](e,t)>=0&&n.push(t)}),n}t.topologicalTravel=function(t,e,o,i){if(t.length){var a=n(e),u=a.graph,s=a.noEntryList,c={};r["each"](t,function(t){c[t]=!0});while(s.length){var l=s.pop(),f=u[l],d=!!c[l];d&&(o.call(i,l,f.originalDeps.slice()),delete c[l]),r["each"](f.successor,d?p:h)}r["each"](c,function(){var t="";throw new Error(t)})}function h(t){u[t].entryCount--,0===u[t].entryCount&&s.push(t)}function p(t){c[t]=!0,h(t)}}}function c(t,e){return r["merge"](r["merge"]({},t,!0),e,!0)}},"89b6":function(t,e,n){"use strict";n.d(e,"e",function(){return M}),n.d(e,"c",function(){return I}),n.d(e,"b",function(){return j}),n.d(e,"d",function(){return N}),n.d(e,"a",function(){return P});var r=n("dce8"),o=n("cbe5"),i=n("d498"),a=n("20c88"),u=n("857d"),s=n("4a3f"),c=n("6d8b"),l=n("1687"),f=n("401b"),d=n("7d6c"),h=2*Math.PI,p=a["a"].CMD,m=["top","right","bottom","left"];function g(t,e,n,r,o){var i=n.width,a=n.height;switch(t){case"top":r.set(n.x+i/2,n.y-e),o.set(0,-1);break;case"bottom":r.set(n.x+i/2,n.y+a+e),o.set(0,1);break;case"left":r.set(n.x-e,n.y+a/2),o.set(-1,0);break;case"right":r.set(n.x+i+e,n.y+a/2),o.set(1,0);break}}function v(t,e,n,r,o,i,a,s,c){a-=t,s-=e;var l=Math.sqrt(a*a+s*s);a/=l,s/=l;var f=a*n+t,d=s*n+e;if(Math.abs(r-o)%h<1e-4)return c[0]=f,c[1]=d,l-n;if(i){var p=r;r=Object(u["a"])(o),o=Object(u["a"])(p)}else r=Object(u["a"])(r),o=Object(u["a"])(o);r>o&&(o+=h);var m=Math.atan2(s,a);if(m<0&&(m+=h),m>=r&&m<=o||m+h>=r&&m+h<=o)return c[0]=f,c[1]=d,l-n;var g=n*Math.cos(r)+t,v=n*Math.sin(r)+e,y=n*Math.cos(o)+t,b=n*Math.sin(o)+e,x=(g-a)*(g-a)+(v-s)*(v-s),_=(y-a)*(y-a)+(b-s)*(b-s);return x<_?(c[0]=g,c[1]=v,Math.sqrt(x)):(c[0]=y,c[1]=b,Math.sqrt(_))}function y(t,e,n,r,o,i,a,u){var s=o-t,c=i-e,l=n-t,f=r-e,d=Math.sqrt(l*l+f*f);l/=d,f/=d;var h=s*l+c*f,p=h/d;u&&(p=Math.min(Math.max(p,0),1)),p*=d;var m=a[0]=t+p*l,g=a[1]=e+p*f;return Math.sqrt((m-o)*(m-o)+(g-i)*(g-i))}function b(t,e,n,r,o,i,a){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r);var u=t+n,s=e+r,c=a[0]=Math.min(Math.max(o,t),u),l=a[1]=Math.min(Math.max(i,e),s);return Math.sqrt((c-o)*(c-o)+(l-i)*(l-i))}var x=[];function _(t,e,n){var r=b(e.x,e.y,e.width,e.height,t.x,t.y,x);return n.set(x[0],x[1]),r}function w(t,e,n){for(var r,o,i=0,a=0,u=0,c=0,l=1/0,f=e.data,d=t.x,h=t.y,m=0;m<f.length;){var g=f[m++];1===m&&(i=f[m],a=f[m+1],u=i,c=a);var _=l;switch(g){case p.M:u=f[m++],c=f[m++],i=u,a=c;break;case p.L:_=y(i,a,f[m],f[m+1],d,h,x,!0),i=f[m++],a=f[m++];break;case p.C:_=Object(s["e"])(i,a,f[m++],f[m++],f[m++],f[m++],f[m],f[m+1],d,h,x),i=f[m++],a=f[m++];break;case p.Q:_=Object(s["l"])(i,a,f[m++],f[m++],f[m],f[m+1],d,h,x),i=f[m++],a=f[m++];break;case p.A:var w=f[m++],O=f[m++],S=f[m++],C=f[m++],k=f[m++],T=f[m++];m+=1;var M=!!(1-f[m++]);r=Math.cos(k)*S+w,o=Math.sin(k)*C+O,m<=1&&(u=r,c=o);var D=(d-w)*C/S+w;_=v(w,O,C,k,k+T,M,D,h,x),i=Math.cos(k+T)*S+w,a=Math.sin(k+T)*C+O;break;case p.R:u=i=f[m++],c=a=f[m++];var A=f[m++],I=f[m++];_=b(u,c,A,I,d,h,x);break;case p.Z:_=y(i,a,u,c,d,h,x,!0),i=u,a=c;break}_<l&&(l=_,n.set(x[0],x[1]))}return l}var O=new r["a"],S=new r["a"],C=new r["a"],k=new r["a"],T=new r["a"];function M(t,e){if(t){var n=t.getTextGuideLine(),i=t.getTextContent();if(i&&n){var a=t.textGuideLineConfig||{},u=[[0,0],[0,0],[0,0]],s=a.candidates||m,c=i.getBoundingRect().clone();c.applyTransform(i.getComputedTransform());var f=1/0,d=a.anchor,h=t.getComputedTransform(),p=h&&Object(l["invert"])([],h),v=e.get("length2")||0;d&&C.copy(d);for(var y=0;y<s.length;y++){var b=s[y];g(b,0,c,O,k),r["a"].scaleAndAdd(S,O,k,v),S.transform(p);var x=t.getBoundingRect(),T=d?d.distance(S):t instanceof o["b"]?w(S,t.path,C):_(S,x,C);T<f&&(f=T,S.transform(h),C.transform(h),C.toArray(u[0]),S.toArray(u[1]),O.toArray(u[2]))}I(u,e.get("minTurnAngle")),n.setShape({points:u})}}}var D=[],A=new r["a"];function I(t,e){if(e<=180&&e>0){e=e/180*Math.PI,O.fromArray(t[0]),S.fromArray(t[1]),C.fromArray(t[2]),r["a"].sub(k,O,S),r["a"].sub(T,C,S);var n=k.len(),o=T.len();if(!(n<.001||o<.001)){k.scale(1/n),T.scale(1/o);var i=k.dot(T),a=Math.cos(e);if(a<i){var u=y(S.x,S.y,C.x,C.y,O.x,O.y,D,!1);A.fromArray(D),A.scaleAndAdd(T,u/Math.tan(Math.PI-e));var s=C.x!==S.x?(A.x-S.x)/(C.x-S.x):(A.y-S.y)/(C.y-S.y);if(isNaN(s))return;s<0?r["a"].copy(A,S):s>1&&r["a"].copy(A,C),A.toArray(t[1])}}}}function j(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,O.fromArray(t[0]),S.fromArray(t[1]),C.fromArray(t[2]),r["a"].sub(k,S,O),r["a"].sub(T,C,S);var o=k.len(),i=T.len();if(!(o<.001||i<.001)){k.scale(1/o),T.scale(1/i);var a=k.dot(e),u=Math.cos(n);if(a<u){var s=y(S.x,S.y,C.x,C.y,O.x,O.y,D,!1);A.fromArray(D);var c=Math.PI/2,l=Math.acos(T.dot(e)),f=c+l-n;if(f>=c)r["a"].copy(A,C);else{A.scaleAndAdd(T,s/Math.tan(Math.PI/2-f));var d=C.x!==S.x?(A.x-S.x)/(C.x-S.x):(A.y-S.y)/(C.y-S.y);if(isNaN(d))return;d<0?r["a"].copy(A,S):d>1&&r["a"].copy(A,C)}A.toArray(t[1])}}}}function E(t,e,n,r){var o="normal"===n,i=o?t:t.ensureState(n);i.ignore=e;var a=r.get("smooth");a&&!0===a&&(a=.3),i.shape=i.shape||{},a>0&&(i.shape.smooth=a);var u=r.getModel("lineStyle").getLineStyle();o?t.useStyle(u):i.style=u}function R(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var o=f["dist"](r[0],r[1]),i=f["dist"](r[1],r[2]);if(!o||!i)return t.lineTo(r[1][0],r[1][1]),void t.lineTo(r[2][0],r[2][1]);var a=Math.min(o,i)*n,u=f["lerp"]([],r[1],r[0],a/o),s=f["lerp"]([],r[1],r[2],a/i),c=f["lerp"]([],u,s,.5);t.bezierCurveTo(u[0],u[1],u[0],u[1],c[0],c[1]),t.bezierCurveTo(s[0],s[1],s[0],s[1],r[2][0],r[2][1])}else for(var l=1;l<r.length;l++)t.lineTo(r[l][0],r[l][1])}function N(t,e,n){var r=t.getTextGuideLine(),o=t.getTextContent();if(o){for(var a=e.normal,u=a.get("show"),s=o.ignore,l=0;l<d["a"].length;l++){var f=d["a"][l],h=e[f],p="normal"===f;if(h){var m=h.get("show"),g=p?s:Object(c["retrieve2"])(o.states[f]&&o.states[f].ignore,s);if(g||!Object(c["retrieve2"])(m,u)){var v=p?r:r&&r.states[f];v&&(v.ignore=!0);continue}r||(r=new i["a"],t.setTextGuideLine(r),p||!s&&u||E(r,!0,"normal",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),E(r,!1,f,h)}}if(r){Object(c["defaults"])(r.style,n),r.style.fill=null;var y=a.get("showAbove"),b=t.textGuideLineConfig=t.textGuideLineConfig||{};b.showAbove=y||!1,r.buildPath=R}}else r&&t.removeTextGuideLine()}function P(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},r=0;r<d["g"].length;r++){var o=d["g"][r];n[o]=t.getModel([o,e])}return n}},"89e3":function(t,e,n){"use strict";var r=n("7fae"),o=n("3842"),i=n("eda2"),a=n("e0d8"),u=n("944e"),s=o["v"],c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Object(r["a"])(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return u["a"](t,this._extent)},e.prototype.normalize=function(t){return u["f"](t,this._extent)},e.prototype.scale=function(t){return u["g"](t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=u["b"](t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,r=this._niceExtent,o=this._intervalPrecision,i=[];if(!e)return i;var a=1e4;n[0]<r[0]&&(t?i.push({value:s(r[0]-e,o)}):i.push({value:n[0]}));var u=r[0];while(u<=r[1]){if(i.push({value:u}),u=s(u+e,o),u===i[i.length-1].value)break;if(i.length>a)return[]}var c=i.length?i[i.length-1].value:r[1];return n[1]>c&&(t?i.push({value:s(c+e,o)}):i.push({value:n[1]})),i},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),o=1;o<e.length;o++){var i=e[o],a=e[o-1],u=0,c=[],l=i.value-a.value,f=l/t;while(u<t-1){var d=s(a.value+(u+1)*f);d>r[0]&&d<r[1]&&c.push(d),u++}n.push(c)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;null==n?n=o["g"](t.value)||0:"auto"===n&&(n=this._intervalPrecision);var r=s(t.value,n,!0);return i["a"](r)},e.prototype.calcNiceTicks=function(t,e,n){t=t||5;var r=this._extent,o=r[1]-r[0];if(isFinite(o)){o<0&&(o=-o,r.reverse());var i=u["d"](r,t,e,n);this._intervalPrecision=i.intervalPrecision,this._interval=i.interval,this._niceExtent=i.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=s(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=s(Math.ceil(e[1]/o)*o))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type="interval",e}(a["a"]);a["a"].registerClass(c),e["a"]=c},"8d1d":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6d8b");function o(t,e){return t&&"solid"!==t&&e>0?"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:Object(r["isNumber"])(t)?[t]:Object(r["isArray"])(t)?t:null:null}function i(t){var e=t.style,n=e.lineDash&&e.lineWidth>0&&o(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(n){var a=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&1!==a&&(n=Object(r["map"])(n,function(t){return t/a}),i/=a)}return[n,i]}},"8d32":function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new i},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,o=Math.max(e.r,0),i=e.startAngle,a=e.endAngle,u=e.clockwise,s=Math.cos(i),c=Math.sin(i);t.moveTo(s*o+n,c*o+r),t.arc(n,r,o,i,a,!u)},e}(o["b"]);a.prototype.type="arc",e["a"]=a},"8e43":function(t,e,n){"use strict";var r=n("6d8b"),o=0,i=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++o}return t.createByAxisModel=function(e){var n=e.option,o=n.data,i=o&&Object(r["map"])(o,a);return new t({categories:i,needCollect:!i,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!Object(r["isString"])(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var o=this._getOrCreateMap();return e=o.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,o.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Object(r["createHashMap"])(this.categories))},t}();function a(t){return Object(r["isObject"])(t)&&null!=t.value?t.value:t+""}e["a"]=i},9152:function(t,e){e.read=function(t,e,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=u;l>0;i=256*i+t[e+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+f>=1?d/s:d*Math.pow(2,1-f),e*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*s-1)*Math.pow(2,o),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&u,h+=p,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*m}},9394:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("7fae"),o=n("6d8b"),i=n("76a5"),a=n("c7a2"),u=n("861c"),s=n("7837"),c=n("f934"),l=n("6cb7"),f=n("b12f"),d=n("eda2"),h=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(r["a"])(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(l["a"]),p=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r["a"])(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,l=t.getModel("textStyle"),f=t.getModel("subtextStyle"),h=t.get("textAlign"),p=o["retrieve2"](t.get("textBaseline"),t.get("textVerticalAlign")),m=new i["a"]({style:Object(s["c"])(l,{text:t.get("text"),fill:l.getTextColor()},{disableBox:!0}),z2:10}),g=m.getBoundingRect(),v=t.get("subtext"),y=new i["a"]({style:Object(s["c"])(f,{text:v,fill:f.getTextColor(),y:g.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),b=t.get("link"),x=t.get("sublink"),_=t.get("triggerEvent",!0);m.silent=!b&&!_,y.silent=!x&&!_,b&&m.on("click",function(){Object(d["n"])(b,"_"+t.get("target"))}),x&&y.on("click",function(){Object(d["n"])(x,"_"+t.get("subtarget"))}),Object(u["a"])(m).eventData=Object(u["a"])(y).eventData=_?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(m),v&&r.add(y);var w=r.getBoundingRect(),O=t.getBoxLayoutParams();O.width=w.width,O.height=w.height;var S=Object(c["g"])(O,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));h||(h=t.get("left")||t.get("right"),"middle"===h&&(h="center"),"right"===h?S.x+=S.width:"center"===h&&(S.x+=S.width/2)),p||(p=t.get("top")||t.get("bottom"),"center"===p&&(p="middle"),"bottom"===p?S.y+=S.height:"middle"===p&&(S.y+=S.height/2),p=p||"top"),r.x=S.x,r.y=S.y,r.markRedraw();var C={align:h,verticalAlign:p};m.setStyle(C),y.setStyle(C),w=r.getBoundingRect();var k=S.margin,T=t.getItemStyle(["color","opacity"]);T.fill=t.get("backgroundColor");var M=new a["a"]({shape:{x:w.x-k[3],y:w.y-k[0],width:w.width+k[1]+k[3],height:w.height+k[0]+k[2],r:t.get("borderRadius")},style:T,subPixelOptimize:!0,silent:!0});r.add(M)}},e.type="title",e}(f["a"]);function m(t){t.registerComponentModel(h),t.registerComponentView(p)}},"944e":function(t,e,n){"use strict";n.d(e,"e",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l}),n.d(e,"f",function(){return f}),n.d(e,"g",function(){return d});var r=n("3842");function o(t){return"interval"===t.type||"log"===t.type}function i(t,e,n,o){var i={},a=t[1]-t[0],s=i.interval=Object(r["m"])(a/e,!0);null!=n&&s<n&&(s=i.interval=n),null!=o&&s>o&&(s=i.interval=o);var l=i.intervalPrecision=u(s),f=i.niceTickExtent=[Object(r["v"])(Math.ceil(t[0]/s)*s,l),Object(r["v"])(Math.floor(t[1]/s)*s,l)];return c(f,t),i}function a(t){var e=Math.pow(10,Object(r["s"])(t)),n=t/e;return n?2===n?n=3:3===n?n=5:n*=2:n=1,Object(r["v"])(n*e)}function u(t){return Object(r["g"])(t)+2}function s(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function c(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),s(t,0,e),s(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function l(t,e){return t>=e[0]&&t<=e[1]}function f(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function d(t,e){return t*(e[1]-e[0])+e[0]}},9680:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){if(0===o)return!1;var u=o,s=0,c=t;if(a>e+u&&a>r+u||a<e-u&&a<r-u||i>t+u&&i>n+u||i<t-u&&i<n-u)return!1;if(t===n)return Math.abs(i-t)<=u/2;s=(e-r)/(t-n),c=(t*r-n*e)/(t-n);var l=s*i-a+c,f=l*l/(s*s+1);return f<=u/2*u/2}n.d(e,"a",function(){return r})},9850:function(t,e,n){"use strict";var r=n("1687"),o=n("dce8"),i=Math.min,a=Math.max,u=new o["a"],s=new o["a"],c=new o["a"],l=new o["a"],f=new o["a"],d=new o["a"],h=function(){function t(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.union=function(t){var e=i(t.x,this.x),n=i(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=a(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=a(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,o=t.height/e.height,i=r["create"]();return r["translate"](i,i,[-e.x,-e.y]),r["scale"](i,i,[n,o]),r["translate"](i,i,[t.x,t.y]),i},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,i=r.x,a=r.x+r.width,u=r.y,s=r.y+r.height,c=e.x,l=e.x+e.width,h=e.y,p=e.y+e.height,m=!(a<c||l<i||s<h||p<u);if(n){var g=1/0,v=0,y=Math.abs(a-c),b=Math.abs(l-i),x=Math.abs(s-h),_=Math.abs(p-u),w=Math.min(y,b),O=Math.min(x,_);a<c||l<i?w>v&&(v=w,y<b?o["a"].set(d,-y,0):o["a"].set(d,b,0)):w<g&&(g=w,y<b?o["a"].set(f,y,0):o["a"].set(f,-b,0)),s<h||p<u?O>v&&(v=O,x<_?o["a"].set(d,0,-x):o["a"].set(d,0,_)):w<g&&(g=w,x<_?o["a"].set(f,0,x):o["a"].set(f,0,-_))}return n&&o["a"].copy(n,m?f:d),m},t.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var o=r[0],f=r[3],d=r[4],h=r[5];return e.x=n.x*o+d,e.y=n.y*f+h,e.width=n.width*o,e.height=n.height*f,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}u.x=c.x=n.x,u.y=l.y=n.y,s.x=l.x=n.x+n.width,s.y=c.y=n.y+n.height,u.transform(r),l.transform(r),s.transform(r),c.transform(r),e.x=i(u.x,s.x,c.x,l.x),e.y=i(u.y,s.y,c.y,l.y);var p=a(u.x,s.x,c.x,l.x),m=a(u.y,s.y,c.y,l.y);e.width=p-e.x,e.height=m-e.y}else e!==n&&t.copy(e,n)},t}();e["a"]=h},"98b7":function(t,e,n){"use strict";var r,o=n("22d1");r=o["a"].hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},e["a"]=r},"9cf9":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return a});var r=Math.round;function o(t,e,n){if(e){var o=e.x1,i=e.x2,u=e.y1,s=e.y2;t.x1=o,t.x2=i,t.y1=u,t.y2=s;var c=n&&n.lineWidth;return c?(r(2*o)===r(2*i)&&(t.x1=t.x2=a(o,c,!0)),r(2*u)===r(2*s)&&(t.y1=t.y2=a(u,c,!0)),t):t}}function i(t,e,n){if(e){var r=e.x,o=e.y,i=e.width,u=e.height;t.x=r,t.y=o,t.width=i,t.height=u;var s=n&&n.lineWidth;return s?(t.x=a(r,s,!0),t.y=a(o,s,!0),t.width=Math.max(a(r+i,s,!1)-t.x,0===i?0:1),t.height=Math.max(a(o+u,s,!1)-t.y,0===u?0:1),t):t}}function a(t,e,n){if(!e)return t;var o=r(2*t);return(o+r(e))%2===0?o/2:(o+(n?1:-1))/2}},"9d57":function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"f",function(){return g}),n.d(e,"c",function(){return v}),n.d(e,"a",function(){return y});var r=n("6d8b"),o=n("3842"),i=n("ee1a"),a=n("cccd"),u=n("f658"),s="__ec_stack_";function c(t){return t.get("stack")||s+t.seriesIndex}function l(t){return t.dim+t.index}function f(t){var e=[],n=t.axis,o="axis0";if("category"===n.type){for(var i=n.getBandWidth(),a=0;a<t.count;a++)e.push(Object(r["defaults"])({bandWidth:i,axisKey:o,stackId:s+a},t));var u=m(e),c=[];for(a=0;a<t.count;a++){var l=u[o][s+a];l.offsetCenter=l.offset+l.width/2,c.push(l)}return c}}function d(t,e){var n=[];return e.eachSeriesByType(t,function(t){b(t)&&n.push(t)}),n}function h(t){var e={};Object(r["each"])(t,function(t){var n=t.coordinateSystem,r=n.getBaseAxis();if("time"===r.type||"value"===r.type)for(var o=t.getData(),i=r.dim+"_"+r.index,a=o.getDimensionIndex(o.mapDimension(r.dim)),u=o.getStore(),s=0,c=u.count();s<c;++s){var l=u.get(a,s);e[i]?e[i].push(l):e[i]=[l]}});var n={};for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];if(i){i.sort(function(t,e){return t-e});for(var a=null,u=1;u<i.length;++u){var s=i[u]-i[u-1];s>0&&(a=null===a?s:Math.min(a,s))}n[o]=a}}return n}function p(t){var e=h(t),n=[];return Object(r["each"])(t,function(t){var r,i=t.coordinateSystem,a=i.getBaseAxis(),u=a.getExtent();if("category"===a.type)r=a.getBandWidth();else if("value"===a.type||"time"===a.type){var s=a.dim+"_"+a.index,f=e[s],d=Math.abs(u[1]-u[0]),h=a.scale.getExtent(),p=Math.abs(h[1]-h[0]);r=f?d/p*f:d}else{var m=t.getData();r=Math.abs(u[1]-u[0])/m.count()}var g=Object(o["p"])(t.get("barWidth"),r),v=Object(o["p"])(t.get("barMaxWidth"),r),y=Object(o["p"])(t.get("barMinWidth")||(x(t)?.5:1),r),b=t.get("barGap"),_=t.get("barCategoryGap");n.push({bandWidth:r,barWidth:g,barMaxWidth:v,barMinWidth:y,barGap:b,barCategoryGap:_,axisKey:l(a),stackId:c(t)})}),m(n)}function m(t){var e={};Object(r["each"])(t,function(t,n){var r=t.axisKey,o=t.bandWidth,i=e[r]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=i.stacks;e[r]=i;var u=t.stackId;a[u]||i.autoWidthCount++,a[u]=a[u]||{width:0,maxWidth:0};var s=t.barWidth;s&&!a[u].width&&(a[u].width=s,s=Math.min(i.remainedWidth,s),i.remainedWidth-=s);var c=t.barMaxWidth;c&&(a[u].maxWidth=c);var l=t.barMinWidth;l&&(a[u].minWidth=l);var f=t.barGap;null!=f&&(i.gap=f);var d=t.barCategoryGap;null!=d&&(i.categoryGap=d)});var n={};return Object(r["each"])(e,function(t,e){n[e]={};var i=t.stacks,a=t.bandWidth,u=t.categoryGap;if(null==u){var s=Object(r["keys"])(i).length;u=Math.max(35-4*s,15)+"%"}var c=Object(o["p"])(u,a),l=Object(o["p"])(t.gap,1),f=t.remainedWidth,d=t.autoWidthCount,h=(f-c)/(d+(d-1)*l);h=Math.max(h,0),Object(r["each"])(i,function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){r=t.width;e&&(r=Math.min(r,e)),n&&(r=Math.max(r,n)),t.width=r,f-=r+l*r,d--}else{var r=h;e&&e<r&&(r=Math.min(e,f)),n&&n>r&&(r=n),r!==h&&(t.width=r,f-=r+l*r,d--)}}),h=(f-c)/(d+(d-1)*l),h=Math.max(h,0);var p,m=0;Object(r["each"])(i,function(t,e){t.width||(t.width=h),p=t,m+=t.width*(1+l)}),p&&(m-=p.width*l);var g=-m/2;Object(r["each"])(i,function(t,r){n[e][r]=n[e][r]||{bandWidth:a,offset:g,width:t.width},g+=t.width*(1+l)})}),n}function g(t,e,n){if(t&&e){var r=t[l(e)];return null!=r&&null!=n?r[c(n)]:r}}function v(t,e){var n=d(t,e),o=p(n);Object(r["each"])(n,function(t){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),i=c(t),a=o[l(r)][i],u=a.offset,s=a.width;e.setLayout({bandWidth:a.bandWidth,offset:u,size:s})})}function y(t){return{seriesType:t,plan:Object(a["a"])(),reset:function(t){if(b(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),o=n.getOtherAxis(r),a=e.getDimensionIndex(e.mapDimension(o.dim)),s=e.getDimensionIndex(e.mapDimension(r.dim)),c=t.get("showBackground",!0),l=e.mapDimension(o.dim),f=e.getCalculationInfo("stackResultDimension"),d=Object(i["c"])(e,l)&&!!e.getCalculationInfo("stackedOnSeries"),h=o.isHorizontal(),p=_(r,o),m=x(t),g=t.get("barMinHeight")||0,v=f&&e.getDimensionIndex(f),y=e.getLayout("size"),w=e.getLayout("offset");return{progress:function(t,e){var r,o=t.count,i=m&&Object(u["a"])(3*o),l=m&&c&&Object(u["a"])(3*o),f=m&&Object(u["a"])(o),b=n.master.getRect(),x=h?b.width:b.height,_=e.getStore(),O=0;while(null!=(r=t.next())){var S=_.get(d?v:a,r),C=_.get(s,r),k=p,T=void 0;d&&(T=+S-_.get(a,r));var M=void 0,D=void 0,A=void 0,I=void 0;if(h){var j=n.dataToPoint([S,C]);if(d){var E=n.dataToPoint([T,C]);k=E[0]}M=k,D=j[1]+w,A=j[0]-k,I=y,Math.abs(A)<g&&(A=(A<0?-1:1)*g)}else{j=n.dataToPoint([C,S]);if(d){E=n.dataToPoint([C,T]);k=E[1]}M=j[0]+w,D=k,A=y,I=j[1]-k,Math.abs(I)<g&&(I=(I<=0?-1:1)*g)}m?(i[O]=M,i[O+1]=D,i[O+2]=h?A:I,l&&(l[O]=h?b.x:M,l[O+1]=h?D:b.y,l[O+2]=x),f[r]=r):e.setItemLayout(r,{x:M,y:D,width:A,height:I}),O+=3}m&&e.setLayout({largePoints:i,largeDataIndices:f,largeBackgroundPoints:l,valueAxisHorizontal:h})}}}}}}function b(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function x(t){return t.pipelineContext&&t.pipelineContext.large}function _(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}},"9e47":function(t,e,n){"use strict";var r=n("7fae"),o=n("71ad"),i=n("f934"),a=n("8e43"),u={value:1,category:1,time:1,log:1},s=n("6d8b");function c(t,e,n,c){Object(s["each"])(u,function(u,f){var d=Object(s["merge"])(Object(s["merge"])({},o["a"][f],!0),c,!0),h=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+"Axis."+f,n}return Object(r["a"])(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=Object(i["d"])(this),r=n?Object(i["f"])(t):{},o=e.getTheme();Object(s["merge"])(t,o.get(f+"Axis")),Object(s["merge"])(t,this.getDefaultOption()),t.type=l(t),n&&Object(i["h"])(t,r,n)},n.prototype.optionUpdated=function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=a["a"].createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+f,n.defaultOption=d,n}(n);t.registerComponentModel(h)}),t.registerSubTypeDefaulter(e+"Axis",l)}function l(t){return t.type||(t.data?"category":"value")}n.d(e,"a",function(){return c})},"9fbc":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("6d8b");function o(t){return new i(t)}var i=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,o=t&&t.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!o&&(e=this._plan(this.context));var a,u=f(this._modBy),s=this._modDataCount||0,c=f(t&&t.modBy),l=t&&t.modDataCount||0;function f(t){return!(t>=1)&&(t=1),t}u===c&&s===l||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(o)),this._modBy=c,this._modDataCount=l;var d=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!o&&(a||h<p)){var m=this._progress;if(Object(r["isArray"])(m))for(var g=0;g<m.length;g++)this._doProgress(m[g],h,p,c,l);else this._doProgress(m,h,p,c,l)}this._dueIndex=p;var v=null!=this._settedOutputEnd?this._settedOutputEnd:p;0,this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,r,o){a.reset(e,n,r,o),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:a.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Object(r["isArray"])(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var o=this._downstream;return o&&o.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),a=function(){var t,e,n,r,o,i={reset:function(s,c,l,f){e=s,t=c,n=l,r=f,o=Math.ceil(r/n),i.next=n>1&&r>0?u:a}};return i;function a(){return e<t?e++:null}function u(){var i=e%o*n+Math.ceil(e/o),a=e>=t?null:i<r?i:e;return e++,a}}()},a15a:function(t,e,n){"use strict";n.d(e,"d",function(){return y}),n.d(e,"a",function(){return _}),n.d(e,"c",function(){return w}),n.d(e,"b",function(){return O});var r=n("6d8b"),o=n("cbe5"),i=n("cb11"),a=n("c7a2"),u=n("d9fc"),s=n("2306"),c=n("9850"),l=n("e86a"),f=n("3842"),d=o["b"].extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,o=e.width/2,i=e.height/2;t.moveTo(n,r-i),t.lineTo(n+o,r+i),t.lineTo(n-o,r+i),t.closePath()}}),h=o["b"].extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,o=e.width/2,i=e.height/2;t.moveTo(n,r-i),t.lineTo(n+o,r),t.lineTo(n,r+i),t.lineTo(n-o,r),t.closePath()}}),p=o["b"].extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,o=e.width/5*3,i=Math.max(o,e.height),a=o/2,u=a*a/(i-a),s=r-i+a+u,c=Math.asin(u/a),l=Math.cos(c)*a,f=Math.sin(c),d=Math.cos(c),h=.6*a,p=.7*a;t.moveTo(n-l,s+u),t.arc(n,s,a,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(n+l-f*h,s+u+d*h,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-l+f*h,s+u+d*h,n-l,s+u),t.closePath()}}),m=o["b"].extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,o=e.x,i=e.y,a=r/3*2;t.moveTo(o,i),t.lineTo(o+a,i+n),t.lineTo(o,i+n/4*3),t.lineTo(o-a,i+n),t.lineTo(o,i),t.closePath()}}),g={line:i["a"],rect:a["a"],roundRect:a["a"],square:a["a"],circle:u["a"],diamond:h,pin:p,arrow:m,triangle:d},v={line:function(t,e,n,r,o){o.x1=t,o.y1=e+r/2,o.x2=t+n,o.y2=e+r/2},rect:function(t,e,n,r,o){o.x=t,o.y=e,o.width=n,o.height=r},roundRect:function(t,e,n,r,o){o.x=t,o.y=e,o.width=n,o.height=r,o.r=Math.min(n,r)/4},square:function(t,e,n,r,o){var i=Math.min(n,r);o.x=t,o.y=e,o.width=i,o.height=i},circle:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.r=Math.min(n,r)/2},diamond:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.width=n,o.height=r},pin:function(t,e,n,r,o){o.x=t+n/2,o.y=e+r/2,o.width=n,o.height=r},arrow:function(t,e,n,r,o){o.x=t+n/2,o.y=e+r/2,o.width=n,o.height=r},triangle:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.width=n,o.height=r}},y={};Object(r["each"])(g,function(t,e){y[e]=new t});var b=o["b"].extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=Object(l["c"])(t,e,n),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===e.position&&(r.y=n.y+.4*n.height),r},buildPath:function(t,e,n){var r=e.symbolType;if("none"!==r){var o=y[r];o||(r="rect",o=y[r]),v[r](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,n)}}});function x(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function _(t,e,n,r,o,i,a){var u,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),u=0===t.indexOf("image://")?s["makeImage"](t.slice(8),new c["a"](e,n,r,o),a?"center":"cover"):0===t.indexOf("path://")?s["makePath"](t.slice(7),{},new c["a"](e,n,r,o),a?"center":"cover"):new b({shape:{symbolType:t,x:e,y:n,width:r,height:o}}),u.__isEmptyBrush=l,u.setColor=x,i&&u.setColor(i),u}function w(t){return Object(r["isArray"])(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function O(t,e){if(null!=t)return Object(r["isArray"])(t)||(t=[t,t]),[Object(f["p"])(t[0],e[0])||0,Object(f["p"])(Object(r["retrieve2"])(t[1],t[0]),e[1])||0]}},abd2:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("22b4"),o=n("7c0d"),i=n("c436");function a(t){Object(r["a"])(o["a"]),Object(r["a"])(i["a"])}},ac0f:function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=n("401b"),a=n("4a3f"),u=[],s=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function c(t,e,n){var r=t.cpx2,o=t.cpy2;return null!=r||null!=o?[(n?a["b"]:a["a"])(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?a["b"]:a["a"])(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?a["i"]:a["h"])(t.x1,t.cpx1,t.x2,e),(n?a["i"]:a["h"])(t.y1,t.cpy1,t.y2,e)]}var l=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new s},e.prototype.buildPath=function(t,e){var n=e.x1,r=e.y1,o=e.x2,i=e.y2,s=e.cpx1,c=e.cpy1,l=e.cpx2,f=e.cpy2,d=e.percent;0!==d&&(t.moveTo(n,r),null==l||null==f?(d<1&&(Object(a["n"])(n,s,o,d,u),s=u[1],o=u[2],Object(a["n"])(r,c,i,d,u),c=u[1],i=u[2]),t.quadraticCurveTo(s,c,o,i)):(d<1&&(Object(a["g"])(n,s,l,o,d,u),s=u[1],l=u[2],o=u[3],Object(a["g"])(r,c,f,i,d,u),c=u[1],f=u[2],i=u[3]),t.bezierCurveTo(s,c,l,f,o,i)))},e.prototype.pointAt=function(t){return c(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=c(this.shape,t,!0);return i["normalize"](e,e)},e}(o["b"]);l.prototype.type="bezier-curve",e["a"]=l},ae69:function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new i},e.prototype.buildPath=function(t,e){var n=.5522848,r=e.cx,o=e.cy,i=e.rx,a=e.ry,u=i*n,s=a*n;t.moveTo(r-i,o),t.bezierCurveTo(r-i,o-s,r-u,o-a,r,o-a),t.bezierCurveTo(r+u,o-a,r+i,o-s,r+i,o),t.bezierCurveTo(r+i,o+s,r+u,o+a,r,o+a),t.bezierCurveTo(r-u,o+a,r-i,o+s,r-i,o),t.closePath()},e}(o["b"]);a.prototype.type="ellipse",e["a"]=a},af5c0:function(t,e,n){"use strict";var r=n("6679"),o=n("7fae"),i=n("dcb3"),a=n("ff2e"),u=n("0156"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o["a"])(e,t),e.prototype.makeElOption=function(t,e,n,r,o){var i=n.axis,s=i.grid,f=r.get("type"),d=c(s,i).getOtherAxis(i).getGlobalExtent(),h=i.toGlobalCoord(i.dataToCoord(e,!0));if(f&&"none"!==f){var p=a["b"](r),m=l[f](i,h,d);m.style=p,t.graphicKey=m.type,t.pointer=m}var g=u["c"](s.model,n);a["a"](e,t,g,n,r,o)},e.prototype.getHandleTransform=function(t,e,n){var r=u["c"](e.axis.grid.model,e,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var o=a["d"](e.axis,t,r);return{x:o[0],y:o[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,r){var o=n.axis,i=o.grid,a=o.getGlobalExtent(!0),u=c(i,o).getOtherAxis(o).getGlobalExtent(),s="x"===o.dim?0:1,l=[t.x,t.y];l[s]+=e[s],l[s]=Math.min(a[1],l[s]),l[s]=Math.max(a[0],l[s]);var f=(u[1]+u[0])/2,d=[f,f];d[s]=l[s];var h=[{verticalAlign:"middle"},{align:"center"}];return{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:d,tooltipOption:h[s]}},e}(i["a"]);function c(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var l={line:function(t,e,n){var r=a["f"]([e,n[0]],[e,n[1]],f(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:a["g"]([e-r/2,n[0]],[r,o],f(t))}}};function f(t){return"x"===t.dim?0:1}var d=s,h=n("6cb7"),p=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(o["a"])(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(h["a"]),m=p,g=n("17d6"),v=n("b12f"),y=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(o["a"])(e,t),e.prototype.render=function(t,e,n){var r=e.getComponent("tooltip"),o=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";g["a"]("axisPointer",n,function(t,e,n){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},e.prototype.remove=function(t,e){g["b"]("axisPointer",e)},e.prototype.dispose=function(t,e){g["b"]("axisPointer",e)},e.type="axisPointer",e}(v["a"]),b=y,x=n("6d8b"),_=n("cd33"),w=n("e0d3"),O=n("133d"),S=Object(w["o"])();function C(t,e,n){var r=t.currTrigger,o=[t.x,t.y],i=t,a=t.dispatchAction||Object(x["bind"])(n.dispatchAction,n),u=e.getComponent("axisPointer").coordSysAxesInfo;if(u){N(o)&&(o=Object(O["a"])({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},e).point);var s=N(o),c=i.axesInfo,l=u.axesInfo,f="leave"===r||N(o),d={},h={},p={list:[],map:{}},m={showPointer:Object(x["curry"])(M,h),showTooltip:Object(x["curry"])(D,p)};Object(x["each"])(u.coordSysMap,function(t,e){var n=s||t.containPoint(o);Object(x["each"])(u.coordSysAxesInfo[e],function(t,e){var r=t.axis,i=E(c,t);if(!f&&n&&(!c||i)){var a=i&&i.value;null!=a||s||(a=r.pointToData(o)),null!=a&&k(t,a,m,!1,d)}})});var g={};return Object(x["each"])(l,function(t,e){var n=t.linkGroup;n&&!h[e]&&Object(x["each"])(n.axesInfo,function(e,r){var o=h[r];if(e!==t&&o){var i=o.value;n.mapper&&(i=t.axis.scale.parse(n.mapper(i,R(e),R(t)))),g[t.key]=i}})}),Object(x["each"])(g,function(t,e){k(l[e],t,m,!0,d)}),A(h,l,d),I(p,o,t,a),j(l,a,n),d}}function k(t,e,n,r,o){var i=t.axis;if(!i.scale.isBlank()&&i.containData(e))if(t.involveSeries){var a=T(e,t),u=a.payloadBatch,s=a.snapToValue;u[0]&&null==o.seriesIndex&&Object(x["extend"])(o,u[0]),!r&&t.snap&&i.containData(s)&&null!=s&&(e=s),n.showPointer(t,e,u),n.showTooltip(t,a,s)}else n.showPointer(t,e)}function T(t,e){var n=e.axis,r=n.dim,o=t,i=[],a=Number.MAX_VALUE,u=-1;return Object(x["each"])(e.seriesModels,function(e,s){var c,l,f=e.getData().mapDimensionsAll(r);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(f,t,n);l=d.dataIndices,c=d.nestestValue}else{if(l=e.getData().indicesOfNearest(f[0],t,"category"===n.type?.5:null),!l.length)return;c=e.getData().get(f[0],l[0])}if(null!=c&&isFinite(c)){var h=t-c,p=Math.abs(h);p<=a&&((p<a||h>=0&&u<0)&&(a=p,u=h,o=c,i.length=0),Object(x["each"])(l,function(t){i.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:i,snapToValue:o}}function M(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function D(t,e,n,r){var o=n.payloadBatch,i=e.axis,a=i.model,u=e.axisPointerModel;if(e.triggerTooltip&&o.length){var s=e.coordSys.model,c=_["e"](s),l=t.map[c];l||(l=t.map[c]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},t.list.push(l)),l.dataByAxis.push({axisDim:i.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:u.get(["label","precision"]),formatter:u.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function A(t,e,n){var r=n.axesInfo=[];Object(x["each"])(e,function(e,n){var o=e.axisPointerModel.option,i=t[n];i?(!e.useHandle&&(o.status="show"),o.value=i.value,o.seriesDataIndices=(i.payloadBatch||[]).slice()):!e.useHandle&&(o.status="hide"),"show"===o.status&&r.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})})}function I(t,e,n,r){if(!N(e)&&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}else r({type:"hideTip"})}function j(t,e,n){var r=n.getZr(),o="axisPointerLastHighlights",i=S(r)[o]||{},a=S(r)[o]={};Object(x["each"])(t,function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&Object(x["each"])(n.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t})});var u=[],s=[];Object(x["each"])(i,function(t,e){!a[e]&&s.push(t)}),Object(x["each"])(a,function(t,e){!i[e]&&u.push(t)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),u.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:u})}function E(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function R(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function N(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function P(t){r["a"].registerAxisPointerClass("CartesianAxisPointer",d),t.registerComponentModel(m),t.registerComponentView(b),t.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Object(x["isArray"])(e)&&(t.axisPointer.link=[e])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Object(_["a"])(t,e)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},C)}n.d(e,"a",function(){return P})},b0af:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return l});var r=n("c7a2"),o=n("deab"),i=n("4aa2"),a=n("3842"),u=n("6d8b");function s(t,e,n,i,a){var s=t.getArea(),c=s.x,l=s.y,f=s.width,d=s.height,h=n.get(["lineStyle","width"])||2;c-=h/2,l-=h/2,f+=h,d+=h,c=Math.floor(c),f=Math.round(f);var p=new r["a"]({shape:{x:c,y:l,width:f,height:d}});if(e){var m=t.getBaseAxis(),g=m.isHorizontal(),v=m.inverse;g?(v&&(p.shape.x+=f),p.shape.width=0):(v||(p.shape.y+=d),p.shape.height=0);var y=Object(u["isFunction"])(a)?function(t){a(t,p)}:null;o["c"](p,{shape:{width:f,height:d,x:c,y:l}},n,null,i,y)}return p}function c(t,e,n){var r=t.getArea(),u=Object(a["v"])(r.r0,1),s=Object(a["v"])(r.r,1),c=new i["a"]({shape:{cx:Object(a["v"])(t.cx,1),cy:Object(a["v"])(t.cy,1),r0:u,r:s,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var l="angle"===t.getBaseAxis().dim;l?c.shape.endAngle=r.startAngle:c.shape.r=u,o["c"](c,{shape:{endAngle:r.endAngle,r:s}},n)}return c}function l(t,e,n,r,o){return t?"polar"===t.type?c(t,e,n):"cartesian2d"===t.type?s(t,e,n,r,o):null:null}},b12f:function(t,e,n){"use strict";var r=n("2dc5"),o=n("8918"),i=n("625e"),a=function(){function t(){this.group=new r["a"],this.uid=o["c"]("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){},t.prototype.updateLayout=function(t,e,n,r){},t.prototype.updateVisual=function(t,e,n,r){},t.prototype.toggleBlurSeries=function(t,e,n){},t.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},t}();i["b"](a),i["c"](a),e["a"]=a},b1d4:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return d});var r=n("07fd"),o=n("cd70"),i=n("6d8b"),a=n("ec6f"),u=n("d0ce"),s=n("e0d3"),c=n("0f99"),l=n("80b9");function f(t,e){return d(t,e).dimensions}function d(t,e){Object(a["e"])(t)||(t=Object(a["c"])(t)),e=e||{};var n=e.coordDimensions||[],f=e.dimensionsDefine||t.dimensionsDefine||[],d=Object(i["createHashMap"])(),g=[],v=p(t,n,f,e.dimensionsCount),y=e.canOmitUnusedDimensions&&Object(l["e"])(v),b=f===t.dimensionsDefine,x=b?Object(l["c"])(t):Object(l["b"])(f),_=e.encodeDefine;!_&&e.encodeDefaulter&&(_=e.encodeDefaulter(t,v));for(var w=Object(i["createHashMap"])(_),O=new u["a"](v),S=0;S<O.length;S++)O[S]=-1;function C(t){var e=O[t];if(e<0){var n=f[t],r=Object(i["isObject"])(n)?n:{name:n},a=new o["a"],u=r.name;null!=u&&null!=x.get(u)&&(a.name=a.displayName=u),null!=r.type&&(a.type=r.type),null!=r.displayName&&(a.displayName=r.displayName);var s=g.length;return O[t]=s,a.storeDimIndex=t,g.push(a),a}return g[e]}if(!y)for(S=0;S<v;S++)C(S);w.each(function(t,e){var n=Object(s["r"])(t).slice();if(1===n.length&&!Object(i["isString"])(n[0])&&n[0]<0)w.set(e,!1);else{var r=w.set(e,[]);Object(i["each"])(n,function(t,n){var o=Object(i["isString"])(t)?x.get(t):t;null!=o&&o<v&&(r[n]=o,T(C(o),e,n))})}});var k=0;function T(t,e,n){null!=r["i"].get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,d.set(e,!0))}Object(i["each"])(n,function(t){var e,n,r,o;if(Object(i["isString"])(t))e=t,o={};else{o=t,e=o.name;var a=o.ordinalMeta;o.ordinalMeta=null,o=Object(i["extend"])({},o),o.ordinalMeta=a,n=o.dimsDef,r=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var u=w.get(e);if(!1!==u){if(u=Object(s["r"])(u),!u.length)for(var c=0;c<(n&&n.length||1);c++){while(k<v&&null!=C(k).coordDim)k++;k<v&&u.push(k++)}Object(i["each"])(u,function(t,a){var u=C(t);if(b&&null!=o.type&&(u.type=o.type),T(Object(i["defaults"])(u,o),e,a),null==u.name&&n){var s=n[a];!Object(i["isObject"])(s)&&(s={name:s}),u.name=u.displayName=s.name,u.defaultTooltip=s.defaultTooltip}r&&Object(i["defaults"])(u.otherDims,r)})}});var M=e.generateCoord,D=e.generateCoordCount,A=null!=D;D=M?D||1:0;var I=M||"value";function j(t){null==t.name&&(t.name=t.coordDim)}if(y)Object(i["each"])(g,function(t){j(t)}),g.sort(function(t,e){return t.storeDimIndex-e.storeDimIndex});else for(var E=0;E<v;E++){var R=C(E),N=R.coordDim;null==N&&(R.coordDim=m(I,d,A),R.coordDimIndex=0,(!M||D<=0)&&(R.isExtraCoord=!0),D--),j(R),null!=R.type||Object(c["b"])(t,E)!==c["a"].Must&&(!R.isExtraCoord||null==R.otherDims.itemName&&null==R.otherDims.seriesName)||(R.type="ordinal")}return h(g),new l["a"]({source:t,dimensions:g,fullDimensionCount:v,dimensionOmitted:y})}function h(t){for(var e=Object(i["createHashMap"])(),n=0;n<t.length;n++){var r=t[n],o=r.name,a=e.get(o)||0;a>0&&(r.name=o+(a-1)),a++,e.set(o,a)}}function p(t,e,n,r){var o=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return Object(i["each"])(e,function(t){var e;Object(i["isObject"])(t)&&(e=t.dimsDef)&&(o=Math.max(o,e.length))}),o}function m(t,e,n){var r=e.data;if(n||r.hasOwnProperty(t)){var o=0;while(r.hasOwnProperty(t+o))o++;t+=o}return e.set(t,!0),t}},b2a0:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("3842"),o=n("89e3"),i=n("697e"),a=n("944e"),u=Math.log;function s(t,e,n){var s=o["a"].prototype,c=s.getTicks.call(n),l=s.getTicks.call(n,!0),f=c.length-1,d=s.getInterval.call(n),h=Object(i["f"])(t,e),p=h.extent,m=h.fixMin,g=h.fixMax;if("log"===t.type){var v=u(t.base);p=[u(p[0])/v,u(p[1])/v]}t.setExtent(p[0],p[1]),t.calcNiceExtent({splitNumber:f,fixMin:m,fixMax:g});var y=s.getExtent.call(t);m&&(p[0]=y[0]),g&&(p[1]=y[1]);var b=s.getInterval.call(t),x=p[0],_=p[1];if(m&&g)b=(_-x)/f;else if(m){_=p[0]+b*f;while(_<p[1]&&isFinite(_)&&isFinite(p[1]))b=Object(a["c"])(b),_=p[0]+b*f}else if(g){x=p[1]-b*f;while(x>p[0]&&isFinite(x)&&isFinite(p[0]))b=Object(a["c"])(b),x=p[1]-b*f}else{var w=t.getTicks().length-1;w>f&&(b=Object(a["c"])(b));var O=b*f;_=Math.ceil(p[1]/b)*b,x=Object(r["v"])(_-O),x<0&&p[0]>=0?(x=0,_=Object(r["v"])(O)):_>0&&p[1]<=0&&(_=0,x=-Object(r["v"])(O))}var S=(c[0].value-l[0].value)/d,C=(c[f].value-l[f].value)/d;s.setExtent.call(t,x+b*S,_+b*C),s.setInterval.call(t,b),(S||C)&&s.setNiceExtent.call(t,x+b,_-b)}},b362:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("4a3f"),o=n("6d8b"),i=/cubic-bezier\(([0-9,\.e ]+)\)/;function a(t){var e=t&&i.exec(t);if(e){var n=e[1].split(","),a=+Object(o["trim"])(n[0]),u=+Object(o["trim"])(n[1]),s=+Object(o["trim"])(n[2]),c=+Object(o["trim"])(n[3]);if(isNaN(a+u+s+c))return;var l=[];return function(t){return t<=0?0:t>=1?1:Object(r["f"])(0,a,s,1,t,l)&&Object(r["a"])(0,u,c,1,l[0])}}}},b3c1:function(t,e,n){"use strict";var r=Math.round(9*Math.random()),o="function"===typeof Object.defineProperty,i=function(){function t(){this._id="__ec_inner_"+r++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return o?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype["delete"]=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),a=i,u=n("d51b"),s=n("6d8b"),c=n("3842"),l=n("a15a"),f=n("5210"),d=n("726e");n.d(e,"a",function(){return g});var h=new a,p=new u["a"](100),m=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function g(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),r=e.getZr(),o="svg"===r.painter.type;t.dirty&&h["delete"](t);var i=h.get(t);if(i)return i;var a=Object(s["defaults"])(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var u={repeat:"repeat"};return g(u),u.rotation=a.rotation,u.scaleX=u.scaleY=o?1:1/n,h.set(t,u),t.dirty=!1,u;function g(t){for(var e,i=[n],u=!0,h=0;h<m.length;++h){var g=a[m[h]];if(null!=g&&!Object(s["isArray"])(g)&&!Object(s["isString"])(g)&&!Object(s["isNumber"])(g)&&"boolean"!==typeof g){u=!1;break}i.push(g)}if(u){e=i.join(",")+(o?"-svg":"");var w=p.get(e);w&&(o?t.svgElement=w:t.image=w)}var O,S=y(a.dashArrayX),C=b(a.dashArrayY),k=v(a.symbol),T=x(S),M=_(C),D=!o&&d["d"].createCanvas(),A=o&&{tag:"g",attrs:{},key:"dcl",children:[]},I=j();function j(){for(var t=1,e=0,n=T.length;e<n;++e)t=Object(c["d"])(t,T[e]);var r=1;for(e=0,n=k.length;e<n;++e)r=Object(c["d"])(r,k[e].length);t*=r;var o=M*T.length*k.length;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(o,a.maxTileHeight))}}function E(){O&&(O.clearRect(0,0,D.width,D.height),a.backgroundColor&&(O.fillStyle=a.backgroundColor,O.fillRect(0,0,D.width,D.height)));for(var t=0,e=0;e<C.length;++e)t+=C[e];if(!(t<=0)){var i=-M,u=0,s=0,c=0;while(i<I.height){if(u%2===0){var d=s/2%k.length,h=0,p=0,m=0;while(h<2*I.width){var g=0;for(e=0;e<S[c].length;++e)g+=S[c][e];if(g<=0)break;if(p%2===0){var v=.5*(1-a.symbolSize),y=h+S[c][p]*v,b=i+C[u]*v,x=S[c][p]*a.symbolSize,_=C[u]*a.symbolSize,w=m/2%k[d].length;T(y,b,x,_,k[d][w])}h+=S[c][p],++m,++p,p===S[c].length&&(p=0)}++c,c===S.length&&(c=0)}i+=C[u],++s,++u,u===C.length&&(u=0)}}function T(t,e,i,u,s){var c=o?1:n,d=Object(l["a"])(s,t*c,e*c,i*c,u*c,a.color,a.symbolKeepAspect);if(o){var h=r.painter.renderOneToVNode(d);h&&A.children.push(h)}else Object(f["b"])(O,d)}}D&&(D.width=I.width*n,D.height=I.height*n,O=D.getContext("2d")),E(),u&&p.put(e,D||A),t.image=D,t.svgElement=A,t.svgWidth=I.width,t.svgHeight=I.height}}function v(t){if(!t||0===t.length)return[["rect"]];if(Object(s["isString"])(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!Object(s["isString"])(t[n])){e=!1;break}if(e)return v([t]);var r=[];for(n=0;n<t.length;++n)Object(s["isString"])(t[n])?r.push([t[n]]):r.push(t[n]);return r}function y(t){if(!t||0===t.length)return[[0,0]];if(Object(s["isNumber"])(t)){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,r=0;r<t.length;++r)if(!Object(s["isNumber"])(t[r])){n=!1;break}if(n)return y([t]);var o=[];for(r=0;r<t.length;++r)if(Object(s["isNumber"])(t[r])){e=Math.ceil(t[r]);o.push([e,e])}else{e=Object(s["map"])(t[r],function(t){return Math.ceil(t)});e.length%2===1?o.push(e.concat(e)):o.push(e)}return o}function b(t){if(!t||"object"===typeof t&&0===t.length)return[0,0];if(Object(s["isNumber"])(t)){var e=Math.ceil(t);return[e,e]}var n=Object(s["map"])(t,function(t){return Math.ceil(t)});return t.length%2?n.concat(n):n}function x(t){return Object(s["map"])(t,function(t){return _(t)})}function _(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?2*e:e}},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),o=n("9152"),i=n("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(u()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,r):"string"===typeof e?p(t,e,n):v(t,e)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,n,r){return f(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}function h(t,e){if(f(e),t=s(t,e<0?0:0|y(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|x(e,n);t=s(t,r);var o=t.write(e,n);return o!==r&&(t=t.slice(0,o)),t}function m(t,e){var n=e.length<0?0:0|y(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function g(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=m(t,e),t}function v(t,e){if(c.isBuffer(e)){var n=0|y(e.length);return t=s(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?s(t,0):m(t,e);if("Buffer"===e.type&&i(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),c.alloc(+t)}function x(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return K(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return N(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function O(t,e,n,r,o){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:S(t,e,n,r,o);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function S(t,e,n,r,o){var i,a=1,u=t.length,s=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<u;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===s)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+s>u&&(n=u-s),i=n;i>=0;i--){for(var f=!0,d=0;d<s;d++)if(c(t,i+d)!==c(e,d)){f=!1;break}if(f)return i}return-1}function C(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[n+a]=u}return a}function k(t,e,n,r){return tt(K(e,t.length-n),t,n,r)}function T(t,e,n,r){return tt(Z(e),t,n,r)}function M(t,e,n,r){return T(t,e,n,r)}function D(t,e,n,r){return tt(Q(e),t,n,r)}function A(t,e,n,r){return tt(J(e,t.length-n),t,n,r)}function I(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);var r=[],o=e;while(o<n){var i,a,u,s,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:i=t[o+1],128===(192&i)&&(s=(31&c)<<6|63&i,s>127&&(l=s));break;case 3:i=t[o+1],a=t[o+2],128===(192&i)&&128===(192&a)&&(s=(15&c)<<12|(63&i)<<6|63&a,s>2047&&(s<55296||s>57343)&&(l=s));break;case 4:i=t[o+1],a=t[o+2],u=t[o+3],128===(192&i)&&128===(192&a)&&128===(192&u)&&(s=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&u,s>65535&&s<1114112&&(l=s))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return R(r)}e.Buffer=c,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=u(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return d(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=x,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):_.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,a=n-e,u=Math.min(i,a),s=this.slice(r,o),l=t.slice(e,n),f=0;f<u;++f)if(s[f]!==l[f]){i=s[f],a=l[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return O(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return O(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return C(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return M(this,t,e,n);case"base64":return D(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function R(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=E));return n}function N(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function B(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=$(t[i]);return o}function L(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function F(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function z(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function V(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function H(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function U(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function W(t,e,n,r,i){return i||U(t,e,n,4,34028234663852886e22,-34028234663852886e22),o.write(t,e,n,r,23,4),n+4}function G(t,e,n,r,i){return i||U(t,e,n,8,17976931348623157e292,-17976931348623157e292),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var r=this[t],o=1,i=0;while(++i<e&&(o*=256))r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var r=this[t+--e],o=1;while(e>0&&(o*=256))r+=this[t+--e]*o;return r},c.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var r=this[t],o=1,i=0;while(++i<e&&(o*=256))r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var r=e,o=1,i=this[t+--r];while(r>0&&(o*=256))i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;z(this,t,e,n,o,0)}var i=1,a=0;this[e]=255&t;while(++a<n&&(i*=256))this[e+a]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;z(this,t,e,n,o,0)}var i=n-1,a=1;this[e+i]=255&t;while(--i>=0&&(a*=256))this[e+i]=t/a&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):H(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var i=0,a=1,u=0;this[e]=255&t;while(++i<n&&(a*=256))t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var i=n-1,a=1,u=0;this[e+i]=255&t;while(--i>=0&&(a*=256))t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):H(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return W(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return W(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return G(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return G(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=c.isBuffer(t)?t:K(new c(t,r).toString()),u=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%u]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function Y(t){if(t=X(t).replace(q,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function X(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function $(t){return t<16?"0"+t.toString(16):t.toString(16)}function K(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,r,o,i=[],a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r)}return i}function Q(t){return r.toByteArray(Y(t))}function tt(t,e,n,r){for(var o=0;o<r;++o){if(o+n>=e.length||o>=t.length)break;e[o+n]=t[o]}return o}function et(t){return t!==t}}).call(this,n("c8ba"))},b682:function(t,e,n){"use strict";var r,o,i,a,u,s,c,l=n("6d8b"),f=n("4319"),d=n("80f0"),h=n("2b17"),p=n("2f45"),m=n("cd70"),g=n("07fd"),v=n("e0d3"),y=n("861c"),b=n("ec6f"),x=n("d0ce"),_=n("80b9"),w=l["isObject"],O=l["map"],S="undefined"===typeof Int32Array?Array:Int32Array,C="e\0\0",k=-1,T=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],M=["_approximateExtent"],D=function(){function t(t,e){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;Object(_["d"])(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,n=t),n=n||["x","y"];for(var o={},i=[],a={},u=!1,s={},c=0;c<n.length;c++){var f=n[c],d=l["isString"](f)?new m["a"]({name:f}):f instanceof m["a"]?f:new m["a"](f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};i.push(h),o[h]=d,null!=s[h]&&(u=!0),d.createInvertedIndices&&(a[h]=[]),0===p.itemName&&(this._nameDimIdx=c),0===p.itemId&&(this._idDimIdx=c),r&&(d.storeDimIndex=c)}if(this.dimensions=i,this._dimInfos=o,this._initGetDimensionInfo(u),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var g=this._dimIdxToName=l["createHashMap"]();l["each"](i,function(t){g.set(o[t].storeDimIndex,t)})}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(l["isNumber"](t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},t.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var r,o=this;if(t instanceof x["b"]&&(r=t),!r){var i=this.dimensions,a=Object(b["e"])(t)||l["isArrayLike"](t)?new h["a"](t,i.length):t;r=new x["b"];var u=O(i,function(t){return{type:o._dimInfos[t].type,property:t}});r.initData(a,u,n)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=Object(p["b"])(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),r=n.start,o=n.end,i=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=r;a<o;a++){var u=a-r;this._nameList[a]=e[u],i&&c(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var r=this._dimInfos[e[n]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==g["g"]&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,o=n.getProvider();this._updateOrdinalMeta();var i=this._nameList,a=this._idList,u=o.getSource().sourceFormat,s=u===g["f"];if(s&&!o.pure)for(var l=[],f=t;f<e;f++){var d=o.getItem(f,l);if(!this.hasItemOption&&Object(v["m"])(d)&&(this.hasItemOption=!0),d){var h=d.name;null==i[f]&&null!=h&&(i[f]=Object(v["e"])(h,null));var p=d.id;null==a[f]&&null!=p&&(a[f]=Object(v["e"])(p,null))}}if(this._shouldMakeIdFromName())for(f=t;f<e;f++)c(this,f);r(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){w(t)?l["extend"](this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=i(this,this._nameDimIdx,e)),null==n&&(n=""),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[n]:n},t.prototype.getId=function(t){return o(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.get(r.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.getByRawIndex(r.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,r=this._store;return l["isArray"](t)?r.getValues(O(t,function(t){return n._getStoreDimIndex(t)}),e):r.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];var r=n[e];return null==r||isNaN(r)?k:r},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){l["isFunction"](t)&&(n=e,e=t,t=[]);var r=n||this,o=O(a(t),this._getStoreDimIndex,this);this._store.each(o,r?l["bind"](e,r):e)},t.prototype.filterSelf=function(t,e,n){l["isFunction"](t)&&(n=e,e=t,t=[]);var r=n||this,o=O(a(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?l["bind"](e,r):e),this},t.prototype.selectRange=function(t){var e=this,n={},r=l["keys"](t),o=[];return l["each"](r,function(r){var i=e._getStoreDimIndex(r);n[i]=t[r],o.push(i)}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){l["isFunction"](t)&&(n=e,e=t,t=[]),n=n||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n),r},t.prototype.map=function(t,e,n,r){var o=n||r||this,i=O(a(t),this._getStoreDimIndex,this),u=s(this);return u._store=this._store.map(i,o?l["bind"](e,o):e),u},t.prototype.modify=function(t,e,n,r){var o=n||r||this;var i=O(a(t),this._getStoreDimIndex,this);this._store.modify(i,o?l["bind"](e,o):e)},t.prototype.downSample=function(t,e,n,r){var o=s(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,n,r),o},t.prototype.lttbDownSample=function(t,e){var n=s(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new f["a"](n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new d["a"](t?t.getStore().getIndices():[],this.getStore().getIndices(),function(e){return o(t,e)},function(t){return o(e,t)})},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},w(t)?l["extend"](this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return null==r?this.getVisual(e):r},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var o=r[e];return null==o&&(o=this.getVisual(e),l["isArray"](o)?o=o.slice():w(o)&&(o=l["extend"]({},o)),r[e]=o),o},t.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,w(e)?l["extend"](r,e):r[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){w(t)?l["extend"](this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?l["extend"](this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;Object(y["b"])(n,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){l["each"](this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:O(this.dimensions,this._getDimInfo,this),this.hostModel)),u(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];l["isFunction"](n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(l["slice"](arguments)))})},t.internalField=function(){r=function(t){var e=t._invertedIndicesMap;l["each"](e,function(n,r){var o=t._dimInfos[r],i=o.ordinalMeta,a=t._store;if(i){n=e[r]=new S(i.categories.length);for(var u=0;u<n.length;u++)n[u]=k;for(u=0;u<a.count();u++)n[a.get(o.storeDimIndex,u)]=u}})},i=function(t,e,n){return Object(v["e"])(t._getCategory(e,n),null)},o=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=i(t,t._idDimIdx,e)),null==n&&(n=C+e),n},a=function(t){return l["isArray"](t)||(t=null!=t?[t]:[]),t},s=function(e){var n=new t(e._schema?e._schema:O(e.dimensions,e._getDimInfo,e),e.hostModel);return u(n,e),n},u=function(t,e){l["each"](T.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,l["each"](M,function(n){t[n]=l["clone"](e[n])}),t._calculationInfo=l["extend"]({},e._calculationInfo)},c=function(t,e){var n=t._nameList,r=t._idList,o=t._nameDimIdx,a=t._idDimIdx,u=n[e],s=r[e];if(null==u&&null!=o&&(n[e]=u=i(t,o,e)),null==s&&null!=a&&(r[e]=s=i(t,a,e)),null==s&&null!=u){var c=t._nameRepeatCount,l=c[u]=(c[u]||0)+1;s=u,l>1&&(s+="__ec__"+l),r[e]=s}}}(),t}();e["a"]=D},b7d9:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return h});var r=n("3842"),o=n("6d8b"),i=n("edae");function a(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"!==n||Object(o["isNumber"])(t)||null==t||"-"===t||(t=+Object(r["o"])(t)),null==t||""===t?NaN:+t)}var u=Object(o["createHashMap"])({number:function(t){return parseFloat(t)},time:function(t){return+Object(r["o"])(t)},trim:function(t){return Object(o["isString"])(t)?Object(o["trim"])(t):t}});function s(t){return u.get(t)}var c={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},l=function(){function t(t,e){if(!Object(o["isNumber"])(e)){var n="";0,Object(i["c"])(n)}this._opFn=c[t],this._rvalFloat=Object(r["n"])(e)}return t.prototype.evaluate=function(t){return Object(o["isNumber"])(t)?this._opFn(t,this._rvalFloat):this._opFn(Object(r["n"])(t),this._rvalFloat)},t}(),f=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=Object(o["isNumber"])(t)?t:Object(r["n"])(t),i=Object(o["isNumber"])(e)?e:Object(r["n"])(e),a=isNaN(n),u=isNaN(i);if(a&&(n=this._incomparable),u&&(i=this._incomparable),a&&u){var s=Object(o["isString"])(t),c=Object(o["isString"])(e);s&&(n=c?t:0),c&&(i=s?e:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t}(),d=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Object(r["n"])(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=Object(r["n"])(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function h(t,e){return"eq"===t||"ne"===t?new d("eq"===t,e):Object(o["hasOwn"])(c,t)?new l(t,e):null}},bda7:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6d8b"),o=n("f279");function i(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;null==n&&(n=1024);var o=e.features;return r["each"](o,function(t){var e=t.geometry,o=e.encodeOffsets,i=e.coordinates;if(o)switch(e.type){case"LineString":e.coordinates=u(i,o,n);break;case"Polygon":a(i,o,n);break;case"MultiLineString":a(i,o,n);break;case"MultiPolygon":r["each"](i,function(t,e){return a(t,o[e],n)})}}),e.UTF8Encoding=!1,e}function a(t,e,n){for(var r=0;r<t.length;r++)t[r]=u(t[r],e[r],n)}function u(t,e,n){for(var r=[],o=e[0],i=e[1],a=0;a<t.length;a+=2){var u=t.charCodeAt(a)-64,s=t.charCodeAt(a+1)-64;u=u>>1^-(1&u),s=s>>1^-(1&s),u+=o,s+=i,o=u,i=s,r.push([u/n,s/n])}return r}function s(t,e){return t=i(t),r["map"](r["filter"](t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var u=i.coordinates;a.push(new o["b"](u[0],u.slice(1)));break;case"MultiPolygon":r["each"](i.coordinates,function(t){t[0]&&a.push(new o["b"](t[0],t.slice(1)))});break;case"LineString":a.push(new o["a"]([i.coordinates]));break;case"MultiLineString":a.push(new o["a"](i.coordinates))}var s=new o["c"](n[e||"name"],a,n.cp);return s.properties=n,s})}},c2be:function(t,e,n){"use strict";var r=n("7fae"),o=n("cbe5"),i=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new i},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,o=Math.max(e.r0||0,0),i=Math.max(e.r,0),a=.5*(i-o),u=o+a,s=e.startAngle,c=e.endAngle,l=e.clockwise,f=2*Math.PI,d=l?c-s<f:s-c<f;d||(s=c-(l?f:-f));var h=Math.cos(s),p=Math.sin(s),m=Math.cos(c),g=Math.sin(c);d?(t.moveTo(h*o+n,p*o+r),t.arc(h*u+n,p*u+r,a,-Math.PI+s,s,!l)):t.moveTo(h*i+n,p*i+r),t.arc(n,r,i,s,c,!l),t.arc(m*u+n,g*u+r,a,c-2*Math.PI,c-Math.PI,!l),0!==o&&t.arc(n,r,o,c,s,l)},e}(o["b"]);e["a"]=a},c436:function(t,e,n){"use strict";var r=n("7fae"),o=n("6d8b"),i=n("eaea"),a=n("5f14"),u=n("60e3"),s=n("3842"),c=n("8918"),l=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return Object(r["a"])(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],f[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var i=this.option.categories;this.resetVisual(function(t,e){"categories"===r?(t.mappingMethod="category",t.categories=o["clone"](i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=o["map"](this._pieceList,function(t){return t=o["clone"](t),"inRange"!==e&&(t.visual=null),t}))})},e.prototype.completeVisualOption=function(){var e=this.option,n={},r=a["a"].listVisualTypes(),i=this.isCategory();function s(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}o["each"](e.pieces,function(t){o["each"](r,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),o["each"](n,function(t,n){var r=!1;o["each"](this.stateList,function(t){r=r||s(e,t,n)||s(e.target,t,n)},this),!r&&o["each"](this.stateList,function(t){(e[t]||(e[t]={}))[n]=u["a"].get(n,"inRange"===t?"active":"inactive",i)})},this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,r=this._pieceList,i=(e?n:t).selected||{};if(n.selected=i,o["each"](r,function(t,e){var n=this.getSelectedMapKey(t);i.hasOwnProperty(n)||(i[n]=!0)},this),"single"===n.selectedMode){var a=!1;o["each"](r,function(t,e){var n=this.getSelectedMapKey(t);i[n]&&(a?i[n]=!1:a=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=o["clone"](t)},e.prototype.getValueState=function(t){var e=a["a"].findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries(function(r){var o=[],i=r.getData();i.each(this.getDataDimensionIndex(i),function(e,r){var i=a["a"].findPieceIndex(e,n);i===t&&o.push(r)},this),e.push({seriesId:r.id,dataIndex:o})},this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],r=this,i=this._pieceList.slice();if(i.length){var a=i[0].interval[0];a!==-1/0&&i.unshift({interval:[-1/0,a]}),a=i[i.length-1].interval[1],a!==1/0&&i.push({interval:[a,1/0]})}else i.push({interval:[-1/0,1/0]});var u=-1/0;return o["each"](i,function(t){var e=t.interval;e&&(e[0]>u&&s([u,e[0]],"outOfRange"),s(e.slice()),u=e[1])},this),{stops:e,outerColors:n}}function s(o,i){var a=r.getRepresentValue({interval:o});i||(i=r.getValueState(a));var u=t(a,i);o[0]===-1/0?n[0]=u:o[1]===1/0?n[1]=u:e.push({value:o[0],color:u},{value:o[1],color:u})}},e.type="visualMap.piecewise",e.defaultOption=Object(c["d"])(i["a"].defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(i["a"]),f={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;var a=(r[1]-r[0])/i;while(+a.toFixed(n)!==a&&n<5)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var u=0,c=r[0];u<i;c+=a,u++){var l=u===i-1?r[1]:c+a;t.push({interval:[c,l],close:[1,1]})}e.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),Object(s["t"])(t),o["each"](t,function(t,e){t.index=e,t.text=this.formatValueText(t.interval)},this)},categories:function(t){var e=this.option;o["each"](e.categories,function(e){t.push({text:this.formatValueText(e,!0),value:e})},this),d(e,t)},pieces:function(t){var e=this.option;o["each"](e.pieces,function(e,n){o["isObject"](e)||(e={value:e});var r={text:"",index:n};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var i=r.value=e.value;r.interval=[i,i],r.close=[1,1]}else{for(var u=r.interval=[],s=r.close=[0,0],c=[1,0,1],l=[-1/0,1/0],f=[],d=0;d<2;d++){for(var h=[["gte","gt","min"],["lte","lt","max"]][d],p=0;p<3&&null==u[d];p++)u[d]=e[h[p]],s[d]=c[p],f[d]=2===p;null==u[d]&&(u[d]=l[d])}f[0]&&u[1]===1/0&&(s[0]=0),f[1]&&u[0]===-1/0&&(s[1]=0),u[0]===u[1]&&s[0]&&s[1]&&(r.value=u[0])}r.visual=a["a"].retrieveVisuals(e),t.push(r)},this),d(e,t),Object(s["t"])(t),o["each"](t,function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}};function d(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var h=l,p=n("72b6"),m=n("2dc5"),g=n("76a5"),v=n("a15a"),y=n("f934"),b=n("cbb0"),x=n("7837"),_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r["a"])(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,i=r.getFont(),a=r.getTextColor(),u=this._getItemAlign(),s=e.itemSize,c=this._getViewData(),l=c.endsText,f=o["retrieve"](e.get("showLabel",!0),!l);l&&this._renderEndsText(t,l[0],s,f,u),o["each"](c.viewPieceList,function(r){var c=r.piece,l=new m["a"];l.onclick=o["bind"](this._onItemClick,this,c),this._enableHoverLink(l,r.indexInModelPieceList);var d=e.getRepresentValue(c);if(this._createItemSymbol(l,d,[0,0,s[0],s[1]]),f){var h=this.visualMapModel.getValueState(d);l.add(new g["a"]({style:{x:"right"===u?-n:s[0]+n,y:s[1]/2,text:c.text,verticalAlign:"middle",align:u,font:i,fill:a,opacity:"outOfRange"===h?.5:1}}))}t.add(l)},this),l&&this._renderEndsText(t,l[1],s,f,u),y["b"](e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",function(){return r("highlight")}).on("mouseout",function(){return r("downplay")});var r=function(t){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:t,batch:b["b"](r.findTargetDataIndices(e),r)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return b["a"](t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,r,o){if(e){var i=new m["a"],a=this.visualMapModel.textStyleModel;i.add(new g["a"]({style:Object(x["c"])(a,{x:r?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:r?o:"center",text:e})})),t.add(i)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=o["map"](t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),r=t.get("orient"),i=t.get("inverse");return("horizontal"===r?i:!i)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(Object(v["a"])(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,r=o["clone"](n.selected),i=e.getSelectedMapKey(t);"single"===n.selectedMode?(r[i]=!0,o["each"](r,function(t,e){r[e]=e===i})):r[i]=!r[i],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})},e.type="visualMap.piecewise",e}(p["a"]),w=_,O=n("d6c2");function S(t){t.registerComponentModel(h),t.registerComponentView(w),Object(O["a"])(t)}n.d(e,"a",function(){return S})},c4a3:function(t,e,n){"use strict";var r=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},t.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},t.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},t}();e["a"]=r},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r=function(){return"undefined"!==typeof window?window:t},o=function(){var t=r();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},c55a:function(t,e,n){"use strict";var r=n("4f85"),o=n("6d8b"),i=n("4a3f"),a=n("cbe5"),u=n("401b"),s=n("342d"),c=n("8582"),l=n("e263"),f=n("9850"),d=n("dce8"),h=n("87b1"),p=n("c7a2"),m=n("4aa2"),g=n("20c88"),v=g["a"].CMD;function y(t,e){return Math.abs(t-e)<1e-5}function b(t){var e,n,r,o,i,a=t.data,u=t.len(),s=[],c=0,l=0,f=0,d=0;function h(t,n){e&&e.length>2&&s.push(e),e=[t,n]}function p(t,n,r,o){y(t,r)&&y(n,o)||e.push(t,n,r,o,r,o)}function m(t,n,r,o,i,a){var u=Math.abs(n-t),s=4*Math.tan(u/4)/3,c=n<t?-1:1,l=Math.cos(t),f=Math.sin(t),d=Math.cos(n),h=Math.sin(n),p=l*i+r,m=f*a+o,g=d*i+r,v=h*a+o,y=i*s*c,b=a*s*c;e.push(p-y*f,m+b*l,g+y*h,v-b*d,g,v)}for(var g=0;g<u;){var b=a[g++],x=1===g;switch(x&&(c=a[g],l=a[g+1],f=c,d=l,b!==v.L&&b!==v.C&&b!==v.Q||(e=[f,d])),b){case v.M:c=f=a[g++],l=d=a[g++],h(f,d);break;case v.L:n=a[g++],r=a[g++],p(c,l,n,r),c=n,l=r;break;case v.C:e.push(a[g++],a[g++],a[g++],a[g++],c=a[g++],l=a[g++]);break;case v.Q:n=a[g++],r=a[g++],o=a[g++],i=a[g++],e.push(c+2/3*(n-c),l+2/3*(r-l),o+2/3*(n-o),i+2/3*(r-i),o,i),c=o,l=i;break;case v.A:var _=a[g++],w=a[g++],O=a[g++],S=a[g++],C=a[g++],k=a[g++]+C;g+=1;var T=!a[g++];n=Math.cos(C)*O+_,r=Math.sin(C)*S+w,x?(f=n,d=r,h(f,d)):p(c,l,n,r),c=Math.cos(k)*O+_,l=Math.sin(k)*S+w;for(var M=(T?-1:1)*Math.PI/2,D=C;T?D>k:D<k;D+=M){var A=T?Math.max(D+M,k):Math.min(D+M,k);m(D,A,_,w,O,S)}break;case v.R:f=c=a[g++],d=l=a[g++],n=f+a[g++],r=d+a[g++],h(n,d),p(n,d,n,r),p(n,r,f,r),p(f,r,f,d),p(f,d,n,d);break;case v.Z:e&&p(c,l,f,d),c=f,l=d;break}}return e&&e.length>2&&s.push(e),s}function x(t,e,n,r,o,a,u,s,c,l){if(y(t,n)&&y(e,r)&&y(o,u)&&y(a,s))c.push(u,s);else{var f=2/l,d=f*f,h=u-t,p=s-e,m=Math.sqrt(h*h+p*p);h/=m,p/=m;var g=n-t,v=r-e,b=o-u,_=a-s,w=g*g+v*v,O=b*b+_*_;if(w<d&&O<d)c.push(u,s);else{var S=h*g+p*v,C=-h*b-p*_,k=w-S*S,T=O-C*C;if(k<d&&S>=0&&T<d&&C>=0)c.push(u,s);else{var M=[],D=[];Object(i["g"])(t,n,o,u,.5,M),Object(i["g"])(e,r,a,s,.5,D),x(M[0],D[0],M[1],D[1],M[2],D[2],M[3],D[3],c,l),x(M[4],D[4],M[5],D[5],M[6],D[6],M[7],D[7],c,l)}}}}function _(t,e){var n=b(t),r=[];e=e||1;for(var o=0;o<n.length;o++){var i=n[o],a=[],u=i[0],s=i[1];a.push(u,s);for(var c=2;c<i.length;){var l=i[c++],f=i[c++],d=i[c++],h=i[c++],p=i[c++],m=i[c++];x(u,s,l,f,d,h,p,m,a,e),u=p,s=m}r.push(a)}return r}function w(t,e,n){var r=t[e],o=t[1-e],i=Math.abs(r/o),a=Math.ceil(Math.sqrt(i*n)),u=Math.floor(n/a);0===u&&(u=1,a=n);for(var s=[],c=0;c<a;c++)s.push(u);var l=a*u,f=n-l;if(f>0)for(c=0;c<f;c++)s[c%a]+=1;return s}function O(t,e,n){for(var r=t.r0,o=t.r,i=t.startAngle,a=t.endAngle,u=Math.abs(a-i),s=u*o,c=o-r,l=s>Math.abs(c),f=w([s,c],l?0:1,e),d=(l?u:c)/f.length,h=0;h<f.length;h++)for(var p=(l?c:u)/f[h],m=0;m<f[h];m++){var g={};l?(g.startAngle=i+d*h,g.endAngle=i+d*(h+1),g.r0=r+p*m,g.r=r+p*(m+1)):(g.startAngle=i+p*m,g.endAngle=i+p*(m+1),g.r0=r+d*h,g.r=r+d*(h+1)),g.clockwise=t.clockwise,g.cx=t.cx,g.cy=t.cy,n.push(g)}}function S(t,e,n){for(var r=t.width,o=t.height,i=r>o,a=w([r,o],i?0:1,e),u=i?"width":"height",s=i?"height":"width",c=i?"x":"y",l=i?"y":"x",f=t[u]/a.length,d=0;d<a.length;d++)for(var h=t[s]/a[d],p=0;p<a[d];p++){var m={};m[c]=d*f,m[l]=p*h,m[u]=f,m[s]=h,m.x+=t.x,m.y+=t.y,n.push(m)}}function C(t,e,n,r){return t*r-n*e}function k(t,e,n,r,o,i,a,u){var s=n-t,c=r-e,l=a-o,f=u-i,h=C(l,f,s,c);if(Math.abs(h)<1e-6)return null;var p=t-o,m=e-i,g=C(p,m,l,f)/h;return g<0||g>1?null:new d["a"](g*s+t,g*c+e)}function T(t,e,n){var r=new d["a"];d["a"].sub(r,n,e),r.normalize();var o=new d["a"];d["a"].sub(o,t,e);var i=o.dot(r);return i}function M(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function D(t,e,n){for(var r=t.length,o=[],i=0;i<r;i++){var a=t[i],u=t[(i+1)%r],s=k(a[0],a[1],u[0],u[1],e.x,e.y,n.x,n.y);s&&o.push({projPt:T(s,e,n),pt:s,idx:i})}if(o.length<2)return[{points:t},{points:t}];o.sort(function(t,e){return t.projPt-e.projPt});var c=o[0],l=o[o.length-1];if(l.idx<c.idx){var f=c;c=l,l=f}var d=[c.pt.x,c.pt.y],h=[l.pt.x,l.pt.y],p=[d],m=[h];for(i=c.idx+1;i<=l.idx;i++)M(p,t[i].slice());M(p,h),M(p,d);for(i=l.idx+1;i<=c.idx+r;i++)M(m,t[i%r].slice());return M(m,d),M(m,h),[{points:p},{points:m}]}function A(t){var e=t.points,n=[],r=[];Object(l["d"])(e,n,r);var o=new f["a"](n[0],n[1],r[0]-n[0],r[1]-n[1]),i=o.width,a=o.height,u=o.x,s=o.y,c=new d["a"],h=new d["a"];return i>a?(c.x=h.x=u+i/2,c.y=s,h.y=s+a):(c.y=h.y=s+a/2,c.x=u,h.x=u+i),D(e,c,h)}function I(t,e,n,r){if(1===n)r.push(e);else{var o=Math.floor(n/2),i=t(e);I(t,i[0],o,r),I(t,i[1],n-o,r)}return r}function j(t,e){for(var n=[],r=0;r<e;r++)n.push(Object(s["a"])(t));return n}function E(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function R(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}function N(t,e){var n,r=[],i=t.shape;switch(t.type){case"rect":S(i,e,r),n=p["a"];break;case"sector":O(i,e,r),n=m["a"];break;case"circle":O({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},e,r),n=m["a"];break;default:var a=t.getComputedTransform(),u=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Object(o["map"])(_(t.getUpdatedPathProxy(),u),function(t){return R(t)}),c=s.length;if(0===c)I(A,{points:s[0]},e,r);else if(c===e)for(var f=0;f<c;f++)r.push({points:s[f]});else{var d=0,g=Object(o["map"])(s,function(t){var e=[],n=[];Object(l["d"])(t,e,n);var r=(n[1]-e[1])*(n[0]-e[0]);return d+=r,{poly:t,area:r}});g.sort(function(t,e){return e.area-t.area});var v=e;for(f=0;f<c;f++){var y=g[f];if(v<=0)break;var b=f===c-1?v:Math.ceil(y.area/d*e);b<0||(I(A,{points:y.poly},b,r),v-=b)}}n=h["a"];break}if(!n)return j(t,e);var x=[];for(f=0;f<r.length;f++){var w=new n;w.setShape(r[f]),E(t,w),x.push(w)}return x}function P(t,e){var n=t.length,r=e.length;if(n===r)return[t,e];for(var o=[],a=[],u=n<r?t:e,s=Math.min(n,r),c=Math.abs(r-n)/6,l=(s-2)/6,f=Math.ceil(c/l)+1,d=[u[0],u[1]],h=c,p=2;p<s;){var m=u[p-2],g=u[p-1],v=u[p++],y=u[p++],b=u[p++],x=u[p++],_=u[p++],w=u[p++];if(h<=0)d.push(v,y,b,x,_,w);else{for(var O=Math.min(h,f-1)+1,S=1;S<=O;S++){var C=S/O;Object(i["g"])(m,v,b,_,C,o),Object(i["g"])(g,y,x,w,C,a),m=o[3],g=a[3],d.push(o[1],a[1],o[2],a[2],m,g),v=o[5],y=a[5],b=o[6],x=a[6]}h-=O-1}}return u===t?[d,e]:[t,d]}function B(t,e){for(var n=t.length,r=t[n-2],o=t[n-1],i=[],a=0;a<e.length;)i[a++]=r,i[a++]=o;return i}function L(t,e){for(var n,r,o,i=[],a=[],u=0;u<Math.max(t.length,e.length);u++){var s=t[u],c=e[u],l=void 0,f=void 0;s?c?(n=P(s,c),l=n[0],f=n[1],r=l,o=f):(f=B(o||s,s),l=s):(l=B(r||c,c),f=c),i.push(l),a.push(f)}return[i,a]}function F(t){for(var e=0,n=0,r=0,o=t.length,i=0,a=o-2;i<o;a=i,i+=2){var u=t[a],s=t[a+1],c=t[i],l=t[i+1],f=u*l-c*s;e+=f,n+=(u+c)*f,r+=(s+l)*f}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,r/e/3,e]}function z(t,e,n,r){for(var o=(t.length-2)/6,i=1/0,a=0,u=t.length,s=u-2,c=0;c<o;c++){for(var l=6*c,f=0,d=0;d<u;d+=2){var h=0===d?l:(l+d-2)%s+2,p=t[h]-n[0],m=t[h+1]-n[1],g=e[d]-r[0],v=e[d+1]-r[1],y=g-p,b=v-m;f+=y*y+b*b}f<i&&(i=f,a=c)}return a}function V(t){for(var e=[],n=t.length,r=0;r<n;r+=2)e[r]=t[n-r-2],e[r+1]=t[n-r-1];return e}function H(t,e,n,r){for(var o,i=[],a=0;a<t.length;a++){var u=t[a],s=e[a],c=F(u),l=F(s);null==o&&(o=c[2]<0!==l[2]<0);var f=[],d=[],h=0,p=1/0,m=[],g=u.length;o&&(u=V(u));for(var v=6*z(u,s,c,l),y=g-2,b=0;b<y;b+=2){var x=(v+b)%y+2;f[b+2]=u[x]-c[0],f[b+3]=u[x+1]-c[1]}if(f[0]=u[v]-c[0],f[1]=u[v+1]-c[1],n>0)for(var _=r/n,w=-r/2;w<=r/2;w+=_){var O=Math.sin(w),S=Math.cos(w),C=0;for(b=0;b<u.length;b+=2){var k=f[b],T=f[b+1],M=s[b]-l[0],D=s[b+1]-l[1],A=M*S-D*O,I=M*O+D*S;m[b]=A,m[b+1]=I;var j=A-k,E=I-T;C+=j*j+E*E}if(C<p){p=C,h=w;for(var R=0;R<m.length;R++)d[R]=m[R]}}else for(var N=0;N<g;N+=2)d[N]=s[N]-l[0],d[N+1]=s[N+1]-l[1];i.push({from:f,to:d,fromCp:c,toCp:l,rotation:-h})}return i}function U(t){return t.__isCombineMorphing}var W="__mOriginal_";function G(t,e,n){var r=W+e,o=t[r]||t[e];t[r]||(t[r]=t[e]);var i=n.replace,a=n.after,u=n.before;t[e]=function(){var t,e=arguments;return u&&u.apply(this,e),t=i?i.apply(this,e):o.apply(this,e),a&&a.apply(this,e),t}}function q(t,e){var n=W+e;t[n]&&(t[e]=t[n],t[n]=null)}function Y(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.length;){var i=r[o],a=r[o+1];r[o++]=e[0]*i+e[2]*a+e[4],r[o++]=e[1]*i+e[3]*a+e[5]}}function X(t,e){var n=t.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),o=L(b(n),b(r)),i=o[0],a=o[1],s=t.getComputedTransform(),c=e.getComputedTransform();function l(){this.transform=null}s&&Y(i,s),c&&Y(a,c),G(e,"updateTransform",{replace:l}),e.transform=null;var f=H(i,a,10,Math.PI),d=[];G(e,"buildPath",{replace:function(t){for(var n=e.__morphT,r=1-n,o=[],i=0;i<f.length;i++){var a=f[i],s=a.from,c=a.to,l=a.rotation*n,h=a.fromCp,p=a.toCp,m=Math.sin(l),g=Math.cos(l);Object(u["lerp"])(o,h,p,n);for(var v=0;v<s.length;v+=2){var y=s[v],b=s[v+1],x=c[v],_=c[v+1],w=y*r+x*n,O=b*r+_*n;d[v]=w*g-O*m+o[0],d[v+1]=w*m+O*g+o[1]}var S=d[0],C=d[1];t.moveTo(S,C);for(v=2;v<s.length;){x=d[v++],_=d[v++];var k=d[v++],T=d[v++],M=d[v++],D=d[v++];S===x&&C===_&&k===M&&T===D?t.lineTo(M,D):t.bezierCurveTo(x,_,k,T,M,D),S=M,C=D}}}})}function $(t,e,n){if(!t||!e)return e;var r=n.done,i=n.during;function a(){q(e,"buildPath"),q(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return X(t,e),e.__morphT=0,e.animateTo({__morphT:1},Object(o["defaults"])({during:function(t){e.dirtyShape(),i&&i(t)},done:function(){a(),r&&r()}},n)),e}function K(t,e,n,r,o,i){var a=16;t=o===n?0:Math.round(32767*(t-n)/(o-n)),e=i===r?0:Math.round(32767*(e-r)/(i-r));for(var u,s=0,c=(1<<a)/2;c>0;c/=2){var l=0,f=0;(t&c)>0&&(l=1),(e&c)>0&&(f=1),s+=c*c*(3*l^f),0===f&&(1===l&&(t=c-1-t,e=c-1-e),u=t,t=e,e=u)}return s}function Z(t){var e=1/0,n=1/0,r=-1/0,i=-1/0,a=Object(o["map"])(t,function(t){var o=t.getBoundingRect(),a=t.getComputedTransform(),u=o.x+o.width/2+(a?a[4]:0),s=o.y+o.height/2+(a?a[5]:0);return e=Math.min(u,e),n=Math.min(s,n),r=Math.max(u,r),i=Math.max(s,i),[u,s]}),u=Object(o["map"])(a,function(o,a){return{cp:o,z:K(o[0],o[1],e,n,r,i),path:t[a]}});return u.sort(function(t,e){return t.z-e.z}).map(function(t){return t.path})}function J(t){return N(t.path,t.count)}function Q(){return{fromIndividuals:[],toIndividuals:[],count:0}}function tt(t,e,n){var r=[];function i(t){for(var e=0;e<t.length;e++){var n=t[e];U(n)?i(n.childrenRef()):n instanceof a["b"]&&r.push(n)}}i(t);var u=r.length;if(!u)return Q();var s=n.dividePath||J,l=s({path:e,count:u});if(l.length!==u)return console.error("Invalid morphing: unmatched splitted path"),Q();r=Z(r),l=Z(l);for(var f=n.done,d=n.during,h=n.individualDelay,p=new c["c"],m=0;m<u;m++){var g=r[m],v=l[m];v.parent=e,v.copyTransform(p),h||X(g,v)}function y(t){for(var e=0;e<l.length;e++)l[e].addSelfToZr(t)}function b(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,q(e,"addSelfToZr"),q(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return l},G(e,"addSelfToZr",{after:function(t){y(t)}}),G(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<l.length;e++)l[e].removeSelfFromZr(t)}});var x=l.length;if(h){var _=x,w=function(){_--,0===_&&(b(),f&&f())};for(m=0;m<x;m++){var O=h?Object(o["defaults"])({delay:(n.delay||0)+h(m,x,r[m],l[m]),done:w},n):n;$(r[m],l[m],O)}}else e.__morphT=0,e.animateTo({__morphT:1},Object(o["defaults"])({during:function(t){for(var n=0;n<x;n++){var r=l[n];r.__morphT=e.__morphT,r.dirtyShape()}d&&d(t)},done:function(){b();for(var e=0;e<t.length;e++)q(t[e],"updateTransform");f&&f()}},n));return e.__zr&&y(e.__zr),{fromIndividuals:r,toIndividuals:l,count:x}}function et(t,e,n){var r=e.length,i=[],u=n.dividePath||J;function c(t){for(var e=0;e<t.length;e++){var n=t[e];U(n)?c(n.childrenRef()):n instanceof a["b"]&&i.push(n)}}if(U(t)){c(t.childrenRef());var l=i.length;if(l<r)for(var f=0,d=l;d<r;d++)i.push(Object(s["a"])(i[f++%l]));i.length=r}else{i=u({path:t,count:r});var h=t.getComputedTransform();for(d=0;d<i.length;d++)i[d].setLocalTransform(h);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),Q()}i=Z(i),e=Z(e);var p=n.individualDelay;for(d=0;d<r;d++){var m=p?Object(o["defaults"])({delay:(n.delay||0)+p(d,r,i[d],e[d])},n):n;$(i[d],e[d],m)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}var nt=n("deab");function rt(t){return Object(o["isArray"])(t[0])}function ot(t,e){for(var n=[],r=t.length,o=0;o<r;o++)n.push({one:t[o],many:[]});for(o=0;o<e.length;o++){var i=e[o].length,a=void 0;for(a=0;a<i;a++)n[a%r].many.push(e[o][a])}var u=0;for(o=r-1;o>=0;o--)if(!n[o].many.length){var s=n[u].many;if(s.length<=1){if(!u)return n;u=0}i=s.length;var c=Math.ceil(i/2);n[o].many=s.slice(c,i),n[u].many=s.slice(0,c),u++}return n}var it={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),r=0;r<t.count;r++){var o=Object(s["a"])(t.path);o.setStyle("opacity",n),e.push(o)}return e},split:null};function at(t,e,n,r,i,a){if(t.length&&e.length){var u=Object(nt["a"])("update",r,i);if(u&&u.duration>0){var s,c,l=r.getModel("universalTransition").get("delay"),f=Object.assign({setToFinal:!0},u);rt(t)&&(s=t,c=e),rt(e)&&(s=e,c=t);for(var d=s?s===t:t.length>e.length,h=s?ot(c,s):ot(d?e:t,[d?t:e]),p=0,m=0;m<h.length;m++)p+=h[m].many.length;var g=0;for(m=0;m<h.length;m++)v(h[m],d,g,p),g+=h[m].many.length}}function v(t,e,r,i,u){var s=t.many,c=t.one;if(1!==s.length||u)for(var d=Object(o["defaults"])({dividePath:it[n],individualDelay:l&&function(t,e,n,o){return l(t+r,i)}},f),h=e?tt(s,c,d):et(c,s,d),p=h.fromIndividuals,m=h.toIndividuals,g=p.length,y=0;y<g;y++){_=l?Object(o["defaults"])({delay:l(y,g)},f):f;a(p[y],m[y],e?s[y]:t.one,e?t.one:s[y],_)}else{var b=e?s[0]:c,x=e?c:s[0];if(U(b))v({many:[b],one:x},!0,r,i,!0);else{var _=l?Object(o["defaults"])({delay:l(r,i)},f):f;$(b,x,_),a(b,x,b,x,_)}}}}function ut(t){if(!t)return[];if(Object(o["isArray"])(t)){for(var e=[],n=0;n<t.length;n++)e.push(ut(t[n]));return e}var r=[];return t.traverse(function(t){t instanceof a["b"]&&!t.disableMorphing&&!t.invisible&&!t.ignore&&r.push(t)}),r}var st=n("80f0"),ct=n("e0d3"),lt=(n("edae"),n("19eb"));n.d(e,"a",function(){return Tt});var ft=1e4,dt=Object(ct["o"])();function ht(t){for(var e=t.dimensions,n=0;n<e.length;n++){var r=t.getDimensionInfo(e[n]);if(r&&0===r.otherDims.itemGroupId)return e[n]}}function pt(t){var e=[];return Object(o["each"])(t,function(t){var n=t.data;if(!(n.count()>ft))for(var r=n.getIndices(),o=ht(n),i=0;i<r.length;i++)e.push({data:n,dim:t.dim||o,divide:t.divide,dataIndex:i})}),e}function mt(t,e,n){t.traverse(function(t){t instanceof a["b"]&&Object(nt["c"])(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})})}function gt(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function vt(t){t.stopAnimation(),t.isGroup&&t.traverse(function(t){t.stopAnimation()})}function yt(t,e,n){var r=Object(nt["a"])("update",n,e);r&&t.traverse(function(t){if(t instanceof lt["c"]){var e=Object(nt["b"])(t);e&&t.animateFrom({style:e},r)}})}function bt(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++){var o=t[r],i=e[r];if(o.data.getId(o.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function xt(t,e,n){var r=pt(t),i=pt(e);function u(t,e,n,r,i){(n||t)&&e.animateFrom({style:n&&n!==t?Object(o["extend"])(Object(o["extend"])({},n.style),t.style):t.style},i)}function s(t){for(var e=0;e<t.length;e++)if(t[e].dim)return t[e].dim}var c=s(r),l=s(i),f=!1;function d(t,e){return function(n){var r=n.data,o=n.dataIndex;if(e)return r.getId(o);var i=r.hostModel&&r.hostModel.get("dataGroupId"),a=t?c||l:l||c,u=a&&r.getDimensionInfo(a),s=u&&u.ordinalMeta;if(u){var f=r.get(u.name,o);return s&&s.categories[f]||f+""}var d=r.getRawDataItem(o);return d&&d.groupId?d.groupId+"":i||r.getId(o)}}var h=bt(r,i),p={};if(!h)for(var m=0;m<i.length;m++){var g=i[m],v=g.data.getItemGraphicEl(g.dataIndex);v&&(p[v.id]=!0)}function y(t,e){var n=r[e],o=i[t],a=o.data.hostModel,s=n.data.getItemGraphicEl(n.dataIndex),c=o.data.getItemGraphicEl(o.dataIndex);s!==c?s&&p[s.id]||c&&(vt(c),s?(vt(s),gt(s),f=!0,at(ut(s),ut(c),o.divide,a,t,u)):mt(c,a,t)):c&&yt(c,o.dataIndex,a)}new st["a"](r,i,d(!0,h),d(!1,h),null,"multiple").update(y).updateManyToOne(function(t,e){var n=i[t],a=n.data,s=a.hostModel,c=a.getItemGraphicEl(n.dataIndex),l=Object(o["filter"])(Object(o["map"])(e,function(t){return r[t].data.getItemGraphicEl(r[t].dataIndex)}),function(t){return t&&t!==c&&!p[t.id]});c&&(vt(c),l.length?(Object(o["each"])(l,function(t){vt(t),gt(t)}),f=!0,at(ut(l),ut(c),n.divide,s,t,u)):mt(c,s,n.dataIndex))}).updateOneToMany(function(t,e){var n=r[e],a=n.data.getItemGraphicEl(n.dataIndex);if(!a||!p[a.id]){var s=Object(o["filter"])(Object(o["map"])(t,function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)}),function(t){return t&&t!==a}),c=i[t[0]].data.hostModel;s.length&&(Object(o["each"])(s,function(t){return vt(t)}),a?(vt(a),gt(a),f=!0,at(ut(a),ut(s),n.divide,c,t[0],u)):Object(o["each"])(s,function(e){return mt(e,c,t[0])}))}}).updateManyToMany(function(t,e){new st["a"](e,t,function(t){return r[t].data.getId(r[t].dataIndex)},function(t){return i[t].data.getId(i[t].dataIndex)}).update(function(n,r){y(t[n],e[r])}).execute()}).execute(),f&&Object(o["each"])(e,function(t){var e=t.data,r=e.hostModel,o=r&&n.getViewOfSeriesModel(r),i=Object(nt["a"])("update",r,0);o&&r.isAnimationEnabled()&&i&&i.duration>0&&o.group.traverse(function(t){t instanceof a["b"]&&!t.animators.length&&t.animateFrom({style:{opacity:0}},i)})})}function _t(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function wt(t){return Object(o["isArray"])(t)?t.sort().join(","):t}function Ot(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function St(t,e){var n=Object(o["createHashMap"])(),r=Object(o["createHashMap"])(),i=Object(o["createHashMap"])();return Object(o["each"])(t.oldSeries,function(e,n){var a=t.oldData[n],u=_t(e),s=wt(u);r.set(s,a),Object(o["isArray"])(u)&&Object(o["each"])(u,function(t){i.set(t,{data:a,key:s})})}),Object(o["each"])(e.updatedSeries,function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.getData(),a=_t(t),u=wt(a),s=r.get(u);if(s)n.set(u,{oldSeries:[{divide:Ot(s),data:s}],newSeries:[{divide:Ot(e),data:e}]});else if(Object(o["isArray"])(a)){0;var c=[];Object(o["each"])(a,function(t){var e=r.get(t);e&&c.push({divide:Ot(e),data:e})}),c.length&&n.set(u,{oldSeries:c,newSeries:[{data:e,divide:Ot(e)}]})}else{var l=i.get(a);if(l){var f=n.get(l.key);f||(f={oldSeries:[{data:l.data,divide:Ot(l.data)}],newSeries:[]},n.set(l.key,f)),f.newSeries.push({data:e,divide:Ot(e)})}}}}),n}function Ct(t,e){for(var n=0;n<t.length;n++){var r=null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id;if(r)return n}}function kt(t,e,n,r){var i=[],a=[];Object(o["each"])(Object(ct["r"])(t.from),function(t){var n=Ct(e.oldSeries,t);n>=0&&i.push({data:e.oldData[n],divide:Ot(e.oldData[n]),dim:t.dimension})}),Object(o["each"])(Object(ct["r"])(t.to),function(t){var e=Ct(n.updatedSeries,t);if(e>=0){var r=n.updatedSeries[e].getData();a.push({data:r,divide:Ot(r),dim:t.dimension})}}),i.length>0&&a.length>0&&xt(i,a,r)}function Tt(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){Object(o["each"])(Object(ct["r"])(n.seriesTransition),function(t){Object(o["each"])(Object(ct["r"])(t.to),function(t){for(var e=n.updatedSeries,o=0;o<e.length;o++)(null!=t.seriesIndex&&t.seriesIndex===e[o].seriesIndex||null!=t.seriesId&&t.seriesId===e[o].id)&&(e[o][r["a"]]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(t,e,n){var i=dt(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)Object(o["each"])(Object(ct["r"])(a),function(t){kt(t,i,n,e)});else{var u=St(i,n);Object(o["each"])(u.keys(),function(t){var n=u.get(t);xt(n.oldSeries,n.newSeries,e)})}Object(o["each"])(n.updatedSeries,function(t){t[r["a"]]&&(t[r["a"]]=!1)})}for(var s=t.getSeries(),c=i.oldSeries=[],l=i.oldData=[],f=0;f<s.length;f++){var d=s[f].getData();d.count()<ft&&(c.push(s[f]),l.push(d))}})}},c775:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var r=n("2b17"),o=n("6d8b");function i(t,e){var n=t.mapDimensionsAll("defaultedLabel"),o=n.length;if(1===o){var i=Object(r["e"])(t,e,n[0]);return null!=i?i+"":null}if(o){for(var a=[],u=0;u<n.length;u++)a.push(Object(r["e"])(t,e,n[u]));return a.join(" ")}}function a(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!Object(o["isArray"])(e))return e+"";for(var r=[],i=0;i<n.length;i++){var a=t.getDimensionIndex(n[i]);a>=0&&r.push(e[a])}return r.join(" ")}},c7a2:function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5");function i(t,e){var n,r,o,i,a,u=e.x,s=e.y,c=e.width,l=e.height,f=e.r;c<0&&(u+=c,c=-c),l<0&&(s+=l,l=-l),"number"===typeof f?n=r=o=i=f:f instanceof Array?1===f.length?n=r=o=i=f[0]:2===f.length?(n=o=f[0],r=i=f[1]):3===f.length?(n=f[0],r=i=f[1],o=f[2]):(n=f[0],r=f[1],o=f[2],i=f[3]):n=r=o=i=0,n+r>c&&(a=n+r,n*=c/a,r*=c/a),o+i>c&&(a=o+i,o*=c/a,i*=c/a),r+o>l&&(a=r+o,r*=l/a,o*=l/a),n+i>l&&(a=n+i,n*=l/a,i*=l/a),t.moveTo(u+n,s),t.lineTo(u+c-r,s),0!==r&&t.arc(u+c-r,s+r,r,-Math.PI/2,0),t.lineTo(u+c,s+l-o),0!==o&&t.arc(u+c-o,s+l-o,o,0,Math.PI/2),t.lineTo(u+i,s+l),0!==i&&t.arc(u+i,s+l-i,i,Math.PI/2,Math.PI),t.lineTo(u,s+n),0!==n&&t.arc(u+n,s+n,n,Math.PI,1.5*Math.PI)}var a=n("9cf9"),u=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),s={},c=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new u},e.prototype.buildPath=function(t,e){var n,r,o,u;if(this.subPixelOptimize){var c=Object(a["c"])(s,e,this.style);n=c.x,r=c.y,o=c.width,u=c.height,c.r=e.r,e=c}else n=e.x,r=e.y,o=e.width,u=e.height;e.r?i(t,e):t.rect(n,r,o,u)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(o["b"]);c.prototype.type="rect";e["a"]=c},ca72:function(t,e,n){"use strict";var r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==r.map(function(t){return t.toLowerCase()}).indexOf(t.toLowerCase())},i=function(t,e,n){Object.keys(e).filter(o).forEach(function(r){var o=e[r];"function"===typeof o&&("onInit"===r?o(t,n):n.on(r.substring(2),function(t){return o(t,n)}))})},a=function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;e.on(r||"change input undo redo",function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))})},u=function(t,e,n){var r=e.$props.value?e.$props.value:"",o=e.$props.initialValue?e.$props.initialValue:"";n.setContent(r||(e.initialized?e.cache:o)),e.$watch("value",function(t,r){n&&"string"===typeof t&&t!==r&&t!==n.getContent({format:e.$props.outputFormat})&&n.setContent(t)}),e.$listeners.input&&a(e,n),i(t,e.$listeners,n),e.initialized=!0},s=0,c=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return s++,t+"_"+n+s+String(e)},l=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},f=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},d=function(t,e){return f(t).concat(f(e))},h=function(t){return null===t||void 0===t},p=function(){return{listeners:[],scriptId:c("tiny-script"),scriptLoaded:!1}},m=function(){var t=p(),e=function(t,e,n,r){var o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),e.head&&e.head.appendChild(o)},n=function(n,r,o){t.scriptLoaded?o():(t.listeners.push(o),n.getElementById(t.scriptId)||e(t.scriptId,n,r,function(){t.listeners.forEach(function(t){return t()}),t.scriptLoaded=!0}))},r=function(){t=p()};return{load:n,reinitialize:r}},g=m(),v=n("c4a9"),y={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},b=function(){return b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},b.apply(this,arguments)},x=function(t,e,n){return t(n||"div",{attrs:{id:e}})},_=function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})},w=function(t){return function(){var e=b(b({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:d(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",function(n){return u(n,t,e)}),t.$props.init&&"function"===typeof t.$props.init.setup&&t.$props.init.setup(e)}});l(t.element)&&(t.element.style.visibility="",t.element.style.display=""),Object(v["a"])().init(e)}},O={props:y,created:function(){this.elementId=this.$props.id||c("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(v["a"])())w(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=h(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;g.load(this.element.ownerDocument,n,w(this))}},beforeDestroy:function(){null!==Object(v["a"])()&&Object(v["a"])().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=Object(v["a"])())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&w(this)()},render:function(t){return this.inlineEditor?x(t,this.elementId,this.$props.tagName):_(t,this.elementId)}};e["a"]=O},ca80:function(t,e,n){"use strict";var r=n("dce8"),o=[0,0],i=[0,0],a=new r["a"],u=new r["a"],s=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new r["a"];for(n=0;n<2;n++)this._axes[n]=new r["a"];t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,o=this._axes,i=t.x,a=t.y,u=i+t.width,s=a+t.height;if(n[0].set(i,a),n[1].set(u,a),n[2].set(u,s),n[3].set(i,s),e)for(var c=0;c<4;c++)n[c].transform(e);r["a"].sub(o[0],n[1],n[0]),r["a"].sub(o[1],n[3],n[0]),o[0].normalize(),o[1].normalize();for(c=0;c<2;c++)this._origin[c]=o[c].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,o=!e;return a.set(1/0,1/0),u.set(0,0),!this._intersectCheckOneSide(this,t,a,u,o,1)&&(n=!1,o)?n:!this._intersectCheckOneSide(t,this,a,u,o,-1)&&(n=!1,o)?n:(o||r["a"].copy(e,n?a:u),n)},t.prototype._intersectCheckOneSide=function(t,e,n,a,u,s){for(var c=!0,l=0;l<2;l++){var f=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,o),this._getProjMinMaxOnAxis(l,e._corners,i),o[1]<i[0]||o[0]>i[1]){if(c=!1,u)return c;var d=Math.abs(i[0]-o[1]),h=Math.abs(o[0]-i[1]);Math.min(d,h)>a.len()&&(d<h?r["a"].scale(a,f,-d*s):r["a"].scale(a,f,h*s))}else if(n){d=Math.abs(i[0]-o[1]),h=Math.abs(o[0]-i[1]);Math.min(d,h)<n.len()&&(d<h?r["a"].scale(n,f,d*s):r["a"].scale(n,f,-h*s))}}return c},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],o=this._origin,i=e[0].dot(r)+o[t],a=i,u=i,s=1;s<e.length;s++){var c=e[s].dot(r)+o[t];a=Math.min(c,a),u=Math.max(c,u)}n[0]=a,n[1]=u},t}();e["a"]=s},cb11:function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=n("9cf9"),a={},u=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),s=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new u},e.prototype.buildPath=function(t,e){var n,r,o,u;if(this.subPixelOptimize){var s=Object(i["b"])(a,e,this.style);n=s.x1,r=s.y1,o=s.x2,u=s.y2}else n=e.x1,r=e.y1,o=e.x2,u=e.y2;var c=e.percent;0!==c&&(t.moveTo(n,r),c<1&&(o=n*(1-c)+o*c,u=r*(1-c)+u*c),t.lineTo(o,u))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(o["b"]);s.prototype.type="line",e["a"]=s},cbb0:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("6d8b"),o=n("f934"),i=[["left","right","width"],["top","bottom","height"]];function a(t,e,n){var r=t.option,a=r.align;if(null!=a&&"auto"!==a)return a;for(var u={width:e.getWidth(),height:e.getHeight()},s="horizontal"===r.orient?1:0,c=i[s],l=[0,null,10],f={},d=0;d<3;d++)f[i[1-s][d]]=l[d],f[c[d]]=2===d?n[0]:r[c[d]];var h=[["x","width",3],["y","height",0]][s],p=Object(o["g"])(f,u,r.padding);return c[(p.margin[h[2]]||0)+p[h[0]]+.5*p[h[1]]<.5*u[h[1]]?0:1]}function u(t,e){return r["each"](t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}},cbe5:function(t,e,n){"use strict";var r=n("21a1"),o=n("19eb"),i=n("20c88"),a=n("9680"),u=n("4a3f");function s(t,e,n,r,o,i,a,s,c,l,f){if(0===c)return!1;var d=c;if(f>e+d&&f>r+d&&f>i+d&&f>s+d||f<e-d&&f<r-d&&f<i-d&&f<s-d||l>t+d&&l>n+d&&l>o+d&&l>a+d||l<t-d&&l<n-d&&l<o-d&&l<a-d)return!1;var h=u["e"](t,e,n,r,o,i,a,s,l,f,null);return h<=d/2}var c=n("68ab"),l=n("857d"),f=2*Math.PI;function d(t,e,n,r,o,i,a,u,s){if(0===a)return!1;var c=a;u-=t,s-=e;var d=Math.sqrt(u*u+s*s);if(d-c>n||d+c<n)return!1;if(Math.abs(r-o)%f<1e-4)return!0;if(i){var h=r;r=Object(l["a"])(o),o=Object(l["a"])(h)}else r=Object(l["a"])(r),o=Object(l["a"])(o);r>o&&(o+=f);var p=Math.atan2(s,u);return p<0&&(p+=f),p>=r&&p<=o||p+f>=r&&p+f<=o}var h=n("8728"),p=i["a"].CMD,m=2*Math.PI,g=1e-4;function v(t,e){return Math.abs(t-e)<g}var y=[-1,-1,-1],b=[-1,-1];function x(){var t=b[0];b[0]=b[1],b[1]=t}function _(t,e,n,r,o,i,a,s,c,l){if(l>e&&l>r&&l>i&&l>s||l<e&&l<r&&l<i&&l<s)return 0;var f=u["f"](e,r,i,s,l,y);if(0===f)return 0;for(var d=0,h=-1,p=void 0,m=void 0,g=0;g<f;g++){var v=y[g],_=0===v||1===v?.5:1,w=u["a"](t,n,o,a,v);w<c||(h<0&&(h=u["c"](e,r,i,s,b),b[1]<b[0]&&h>1&&x(),p=u["a"](e,r,i,s,b[0]),h>1&&(m=u["a"](e,r,i,s,b[1]))),2===h?v<b[0]?d+=p<e?_:-_:v<b[1]?d+=m<p?_:-_:d+=s<m?_:-_:v<b[0]?d+=p<e?_:-_:d+=s<p?_:-_)}return d}function w(t,e,n,r,o,i,a,s){if(s>e&&s>r&&s>i||s<e&&s<r&&s<i)return 0;var c=u["m"](e,r,i,s,y);if(0===c)return 0;var l=u["j"](e,r,i);if(l>=0&&l<=1){for(var f=0,d=u["h"](e,r,i,l),h=0;h<c;h++){var p=0===y[h]||1===y[h]?.5:1,m=u["h"](t,n,o,y[h]);m<a||(y[h]<l?f+=d<e?p:-p:f+=i<d?p:-p)}return f}p=0===y[0]||1===y[0]?.5:1,m=u["h"](t,n,o,y[0]);return m<a?0:i<e?p:-p}function O(t,e,n,r,o,i,a,u){if(u-=e,u>n||u<-n)return 0;var s=Math.sqrt(n*n-u*u);y[0]=-s,y[1]=s;var c=Math.abs(r-o);if(c<1e-4)return 0;if(c>=m-1e-4){r=0,o=m;var l=i?1:-1;return a>=y[0]+t&&a<=y[1]+t?l:0}if(r>o){var f=r;r=o,o=f}r<0&&(r+=m,o+=m);for(var d=0,h=0;h<2;h++){var p=y[h];if(p+t>a){var g=Math.atan2(u,p);l=i?1:-1;g<0&&(g=m+g),(g>=r&&g<=o||g+m>=r&&g+m<=o)&&(g>Math.PI/2&&g<1.5*Math.PI&&(l=-l),d+=l)}}return d}function S(t,e,n,r,o){for(var i,u,l=t.data,f=t.len(),m=0,g=0,y=0,b=0,x=0,S=0;S<f;){var C=l[S++],k=1===S;switch(C===p.M&&S>1&&(n||(m+=Object(h["a"])(g,y,b,x,r,o))),k&&(g=l[S],y=l[S+1],b=g,x=y),C){case p.M:b=l[S++],x=l[S++],g=b,y=x;break;case p.L:if(n){if(a["a"](g,y,l[S],l[S+1],e,r,o))return!0}else m+=Object(h["a"])(g,y,l[S],l[S+1],r,o)||0;g=l[S++],y=l[S++];break;case p.C:if(n){if(s(g,y,l[S++],l[S++],l[S++],l[S++],l[S],l[S+1],e,r,o))return!0}else m+=_(g,y,l[S++],l[S++],l[S++],l[S++],l[S],l[S+1],r,o)||0;g=l[S++],y=l[S++];break;case p.Q:if(n){if(c["a"](g,y,l[S++],l[S++],l[S],l[S+1],e,r,o))return!0}else m+=w(g,y,l[S++],l[S++],l[S],l[S+1],r,o)||0;g=l[S++],y=l[S++];break;case p.A:var T=l[S++],M=l[S++],D=l[S++],A=l[S++],I=l[S++],j=l[S++];S+=1;var E=!!(1-l[S++]);i=Math.cos(I)*D+T,u=Math.sin(I)*A+M,k?(b=i,x=u):m+=Object(h["a"])(g,y,i,u,r,o);var R=(r-T)*A/D+T;if(n){if(d(T,M,A,I,I+j,E,e,R,o))return!0}else m+=O(T,M,A,I,I+j,E,R,o);g=Math.cos(I+j)*D+T,y=Math.sin(I+j)*A+M;break;case p.R:b=g=l[S++],x=y=l[S++];var N=l[S++],P=l[S++];if(i=b+N,u=x+P,n){if(a["a"](b,x,i,x,e,r,o)||a["a"](i,x,i,u,e,r,o)||a["a"](i,u,b,u,e,r,o)||a["a"](b,u,b,x,e,r,o))return!0}else m+=Object(h["a"])(i,x,i,u,r,o),m+=Object(h["a"])(b,u,b,x,r,o);break;case p.Z:if(n){if(a["a"](g,y,b,x,e,r,o))return!0}else m+=Object(h["a"])(g,y,b,x,r,o);g=b,y=x;break}}return n||v(y,x)||(m+=Object(h["a"])(g,y,b,x,r,o)||0),0!==m}function C(t,e,n){return S(t,0,!1,e,n)}function k(t,e,n,r){return S(t,e,!0,n,r)}var T=n("6d8b"),M=n("41ef"),D=n("2cf4"),A=n("4bc4"),I=n("8582");n.d(e,"a",function(){return j});var j=Object(T["defaults"])({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},o["b"]),E={style:Object(T["defaults"])({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},o["a"].style)},R=I["a"].concat(["invisible","culling","z","z2","zlevel","parent"]),N=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new e;o.buildPath===e.prototype.buildPath&&(o.buildPath=function(t){n.buildPath(t,n.shape)}),o.silent=!0;var i=o.style;for(var a in r)i[a]!==r[a]&&(i[a]=r[a]);i.fill=r.fill?r.decal:null,i.decal=null,i.shadowColor=null,r.strokeFirst&&(i.stroke=null);for(var u=0;u<R.length;++u)o[R[u]]=this[R[u]];o.__dirty|=A["a"]}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=Object(T["keys"])(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<n.length;o++){var i=n[o],a=e[i];"style"===i?this.style?Object(T["extend"])(this.style,a):this.useStyle(a):"shape"===i?Object(T["extend"])(this.shape,a):t.prototype.attrKV.call(this,i,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(Object(T["isString"])(t)){var e=Object(M["lum"])(t,0);return e>.5?D["a"]:e>.2?D["c"]:D["d"]}if(t)return D["d"]}return D["a"]},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(Object(T["isString"])(e)){var n=this.__zr,r=!(!n||!n.isDarkMode()),o=Object(M["lum"])(t,0)<D["b"];if(r===o)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~A["b"]},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new i["a"](!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var o=this.path;(r||this.__dirty&A["b"])&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var i=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||n){i.copy(t);var a=e.strokeNoScale?this.getLineScale():1,u=e.lineWidth;if(!this.hasFill()){var s=this.strokeContainThreshold;u=Math.max(u,null==s?4:s)}a>1e-10&&(i.width+=u/a,i.height+=u/a,i.x-=u/a/2,i.y-=u/a/2)}return i}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),o=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var i=this.path;if(this.hasStroke()){var a=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),k(i,a/u,t,e)))return!0}if(this.hasFill())return C(i,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=A["b"],this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"===typeof t?n[t]=e:Object(T["extend"])(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&A["b"])},e.prototype.createStyle=function(t){return Object(T["createObject"])(j,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=Object(T["extend"])({},this.shape))},e.prototype._applyStateObj=function(e,n,r,o,i,a){t.prototype._applyStateObj.call(this,e,n,r,o,i,a);var u,s=!(n&&o);if(n&&n.shape?i?o?u=n.shape:(u=Object(T["extend"])({},r.shape),Object(T["extend"])(u,n.shape)):(u=Object(T["extend"])({},o?this.shape:r.shape),Object(T["extend"])(u,n.shape)):s&&(u=r.shape),u)if(i){this.shape=Object(T["extend"])({},this.shape);for(var c={},l=Object(T["keys"])(u),f=0;f<l.length;f++){var d=l[f];"object"===typeof u[d]?this.shape[d]=u[d]:c[d]=u[d]}this._transitionState(e,{shape:c},a)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),o=0;o<e.length;o++){var i=e[o];i.shape&&(n=n||{},this._mergeStyle(n,i.shape))}return n&&(r.shape=n),r},e.prototype.getAnimationStyleProps=function(){return E},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(e){function n(n){var r=e.call(this,n)||this;return t.init&&t.init.call(r,n),r}return Object(r["a"])(n,e),n.prototype.getDefaultStyle=function(){return Object(T["clone"])(t.style)},n.prototype.getDefaultShape=function(){return Object(T["clone"])(t.shape)},n}(e);for(var o in t)"function"===typeof t[o]&&(n.prototype[o]=t[o]);return n},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=A["a"]|A["c"]|A["b"]}(),e}(o["c"]);e["b"]=N},cccd:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("e0d3");function o(){var t=Object(r["o"])();return function(e){var n=t(e),r=e.pipelineContext,o=!!n.large,i=!!n.progressiveRender,a=n.large=!(!r||!r.large),u=n.progressiveRender=!(!r||!r.progressiveRender);return!(o===a&&i===u)&&"reset"}}},cd33:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return m});var r=n("4319"),o=n("6d8b");function i(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return a(n,t,e),n.seriesInvolved&&s(n,t),n}function a(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];Object(o["each"])(n.getCoordinateSystems(),function(n){if(n.axisPointerEnabled){var l=m(n.model),f=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=n;var d=n.model,h=d.getModel("tooltip",r);if(Object(o["each"])(n.getAxes(),Object(o["curry"])(b,!1,null)),n.getTooltipAxes&&r&&h.get("show")){var g="axis"===h.get("trigger"),v="cross"===h.get(["axisPointer","type"]),y=n.getTooltipAxes(h.get(["axisPointer","axis"]));(g||v)&&Object(o["each"])(y.baseAxes,Object(o["curry"])(b,!v||"cross",g)),v&&Object(o["each"])(y.otherAxes,Object(o["curry"])(b,"cross",!1))}}function b(r,o,l){var d=l.model.getModel("axisPointer",i),g=d.get("show");if(g&&("auto"!==g||r||p(d))){null==o&&(o=d.get("triggerTooltip")),d=r?u(l,h,i,e,r,o):d;var v=d.get("snap"),y=m(l.model),b=o||v||"category"===l.type,x=t.axesInfo[y]={key:y,axis:l,coordSys:n,axisPointerModel:d,triggerTooltip:o,involveSeries:b,snap:v,useHandle:p(d),seriesModels:[],linkGroup:null};f[y]=x,t.seriesInvolved=t.seriesInvolved||b;var _=c(a,l);if(null!=_){var w=s[_]||(s[_]={axesInfo:{}});w.axesInfo[y]=x,w.mapper=a[_].mapper,x.linkGroup=w}}}})}function u(t,e,n,i,a,u){var s=e.getModel("axisPointer"),c=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};Object(o["each"])(c,function(t){l[t]=Object(o["clone"])(s.get(t))}),l.snap="category"!==t.type&&!!u,"cross"===s.get("type")&&(l.type="line");var f=l.label||(l.label={});if(null==f.show&&(f.show=!1),"cross"===a){var d=s.get(["label","show"]);if(f.show=null==d||d,!u){var h=l.lineStyle=s.get("crossStyle");h&&Object(o["defaults"])(f,h.textStyle)}}return t.model.getModel("axisPointer",new r["a"](l,n,i))}function s(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,r=e.get(["tooltip","trigger"],!0),i=e.get(["tooltip","show"],!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==i&&!1!==e.get(["axisPointer","show"],!0)&&Object(o["each"])(t.coordSysAxesInfo[m(n.model)],function(t){var r=t.axis;n.getAxis(r.dim)===r&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})})}function c(t,e){for(var n=e.model,r=e.dim,o=0;o<t.length;o++){var i=t[o]||{};if(l(i[r+"AxisId"],n.id)||l(i[r+"AxisIndex"],n.componentIndex)||l(i[r+"AxisName"],n.name))return o}}function l(t,e){return"all"===t||Object(o["isArray"])(t)&&Object(o["indexOf"])(t,e)>=0||t===e}function f(t){var e=d(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,o=n.option,i=n.get("status"),a=n.get("value");null!=a&&(a=r.parse(a));var u=p(n);null==i&&(o.status=u?"show":"hide");var s=r.getExtent().slice();s[0]>s[1]&&s.reverse(),(null==a||a>s[1])&&(a=s[1]),a<s[0]&&(a=s[0]),o.value=a,u&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function d(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[m(t)]}function h(t){var e=d(t);return e&&e.axisPointerModel}function p(t){return!!t.get(["handle","show"])}function m(t){return t.type+"||"+t.id}},cd70:function(t,e,n){"use strict";var r=n("6d8b"),o=function(){function t(t){this.otherDims={},null!=t&&r["extend"](this,t)}return t}();e["a"]=o},d0ce:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,o=n("6d8b"),i=n("b7d9"),a=n("ec6f"),u="undefined",s=typeof Uint32Array===u?Array:Uint32Array,c=typeof Uint16Array===u?Array:Uint16Array,l=typeof Int32Array===u?Array:Int32Array,f=typeof Float64Array===u?Array:Float64Array,d={float:f,int:l,ordinal:Array,number:Array,time:f};function h(t){return t>65535?s:c}function p(){return[1/0,-1/0]}function m(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function g(t,e,n,r,o){var i=d[n||"float"];if(o){var a=t[e],u=a&&a.length;if(u!==r){for(var s=new i(r),c=0;c<u;c++)s[c]=a[c];t[e]=s}}else t[e]=new i(r)}var v=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Object(o["createHashMap"])()}return t.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),u=this.defaultDimValueGetter=r[i.sourceFormat];this._dimValueGetter=n||u,this._rawExtent=[];Object(a["f"])(i);this._dimensions=Object(o["map"])(e,function(t){return{type:t.type,property:t.property}}),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,r=this._dimensions,o=n.get(t);if(null!=o){if(r[o].type===e)return o}else o=r.length;return r[o]={type:e},n.set(t,o),this._chunks[o]=new d[e||"float"](this._rawCount),this._rawExtent[o]=p(),o},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],r=this._dimensions[t],o=this._rawExtent,i=r.ordinalOffset||0,a=n.length;0===i&&(o[t]=p());for(var u=o[t],s=i;s<a;s++){var c=n[s]=e.parseAndCollect(n[s]);isNaN(c)||(u[0]=Math.min(c,u[0]),u[1]=Math.max(c,u[1]))}r.ordinalMeta=e,r.ordinalOffset=a,r.type="ordinal"},t.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,o=this._dimensions,i=o.length,a=this._rawExtent,u=this.count(),s=u+Math.max(t.length,e||0),c=0;c<i;c++){var l=o[c];g(n,c,l.type,s,!0)}for(var f=[],d=u;d<s;d++)for(var h=d-u,p=0;p<i;p++){l=o[p];var m=r.arrayRows.call(this,t[h]||f,l.property,h,p);n[p][d]=m;var v=a[p];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}return this._rawCount=this._count=s,{start:u,end:s}},t.prototype._initDataFromProvider=function(t,e,n){for(var r=this._provider,i=this._chunks,a=this._dimensions,u=a.length,s=this._rawExtent,c=Object(o["map"])(a,function(t){return t.property}),l=0;l<u;l++){var f=a[l];s[l]||(s[l]=p()),g(i,l,f.type,e,n)}if(r.fillStorage)r.fillStorage(t,e,i,s);else for(var d=[],h=t;h<e;h++){d=r.getItem(h,d);for(var m=0;m<u;m++){var v=i[m],y=this._dimValueGetter(d,c[m],h,m);v[h]=y;var b=s[m];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],r=[];if(null==e){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=t;o=0;for(var i=r.length;o<i;o++)n.push(this.get(r[o],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var r=0,o=this.count();r<o;r++){var i=this.get(t,r);isNaN(i)||(n+=i)}return n},t.prototype.getMedian=function(t){var e=[];this.each([t],function(t){isNaN(t)||e.push(t)});var n=e.sort(function(t,e){return t-e}),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;var r=0,o=this._count-1;while(r<=o){var i=(r+o)/2|0;if(e[i]<t)r=i+1;else{if(!(e[i]>t))return i;o=i-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var r=this._chunks,o=r[t],i=[];if(!o)return i;null==n&&(n=1/0);for(var a=1/0,u=-1,s=0,c=0,l=this.count();c<l;c++){var f=this.getRawIndex(c),d=e-o[f],h=Math.abs(d);h<=n&&((h<a||h===a&&d>=0&&u<0)&&(a=h,u=d,s=0),d===u&&(i[s++]=c))}return i.length=s,i},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new n(e.buffer,0,r)}else{n=h(this._rawCount);t=new n(this.count());for(o=0;o<t.length;o++)t[o]=o}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),r=n.count(),o=h(n._rawCount),i=new o(r),a=[],u=t.length,s=0,c=t[0],l=n._chunks,f=0;f<r;f++){var d=void 0,p=n.getRawIndex(f);if(0===u)d=e(f);else if(1===u){var m=l[c][p];d=e(m,f)}else{for(var g=0;g<u;g++)a[g]=l[t[g]][p];a[g]=f,d=e.apply(null,a)}d&&(i[s++]=p)}return s<r&&(n._indices=i),n._count=s,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var r=Object(o["keys"])(t),i=r.length;if(!i)return this;var a=e.count(),u=h(e._rawCount),s=new u(a),c=0,l=r[0],f=t[l][0],d=t[l][1],p=e._chunks,m=!1;if(!e._indices){var g=0;if(1===i){for(var v=p[r[0]],y=0;y<n;y++){var b=v[y];(b>=f&&b<=d||isNaN(b))&&(s[c++]=g),g++}m=!0}else if(2===i){v=p[r[0]];var x=p[r[1]],_=t[r[1]][0],w=t[r[1]][1];for(y=0;y<n;y++){b=v[y];var O=x[y];(b>=f&&b<=d||isNaN(b))&&(O>=_&&O<=w||isNaN(O))&&(s[c++]=g),g++}m=!0}}if(!m)if(1===i)for(y=0;y<a;y++){var S=e.getRawIndex(y);b=p[r[0]][S];(b>=f&&b<=d||isNaN(b))&&(s[c++]=S)}else for(y=0;y<a;y++){for(var C=!0,k=(S=e.getRawIndex(y),0);k<i;k++){var T=r[k];b=p[T][S];(b<t[T][0]||b>t[T][1])&&(C=!1)}C&&(s[c++]=e.getRawIndex(y))}return c<a&&(e._indices=s),e._count=c,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var r=t._chunks,o=[],i=e.length,a=t.count(),u=[],s=t._rawExtent,c=0;c<e.length;c++)s[e[c]]=p();for(var l=0;l<a;l++){for(var f=t.getRawIndex(l),d=0;d<i;d++)u[d]=r[e[d]][f];u[i]=l;var h=n&&n.apply(null,u);if(null!=h){"object"!==typeof h&&(o[0]=h,h=o);for(c=0;c<h.length;c++){var m=e[c],g=h[c],v=s[m],y=r[m];y&&(y[f]=g),g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var n,r,o,i=this.clone([t],!0),a=i._chunks,u=a[t],s=this.count(),c=0,l=Math.floor(1/e),f=this.getRawIndex(0),d=new(h(this._rawCount))(Math.min(2*(Math.ceil(s/l)+2),s));d[c++]=f;for(var p=1;p<s-1;p+=l){for(var m=Math.min(p+l,s-1),g=Math.min(p+2*l,s),v=(g+m)/2,y=0,b=m;b<g;b++){var x=this.getRawIndex(b),_=u[x];isNaN(_)||(y+=_)}y/=g-m;var w=p,O=Math.min(p+l,s),S=p-1,C=u[f];n=-1,o=w;var k=-1,T=0;for(b=w;b<O;b++){x=this.getRawIndex(b),_=u[x];isNaN(_)?(T++,k<0&&(k=x)):(r=Math.abs((S-v)*(_-C)-(S-b)*(y-C)),r>n&&(n=r,o=x))}T>0&&T<O-w&&(d[c++]=Math.min(k,o),o=Math.max(k,o)),d[c++]=o,f=o}return d[c++]=this.getRawIndex(s-1),i._count=c,i._indices=d,i.getRawIndex=this._getRawIdx,i},t.prototype.downSample=function(t,e,n,r){for(var o=this.clone([t],!0),i=o._chunks,a=[],u=Math.floor(1/e),s=i[t],c=this.count(),l=o._rawExtent[t]=p(),f=new(h(this._rawCount))(Math.ceil(c/u)),d=0,m=0;m<c;m+=u){u>c-m&&(u=c-m,a.length=u);for(var g=0;g<u;g++){var v=this.getRawIndex(m+g);a[g]=s[v]}var y=n(a),b=this.getRawIndex(Math.min(m+r(a,y)||0,c-1));s[b]=y,y<l[0]&&(l[0]=y),y>l[1]&&(l[1]=y),f[d++]=b}return o._count=d,o._indices=f,o._updateGetRawIdx(),o},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,r=this._chunks,o=0,i=this.count();o<i;o++){var a=this.getRawIndex(o);switch(n){case 0:e(o);break;case 1:e(r[t[0]][a],o);break;case 2:e(r[t[0]][a],r[t[1]][a],o);break;default:for(var u=0,s=[];u<n;u++)s[u]=r[t[u]][a];s[u]=o,e.apply(null,s)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=p();if(!e)return n;var r,o=this.count(),i=!this._indices;if(i)return this._rawExtent[t].slice();if(r=this._extent[t],r)return r.slice();r=n;for(var a=r[0],u=r[1],s=0;s<o;s++){var c=this.getRawIndex(s),l=e[c];l<a&&(a=l),l>u&&(u=l)}return r=[a,u],this._extent[t]=r,r},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],r=this._chunks,o=0;o<r.length;o++)n.push(r[o][e]);return n},t.prototype.clone=function(e,n){var r=new t,i=this._chunks,a=e&&Object(o["reduce"])(e,function(t,e){return t[e]=!0,t},{});if(a)for(var u=0;u<i.length;u++)r._chunks[u]=a[u]?m(i[u]):i[u];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Object(o["clone"])(this._extent),t._rawExtent=Object(o["clone"])(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var r=0;r<n;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,r){return Object(i["d"])(t[r],this._dimensions[r])}r={arrayRows:t,objectRows:function(t,e,n,r){return Object(i["d"])(t[e],this._dimensions[r])},keyedColumns:t,original:function(t,e,n,r){var o=t&&(null==t.value?t:t.value);return Object(i["d"])(o instanceof Array?o[r]:o,this._dimensions[r])},typedArray:function(t,e,n,r){return t[r]}}}(),t}();e["b"]=v},d32f:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6d8b"),o=n("e86a");function i(t,e,n){var i=t.get("borderRadius");if(null==i)return n?{cornerRadius:0}:null;Object(r["isArray"])(i)||(i=[i,i,i,i]);var a=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Object(r["map"])(i,function(t){return Object(o["g"])(t,a)})}}},d3f47:function(t,e,n){"use strict";function r(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf(function(t){for(var e=r.getName(t),o=0;o<n.length;o++)if(!n[o].isSelected(e))return!1;return!0})}}}}n.d(e,"a",function(){return r})},d409:function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return m});var r=n("5e76"),o=n("6d8b"),i=n("e86a"),a=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function u(t,e,n,r,o){if(!e)return"";var i=(t+"").split("\n");o=s(e,n,r,o);for(var a=0,u=i.length;a<u;a++)i[a]=c(i[a],o);return i.join("\n")}function s(t,e,n,r){r=r||{};var a=Object(o["extend"])({},r);a.font=e,n=Object(o["retrieve2"])(n,"..."),a.maxIterations=Object(o["retrieve2"])(r.maxIterations,2);var u=a.minChar=Object(o["retrieve2"])(r.minChar,0);a.cnCharWidth=Object(i["f"])("",e);var s=a.ascCharWidth=Object(i["f"])("a",e);a.placeholder=Object(o["retrieve2"])(r.placeholder,"");for(var c=t=Math.max(0,t-1),l=0;l<u&&c>=s;l++)c-=s;var f=Object(i["f"])(n,e);return f>c&&(n="",f=0),c=t-f,a.ellipsis=n,a.ellipsisWidth=f,a.contentWidth=c,a.containerWidth=t,a}function c(t,e){var n=e.containerWidth,r=e.font,o=e.contentWidth;if(!n)return"";var a=Object(i["f"])(t,r);if(a<=n)return t;for(var u=0;;u++){if(a<=o||u>=e.maxIterations){t+=e.ellipsis;break}var s=0===u?l(t,o,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*o/a):0;t=t.substr(0,s),a=Object(i["f"])(t,r)}return""===t&&(t=e.placeholder),t}function l(t,e,n,r){for(var o=0,i=0,a=t.length;i<a&&o<e;i++){var u=t.charCodeAt(i);o+=0<=u&&u<=127?n:r}return i}function f(t,e){null!=t&&(t+="");var n,r=e.overflow,a=e.padding,u=e.font,l="truncate"===r,f=Object(i["e"])(u),d=Object(o["retrieve2"])(e.lineHeight,f),h=!!e.backgroundColor,p="truncate"===e.lineOverflow,m=e.width;n=null==m||"break"!==r&&"breakAll"!==r?t?t.split("\n"):[]:t?x(t,e.font,m,"breakAll"===r,0).lines:[];var g=n.length*d,v=Object(o["retrieve2"])(e.height,g);if(g>v&&p){var y=Math.floor(v/d);n=n.slice(0,y)}if(t&&l&&null!=m)for(var b=s(m,u,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),_=0;_<n.length;_++)n[_]=c(n[_],b);var w=v,O=0;for(_=0;_<n.length;_++)O=Math.max(Object(i["f"])(n[_],u),O);null==m&&(m=O);var S=O;return a&&(w+=a[0]+a[2],S+=a[1]+a[3],m+=a[1]+a[3]),h&&(S=m),{lines:n,height:v,outerWidth:S,outerHeight:w,lineHeight:d,calculatedLineHeight:f,contentWidth:O,contentHeight:g,width:m}}var d=function(){function t(){}return t}(),h=function(){function t(t){this.tokens=[],t&&(this.tokens=t)}return t}(),p=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function m(t,e){var n=new p;if(null!=t&&(t+=""),!t)return n;var s,c=e.width,l=e.height,f=e.overflow,d="break"!==f&&"breakAll"!==f||null==c?null:{width:c,accumWidth:0,breakAll:"breakAll"===f},h=a.lastIndex=0;while(null!=(s=a.exec(t))){var m=s.index;m>h&&g(n,t.substring(h,m),e,d),g(n,s[2],e,d,s[1]),h=a.lastIndex}h<t.length&&g(n,t.substring(h,t.length),e,d);var v=[],y=0,b=0,x=e.padding,_="truncate"===f,w="truncate"===e.lineOverflow;function O(t,e,n){t.width=e,t.lineHeight=n,y+=n,b=Math.max(b,e)}t:for(var S=0;S<n.lines.length;S++){for(var C=n.lines[S],k=0,T=0,M=0;M<C.tokens.length;M++){var D=C.tokens[M],A=D.styleName&&e.rich[D.styleName]||{},I=D.textPadding=A.padding,j=I?I[1]+I[3]:0,E=D.font=A.font||e.font;D.contentHeight=Object(i["e"])(E);var R=Object(o["retrieve2"])(A.height,D.contentHeight);if(D.innerHeight=R,I&&(R+=I[0]+I[2]),D.height=R,D.lineHeight=Object(o["retrieve3"])(A.lineHeight,e.lineHeight,R),D.align=A&&A.align||e.align,D.verticalAlign=A&&A.verticalAlign||"middle",w&&null!=l&&y+D.lineHeight>l){M>0?(C.tokens=C.tokens.slice(0,M),O(C,T,k),n.lines=n.lines.slice(0,S+1)):n.lines=n.lines.slice(0,S);break t}var N=A.width,P=null==N||"auto"===N;if("string"===typeof N&&"%"===N.charAt(N.length-1))D.percentWidth=N,v.push(D),D.contentWidth=Object(i["f"])(D.text,E);else{if(P){var B=A.backgroundColor,L=B&&B.image;L&&(L=r["b"](L),r["c"](L)&&(D.width=Math.max(D.width,L.width*R/L.height)))}var F=_&&null!=c?c-T:null;null!=F&&F<D.width?!P||F<j?(D.text="",D.width=D.contentWidth=0):(D.text=u(D.text,F-j,E,e.ellipsis,{minChar:e.truncateMinChar}),D.width=D.contentWidth=Object(i["f"])(D.text,E)):D.contentWidth=Object(i["f"])(D.text,E)}D.width+=j,T+=D.width,A&&(k=Math.max(k,D.lineHeight))}O(C,T,k)}n.outerWidth=n.width=Object(o["retrieve2"])(c,b),n.outerHeight=n.height=Object(o["retrieve2"])(l,y),n.contentHeight=y,n.contentWidth=b,x&&(n.outerWidth+=x[1]+x[3],n.outerHeight+=x[0]+x[2]);for(S=0;S<v.length;S++){D=v[S];var z=D.percentWidth;D.width=parseInt(z,10)/100*n.width}return n}function g(t,e,n,r,o){var a,u,s=""===e,c=o&&n.rich[o]||{},l=t.lines,f=c.font||n.font,p=!1;if(r){var m=c.padding,g=m?m[1]+m[3]:0;if(null!=c.width&&"auto"!==c.width){var v=Object(i["g"])(c.width,r.width)+g;l.length>0&&v+r.accumWidth>r.width&&(a=e.split("\n"),p=!0),r.accumWidth=v}else{var y=x(e,f,r.width,r.breakAll,r.accumWidth);r.accumWidth=y.accumWidth+g,u=y.linesWidths,a=y.lines}}else a=e.split("\n");for(var b=0;b<a.length;b++){var _=a[b],w=new d;if(w.styleName=o,w.text=_,w.isLineHolder=!_&&!s,"number"===typeof c.width?w.width=c.width:w.width=u?u[b]:Object(i["f"])(_,f),b||p)l.push(new h([w]));else{var O=(l[l.length-1]||(l[0]=new h)).tokens,S=O.length;1===S&&O[0].isLineHolder?O[0]=w:(_||!S||s)&&O.push(w)}}}function v(t){var e=t.charCodeAt(0);return e>=33&&e<=383}var y=Object(o["reduce"])(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function b(t){return!v(t)||!!y[t]}function x(t,e,n,r,o){for(var a=[],u=[],s="",c="",l=0,f=0,d=0;d<t.length;d++){var h=t.charAt(d);if("\n"!==h){var p=Object(i["f"])(h,e),m=!r&&!b(h);(a.length?f+p>n:o+f+p>n)?f?(s||c)&&(m?(s||(s=c,c="",l=0,f=l),a.push(s),u.push(f-l),c+=h,l+=p,s="",f=l):(c&&(s+=c,c="",l=0),a.push(s),u.push(f),s=h,f=p)):m?(a.push(c),u.push(l),c=h,l=p):(a.push(h),u.push(p)):(f+=p,m?(c+=h,l+=p):(c&&(s+=c,c="",l=0),s+=h))}else c&&(s+=c,f+=l),a.push(s),u.push(f),s="",c="",l=0,f=0}return a.length||s||(s=t,c="",l=0),c&&(s+=c),s&&(a.push(s),u.push(f)),1===a.length&&(f+=o),{accumWidth:f,lines:a,linesWidths:u}}},d498:function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=n("4fac"),a=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),u=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){i["a"](t,e,!1)},e}(o["b"]);u.prototype.type="polyline",e["a"]=u},d4c6:function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return Object(r["a"])(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),o["b"].prototype.getBoundingRect.call(this)},e}(o["b"]);e["a"]=i},d4d1:function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p});var r=n("7fae"),o=n("cbe5"),i=n("20c88"),a=n("4a3f"),u=Math.min,s=Math.max;function c(t,e){return isNaN(t)||isNaN(e)}function l(t,e,n,r,o,i,a,l,f){for(var d,h,p,m,g,v,y=n,b=0;b<r;b++){var x=e[2*y],_=e[2*y+1];if(y>=o||y<0)break;if(c(x,_)){if(f){y+=i;continue}break}if(y===n)t[i>0?"moveTo":"lineTo"](x,_),p=x,m=_;else{var w=x-d,O=_-h;if(w*w+O*O<.5){y+=i;continue}if(a>0){var S=y+i,C=e[2*S],k=e[2*S+1];while(C===x&&k===_&&b<r)b++,S+=i,y+=i,C=e[2*S],k=e[2*S+1],x=e[2*y],_=e[2*y+1],w=x-d,O=_-h;var T=b+1;if(f)while(c(C,k)&&T<r)T++,S+=i,C=e[2*S],k=e[2*S+1];var M=.5,D=0,A=0,I=void 0,j=void 0;if(T>=r||c(C,k))g=x,v=_;else{D=C-d,A=k-h;var E=x-d,R=C-x,N=_-h,P=k-_,B=void 0,L=void 0;if("x"===l){B=Math.abs(E),L=Math.abs(R);var F=D>0?1:-1;g=x-F*B*a,v=_,I=x+F*L*a,j=_}else if("y"===l){B=Math.abs(N),L=Math.abs(P);var z=A>0?1:-1;g=x,v=_-z*B*a,I=x,j=_+z*L*a}else B=Math.sqrt(E*E+N*N),L=Math.sqrt(R*R+P*P),M=L/(L+B),g=x-D*a*(1-M),v=_-A*a*(1-M),I=x+D*a*M,j=_+A*a*M,I=u(I,s(C,x)),j=u(j,s(k,_)),I=s(I,u(C,x)),j=s(j,u(k,_)),D=I-x,A=j-_,g=x-D*B/L,v=_-A*B/L,g=u(g,s(d,x)),v=u(v,s(h,_)),g=s(g,u(d,x)),v=s(v,u(h,_)),D=x-g,A=_-v,I=x+D*L/B,j=_+A*L/B}t.bezierCurveTo(p,m,g,v,x,_),p=I,m=j}else t.lineTo(x,_)}d=x,h=_,y+=i}return b}var f=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),d=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return Object(r["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new f},e.prototype.buildPath=function(t,e){var n=e.points,r=0,o=n.length/2;if(e.connectNulls){for(;o>0;o--)if(!c(n[2*o-2],n[2*o-1]))break;for(;r<o;r++)if(!c(n[2*r],n[2*r+1]))break}while(r<o)r+=l(t,n,r,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,o=this.path,u=o.data,s=i["a"].CMD,c="x"===e,l=[],f=0;f<u.length;){var d=u[f++],h=void 0,p=void 0,m=void 0,g=void 0,v=void 0,y=void 0,b=void 0;switch(d){case s.M:n=u[f++],r=u[f++];break;case s.L:if(h=u[f++],p=u[f++],b=c?(t-n)/(h-n):(t-r)/(p-r),b<=1&&b>=0){var x=c?(p-r)*b+r:(h-n)*b+n;return c?[t,x]:[x,t]}n=h,r=p;break;case s.C:h=u[f++],p=u[f++],m=u[f++],g=u[f++],v=u[f++],y=u[f++];var _=c?Object(a["f"])(n,h,m,v,t,l):Object(a["f"])(r,p,g,y,t,l);if(_>0)for(var w=0;w<_;w++){var O=l[w];if(O<=1&&O>=0){x=c?Object(a["a"])(r,p,g,y,O):Object(a["a"])(n,h,m,v,O);return c?[t,x]:[x,t]}}n=v,r=y;break}}},e}(o["b"]),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e}(f),p=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new h},e.prototype.buildPath=function(t,e){var n=e.points,r=e.stackedOnPoints,o=0,i=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;i>0;i--)if(!c(n[2*i-2],n[2*i-1]))break;for(;o<i;o++)if(!c(n[2*o],n[2*o+1]))break}while(o<i){var u=l(t,n,o,i,i,1,e.smooth,a,e.connectNulls);l(t,r,o+u-1,u,i,-1,e.stackedOnSmooth,a,e.connectNulls),o+=u+1,t.closePath()}},e}(o["b"])},d51b:function(t,e,n){"use strict";var r=function(){function t(t){this.value=t}return t}(),o=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new r(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),i=function(){function t(t){this._list=new o,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,o=this._map,i=null;if(null==o[t]){var a=n.len(),u=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var s=n.head;n.remove(s),delete o[s.key],i=s.value,this._lastRemovedEntry=s}u?u.value=e:u=new r(e),u.key=t,n.insertEntry(u),o[t]=u}return i},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();e["a"]=i},d5b7:function(t,e,n){"use strict";var r=n("8582"),o=n("06ad"),i=n("9850"),a=n("6fd3"),u=n("e86a"),s=n("6d8b"),c=n("2cf4"),l=n("41ef"),f=n("4bc4"),d="__zr_normal__",h=r["a"].concat(["ignore"]),p=Object(s["reduce"])(r["a"],function(t,e){return t[e]=!0,t},{ignore:!1}),m={},g=new i["a"](0,0,0,0),v=function(){function t(t){this.id=Object(s["guid"])(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,o=e.innerTransformable,i=void 0,a=void 0,s=!1;o.parent=r?this:null;var c=!1;if(o.copyTransform(e),null!=n.position){var l=g;n.layoutRect?l.copy(n.layoutRect):l.copy(this.getBoundingRect()),r||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(m,n,l):Object(u["c"])(m,n,l),o.x=m.x,o.y=m.y,i=m.align,a=m.verticalAlign;var d=n.origin;if(d&&null!=n.rotation){var h=void 0,p=void 0;"center"===d?(h=.5*l.width,p=.5*l.height):(h=Object(u["g"])(d[0],l.width),p=Object(u["g"])(d[1],l.height)),c=!0,o.originX=-o.x+h+(r?0:l.x),o.originY=-o.y+p+(r?0:l.y)}}null!=n.rotation&&(o.rotation=n.rotation);var v=n.offset;v&&(o.x+=v[0],o.y+=v[1],c||(o.originX=-v[0],o.originY=-v[1]));var y=null==n.inside?"string"===typeof n.position&&n.position.indexOf("inside")>=0:n.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),x=void 0,_=void 0,w=void 0;y&&this.canBeInsideText()?(x=n.insideFill,_=n.insideStroke,null!=x&&"auto"!==x||(x=this.getInsideTextFill()),null!=_&&"auto"!==_||(_=this.getInsideTextStroke(x),w=!0)):(x=n.outsideFill,_=n.outsideStroke,null!=x&&"auto"!==x||(x=this.getOutsideFill()),null!=_&&"auto"!==_||(_=this.getOutsideStroke(x),w=!0)),x=x||"#000",x===b.fill&&_===b.stroke&&w===b.autoStroke&&i===b.align&&a===b.verticalAlign||(s=!0,b.fill=x,b.stroke=_,b.autoStroke=w,b.align=i,b.verticalAlign=a,e.setDefaultTextStyle(b)),e.__dirty|=f["a"],s&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?c["d"]:c["a"]},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"===typeof e&&Object(l["parse"])(e);n||(n=[255,255,255,1]);for(var r=n[3],o=this.__zr.isDarkMode(),i=0;i<3;i++)n[i]=n[i]*r+(o?0:255)*(1-r);return n[3]=1,Object(l["stringify"])(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},Object(s["extend"])(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"===typeof t)this.attrKV(t,e);else if(Object(s["isObject"])(t))for(var n=t,r=Object(s["keys"])(n),o=0;o<r.length;o++){var i=r[o];this.attrKV(i,t[i])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==d)){var i=r.targetName,a=i?e[i]:e;r.saveTo(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,h)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var o=n[r];null==t[o]||o in e||(e[o]=this[o])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(d,!1,t)},t.prototype.useState=function(t,e,n,r){var o=t===d,i=this.hasState();if(i||!o){var a=this.currentStates,u=this.stateTransition;if(!(Object(s["indexOf"])(a,t)>=0)||!e&&1!==a.length){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),c||o){o||this.saveCurrentToNormalState(c);var l=!!(c&&c.hoverLayer||r);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,e,!n&&!this.__inHover&&u&&u.duration>0,u);var h=this._textContent,p=this._textGuide;return h&&h.useState(t,e,n,l),p&&p.useState(t,e,n,l),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~f["a"]),c}Object(s["logError"])("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,n){if(t.length){var r=[],o=this.currentStates,i=t.length,a=i===o.length;if(a)for(var u=0;u<i;u++)if(t[u]!==o[u]){a=!1;break}if(a)return;for(u=0;u<i;u++){var s=t[u],c=void 0;this.stateProxy&&(c=this.stateProxy(s,t)),c||(c=this.states[s]),c&&r.push(c)}var l=r[i-1],d=!!(l&&l.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(r),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!e&&!this.__inHover&&p&&p.duration>0,p);var m=this._textContent,g=this._textGuide;m&&m.useStates(t,e,d),g&&g.useStates(t,e,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~f["a"])}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=Object(s["indexOf"])(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),o=Object(s["indexOf"])(r,t),i=Object(s["indexOf"])(r,e)>=0;o>=0?i?r.splice(o,1):r[o]=e:n&&!i&&r.push(e),this.useStates(r)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},r=0;r<t.length;r++){var o=t[r];Object(s["extend"])(n,o),o.textConfig&&(e=e||{},Object(s["extend"])(e,o.textConfig))}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,r,o,i){var a=!(e&&r);e&&e.textConfig?(this.textConfig=Object(s["extend"])({},r?this.textConfig:n.textConfig),Object(s["extend"])(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var u={},c=!1,l=0;l<h.length;l++){var f=h[l],d=o&&p[f];e&&null!=e[f]?d?(c=!0,u[f]=e[f]):this[f]=e[f]:a&&null!=n[f]&&(d?(c=!0,u[f]=n[f]):this[f]=n[f])}if(!o)for(l=0;l<this.animators.length;l++){var m=this.animators[l],g=m.targetName;m.getLoop()||m.__changeFinalValue(g?(e||n)[g]:e||n)}c&&this._transitionState(t,u,i)},t.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new r["c"],this._attachComponent(t),this._textContent=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Object(s["extend"])(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=f["a"];var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e,n){var r=t?this[t]:this;var i=new o["b"](r,e,n);return t&&(i.targetName=t),this.addAnimator(i,t),i},t.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var e=r.animators,n=Object(s["indexOf"])(e,t);n>=0&&e.splice(n,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,o=[],i=0;i<r;i++){var a=n[i];t&&t!==a.scope?o.push(a):a.stop(e)}return this.animators=o,this},t.prototype.animateTo=function(t,e,n){y(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){y(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,r){for(var o=y(this,e,n,r),i=0;i<o.length;i++)o[i].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=f["a"];function n(t,n,r,o){function i(t,e){Object.defineProperty(e,0,{get:function(){return t[r]},set:function(e){t[r]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){if(!this[n]){var t=this[n]=[];i(this,t)}return this[n]},set:function(t){this[r]=t[0],this[o]=t[1],this[n]=t,i(this,t)}})}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();function y(t,e,n,r,o){n=n||{};var i=[];S(t,"",t,e,n,r,i,o);var a=i.length,u=!1,s=n.done,c=n.aborted,l=function(){u=!0,a--,a<=0&&(u?s&&s():c&&c())},f=function(){a--,a<=0&&(u?s&&s():c&&c())};a||s&&s(),i.length>0&&n.during&&i[0].during(function(t,e){n.during(e)});for(var d=0;d<i.length;d++){var h=i[d];l&&h.done(l),f&&h.aborted(f),n.force&&h.duration(n.duration),h.start(n.easing)}return i}function b(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function x(t){return Object(s["isArrayLike"])(t[0])}function _(t,e,n){if(Object(s["isArrayLike"])(e[n]))if(Object(s["isArrayLike"])(t[n])||(t[n]=[]),Object(s["isTypedArray"])(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),b(t[n],e[n],r))}else{var o=e[n],i=t[n],a=o.length;if(x(o))for(var u=o[0].length,c=0;c<a;c++)i[c]?b(i[c],o[c],u):i[c]=Array.prototype.slice.call(o[c]);else b(i,o,a);i.length=o.length}else t[n]=e[n]}function w(t,e){return t===e||Object(s["isArrayLike"])(t)&&Object(s["isArrayLike"])(e)&&O(t,e)}function O(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function S(t,e,n,r,i,a,u,c){for(var l=Object(s["keys"])(r),f=i.duration,d=i.delay,h=i.additive,p=i.setToFinal,m=!Object(s["isObject"])(a),g=t.animators,v=[],y=0;y<l.length;y++){var b=l[y],x=r[b];if(null!=x&&null!=n[b]&&(m||a[b]))if(!Object(s["isObject"])(x)||Object(s["isArrayLike"])(x)||Object(s["isGradientObject"])(x))v.push(b);else{if(e){c||(n[b]=x,t.updateDuringAnimation(e));continue}S(t,b,n[b],x,i,a&&a[b],u,c)}else c||(n[b]=x,t.updateDuringAnimation(e),v.push(b))}var O=v.length;if(!h&&O)for(var C=0;C<g.length;C++){var k=g[C];if(k.targetName===e){var T=k.stopTracks(v);if(T){var M=Object(s["indexOf"])(g,k);g.splice(M,1)}}}if(i.force||(v=Object(s["filter"])(v,function(t){return!w(r[t],n[t])}),O=v.length),O>0||i.force&&!u.length){var D=void 0,A=void 0,I=void 0;if(c){A={},p&&(D={});for(C=0;C<O;C++){b=v[C];A[b]=n[b],p?D[b]=r[b]:n[b]=r[b]}}else if(p){I={};for(C=0;C<O;C++){b=v[C];I[b]=Object(o["a"])(n[b]),_(n,r,b)}}k=new o["b"](n,!1,!1,h?Object(s["filter"])(g,function(t){return t.targetName===e}):null);k.targetName=e,i.scope&&(k.scope=i.scope),p&&D&&k.whenWithKeys(0,D,v),I&&k.whenWithKeys(0,I,v),k.whenWithKeys(null==f?500:f,c?A:r,v).delay(d||0),t.addAnimator(k,e),u.push(k)}}Object(s["mixin"])(v,a["a"]),Object(s["mixin"])(v,r["c"]),e["a"]=v},d6c2:function(t,e,n){"use strict";var r={type:"selectDataRange",event:"dataRangeSelected",update:"update"},o=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})},i=n("6d8b"),a=n("2b8c"),u=n("5f14"),s=n("0924"),c=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(e){var r=t.pipelineContext;!e.isTargetSeries(t)||r&&r.large||n.push(a["c"](e.stateList,e.targetVisuals,i["bind"](e.getValueState,e),e.getDataDimensionIndex(t.getData())))}),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(i["bind"](l,null,t,e))||{stops:[],outerColors:[]},a=e.getDataDimensionIndex(n);a>=0&&(o.dimension=a,r.push(o))}}),t.getData().setVisual("visualMeta",r)}}];function l(t,e,n,r){for(var o=e.targetVisuals[r],i=u["a"].prepareVisualTypes(o),a={color:Object(s["b"])(t.getData(),"color")},c=0,l=i.length;c<l;c++){var f=i[c],d=o["opacity"===f?"__alphaForOpacity":f];d&&d.applyVisual(n,h,p)}return a.color;function h(t){return a[t]}function p(t,e){a[t]=e}}var f=i["each"];function d(t){var e=t&&t.visualMap;i["isArray"](e)||(e=e?[e]:[]),f(e,function(t){if(t){h(t,"splitList")&&!h(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&i["isArray"](e)&&f(e,function(t){i["isObject"](t)&&(h(t,"start")&&!h(t,"min")&&(t.min=t.start),h(t,"end")&&!h(t,"max")&&(t.max=t.end))})}})}function h(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}n.d(e,"a",function(){return m});var p=!1;function m(t){p||(p=!0,t.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),t.registerAction(r,o),Object(i["each"])(c,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}),t.registerPreprocessor(d))}},d9fc:function(t,e,n){"use strict";var r=n("21a1"),o=n("cbe5"),i=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(r["a"])(e,t),e.prototype.getDefaultShape=function(){return new i},e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(o["b"]);a.prototype.type="circle",e["a"]=a},dcb3:function(t,e,n){"use strict";var r=n("6d8b"),o=n("2dc5"),i=n("2306"),a=n("76a5"),u=n("deab"),s=n("cd33"),c=n("607d"),l=n("88b3"),f=n("e0d3"),d=Object(f["o"])(),h=r["clone"],p=r["bind"],m=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,i){var a=e.get("value"),u=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==a||this._lastStatus!==u){this._lastValue=a,this._lastStatus=u;var s=this._group,c=this._handle;if(!u||"hide"===u)return s&&s.hide(),void(c&&c.hide());s&&s.show(),c&&c.show();var l={};this.makeElOption(l,a,t,e,n);var f=l.graphicKey;f!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=f;var d=this._moveAnimation=this.determineAnimation(t,e);if(s){var h=r["curry"](g,e,d);this.updatePointerEl(s,l,h),this.updateLabelEl(s,l,h,e)}else s=this._group=new o["a"],this.createPointerEl(s,l,t,e),this.createLabelEl(s,l,t,e),n.getZr().add(s);x(s,e,!0),this._renderHandle(a)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),r=t.axis,o="category"===r.type,i=e.get("snap");if(!i&&!o)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(o&&r.getBandWidth()>a)return!0;if(i){var u=s["c"](t).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/u>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,r,o){},t.prototype.createPointerEl=function(t,e,n,r){var o=e.pointer;if(o){var a=d(t).pointerEl=new i[o.type](h(e.pointer));t.add(a)}},t.prototype.createLabelEl=function(t,e,n,r){if(e.label){var o=d(t).labelEl=new a["a"](h(e.label));t.add(o),y(o,r)}},t.prototype.updatePointerEl=function(t,e,n){var r=d(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,r){var o=d(t).labelEl;o&&(o.setStyle(e.label.style),n(o,{x:e.label.x,y:e.label.y}),y(o,r))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,o=this._api.getZr(),a=this._handle,u=n.getModel("handle"),s=n.get("status");if(!u.get("show")||!s||"hide"===s)return a&&o.remove(a),void(this._handle=null);this._handle||(e=!0,a=this._handle=i["createIcon"](u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){c["g"](t.event)},onmousedown:p(this._onHandleDragMove,this,0,0),drift:p(this._onHandleDragMove,this),ondragend:p(this._onHandleDragEnd,this)}),o.add(a)),x(a,n,!1),a.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var f=u.get("size");r["isArray"](f)||(f=[f,f]),a.scaleX=f[0]/2,a.scaleY=f[1]/2,l["b"](this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){g(this._axisPointerModel,!e&&this._moveAnimation,this._handle,b(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(b(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(b(r)),d(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),l["a"](this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},t}();function g(t,e,n,r){v(d(n).lastProp,r)||(d(n).lastProp=r,e?u["h"](n,r,t):(n.stopAnimation(),n.attr(r)))}function v(t,e){if(r["isObject"](t)&&r["isObject"](e)){var n=!0;return r["each"](e,function(e,r){n=n&&v(t[r],e)}),!!n}return t===e}function y(t,e){t[e.get(["label","show"])?"show":"hide"]()}function b(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function x(t,e,n){var r=e.get("z"),o=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=o&&(t.zlevel=o),t.silent=n)})}e["a"]=m},dce8:function(t,e,n){"use strict";var r=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},t.lerp=function(t,e,n,r){var o=1-r;t.x=o*e.x+r*n.x,t.y=o*e.y+r*n.y},t}();e["a"]=r},dd4f:function(t,e,n){"use strict";var r=n("21a1"),o=n("19eb"),i=n("e86a"),a=n("cbe5"),u=n("6d8b"),s=n("726e"),c=Object(u["defaults"])({strokeFirst:!0,font:s["a"],x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},a["a"]),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.createStyle=function(t){return Object(u["createObject"])(c,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=Object(i["d"])(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var r=t.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(o["c"]);l.prototype.type="tspan",e["a"]=l},dded:function(t,e,n){"use strict";var r=n("21a1"),o=n("42e5"),i=function(t){function e(e,n,r,o,i){var a=t.call(this,o)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==r?.5:r,a.type="radial",a.global=i||!1,a}return Object(r["a"])(e,t),e}(o["a"]);e["a"]=i},deab:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"h",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return p}),n.d(e,"b",function(){return m});var r=n("6d8b"),o=n("e0d3"),i=Object(o["o"])();function a(t,e,n,o,i){var a;if(e&&e.ecModel){var u=e.ecModel.getUpdatePayload();a=u&&u.animation}var s=e&&e.isAnimationEnabled(),c="update"===t;if(s){var l=void 0,f=void 0,d=void 0;o?(l=Object(r["retrieve2"])(o.duration,200),f=Object(r["retrieve2"])(o.easing,"cubicOut"),d=0):(l=e.getShallow(c?"animationDurationUpdate":"animationDuration"),f=e.getShallow(c?"animationEasingUpdate":"animationEasing"),d=e.getShallow(c?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(l=a.duration),null!=a.easing&&(f=a.easing),null!=a.delay&&(d=a.delay)),Object(r["isFunction"])(d)&&(d=d(n,i)),Object(r["isFunction"])(l)&&(l=l(n));var h={duration:l||0,delay:d,easing:f};return h}return null}function u(t,e,n,o,i,u,s){var c,l=!1;Object(r["isFunction"])(i)?(s=u,u=i,i=null):Object(r["isObject"])(i)&&(u=i.cb,s=i.during,l=i.isFrom,c=i.removeOpt,i=i.dataIndex);var f="leave"===t;f||e.stopAnimation("leave");var d=a(t,o,i,f?c||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(e,i):null);if(d&&d.duration>0){var h=d.duration,p=d.delay,m=d.easing,g={duration:h,delay:p||0,easing:m,done:u,force:!!u||!!s,setToFinal:!f,scope:t,during:s};l?e.animateFrom(n,g):e.animateTo(n,g)}else e.stopAnimation(),!l&&e.attr(n),s&&s(1),u&&u()}function s(t,e,n,r,o,i){u("update",t,e,n,r,o,i)}function c(t,e,n,r,o,i){u("enter",t,e,n,r,o,i)}function l(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if("leave"===n.scope)return!0}return!1}function f(t,e,n,r,o,i){l(t)||u("leave",t,e,n,r,o,i)}function d(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),f(t,{style:{opacity:0}},e,n,r)}function h(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(t){t.isGroup||d(t,e,n,r)}):d(t,e,n,r)}function p(t){i(t).oldStyle=t.style}function m(t){return i(t).oldStyle}},e0d3:function(t,e,n){"use strict";n.d(e,"r",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"c",function(){return f}),n.d(e,"h",function(){return d}),n.d(e,"m",function(){return h}),n.d(e,"q",function(){return p}),n.d(e,"e",function(){return O}),n.d(e,"n",function(){return S}),n.d(e,"l",function(){return C}),n.d(e,"p",function(){return k}),n.d(e,"x",function(){return T}),n.d(e,"d",function(){return D}),n.d(e,"u",function(){return A}),n.d(e,"o",function(){return I}),n.d(e,"s",function(){return E}),n.d(e,"t",function(){return R}),n.d(e,"b",function(){return N}),n.d(e,"a",function(){return P}),n.d(e,"v",function(){return B}),n.d(e,"w",function(){return L}),n.d(e,"g",function(){return F}),n.d(e,"i",function(){return z}),n.d(e,"j",function(){return V}),n.d(e,"k",function(){return H});var r=n("6d8b"),o=n("22d1"),i=n("3842");function a(t,e,n){return(e-t)*n+t}var u="series\0",s="\0_ec_\0";function c(t){return t instanceof Array?t:null==t?[]:[t]}function l(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,o=n.length;r<o;r++){var i=n[r];!t.emphasis[e].hasOwnProperty(i)&&t[e].hasOwnProperty(i)&&(t.emphasis[e][i]=t[e][i])}}}var f=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function d(t){return!Object(r["isObject"])(t)||Object(r["isArray"])(t)||t instanceof Date?t:t.value}function h(t){return Object(r["isObject"])(t)&&!(t instanceof Array)}function p(t,e,n){var o="normalMerge"===n,i="replaceMerge"===n,a="replaceAll"===n;t=t||[],e=(e||[]).slice();var u=Object(r["createHashMap"])();Object(r["each"])(e,function(t,n){Object(r["isObject"])(t)||(e[n]=null)});var s=m(t,u,n);return(o||i)&&g(s,t,u,e),o&&v(s,e),o||i?y(s,e,i):a&&b(s,e),x(s),s}function m(t,e,n){var r=[];if("replaceAll"===n)return r;for(var o=0;o<t.length;o++){var i=t[o];i&&null!=i.id&&e.set(i.id,o),r.push({existing:"replaceMerge"===n||C(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return r}function g(t,e,n,o){Object(r["each"])(o,function(i,a){if(i&&null!=i.id){var u=w(i.id),s=n.get(u);if(null!=s){var c=t[s];Object(r["assert"])(!c.newOption,'Duplicated option on id "'+u+'".'),c.newOption=i,c.existing=e[s],o[a]=null}}})}function v(t,e){Object(r["each"])(e,function(n,r){if(n&&null!=n.name)for(var o=0;o<t.length;o++){var i=t[o].existing;if(!t[o].newOption&&i&&(null==i.id||null==n.id)&&!C(n)&&!C(i)&&_("name",i,n))return t[o].newOption=n,void(e[r]=null)}})}function y(t,e,n){Object(r["each"])(e,function(e){if(e){var r,o=0;while((r=t[o])&&(r.newOption||C(r.existing)||r.existing&&null!=e.id&&!_("id",e,r.existing)))o++;r?(r.newOption=e,r.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),o++}})}function b(t,e){Object(r["each"])(e,function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function x(t){var e=Object(r["createHashMap"])();Object(r["each"])(t,function(t){var n=t.existing;n&&e.set(n.id,t)}),Object(r["each"])(t,function(t){var n=t.newOption;Object(r["assert"])(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),Object(r["each"])(t,function(t,n){var o=t.existing,i=t.newOption,a=t.keyInfo;if(Object(r["isObject"])(i)){if(a.name=null!=i.name?w(i.name):o?o.name:u+n,o)a.id=w(o.id);else if(null!=i.id)a.id=w(i.id);else{var s=0;do{a.id="\0"+a.name+"\0"+s++}while(e.get(a.id))}e.set(a.id,t)}})}function _(t,e,n){var r=O(e[t],null),o=O(n[t],null);return null!=r&&null!=o&&r===o}function w(t){return O(t,"")}function O(t,e){return null==t?e:Object(r["isString"])(t)?t:Object(r["isNumber"])(t)||Object(r["isStringSafe"])(t)?t+"":e}function S(t){var e=t.name;return!(!e||!e.indexOf(u))}function C(t){return t&&null!=t.id&&0===w(t.id).indexOf(s)}function k(t){return s+t}function T(t,e,n){Object(r["each"])(t,function(t){var o=t.newOption;Object(r["isObject"])(o)&&(t.keyInfo.mainType=e,t.keyInfo.subType=M(e,o,t.existing,n))})}function M(t,e,n,r){var o=e.type?e.type:n?n.subType:r.determineSubType(t,e);return o}function D(t,e){var n={},r={};return o(t||[],n),o(e||[],r,n),[i(n),i(r)];function o(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=O(t[r].seriesId,null);if(null==i)return;for(var a=c(t[r].dataIndex),u=n&&n[i],s=0,l=a.length;s<l;s++){var f=a[s];u&&u[f]?u[f]=null:(e[i]||(e[i]={}))[f]=1}}}function i(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var o=i(t[r],!0);o.length&&n.push({seriesId:r,dataIndex:o})}return n}}function A(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Object(r["isArray"])(e.dataIndex)?Object(r["map"])(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?Object(r["isArray"])(e.name)?Object(r["map"])(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function I(){var t="__ec_inner_"+j++;return function(e){return e[t]||(e[t]={})}}var j=Object(i["i"])();function E(t,e,n){var r=R(e,n),o=r.mainTypeSpecified,i=r.queryOptionMap,a=r.others,u=a,s=n?n.defaultMainType:null;return!o&&s&&i.set(s,{}),i.each(function(e,r){var o=B(t,r,e,{useDefault:s===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});u[r+"Models"]=o.models,u[r+"Model"]=o.models[0]}),u}function R(t,e){var n;if(Object(r["isString"])(t)){var o={};o[t+"Index"]=0,n=o}else n=t;var i=Object(r["createHashMap"])(),a={},u=!1;return Object(r["each"])(n,function(t,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var o=n.match(/^(\w+)(Index|Id|Name)$/)||[],s=o[1],c=(o[2]||"").toLowerCase();if(s&&c&&!(e&&e.includeMainTypes&&Object(r["indexOf"])(e.includeMainTypes,s)<0)){u=u||!!s;var l=i.get(s)||i.set(s,{});l[c]=t}}else a[n]=t}),{mainTypeSpecified:u,queryOptionMap:i,others:a}}var N={useDefault:!0,enableAll:!1,enableNone:!1},P={useDefault:!1,enableAll:!0,enableNone:!0};function B(t,e,n,o){o=o||N;var i=n.index,a=n.id,u=n.name,s={models:null,specified:null!=i||null!=a||null!=u};if(!s.specified){var c=void 0;return s.models=o.useDefault&&(c=t.getComponent(e))?[c]:[],s}return"none"===i||!1===i?(Object(r["assert"])(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===i&&(Object(r["assert"])(o.enableAll,'`"all"` is not a valid value on index option.'),i=a=u=null),s.models=t.queryComponents({mainType:e,index:i,id:a,name:u}),s)}function L(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function F(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function z(t){return"auto"===t?o["a"].domSupported?"html":"richText":t||"html"}function V(t,e){var n=Object(r["createHashMap"])(),o=[];return Object(r["each"])(t,function(t){var r=e(t);(n.get(r)||(o.push(r),n.set(r,[]))).push(t)}),{keys:o,buckets:n}}function H(t,e,n,o,u){var s=null==e||"auto"===e;if(null==o)return o;if(Object(r["isNumber"])(o)){var c=a(n||0,o,u);return Object(i["v"])(c,s?Math.max(Object(i["g"])(n||0),Object(i["g"])(o)):e)}if(Object(r["isString"])(o))return u<1?n:o;for(var l=[],f=n,d=o,h=Math.max(f?f.length:0,d.length),p=0;p<h;++p){var m=t.getDimensionInfo(p);if(m&&"ordinal"===m.type)l[p]=(u<1&&f?f:d)[p];else{var g=f&&f[p]?f[p]:0,v=d[p];c=a(g,v,u);l[p]=Object(i["v"])(c,s?Math.max(Object(i["g"])(g),Object(i["g"])(v)):e)}}return l}},e0d8:function(t,e,n){"use strict";var r=n("625e"),o=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();r["c"](o),e["a"]=o},e263:function(t,e,n){"use strict";n.d(e,"d",function(){return h}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return v}),n.d(e,"e",function(){return y}),n.d(e,"a",function(){return b});var r=n("401b"),o=n("4a3f"),i=Math.min,a=Math.max,u=Math.sin,s=Math.cos,c=2*Math.PI,l=r["create"](),f=r["create"](),d=r["create"]();function h(t,e,n){if(0!==t.length){for(var r=t[0],o=r[0],u=r[0],s=r[1],c=r[1],l=1;l<t.length;l++)r=t[l],o=i(o,r[0]),u=a(u,r[0]),s=i(s,r[1]),c=a(c,r[1]);e[0]=o,e[1]=s,n[0]=u,n[1]=c}}function p(t,e,n,r,o,u){o[0]=i(t,n),o[1]=i(e,r),u[0]=a(t,n),u[1]=a(e,r)}var m=[],g=[];function v(t,e,n,r,u,s,c,l,f,d){var h=o["c"],p=o["a"],v=h(t,n,u,c,m);f[0]=1/0,f[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var y=0;y<v;y++){var b=p(t,n,u,c,m[y]);f[0]=i(b,f[0]),d[0]=a(b,d[0])}v=h(e,r,s,l,g);for(y=0;y<v;y++){var x=p(e,r,s,l,g[y]);f[1]=i(x,f[1]),d[1]=a(x,d[1])}f[0]=i(t,f[0]),d[0]=a(t,d[0]),f[0]=i(c,f[0]),d[0]=a(c,d[0]),f[1]=i(e,f[1]),d[1]=a(e,d[1]),f[1]=i(l,f[1]),d[1]=a(l,d[1])}function y(t,e,n,r,u,s,c,l){var f=o["j"],d=o["h"],h=a(i(f(t,n,u),1),0),p=a(i(f(e,r,s),1),0),m=d(t,n,u,h),g=d(e,r,s,p);c[0]=i(t,u,m),c[1]=i(e,s,g),l[0]=a(t,u,m),l[1]=a(e,s,g)}function b(t,e,n,o,i,a,h,p,m){var g=r["min"],v=r["max"],y=Math.abs(i-a);if(y%c<1e-4&&y>1e-4)return p[0]=t-n,p[1]=e-o,m[0]=t+n,void(m[1]=e+o);if(l[0]=s(i)*n+t,l[1]=u(i)*o+e,f[0]=s(a)*n+t,f[1]=u(a)*o+e,g(p,l,f),v(m,l,f),i%=c,i<0&&(i+=c),a%=c,a<0&&(a+=c),i>a&&!h?a+=c:i<a&&h&&(i+=c),h){var b=a;a=i,i=b}for(var x=0;x<a;x+=Math.PI/2)x>i&&(d[0]=s(x)*n+t,d[1]=u(x)*o+e,g(p,d,p),v(m,d,m))}},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e562:function(t,e,n){(function(e){(function(){"use strict";var n=function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},r=function(t){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(t)},o=function(t,e){var n=Array.prototype.slice.call(t);return n.sort(e)},i=function(t,e){return a(function(n,r){return t.eq(e(n),e(r))})},a=function(t){return{eq:t}},u=a(function(t,e){return t===e}),s=u,c=function(t){return a(function(e,n){if(e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t.eq(e[o],n[o]))return!1;return!0})},l=function(t,e){return i(c(t),function(t){return o(t,e)})},f=function(t){return a(function(e,n){var r=Object.keys(e),o=Object.keys(n);if(!l(s).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var u=r[a];if(!t.eq(e[u],n[u]))return!1}return!0})},d=a(function(t,e){if(t===e)return!0;var o=n(t),i=n(e);return o===i&&(r(o)?t===e:"array"===o?c(d).eq(t,e):"object"===o&&f(d).eq(t,e))}),h=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},p=function(t){return function(e){return h(e)===t}},m=function(t){return function(e){return typeof e===t}},g=function(t){return function(e){return t===e}},v=p("string"),y=p("object"),b=p("array"),x=g(null),_=m("boolean"),w=g(void 0),O=function(t){return null===t||void 0===t},S=function(t){return!O(t)},C=m("function"),k=m("number"),T=function(){},M=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},D=function(t,e){return function(n){return t(e(n))}},A=function(t){return function(){return t}},I=function(t){return t},j=function(t,e){return t===e};function E(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var R=function(t){return function(e){return!t(e)}},N=function(t){return function(){throw new Error(t)}},P=function(t){return t()},B=function(t){t()},L=A(!1),F=A(!0),z=function(){return V},V=function(){var t=function(t){return t()},e=I,n={fold:function(t,e){return t()},isSome:L,isNone:F,getOr:e,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(void 0),or:e,orThunk:t,map:z,each:T,bind:z,exists:L,forall:F,filter:function(){return z()},toArray:function(){return[]},toString:A("none()")};return n}(),H=function(t){var e=A(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},isSome:F,isNone:L,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return H(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:V},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},U=function(t){return null===t||void 0===t?V:H(t)},W={some:H,none:z,from:U},G=Array.prototype.slice,q=Array.prototype.indexOf,Y=Array.prototype.push,X=function(t,e){return q.call(t,e)},$=function(t,e){var n=X(t,e);return-1===n?W.none():W.some(n)},K=function(t,e){return X(t,e)>-1},Z=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},J=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},Q=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},tt=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},et=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],u=e(a,o)?n:r;u.push(a)}return{pass:n,fail:r}},nt=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},rt=function(t,e,n){return tt(t,function(t,r){n=e(n,t,r)}),n},ot=function(t,e,n){return Q(t,function(t,r){n=e(n,t,r)}),n},it=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return W.some(i);if(n(i,r))break}return W.none()},at=function(t,e){return it(t,e,L)},ut=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return W.some(n)}return W.none()},st=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!b(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Y.apply(e,t[n])}return e},ct=function(t,e){return st(J(t,e))},lt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},ft=function(t){var e=G.call(t,0);return e.reverse(),e},dt=function(t,e){return nt(t,function(t){return!K(e,t)})},ht=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},pt=function(t,e){var n=G.call(t,0);return n.sort(e),n},mt=function(t,e){return e>=0&&e<t.length?W.some(t[e]):W.none()},gt=function(t){return mt(t,0)},vt=function(t){return mt(t,t.length-1)},yt=C(Array.from)?Array.from:function(t){return G.call(t)},bt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return W.none()},xt=Object.keys,_t=Object.hasOwnProperty,wt=function(t,e){for(var n=xt(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},Ot=function(t,e){return St(t,function(t,n){return{k:n,v:e(t,n)}})},St=function(t,e){var n={};return wt(t,function(t,r){var o=e(t,r);n[o.k]=o.v}),n},Ct=function(t){return function(e,n){t[n]=e}},kt=function(t,e,n,r){var o={};return wt(t,function(t,o){(e(t,o)?n:r)(t,o)}),o},Tt=function(t,e){var n={},r={};return kt(t,e,Ct(n),Ct(r)),{t:n,f:r}},Mt=function(t,e){var n={};return kt(t,e,Ct(n),T),n},Dt=function(t,e){var n=[];return wt(t,function(t,r){n.push(e(t,r))}),n},At=function(t){return Dt(t,I)},It=function(t,e){return jt(t,e)?W.from(t[e]):W.none()},jt=function(t,e){return _t.call(t,e)},Et=function(t,e){return jt(t,e)&&void 0!==t[e]&&null!==t[e]},Rt=function(t,e,n){return void 0===n&&(n=d),f(n).eq(t,e)},Nt=Array.isArray,Pt=function(t){if(Nt(t))return t;for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n];return e},Bt=function(t,e,n){var r,o;if(!t)return!1;if(n=n||t,void 0!==t.length){for(r=0,o=t.length;r<o;r++)if(!1===e.call(n,t[r],r,t))return!1}else for(r in t)if(jt(t,r)&&!1===e.call(n,t[r],r,t))return!1;return!0},Lt=function(t,e){var n=[];return Bt(t,function(r,o){n.push(e(r,o,t))}),n},Ft=function(t,e){var n=[];return Bt(t,function(r,o){e&&!e(r,o,t)||n.push(r)}),n},zt=function(t,e){if(t)for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},Vt=function(t,e,n,r){for(var o=w(n)?t[0]:n,i=0;i<t.length;i++)o=e.call(r,o,t[i],i);return o},Ht=function(t,e,n){var r,o;for(r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return r;return-1},Ut=function(t){return t[t.length-1]},Wt=function(){return Wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Wt.apply(this,arguments)};function Gt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function qt(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var Yt=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},Xt=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:A(o),isiPhone:A(i),isTablet:A(s),isPhone:A(c),isTouch:A(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:A(l),isDesktop:A(f)}},$t=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},Kt=function(t,e){var n=$t(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Qt(r(1),r(2))},Zt=function(t,e){var n=String(e).toLowerCase();return 0===t.length?Jt():Kt(t,n)},Jt=function(){return Qt(0,0)},Qt=function(t,e){return{major:t,minor:e}},te={nu:Qt,detect:Zt,unknown:Jt},ee=function(t,e){return bt(e.brands,function(e){var n=e.brand.toLowerCase();return at(t,function(t){var e;return n===(null===(e=t.brand)||void 0===e?void 0:e.toLowerCase())}).map(function(t){return{current:t.name,version:te.nu(parseInt(e.version,10),0)}})})},ne=function(t,e){var n=String(e).toLowerCase();return at(t,function(t){return t.search(n)})},re=function(t,e){return ne(t,e).map(function(t){var n=te.detect(t.versionRegexes,e);return{current:t.name,version:n}})},oe=function(t,e){return ne(t,e).map(function(t){var n=te.detect(t.versionRegexes,e);return{current:t.name,version:n}})},ie=function(t,e){return t.substring(e)},ae=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},ue=function(t,e){return ce(t,e)?ie(t,e.length):t},se=function(t,e){return-1!==t.indexOf(e)},ce=function(t,e){return ae(t,e,0)},le=function(t){return function(e){return e.replace(t,"")}},fe=le(/^\s+|\s+$/g),de=le(/^\s+/g),he=le(/\s+$/g),pe=function(t){return t.length>0},me=function(t){return!pe(t)},ge=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ve=function(t){return function(e){return se(e,t)}},ye=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return se(t,"edge/")&&se(t,"chrome")&&se(t,"safari")&&se(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ge],search:function(t){return se(t,"chrome")&&!se(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return se(t,"msie")||se(t,"trident")}},{name:"Opera",versionRegexes:[ge,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ve("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ve("firefox")},{name:"Safari",versionRegexes:[ge,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(se(t,"safari")||se(t,"mobile/"))&&se(t,"applewebkit")}}],be=[{name:"Windows",search:ve("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return se(t,"iphone")||se(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ve("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ve("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ve("linux"),versionRegexes:[]},{name:"Solaris",search:ve("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ve("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ve("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xe={browsers:A(ye),oses:A(be)},_e="Edge",we="Chrome",Oe="IE",Se="Opera",Ce="Firefox",ke="Safari",Te=function(){return Me({current:void 0,version:te.unknown()})},Me=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(_e),isChrome:r(we),isIE:r(Oe),isOpera:r(Se),isFirefox:r(Ce),isSafari:r(ke)}},De={unknown:Te,nu:Me,edge:A(_e),chrome:A(we),ie:A(Oe),opera:A(Se),firefox:A(Ce),safari:A(ke)},Ae="Windows",Ie="iOS",je="Android",Ee="Linux",Re="OSX",Ne="Solaris",Pe="FreeBSD",Be="ChromeOS",Le=function(){return Fe({current:void 0,version:te.unknown()})},Fe=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Ae),isiOS:r(Ie),isAndroid:r(je),isOSX:r(Re),isLinux:r(Ee),isSolaris:r(Ne),isFreeBSD:r(Pe),isChromeOS:r(Be)}},ze={unknown:Le,nu:Fe,windows:A(Ae),ios:A(Ie),android:A(je),linux:A(Ee),osx:A(Re),solaris:A(Ne),freebsd:A(Pe),chromeos:A(Be)},Ve=function(t,e,n){var r=xe.browsers(),o=xe.oses(),i=e.bind(function(t){return ee(r,t)}).orThunk(function(){return re(r,t)}).fold(De.unknown,De.nu),a=oe(o,t).fold(ze.unknown,ze.nu),u=Xt(a,i,t,n);return{browser:i,os:a,deviceType:u}},He={detect:Ve},Ue=function(t){return window.matchMedia(t).matches},We=Yt(function(){return He.detect(navigator.userAgent,W.from(navigator.userAgentData),Ue)}),Ge=function(){return We()},qe=navigator.userAgent,Ye=Ge(),Xe=Ye.browser,$e=Ye.os,Ke=Ye.deviceType,Ze=/WebKit/.test(qe)&&!Xe.isEdge(),Je="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Qe=-1!==qe.indexOf("Windows Phone"),tn={opera:Xe.isOpera(),webkit:Ze,ie:!(!Xe.isIE()&&!Xe.isEdge())&&Xe.version.major,gecko:Xe.isFirefox(),mac:$e.isOSX()||$e.isiOS(),iOS:Ke.isiPad()||Ke.isiPhone(),android:$e.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Xe.isIE()?document.documentMode||7:10,fileApi:Je,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Xe.isIE(),desktop:Ke.isDesktop(),windowsPhone:Qe,browser:{current:Xe.current,version:Xe.version,isChrome:Xe.isChrome,isEdge:Xe.isEdge,isFirefox:Xe.isFirefox,isIE:Xe.isIE,isOpera:Xe.isOpera,isSafari:Xe.isSafari},os:{current:$e.current,version:$e.version,isAndroid:$e.isAndroid,isChromeOS:$e.isChromeOS,isFreeBSD:$e.isFreeBSD,isiOS:$e.isiOS,isLinux:$e.isLinux,isOSX:$e.isOSX,isSolaris:$e.isSolaris,isWindows:$e.isWindows},deviceType:{isDesktop:Ke.isDesktop,isiPad:Ke.isiPad,isiPhone:Ke.isiPhone,isPhone:Ke.isPhone,isTablet:Ke.isTablet,isTouch:Ke.isTouch,isWebView:Ke.isWebView}},en=/^\s*|\s*$/g,nn=function(t){return null===t||void 0===t?"":(""+t).replace(en,"")},rn=function(t,e){return e?!("array"!==e||!Nt(t))||typeof t===e:void 0!==t},on=function(t,e,n){var r;t=t||[],e=e||",","string"===typeof t&&(t=t.split(e)),n=n||{},r=t.length;while(r--)n[t[r]]={};return n},an=jt,un=function(t,e,n){var r,o,i,a=this,u=0;t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t);var s=t[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(t[3].replace(/\.\w+$/,""),n);if(!c[s]){if("static"===t[2])return c[s]=e,void(this.onCreate&&this.onCreate(t[2],t[3],c[s]));e[s]||(e[s]=function(){},u=1),c[s]=e[s],a.extend(c[s].prototype,e),t[5]&&(r=a.resolve(t[5]).prototype,o=t[5].match(/\.(\w+)$/i)[1],i=c[s],c[s]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[s].prototype[s]=c[s],a.each(r,function(t,e){c[s].prototype[e]=r[e]}),a.each(e,function(t,e){r[e]?c[s].prototype[e]=function(){return this.parent=r[e],t.apply(this,arguments)}:e!==s&&(c[s].prototype[e]=t)})),a.each(e.static,function(t,e){c[s][e]=t})}},sn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];for(var i in o)if(jt(o,i)){var a=o[i];void 0!==a&&(t[i]=a)}}return t},cn=function(t,e,n,r){r=r||this,t&&(n&&(t=t[n]),Bt(t,function(t,o){if(!1===e.call(r,t,o,n))return!1;cn(t,e,n,r)}))},ln=function(t,e){var n,r;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)r=t[n],e[r]||(e[r]={}),e=e[r];return e},fn=function(t,e){var n,r;for(e=e||window,t=t.split("."),n=0,r=t.length;n<r;n++)if(e=e[t[n]],!e)break;return e},dn=function(t,e){return!t||rn(t,"array")?t:Lt(t.split(e||","),nn)},hn=function(t){var e=tn.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t},pn={trim:nn,isArray:Nt,is:rn,toArray:Pt,makeMap:on,each:Bt,map:Lt,grep:Ft,inArray:zt,hasOwn:an,extend:sn,create:un,walk:cn,createNS:ln,resolve:fn,explode:dn,_addCacheSuffix:hn},mn=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return yn(r.childNodes[0])},gn=function(t,e){var n=e||document,r=n.createElement(t);return yn(r)},vn=function(t,e){var n=e||document,r=n.createTextNode(t);return yn(r)},yn=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},bn=function(t,e,n){return W.from(t.dom.elementFromPoint(e,n)).map(yn)},xn={fromHtml:mn,fromTag:gn,fromText:vn,fromDom:yn,fromPoint:bn},_n=function(t,e){var n=[],r=function(t){return n.push(t),e(t)},o=e(t);do{o=o.bind(r)}while(o.isSome());return n},wn=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},On=function(t,e){return wn(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},Sn=8,Cn=9,kn=11,Tn=1,Mn=3,Dn=function(t,e){var n=t.dom;if(n.nodeType!==Tn)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},An=function(t){return t.nodeType!==Tn&&t.nodeType!==Cn&&t.nodeType!==kn||0===t.childElementCount},In=function(t,e){var n=void 0===e?document:e.dom;return An(n)?[]:J(n.querySelectorAll(t),xn.fromDom)},jn=function(t,e){var n=void 0===e?document:e.dom;return An(n)?W.none():W.from(n.querySelector(t)).map(xn.fromDom)},En=function(t,e){return t.dom===e.dom},Rn=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},Nn=function(t,e){return On(t.dom,e.dom)},Pn=function(t,e){return Ge().browser.isIE()?Nn(t,e):Rn(t,e)};"undefined"!==typeof window?window:Function("return this;")();var Bn=function(t){var e=t.dom.nodeName;return e.toLowerCase()},Ln=function(t){return t.dom.nodeType},Fn=function(t){return function(e){return Ln(e)===t}},zn=function(t){return Ln(t)===Sn||"#comment"===Bn(t)},Vn=Fn(Tn),Hn=Fn(Mn),Un=Fn(Cn),Wn=Fn(kn),Gn=function(t){return function(e){return Vn(e)&&Bn(e)===t}},qn=function(t){return xn.fromDom(t.dom.ownerDocument)},Yn=function(t){return Un(t)?t:qn(t)},Xn=function(t){return xn.fromDom(Yn(t).dom.documentElement)},$n=function(t){return xn.fromDom(Yn(t).dom.defaultView)},Kn=function(t){return W.from(t.dom.parentNode).map(xn.fromDom)},Zn=function(t,e){var n=C(e)?e:L,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=xn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Jn=function(t){var e=function(e){return nt(e,function(e){return!En(t,e)})};return Kn(t).map(rr).map(e).getOr([])},Qn=function(t){return W.from(t.dom.previousSibling).map(xn.fromDom)},tr=function(t){return W.from(t.dom.nextSibling).map(xn.fromDom)},er=function(t){return ft(_n(t,Qn))},nr=function(t){return _n(t,tr)},rr=function(t){return J(t.dom.childNodes,xn.fromDom)},or=function(t,e){var n=t.dom.childNodes;return W.from(n[e]).map(xn.fromDom)},ir=function(t){return or(t,0)},ar=function(t){return or(t,t.dom.childNodes.length-1)},ur=function(t){return t.dom.childNodes.length},sr=function(t){var e=t.dom.head;if(null===e||void 0===e)throw new Error("Head is not available yet");return xn.fromDom(e)},cr=function(t){return Wn(t)&&S(t.dom.host)},lr=C(Element.prototype.attachShadow)&&C(Node.prototype.getRootNode),fr=A(lr),dr=lr?function(t){return xn.fromDom(t.dom.getRootNode())}:Yn,hr=function(t){return cr(t)?t:sr(Yn(t))},pr=function(t){var e=dr(t);return cr(e)?W.some(e):W.none()},mr=function(t){return xn.fromDom(t.dom.host)},gr=function(t){if(fr()&&S(t.target)){var e=xn.fromDom(t.target);if(Vn(e)&&vr(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return gt(n)}}return W.from(t.target)},vr=function(t){return S(t.dom.shadowRoot)},yr=function(t,e){var n=Kn(t);n.each(function(n){n.dom.insertBefore(e.dom,t.dom)})},br=function(t,e){var n=tr(t);n.fold(function(){var n=Kn(t);n.each(function(t){_r(t,e)})},function(t){yr(t,e)})},xr=function(t,e){var n=ir(t);n.fold(function(){_r(t,e)},function(n){t.dom.insertBefore(e.dom,n.dom)})},_r=function(t,e){t.dom.appendChild(e.dom)},wr=function(t,e){yr(t,e),_r(e,t)},Or=function(t,e){Q(e,function(e){yr(t,e)})},Sr=function(t,e){Q(e,function(e){_r(t,e)})},Cr=function(t){t.dom.textContent="",Q(rr(t),function(t){kr(t)})},kr=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Tr=function(t){var e=rr(t);e.length>0&&Or(t,e),kr(t)},Mr=function(t){var e=Hn(t)?t.dom.parentNode:t.dom;if(void 0===e||null===e||null===e.ownerDocument)return!1;var n=e.ownerDocument;return pr(xn.fromDom(e)).fold(function(){return n.body.contains(e)},D(Mr,mr))},Dr=function(t,e){var n=function(n,r){return Dr(t+n,e+r)};return{left:t,top:e,translate:n}},Ar=Dr,Ir=function(t){var e=t.getBoundingClientRect();return Ar(e.left,e.top)},jr=function(t,e){return void 0!==t?t:void 0!==e?e:0},Er=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return Ar(n.offsetLeft,n.offsetTop);var i=jr(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=jr(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),u=jr(o.clientTop,n.clientTop),s=jr(o.clientLeft,n.clientLeft);return Rr(t).translate(a-s,i-u)},Rr=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?Ar(r.offsetLeft,r.offsetTop):Mr(t)?Ir(e):Ar(0,0)},Nr=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return Ar(n,r)},Pr=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollTo(t,e)},Br=function(t,e){var n=Ge().browser.isSafari();n&&C(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)},Lr=function(t){var e=void 0===t?window:t;return Ge().browser.isFirefox()?W.none():W.from(e["visualViewport"])},Fr=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},zr=function(t){var e=void 0===t?window:t,n=e.document,r=Nr(xn.fromDom(n));return Lr(e).fold(function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return Fr(r.left,r.top,n,o)},function(t){return Fr(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)})},Vr=function(t){return function(e){return!!e&&e.nodeType===t}},Hr=function(t){return!!t&&!Object.getPrototypeOf(t)},Ur=Vr(1),Wr=function(t){var e=t.map(function(t){return t.toLowerCase()});return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return K(e,n)}return!1}},Gr=function(t,e){var n=e.toLowerCase().split(" ");return function(e){if(Ur(e))for(var r=0;r<n.length;r++){var o=e.ownerDocument.defaultView.getComputedStyle(e,null),i=o?o.getPropertyValue(t):null;if(i===n[r])return!0}return!1}},qr=function(t){return function(e){return Ur(e)&&e.hasAttribute(t)}},Yr=function(t,e){return function(n){return Ur(n)&&n.getAttribute(t)===e}},Xr=function(t){return Ur(t)&&t.hasAttribute("data-mce-bogus")},$r=function(t){return Ur(t)&&"all"===t.getAttribute("data-mce-bogus")},Kr=function(t){return Ur(t)&&"TABLE"===t.tagName},Zr=function(t){return function(e){if(Ur(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Jr=Wr(["textarea","input"]),Qr=Vr(3),to=Vr(8),eo=Vr(9),no=Vr(11),ro=Wr(["br"]),oo=Wr(["img"]),io=Zr("true"),ao=Zr("false"),uo=Wr(["td","th"]),so=Wr(["video","audio","object","embed"]),co=function(t,e,n){return void 0===n&&(n=j),t.exists(function(t){return n(t,e)})},lo=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},fo=function(t,e,n){return t.isSome()&&e.isSome()?W.some(n(t.getOrDie(),e.getOrDie())):W.none()},ho=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?W.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):W.none()},po=function(t,e){return t?W.some(e):W.none()},mo=function(t){return void 0!==t.style&&C(t.style.getPropertyValue)},go=function(t,e,n){if(!(v(n)||_(n)||k(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},vo=function(t,e,n){go(t.dom,e,n)},yo=function(t,e){var n=t.dom;wt(e,function(t,e){go(n,e,t)})},bo=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},xo=function(t,e){return W.from(bo(t,e))},_o=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},wo=function(t,e){t.dom.removeAttribute(e)},Oo=function(t){return ot(t.dom.attributes,function(t,e){return t[e.name]=e.value,t},{})},So=function(t,e,n){if(!v(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);mo(t)&&t.style.setProperty(e,n)},Co=function(t,e){var n=t.dom;wt(e,function(t,e){So(n,e,t)})},ko=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||Mr(t)?o:To(n,e)},To=function(t,e){return mo(t)?t.style.getPropertyValue(e):""},Mo=function(t,e){var n=t.dom,r=To(n,e);return W.from(r).filter(function(t){return t.length>0})},Do=function(t){var e={},n=t.dom;if(mo(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},Ao=function(t){return t.dom.offsetWidth},Io=Ge().browser,jo=function(t){return at(t,Vn)},Eo=function(t){return Io.isFirefox()&&"table"===Bn(t)?jo(rr(t)).filter(function(t){return"caption"===Bn(t)}).bind(function(t){return jo(nr(t)).map(function(e){var n=e.dom.offsetTop,r=t.dom.offsetTop,o=t.dom.offsetHeight;return n<=r?-o:0})}).getOr(0):0},Ro=function(t,e){return t.children&&K(t.children,e)},No=function(t,e,n){var r=0,o=0,i=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===ko(xn.fromDom(t),"position")){var a=e.getBoundingClientRect();return r=a.left+(i.documentElement.scrollLeft||t.scrollLeft)-i.documentElement.clientLeft,o=a.top+(i.documentElement.scrollTop||t.scrollTop)-i.documentElement.clientTop,{x:r,y:o}}var u=e;while(u&&u!==n&&u.nodeType&&!Ro(u,n)){var s=u;r+=s.offsetLeft||0,o+=s.offsetTop||0,u=s.offsetParent}u=e.parentNode;while(u&&u!==n&&u.nodeType&&!Ro(u,n))r-=u.scrollLeft||0,o-=u.scrollTop||0,u=u.parentNode;o+=Eo(xn.fromDom(e))}return{x:r,y:o}},Po={},Bo={exports:Po};(function(t,n,r,o){(function(e,o){"object"===typeof n&&"undefined"!==typeof r?r.exports=o():"function"===typeof t&&t.amd?t(o):(e="undefined"!==typeof globalThis?globalThis:e||self,e.EphoxContactWrapper=o())})(this,function(){var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},n={exports:{}};(function(e){(function(t){var n=setTimeout;function r(){}function o(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void s(e.promise,o)}u(e.promise,r)}else(1===t._state?u:s)(e.promise,t._value)})):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"===typeof n)return void f(o(n,e),t)}t._state=1,t._value=e,c(t)}catch(r){s(t,r)}}function s(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,s(e,t))})}catch(r){if(n)return;n=!0,s(e,r)}}i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,function(t){o(i,t)},n)}e[i]=a,0===--r&&t(e)}catch(s){n(s)}}for(var i=0;i<e.length;i++)o(i,e[i])})},i.resolve=function(t){return t&&"object"===typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},i._immediateFn="function"===typeof setImmediate?function(t){setImmediate(t)}:function(t){n(t,0)},i._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},e.exports?e.exports=i:t.Promise||(t.Promise=i)})(t)})(n);var r=n.exports,o=function(){return"undefined"!==typeof window?window:Function("return this;")()}(),i={boltExport:o.Promise||r};return i})})(void 0,Po,Bo);var Lo=Bo.exports.boltExport,Fo=function(t){var e=W.none(),n=[],r=function(t){return Fo(function(e){o(function(n){e(t(n))})})},o=function(t){a()?s(t):n.push(t)},i=function(t){a()||(e=W.some(t),u(n),n=[])},a=function(){return e.isSome()},u=function(t){Q(t,s)},s=function(t){e.each(function(e){setTimeout(function(){t(e)},0)})};return t(i),{get:o,map:r,isReady:a}},zo=function(t){return Fo(function(e){e(t)})},Vo={nu:Fo,pure:zo},Ho=function(t){setTimeout(function(){throw t},0)},Uo=function(t){var e=function(e){t().then(e,Ho)},n=function(e){return Uo(function(){return t().then(e)})},r=function(e){return Uo(function(){return t().then(function(t){return e(t).toPromise()})})},o=function(e){return Uo(function(){return t().then(function(){return e.toPromise()})})},i=function(){return Vo.nu(e)},a=function(){var e=null;return Uo(function(){return null===e&&(e=t()),e})},u=t;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,toPromise:u,get:e}},Wo=function(t){return Uo(function(){return new Lo(t)})},Go=function(t){return Uo(function(){return Lo.resolve(t)})},qo={nu:Wo,pure:Go},Yo=function(t,e){return e(function(e){var n=[],r=0,o=function(o){return function(i){n[o]=i,r++,r>=t.length&&e(n)}};0===t.length?e([]):Q(t,function(t,e){t.get(o(e))})})},Xo=function(t){return Yo(t,qo.nu)},$o=function(t){var e=function(e){return $o(t)},n=function(e){return $o(t)},r=function(e){return $o(e(t))},o=function(e){return $o(t)},i=function(e){e(t)},a=function(e){return e(t)},u=function(e,n){return n(t)},s=function(e){return e(t)},c=function(e){return e(t)},l=function(){return W.some(t)};return{isValue:F,isError:L,getOr:A(t),getOrThunk:A(t),getOrDie:A(t),or:e,orThunk:n,fold:u,map:r,mapError:o,each:i,bind:a,exists:s,forall:c,toOptional:l}},Ko=function(t){var e=function(t){return t()},n=function(){return N(String(t))()},r=I,o=function(t){return t()},i=function(e){return Ko(t)},a=function(e){return Ko(e(t))},u=function(e){return Ko(t)},s=function(e,n){return e(t)};return{isValue:L,isError:F,getOr:I,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:s,map:i,mapError:a,each:T,bind:u,exists:L,forall:F,toOptional:W.none}},Zo=function(t,e){return t.fold(function(){return Ko(e)},$o)},Jo={value:$o,error:Ko,fromOption:Zo},Qo=function(t){if(!b(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return Q(t,function(r,o){var i=xt(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!b(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+i);var s=function(t){var r=xt(t);if(e.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+r.join(","));var o=lt(e,function(t){return K(r,t)});if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,n)};return{fold:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+e.length);var i=e[o];return i.apply(null,n)},match:s,log:function(t){console.log(t,{constructors:e,constructor:a,params:n})}}}}),n},ti={generate:Qo};ti.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var ei=function(t){return t.fold(I,I)};function ni(t,e,n,r,o){return t(n,r)?W.some(n):C(o)&&o(n)?W.none():e(n,r,o)}var ri,oi,ii,ai,ui,si,ci,li,fi,di,hi,pi,mi,gi,vi,yi,bi,xi,_i,wi=function(t,e,n){var r=t.dom,o=C(n)?n:L;while(r.parentNode){r=r.parentNode;var i=xn.fromDom(r);if(e(i))return W.some(i);if(o(i))break}return W.none()},Oi=function(t,e,n){var r=function(t,e){return e(t)};return ni(r,wi,t,e,n)},Si=function(t,e){var n=t.dom;return n.parentNode?Ci(xn.fromDom(n.parentNode),function(n){return!En(t,n)&&e(n)}):W.none()},Ci=function(t,e){var n=function(t){return e(xn.fromDom(t))},r=at(t.dom.childNodes,n);return r.map(xn.fromDom)},ki=function(t,e,n){return wi(t,function(t){return Dn(t,e)},n)},Ti=function(t,e){return jn(e,t)},Mi=function(t,e,n){var r=function(t,e){return Dn(t,e)};return ni(r,ki,t,e,n)},Di=window.Promise?window.Promise:Lo,Ai=function(t,e){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=function(t){window.setTimeout(t,0)},i=0;i<r.length&&!n;i++)n=window[r[i]+"RequestAnimationFrame"];n||(n=o),n(t,e)},Ii=function(t,e){return"number"!==typeof e&&(e=0),setTimeout(t,e)},ji=function(t,e){return"number"!==typeof e&&(e=1),setInterval(t,e)},Ei=function(t){return clearTimeout(t)},Ri=function(t){return clearInterval(t)},Ni=function(t,e){var n,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=Ii(function(){t.apply(this,r)},e)};return r.stop=function(){clearTimeout(n)},r},Pi={requestAnimationFrame:function(t,e){ri?ri.then(t):ri=new Di(function(t){e||(e=document.body),Ai(t,e)}).then(t)},setTimeout:Ii,setInterval:ji,setEditorTimeout:function(t,e,n){return Ii(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var r=ji(function(){t.removed?clearInterval(r):e()},n);return r},debounce:Ni,throttle:Ni,clearInterval:Ri,clearTimeout:Ei},Bi=function(t,e){void 0===e&&(e={});var n=0,r={},o=xn.fromDom(t),i=Yn(o),a=e.maxLoadTime||5e3,u=function(t){e.referrerPolicy=t},s=function(t){_r(hr(o),t)},c=function(t){var e=hr(o);Ti(e,"#"+t).each(kr)},l=function(t){return It(r,t).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}})},f=function(n,o,u){var c,f=pn._addCacheSuffix(n),d=l(f);r[f]=d,d.count++;var h=function(t,e){var n=t.length;while(n--)t[n]();d.status=e,d.passed=[],d.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},p=function(){return h(d.passed,2)},m=function(){return h(d.failed,3)},g=function(t,e){t()||(Date.now()-b<a?Pi.setTimeout(e):m())},v=function(){g(function(){var e=t.styleSheets,n=e.length;while(n--){var r=e[n],o=r.ownerNode;if(o&&o.id===c.id)return p(),!0}return!1},v)};if(o&&d.passed.push(o),u&&d.failed.push(u),1!==d.status)if(2!==d.status)if(3!==d.status){d.status=1;var y=xn.fromTag("link",i.dom);yo(y,{rel:"stylesheet",type:"text/css",id:d.id});var b=Date.now();e.contentCssCors&&vo(y,"crossOrigin","anonymous"),e.referrerPolicy&&vo(y,"referrerpolicy",e.referrerPolicy),c=y.dom,c.onload=v,c.onerror=m,s(y),vo(y,"href",f)}else m();else p()},d=function(t){return qo.nu(function(e){f(t,M(e,A(Jo.value(t))),M(e,A(Jo.error(t))))})},h=function(t,e,n){Xo(J(t,d)).get(function(t){var r=et(t,function(t){return t.isValue()});r.fail.length>0?n(r.fail.map(ei)):e(r.pass.map(ei))})},p=function(t){var e=pn._addCacheSuffix(t);It(r,e).each(function(t){var n=--t.count;0===n&&(delete r[e],c(t.id))})},m=function(t){Q(t,function(t){p(t)})};return{load:f,loadAll:h,unload:p,unloadAll:m,_setReferrerPolicy:u}},Li=function(){var t=new WeakMap,e=function(e,n){var r=dr(e),o=r.dom;return W.from(t.get(o)).getOrThunk(function(){var e=Bi(o,n);return t.set(o,e),e})};return{forElement:e}},Fi=Li(),zi=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,r){var o,i;if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){if(o=t[n],o)return o;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n],o)return o}}},t.prototype.findPreviousNode=function(t,e,n,r){var o,i,a;if(t){if(o=t[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[e];a;a=a[e])if(!a[e])return a;return o}if(i=t.parentNode,i&&i!==this.rootNode)return i}},t}(),Vi=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Hi=["td","th"],Ui=["thead","tbody","tfoot"],Wi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Gi=["h1","h2","h3","h4","h5","h6"],qi=["li","dd","dt"],Yi=["ul","ol","dl"],Xi=["pre","script","textarea","style"],$i=function(t){var e;return function(n){return e=e||ht(t,F),jt(e,Bn(n))}},Ki=$i(Gi),Zi=$i(Vi),Ji=function(t){return"table"===Bn(t)},Qi=function(t){return Vn(t)&&!Zi(t)},ta=function(t){return Vn(t)&&"br"===Bn(t)},ea=$i(Wi),na=$i(Yi),ra=$i(qi),oa=$i(Ui),ia=$i(Hi),aa=$i(Xi),ua=function(t,e,n){return ki(t,e,n).isSome()},sa="\ufeff",ca="",la=function(t){return t===sa},fa=function(t){return t.replace(/\uFEFF/g,"")},da=sa,ha=la,pa=fa,ma=Ur,ga=Qr,va=function(t){return ga(t)&&(t=t.parentNode),ma(t)&&t.hasAttribute("data-mce-caret")},ya=function(t){return ga(t)&&ha(t.data)},ba=function(t){return va(t)||ya(t)},xa=function(t){return t.firstChild!==t.lastChild||!ro(t.firstChild)},_a=function(t,e){var n=t.ownerDocument,r=n.createTextNode(da),o=t.parentNode;if(e){i=t.previousSibling;if(ga(i)){if(ba(i))return i;if(Ta(i))return i.splitText(i.data.length-1)}o.insertBefore(r,t)}else{var i=t.nextSibling;if(ga(i)){if(ba(i))return i;if(ka(i))return i.splitText(1),i}t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r)}return r},wa=function(t){var e=t.container();return!!Qr(e)&&(e.data.charAt(t.offset())===da||t.isAtStart()&&ya(e.previousSibling))},Oa=function(t){var e=t.container();return!!Qr(e)&&(e.data.charAt(t.offset()-1)===da||t.isAtEnd()&&ya(e.nextSibling))},Sa=function(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},Ca=function(t,e,n){var r=e.ownerDocument,o=r.createElement(t);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Sa());var i=e.parentNode;return n?i.insertBefore(o,e):e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o),o},ka=function(t){return ga(t)&&t.data[0]===da},Ta=function(t){return ga(t)&&t.data[t.data.length-1]===da},Ma=function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];Xr(n)&&n.parentNode.removeChild(n)},Da=function(t){return t&&t.hasAttribute("data-mce-caret")?(Ma(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},Aa=function(t){return va(t.startContainer)},Ia=io,ja=ao,Ea=ro,Ra=Qr,Na=Wr(["script","style","textarea"]),Pa=Wr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ba=Wr(["table"]),La=ba,Fa=function(t){return!La(t)&&(Ra(t)?!Na(t.parentNode):Pa(t)||Ea(t)||Ba(t)||Va(t))},za=function(t){return Ur(t)&&"true"===t.getAttribute("unselectable")},Va=function(t){return!1===za(t)&&ja(t)},Ha=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(Va(t))return!1;if(Ia(t))return!0}return!0},Ua=function(t){return!!Va(t)&&!0!==ot(yt(t.getElementsByTagName("*")),function(t,e){return t||Ia(e)},!1)},Wa=function(t){return Pa(t)||Ua(t)},Ga=function(t,e){return Fa(t)&&Ha(t,e)},qa=/^[ \t\r\n]*$/,Ya=function(t){return qa.test(t)},Xa=function(t,e){var n=xn.fromDom(e),r=xn.fromDom(t);return ua(r,"pre,code",E(En,n))},$a=function(t,e){return Qr(t)&&Ya(t.data)&&!1===Xa(t,e)},Ka=function(t){return Ur(t)&&"A"===t.nodeName&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id"))},Za=function(t,e){return Fa(t)&&!1===$a(t,e)||Ka(t)||Ja(t)},Ja=qr("data-mce-bookmark"),Qa=qr("data-mce-bogus"),tu=Yr("data-mce-bogus","all"),eu=function(t,e){var n=0;if(Za(t,t))return!1;var r=t.firstChild;if(!r)return!0;var o=new zi(r,t);do{if(e){if(tu(r)){r=o.next(!0);continue}if(Qa(r)){r=o.next();continue}}if(ro(r))n++,r=o.next();else{if(Za(r,t))return!1;r=o.next()}}while(r);return n<=1},nu=function(t,e){return void 0===e&&(e=!0),eu(t.dom,e)},ru=function(t){return"span"===t.nodeName.toLowerCase()},ou=function(t,e){return S(t)&&(Za(t,e)||Qi(xn.fromDom(t)))},iu=function(t,e){var n=new zi(t,e).prev(!1),r=new zi(t,e).next(!1),o=w(n)||ou(n,e),i=w(r)||ou(r,e);return o&&i},au=function(t){return ru(t)&&"bookmark"===t.getAttribute("data-mce-type")},uu=function(t,e){return Qr(t)&&t.data.length>0&&iu(t,e)},su=function(t){return!!Ur(t)&&t.childNodes.length>0},cu=function(t){return no(t)||eo(t)},lu=function(t,e,n){var r=n||e;if(Ur(e)&&au(e))return e;for(var o=e.childNodes,i=o.length-1;i>=0;i--)lu(t,o[i],r);if(Ur(e)){var a=e.childNodes;1===a.length&&au(a[0])&&e.parentNode.insertBefore(a[0],e)}return cu(e)||Za(e,r)||su(e)||uu(e,r)||t.remove(e),e},fu=pn.makeMap,du=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hu=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pu=/[<>&\"\']/g,mu=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,gu={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},vu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},yu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},bu=function(t){var e=xn.fromTag("div").dom;return e.innerHTML=t,e.textContent||e.innerText||t},xu=function(t,e){var n,r,o,i={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),vu[r]||(o="&"+t[n+1]+";",i[r]=o,i[o]=r);return i}},_u=xu("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),wu=function(t,e){return t.replace(e?du:hu,function(t){return vu[t]||t})},Ou=function(t){return(""+t).replace(pu,function(t){return vu[t]||t})},Su=function(t,e){return t.replace(e?du:hu,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":vu[t]||"&#"+t.charCodeAt(0)+";"})},Cu=function(t,e,n){return n=n||_u,t.replace(e?du:hu,function(t){return vu[t]||n[t]||t})},ku=function(t,e){var n=xu(e)||_u,r=function(t,e){return t.replace(e?du:hu,function(t){return void 0!==vu[t]?vu[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})},o=function(t,e){return Cu(t,e,n)},i=fu(t.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?e?o:Cu:i.numeric?Su:wu},Tu=function(t){return t.replace(mu,function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10),e>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):gu[e]||String.fromCharCode(e)):yu[t]||_u[t]||bu(t)})},Mu={encodeRaw:wu,encodeAllRaw:Ou,encodeNumeric:Su,encodeNamed:Cu,getEncodeFunc:ku,decode:Tu},Du={},Au={},Iu=pn.makeMap,ju=pn.each,Eu=pn.extend,Ru=pn.explode,Nu=pn.inArray,Pu=function(t,e){return t=pn.trim(t),t?t.split(e||" "):[]},Bu=function(t){var e,n,r,o,i,a,u={},s=function(t,n,r){var o,i,a,s=function(t,e){var n,r,o={};for(n=0,r=t.length;n<r;n++)o[t[n]]=e||{};return o};r=r||[],n=n||"","string"===typeof r&&(r=Pu(r));var c=Pu(t);o=c.length;while(o--)i=Pu([e,n].join(" ")),a={attributes:s(i),attributesOrder:i,children:s(r,Au)},u[c[o]]=a},c=function(t,e){var n,r,o,i,a=Pu(t);n=a.length;var s=Pu(e);while(n--)for(r=u[a[n]],o=0,i=s.length;o<i;o++)r.attributes[s[o]]={},r.attributesOrder.push(s[o])};return Du[t]?Du[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),ju(Pu(a),function(t){s(t,"",r)}),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),ju(Pu(i),function(t){s(t,"",o)})),o=o||[n,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),s("address dt dd div caption","",o),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",o),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",o),s("dl","","dt dd"),s("a","href target rel media hreflang type",r),s("q","cite",r),s("ins del","cite datetime",o),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",o),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),s("param","name value"),s("map","name",[o,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",o),s("th","colspan rowspan headers scope abbr",o),s("form","accept-charset action autocomplete enctype method name novalidate target",o),s("fieldset","disabled form name",[o,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?o:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[o,"li"].join(" ")),s("noscript","",o),"html4"!==t&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",o),s("mark rt rp summary bdi","",r),s("canvas","width height",o),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",o),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[o,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",o),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[o,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==t&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),ju(Pu("a form meter progress dfn"),function(t){u[t]&&delete u[t].children[t]}),delete u.caption.children.table,delete u.script,Du[t]=u,u)},Lu=function(t,e){var n;return t&&(n={},"string"===typeof t&&(t={"*":t}),ju(t,function(t,r){n[r]=n[r.toUpperCase()]="map"===e?Iu(t,/[, ]/):Ru(t,/[, ]/)})),n},Fu=function(t){var e={},n={},r=[],o={},i={},a=function(e,n,r){var o=t[e];return o?o=Iu(o,/[, ]/,Iu(o.toUpperCase(),/[, ]/)):(o=Du[e],o||(o=Iu(n," ",Iu(n.toUpperCase()," ")),o=Eu(o,r),Du[e]=o)),o};t=t||{};var u=Bu(t.schema);!1===t.verify_html&&(t.valid_elements="*[*]");var s=Lu(t.valid_styles),c=Lu(t.invalid_styles,"map"),l=Lu(t.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m="td th iframe video audio object script code",g=a("non_empty_elements",m+" pre",h),v=a("move_caret_before_on_enter_elements",m+" table",h),y=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",y),x=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");ju((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(t){i[t]=new RegExp("</"+t+"[^>]*>","gi")});var _=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},w=function(t){var n,o,i,a,u,s,c,l,f,d,h,p,m,g,v,y,b,x,w=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,O=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(t){var C=Pu(t,",");for(e["@"]&&(y=e["@"].attributes,b=e["@"].attributesOrder),n=0,o=C.length;n<o;n++)if(u=w.exec(C[n]),u){if(g=u[1],f=u[2],v=u[3],l=u[5],p={},m=[],s={attributes:p,attributesOrder:m},"#"===g&&(s.paddEmpty=!0),"-"===g&&(s.removeEmpty=!0),"!"===u[4]&&(s.removeEmptyAttrs=!0),y&&(wt(y,function(t,e){p[e]=t}),m.push.apply(m,b)),l)for(l=Pu(l,"|"),i=0,a=l.length;i<a;i++)if(u=O.exec(l[i]),u){if(c={},h=u[1],d=u[2].replace(/[\\:]:/g,":"),g=u[3],x=u[4],"!"===h&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(d),c.required=!0),"-"===h){delete p[d],m.splice(Nu(m,d),1);continue}g&&("="===g&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:d,value:x}),c.defaultValue=x),":"===g&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:d,value:x}),c.forcedValue=x),"<"===g&&(c.validValues=Iu(x,"?"))),S.test(d)?(s.attributePatterns=s.attributePatterns||[],c.pattern=_(d),s.attributePatterns.push(c)):(p[d]||m.push(d),p[d]=c)}y||"@"!==f||(y=p,b=m),v&&(s.outputName=f,e[v]=s),S.test(f)?(s.pattern=_(f),r.push(s)):e[f]=s}}},O=function(t){e={},r=[],w(t),ju(u,function(t,e){n[e]=t.children})},S=function(t){var r=/^(~)?(.+)$/;t&&(Du.text_block_elements=Du.block_elements=null,ju(Pu(t,","),function(t){var i=r.exec(t),a="~"===i[1],u=a?"span":"div",s=i[2];if(n[s]=n[u],o[s]=u,a||(b[s.toUpperCase()]={},b[s]={}),!e[s]){var c=e[u];c=Eu({},c),delete c.removeEmptyAttrs,delete c.removeEmpty,e[s]=c}ju(n,function(t,e){t[u]&&(n[e]=t=Eu({},n[e]),t[s]=t[u])})}))},C=function(e){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Du[t.schema]=null,e&&ju(Pu(e,","),function(t){var e,o,i=r.exec(t);i&&(o=i[1],e=o?n[i[2]]:n[i[2]]={"#comment":{}},e=n[i[2]],ju(Pu(i[3],"|"),function(t){"-"===o?delete e[t]:e[t]={}}))})},k=function(t){var n,o=e[t];if(o)return o;n=r.length;while(n--)if(o=r[n],o.pattern.test(t))return o};t.valid_elements?O(t.valid_elements):(ju(u,function(t,r){e[r]={attributes:t.attributes,attributesOrder:t.attributesOrder},n[r]=t.children}),"html5"!==t.schema&&ju(Pu("strong/b em/i"),function(t){var n=Pu(t,"/");e[n[1]].outputName=n[0]}),ju(Pu("ol ul sub sup blockquote span font a table tbody strong em b i"),function(t){e[t]&&(e[t].removeEmpty=!0)}),ju(Pu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){e[t].paddEmpty=!0}),ju(Pu("span"),function(t){e[t].removeEmptyAttrs=!0})),S(t.custom_elements),C(t.valid_children),w(t.extended_valid_elements),C("+ol[ul|ol],+ul[ul|ol]"),ju({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,n){e[n]&&(e[n].parentsRequired=Pu(t))}),t.invalid_elements&&ju(Ru(t.invalid_elements),function(t){e[t]&&delete e[t]}),k("span")||w("span[!data-mce-type|*]");var T=A(s),M=A(c),D=A(l),I=A(p),j=A(b),E=A(y),R=A(x),N=A(h),P=A(d),B=A(g),L=A(v),F=A(f),z=A(i),V=function(t,e){var r=n[t.toLowerCase()];return!(!r||!r[e.toLowerCase()])},H=function(t,e){var n,r,o=k(t);if(o){if(!e)return!0;if(o.attributes[e])return!0;if(n=o.attributePatterns,n){r=n.length;while(r--)if(n[r].pattern.test(t))return!0}}return!1},U=A(o);return{children:n,elements:e,getValidStyles:T,getValidClasses:D,getBlockElements:j,getInvalidStyles:M,getShortEndedElements:N,getTextBlockElements:E,getTextInlineElements:R,getBoolAttrs:I,getElementRule:k,getSelfClosingElements:P,getNonEmptyElements:B,getMoveCaretBeforeOnEnterElements:L,getWhiteSpaceElements:F,getSpecialElements:z,isValidChild:V,isValid:H,getCustomElements:U,addValidElements:w,setValidElements:O,addCustomElements:S,addValidChildren:C}},zu=function(t,e,n,r){var o=function(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t};return"#"+o(e)+o(n)+o(r)},Vu=function(t,e){var n,r,o,i=this,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={},f=sa;t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles());var d=("\\\" \\' \\; \\: ; : "+f).split(" ");for(n=0;n<d.length;n++)l[d[n]]=f+n,l[f+n]=d[n];return{toHex:function(t){return t.replace(a,zu)},parse:function(e){var r,o,d,h,p={},m=t.url_converter,g=t.url_converter_scope||i,v=function(t,e,r){var o=p[t+"-top"+e];if(o){var i=p[t+"-right"+e];if(i){var a=p[t+"-bottom"+e];if(a){var u=p[t+"-left"+e];if(u){var s=[o,i,a,u];n=s.length-1;while(n--)if(s[n]!==s[n+1])break;n>-1&&r||(p[t+e]=-1===n?s[0]:s.join(" "),delete p[t+"-top"+e],delete p[t+"-right"+e],delete p[t+"-bottom"+e],delete p[t+"-left"+e])}}}}},y=function(t){var e,n=p[t];if(n){n=n.split(" "),e=n.length;while(e--)if(n[e]!==n[0])return!1;return p[t]=n[0],!0}},b=function(t,e,n,r){y(e)&&y(n)&&y(r)&&(p[t]=p[e]+" "+p[n]+" "+p[r],delete p[e],delete p[n],delete p[r])},x=function(t){return h=!0,l[t]},_=function(t,e){return h&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return l[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},w=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},O=function(t){return t.replace(/\\[0-9a-f]+/gi,w)},S=function(e,n,r,o,i,a){if(i=i||a,i)return i=_(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=_(n||r||o),!t.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return m&&(n=m.call(g,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){e=e.replace(/[\u0000-\u001F]/g,""),e=e.replace(/\\[\"\';:\uFEFF]/g,x).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,x)});while(r=s.exec(e))if(s.lastIndex=r.index+r[0].length,o=r[1].replace(c,"").toLowerCase(),d=r[2].replace(c,""),o&&d){if(o=O(o),d=O(d),-1!==o.indexOf(f)||-1!==o.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===o&&"700"===d?d="bold":"color"!==o&&"background-color"!==o||(d=d.toLowerCase()),d=d.replace(a,zu),d=d.replace(u,S),p[o]=h?_(d,!0):d}v("border","",!0),v("border","-width"),v("border","-color"),v("border","-style"),v("padding",""),v("margin",""),b("border","border-width","border-style","border-color"),"medium none"===p.border&&delete p.border,"none"===p["border-image"]&&delete p["border-image"]}return p},serialize:function(t,e){var n="",i=function(e){var o,i=r[e];if(i)for(var a=0,u=i.length;a<u;a++)e=i[a],o=t[e],o&&(n+=(n.length>0?" ":"")+e+": "+o+";")},a=function(t,e){var n=o["*"];return(!n||!n[t])&&(n=o[e],!(n&&n[t]))};return e&&r?(i("*"),i(e)):wt(t,function(t,r){!t||o&&!a(r,e)||(n+=(n.length>0?" ":"")+r+": "+t+";")}),n}}},Hu={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Uu=function(t){return t instanceof Event||C(t.initEvent)},Wu=function(t){return t.isDefaultPrevented===F||t.isDefaultPrevented===L},Gu=function(t){return O(t.preventDefault)||Uu(t)},qu=function(t,e){var n=null!==e&&void 0!==e?e:{};for(var r in t)jt(Hu,r)||(n[r]=t[r]);return S(n.composedPath)&&(n.composedPath=function(){return t.composedPath()}),n},Yu=function(t,e,n,r){var o,i=qu(e,r);return i.type=t,O(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:n),Gu(e)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=F,C(e.preventDefault)?e.preventDefault():Uu(e)&&(e.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=F,C(e.stopPropagation)?e.stopPropagation():Uu(e)&&(e.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=F,i.stopPropagation()},Wu(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?F:L,i.isPropagationStopped=!0===i.cancelBubble?F:L,i.isImmediatePropagationStopped=L)),i},Xu="mce-data-",$u=/^(?:mouse|contextmenu)|click/,Ku=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Zu=function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Ju=function(t){return S(t)&&$u.test(t.type)},Qu=function(t,e){var n=Yu(t.type,t,document,e);if(Ju(t)&&w(t.pageX)&&!w(t.clientX)){var r=n.target.ownerDocument||document,o=r.documentElement,i=r.body,a=n;a.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),a.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}return w(n.metaKey)&&(n.metaKey=!1),n},ts=function(t,e,n){var r=t.document,o={type:"ready"};if(n.domLoaded)e(o);else{var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){Zu(t,"DOMContentLoaded",a),Zu(t,"load",a),n.domLoaded||(n.domLoaded=!0,e(o)),t=null};i()?a():Ku(t,"DOMContentLoaded",a),n.domLoaded||Ku(t,"load",a)}},es=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Xu+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return t.prototype.bind=function(t,e,n,r){var o,i,a,u,s,c,l,f=this,d=window,h=function(t){f.executeHandlers(Qu(t||d.event),o)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[f.expando]?o=t[f.expando]:(o=f.count++,t[f.expando]=o,f.events[o]={}),r=r||t;var p=e.split(" ");a=p.length;while(a--)u=p[a],c=h,s=l=!1,"DOMContentLoaded"===u&&(u="ready"),f.domLoaded&&"ready"===u&&"complete"===t.readyState?n.call(r,Qu({type:u})):(f.hasMouseEnterLeave||(s=f.mouseEnterLeave[u],s&&(c=function(t){var e=t.currentTarget,n=t.relatedTarget;if(n&&e.contains)n=e.contains(n);else while(n&&n!==e)n=n.parentNode;n||(t=Qu(t||d.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,f.executeHandlers(t,o))})),f.hasFocusIn||"focusin"!==u&&"focusout"!==u||(l=!0,s="focusin"===u?"focus":"blur",c=function(t){t=Qu(t||d.event),t.type="focus"===t.type?"focusin":"focusout",f.executeHandlers(t,o)}),i=f.events[o][u],i?"ready"===u&&f.domLoaded?n(Qu({type:u})):i.push({func:n,scope:r}):(f.events[o][u]=i=[{func:n,scope:r}],i.fakeName=s,i.capture=l,i.nativeHandler=c,"ready"===u?ts(t,c,f):Ku(t,s||u,c,l)));return t=i=null,n}},t.prototype.unbind=function(t,e,n){var r,o,i,a,u;if(!t||3===t.nodeType||8===t.nodeType)return this;var s=t[this.expando];if(s){if(u=this.events[s],e){var c=e.split(" ");o=c.length;while(o--)if(a=c[o],r=u[a],r){if(n){i=r.length;while(i--)if(r[i].func===n){var l=r.nativeHandler,f=r.fakeName,d=r.capture;r=r.slice(0,i).concat(r.slice(i+1)),r.nativeHandler=l,r.fakeName=f,r.capture=d,u[a]=r}}n&&0!==r.length||(delete u[a],Zu(t,r.fakeName||a,r.nativeHandler,r.capture))}}else wt(u,function(e,n){Zu(t,e.fakeName||n,e.nativeHandler,e.capture)}),u={};for(a in u)if(jt(u,a))return this;delete this.events[s];try{delete t[this.expando]}catch(h){t[this.expando]=null}}return this},t.prototype.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;var o=Qu({type:e,target:t},n);do{r=t[this.expando],r&&this.executeHandlers(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this},t.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t),n=t.getElementsByTagName("*"),e=n.length;while(e--)t=n[e],t[this.expando]&&this.unbind(t)}return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(t,e){var n=this.events[e],r=n&&n[t.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}},t.Event=new t,t}(),ns="sizzle"+-new Date,rs=window.document,os=0,is=0,as=zs(),us=zs(),ss=zs(),cs=function(t,e){return t===e&&(hi=!0),0},ls="undefined",fs=1<<31,ds={}.hasOwnProperty,hs=[],ps=hs.pop,ms=hs.push,gs=hs.push,vs=hs.slice,ys=hs.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},bs="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",xs="[\\x20\\t\\r\\n\\f]",_s="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ws="\\["+xs+"*("+_s+")(?:"+xs+"*([*^$|!~]?=)"+xs+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+_s+"))|)"+xs+"*\\]",Os=":("+_s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ws+")*)|.*)\\)|)",Ss=new RegExp("^"+xs+"+|((?:^|[^\\\\])(?:\\\\.)*)"+xs+"+$","g"),Cs=new RegExp("^"+xs+"*,"+xs+"*"),ks=new RegExp("^"+xs+"*([>+~]|"+xs+")"+xs+"*"),Ts=new RegExp("="+xs+"*([^\\]'\"]*?)"+xs+"*\\]","g"),Ms=new RegExp(Os),Ds=new RegExp("^"+_s+"$"),As={ID:new RegExp("^#("+_s+")"),CLASS:new RegExp("^\\.("+_s+")"),TAG:new RegExp("^("+_s+"|[*])"),ATTR:new RegExp("^"+ws),PSEUDO:new RegExp("^"+Os),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+xs+"*(even|odd|(([+-]|)(\\d*)n|)"+xs+"*(?:([+-]|)"+xs+"*(\\d+)|))"+xs+"*\\)|)","i"),bool:new RegExp("^(?:"+bs+")$","i"),needsContext:new RegExp("^"+xs+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+xs+"*((?:-\\d)?\\d*)"+xs+"*\\)|)(?=[^-]|$)","i")},Is=/^(?:input|select|textarea|button)$/i,js=/^h\d$/i,Es=/^[^{]+\{\s*\[native \w/,Rs=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ns=/[+~]/,Ps=/'|\\/g,Bs=new RegExp("\\\\([\\da-f]{1,6}"+xs+"?|("+xs+")|.)","ig"),Ls=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{gs.apply(hs=vs.call(rs.childNodes),rs.childNodes),hs[rs.childNodes.length].nodeType}catch(pV){gs={apply:hs.length?function(t,e){ms.apply(t,vs.call(e))}:function(t,e){var n=t.length,r=0;while(t[n++]=e[r++]);t.length=n-1}}}var Fs=function(t,e,n,r){var o,i,a,u,s,c,l,f,d,h;if((e?e.ownerDocument||e:rs)!==mi&&pi(e),e=e||mi,n=n||[],!t||"string"!==typeof t)return n;if(1!==(u=e.nodeType)&&9!==u)return[];if(vi&&!r){if(o=Rs.exec(t))if(a=o[1]){if(9===u){if(i=e.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(e.ownerDocument&&(i=e.ownerDocument.getElementById(a))&&_i(e,i)&&i.id===a)return n.push(i),n}else{if(o[2])return gs.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&oi.getElementsByClassName)return gs.apply(n,e.getElementsByClassName(a)),n}if(oi.qsa&&(!yi||!yi.test(t))){if(f=l=ns,d=e,h=9===u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){c=si(t),(l=e.getAttribute("id"))?f=l.replace(Ps,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",s=c.length;while(s--)c[s]=f+Xs(c[s]);d=Ns.test(t)&&qs(e.parentNode)||e,h=c.join(",")}if(h)try{return gs.apply(n,d.querySelectorAll(h)),n}catch(p){}finally{l||e.removeAttribute("id")}}}return li(t.replace(Ss,"$1"),e,n,r)};function zs(){var t=[];function e(n,r){return t.push(n+" ")>ii.cacheLength&&delete e[t.shift()],e[n+" "]=r}return e}function Vs(t){return t[ns]=!0,t}function Hs(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||fs)-(~t.sourceIndex||fs);if(r)return r;if(n)while(n=n.nextSibling)if(n===e)return-1;return t?1:-1}function Us(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function Ws(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function Gs(t){return Vs(function(e){return e=+e,Vs(function(n,r){var o,i=t([],n.length,e),a=i.length;while(a--)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function qs(t){return t&&typeof t.getElementsByTagName!==ls&&t}function Ys(){}function Xs(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function $s(t,e,n){var r=e.dir,o=n&&"parentNode"===r,i=is++;return e.first?function(e,n,i){while(e=e[r])if(1===e.nodeType||o)return t(e,n,i)}:function(e,n,a){var u,s,c=[os,i];if(a){while(e=e[r])if((1===e.nodeType||o)&&t(e,n,a))return!0}else while(e=e[r])if(1===e.nodeType||o){if(s=e[ns]||(e[ns]={}),(u=s[r])&&u[0]===os&&u[1]===i)return c[2]=u[2];if(s[r]=c,c[2]=t(e,n,a))return!0}}}function Ks(t){return t.length>1?function(e,n,r){var o=t.length;while(o--)if(!t[o](e,n,r))return!1;return!0}:t[0]}function Zs(t,e,n){for(var r=0,o=e.length;r<o;r++)Fs(t,e[r],n);return n}function Js(t,e,n,r,o){for(var i,a=[],u=0,s=t.length,c=null!=e;u<s;u++)(i=t[u])&&(n&&!n(i,r,o)||(a.push(i),c&&e.push(u)));return a}function Qs(t,e,n,r,o,i){return r&&!r[ns]&&(r=Qs(r)),o&&!o[ns]&&(o=Qs(o,i)),Vs(function(i,a,u,s){var c,l,f,d=[],h=[],p=a.length,m=i||Zs(e||"*",u.nodeType?[u]:u,[]),g=!t||!i&&e?m:Js(m,d,t,u,s),v=n?o||(i?t:p||r)?[]:a:g;if(n&&n(g,v,u,s),r){c=Js(v,h),r(c,[],u,s),l=c.length;while(l--)(f=c[l])&&(v[h[l]]=!(g[h[l]]=f))}if(i){if(o||t){if(o){c=[],l=v.length;while(l--)(f=v[l])&&c.push(g[l]=f);o(null,v=[],c,s)}l=v.length;while(l--)(f=v[l])&&(c=o?ys.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else v=Js(v===a?v.splice(p,v.length):v),o?o(null,a,v,s):gs.apply(a,v)})}function tc(t){for(var e,n,r,o=t.length,i=ii.relative[t[0].type],a=i||ii.relative[" "],u=i?1:0,s=$s(function(t){return t===e},a,!0),c=$s(function(t){return ys.call(e,t)>-1},a,!0),l=[function(t,n,r){var o=!i&&(r||n!==fi)||((e=n).nodeType?s(t,n,r):c(t,n,r));return e=null,o}];u<o;u++)if(n=ii.relative[t[u].type])l=[$s(Ks(l),n)];else{if(n=ii.filter[t[u].type].apply(null,t[u].matches),n[ns]){for(r=++u;r<o;r++)if(ii.relative[t[r].type])break;return Qs(u>1&&Ks(l),u>1&&Xs(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(Ss,"$1"),n,u<r&&tc(t.slice(u,r)),r<o&&tc(t=t.slice(r)),r<o&&Xs(t))}l.push(n)}return Ks(l)}function ec(t,e){var n=e.length>0,r=t.length>0,o=function(o,i,a,u,s){var c,l,f,d=0,h="0",p=o&&[],m=[],g=fi,v=o||r&&ii.find.TAG("*",s),y=os+=null==g?1:Math.random()||.1,b=v.length;for(s&&(fi=i!==mi&&i);h!==b&&null!=(c=v[h]);h++){if(r&&c){l=0;while(f=t[l++])if(f(c,i,a)){u.push(c);break}s&&(os=y)}n&&((c=!f&&c)&&d--,o&&p.push(c))}if(d+=h,n&&h!==d){l=0;while(f=e[l++])f(p,m,i,a);if(o){if(d>0)while(h--)p[h]||m[h]||(m[h]=ps.call(u));m=Js(m)}gs.apply(u,m),s&&!o&&m.length>0&&d+e.length>1&&Fs.uniqueSort(u)}return s&&(os=y,fi=g),p};return n?Vs(o):o}oi=Fs.support={},ui=Fs.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},pi=Fs.setDocument=function(t){var e,n=t?t.ownerDocument||t:rs,r=n.defaultView;function o(t){try{return t.top}catch(e){}return null}return n!==mi&&9===n.nodeType&&n.documentElement?(mi=n,gi=n.documentElement,vi=!ui(n),r&&r!==o(r)&&(r.addEventListener?r.addEventListener("unload",function(){pi()},!1):r.attachEvent&&r.attachEvent("onunload",function(){pi()})),oi.attributes=!0,oi.getElementsByTagName=!0,oi.getElementsByClassName=Es.test(n.getElementsByClassName),oi.getById=!0,ii.find.ID=function(t,e){if(typeof e.getElementById!==ls&&vi){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},ii.filter.ID=function(t){var e=t.replace(Bs,Ls);return function(t){return t.getAttribute("id")===e}},ii.find.TAG=oi.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==ls)return e.getElementsByTagName(t)}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){while(n=i[o++])1===n.nodeType&&r.push(n);return r}return i},ii.find.CLASS=oi.getElementsByClassName&&function(t,e){if(vi)return e.getElementsByClassName(t)},bi=[],yi=[],oi.disconnectedMatch=!0,yi=yi.length&&new RegExp(yi.join("|")),bi=bi.length&&new RegExp(bi.join("|")),e=Es.test(gi.compareDocumentPosition),_i=e||Es.test(gi.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)while(e=e.parentNode)if(e===t)return!0;return!1},cs=e?function(t,e){if(t===e)return hi=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!oi.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===rs&&_i(rs,t)?-1:e===n||e.ownerDocument===rs&&_i(rs,e)?1:di?ys.call(di,t)-ys.call(di,e):0:4&r?-1:1)}:function(t,e){if(t===e)return hi=!0,0;var r,o=0,i=t.parentNode,a=e.parentNode,u=[t],s=[e];if(!i||!a)return t===n?-1:e===n?1:i?-1:a?1:di?ys.call(di,t)-ys.call(di,e):0;if(i===a)return Hs(t,e);r=t;while(r=r.parentNode)u.unshift(r);r=e;while(r=r.parentNode)s.unshift(r);while(u[o]===s[o])o++;return o?Hs(u[o],s[o]):u[o]===rs?-1:s[o]===rs?1:0},n):mi},Fs.matches=function(t,e){return Fs(t,null,null,e)},Fs.matchesSelector=function(t,e){if((t.ownerDocument||t)!==mi&&pi(t),e=e.replace(Ts,"='$1']"),oi.matchesSelector&&vi&&(!bi||!bi.test(e))&&(!yi||!yi.test(e)))try{var n=xi.call(t,e);if(n||oi.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(pV){}return Fs(e,mi,null,[t]).length>0},Fs.contains=function(t,e){return(t.ownerDocument||t)!==mi&&pi(t),_i(t,e)},Fs.attr=function(t,e){(t.ownerDocument||t)!==mi&&pi(t);var n=ii.attrHandle[e.toLowerCase()],r=n&&ds.call(ii.attrHandle,e.toLowerCase())?n(t,e,!vi):void 0;return void 0!==r?r:oi.attributes||!vi?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},Fs.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Fs.uniqueSort=function(t){var e,n=[],r=0,o=0;if(hi=!oi.detectDuplicates,di=!oi.sortStable&&t.slice(0),t.sort(cs),hi){while(e=t[o++])e===t[o]&&(r=n.push(o));while(r--)t.splice(n[r],1)}return di=null,t},ai=Fs.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=ai(t)}else if(3===o||4===o)return t.nodeValue}else while(e=t[r++])n+=ai(e);return n},ii=Fs.selectors={cacheLength:50,createPseudo:Vs,match:As,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Bs,Ls),t[3]=(t[3]||t[4]||t[5]||"").replace(Bs,Ls),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Fs.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Fs.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return As.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Ms.test(n)&&(e=si(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Bs,Ls).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=as[t+" "];return e||(e=new RegExp("(^|"+xs+")"+t+"("+xs+"|$)"))&&as(t,function(t){return e.test("string"===typeof t.className&&t.className||typeof t.getAttribute!==ls&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var o=Fs.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,s){var c,l,f,d,h,p,m=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=u&&e.nodeName.toLowerCase(),y=!s&&!u;if(g){if(i){while(m){f=e;while(f=f[m])if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){l=g[ns]||(g[ns]={}),c=l[t]||[],h=c[0]===os&&c[1],d=c[0]===os&&c[2],f=h&&g.childNodes[h];while(f=++h&&f&&f[m]||(d=h=0)||p.pop())if(1===f.nodeType&&++d&&f===e){l[t]=[os,h,d];break}}else if(y&&(c=(e[ns]||(e[ns]={}))[t])&&c[0]===os)d=c[1];else while(f=++h&&f&&f[m]||(d=h=0)||p.pop())if((u?f.nodeName.toLowerCase()===v:1===f.nodeType)&&++d&&(y&&((f[ns]||(f[ns]={}))[t]=[os,d]),f===e))break;return d-=o,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(t,e){var n,r=ii.pseudos[t]||ii.setFilters[t.toLowerCase()]||Fs.error("unsupported pseudo: "+t);return r[ns]?r(e):r.length>1?(n=[t,t,"",e],ii.setFilters.hasOwnProperty(t.toLowerCase())?Vs(function(t,n){var o,i=r(t,e),a=i.length;while(a--)o=ys.call(t,i[a]),t[o]=!(n[o]=i[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:Vs(function(t){var e=[],n=[],r=ci(t.replace(Ss,"$1"));return r[ns]?Vs(function(t,e,n,o){var i,a=r(t,null,o,[]),u=t.length;while(u--)(i=a[u])&&(t[u]=!(e[u]=i))}):function(t,o,i){return e[0]=t,r(e,null,i,n),e[0]=null,!n.pop()}}),has:Vs(function(t){return function(e){return Fs(t,e).length>0}}),contains:Vs(function(t){return t=t.replace(Bs,Ls),function(e){return(e.textContent||e.innerText||ai(e)).indexOf(t)>-1}}),lang:Vs(function(t){return Ds.test(t||"")||Fs.error("unsupported lang: "+t),t=t.replace(Bs,Ls).toLowerCase(),function(e){var n;do{if(n=vi?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===gi},focus:function(t){return t===mi.activeElement&&(!mi.hasFocus||mi.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!ii.pseudos.empty(t)},header:function(t){return js.test(t.nodeName)},input:function(t){return Is.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Gs(function(){return[0]}),last:Gs(function(t,e){return[e-1]}),eq:Gs(function(t,e,n){return[n<0?n+e:n]}),even:Gs(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:Gs(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:Gs(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:Gs(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},ii.pseudos.nth=ii.pseudos.eq,Q(["radio","checkbox","file","password","image"],function(t){ii.pseudos[t]=Us(t)}),Q(["submit","reset"],function(t){ii.pseudos[t]=Ws(t)}),Ys.prototype=ii.filters=ii.pseudos,ii.setFilters=new Ys,si=Fs.tokenize=function(t,e){var n,r,o,i,a,u,s,c=us[t+" "];if(c)return e?0:c.slice(0);a=t,u=[],s=ii.preFilter;while(a){for(i in n&&!(r=Cs.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=ks.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Ss," ")}),a=a.slice(n.length)),ii.filter)ii.filter.hasOwnProperty(i)&&(!(r=As[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?Fs.error(t):us(t,u).slice(0)},ci=Fs.compile=function(t,e){var n,r=[],o=[],i=ss[t+" "];if(!i){e||(e=si(t)),n=e.length;while(n--)i=tc(e[n]),i[ns]?r.push(i):o.push(i);i=ss(t,ec(o,r)),i.selector=t}return i},li=Fs.select=function(t,e,n,r){var o,i,a,u,s,c="function"===typeof t&&t,l=!r&&si(t=c.selector||t);if(n=n||[],1===l.length){if(i=l[0]=l[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&oi.getById&&9===e.nodeType&&vi&&ii.relative[i[1].type]){if(e=(ii.find.ID(a.matches[0].replace(Bs,Ls),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(i.shift().value.length)}o=As.needsContext.test(t)?0:i.length;while(o--){if(a=i[o],ii.relative[u=a.type])break;if((s=ii.find[u])&&(r=s(a.matches[0].replace(Bs,Ls),Ns.test(i[0].type)&&qs(e.parentNode)||e))){if(i.splice(o,1),t=r.length&&Xs(i),!t)return gs.apply(n,r),n;break}}}return(c||ci(t,l))(r,e,!vi,n,Ns.test(t)&&qs(e.parentNode)||e),n},oi.sortStable=ns.split("").sort(cs).join("")===ns,oi.detectDuplicates=!!hi,pi(),oi.sortDetached=!0;var nc=document,rc=Array.prototype.push,oc=Array.prototype.slice,ic=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ac=es.Event,uc=pn.makeMap("children,contents,next,prev"),sc=function(t){return"undefined"!==typeof t},cc=function(t){return"string"===typeof t},lc=function(t){return t&&t===t.window},fc=function(t,e){e=e||nc;var n,r=e.createElement("div"),o=e.createDocumentFragment();r.innerHTML=t;while(n=r.firstChild)o.appendChild(n);return o},dc=function(t,e,n,r){var o;if(cc(e))e=fc(e,Tc(t[0]));else if(e.length&&!e.nodeType){if(e=Ic.makeArray(e),r)for(o=e.length-1;o>=0;o--)dc(t,e[o],n,r);else for(o=0;o<e.length;o++)dc(t,e[o],n,r);return t}if(e.nodeType){o=t.length;while(o--)n.call(t[o],e)}return t},hc=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},pc=function(t,e,n){var r,o;return e=Ic(e)[0],t.each(function(){var t=this;n&&r===t.parentNode?o.appendChild(t):(r=t.parentNode,o=e.cloneNode(!1),t.parentNode.insertBefore(o,t),o.appendChild(t))}),t},mc=pn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),gc=pn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),vc={for:"htmlFor",class:"className",readonly:"readOnly"},yc={float:"cssFloat"},bc={},xc={},_c=function(t,e){return new Ic.fn.init(t,e)},wc=function(t,e){var n;if(e.indexOf)return e.indexOf(t);n=e.length;while(n--)if(e[n]===t)return n;return-1},Oc=/^\s*|\s*$/g,Sc=function(t){return null===t||void 0===t?"":(""+t).replace(Oc,"")},Cc=function(t,e){var n,r,o,i;if(t)if(n=t.length,void 0===n){for(r in t)if(t.hasOwnProperty(r)&&(i=t[r],!1===e.call(i,r,i)))break}else for(o=0;o<n;o++)if(i=t[o],!1===e.call(i,o,i))break;return t},kc=function(t,e){var n=[];return Cc(t,function(t,r){e(r,t)&&n.push(r)}),n},Tc=function(t){return t?9===t.nodeType?t:t.ownerDocument:nc};_c.fn=_c.prototype={constructor:_c,selector:"",context:null,length:0,init:function(t,e){var n,r,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return Ic(t).attr(e);o.context=e=document}if(cc(t)){if(o.selector=t,n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ic.exec(t),!n)return Ic(e).find(t);if(n[1]){r=fc(t,Tc(e)).firstChild;while(r)rc.call(o,r),r=r.nextSibling}else{if(r=Tc(e).getElementById(n[2]),!r)return o;if(r.id!==n[2])return o.find(t);o.length=1,o[0]=r}}else this.add(t,!1);return o},toArray:function(){return pn.toArray(this)},add:function(t,e){var n,r,o=this;if(cc(t))return o.add(Ic(t));if(!1!==e)for(n=Ic.unique(o.toArray().concat(Ic.makeArray(t))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else rc.apply(o,Ic.makeArray(t));return o},attr:function(t,e){var n,r=this;if("object"===typeof t)Cc(t,function(t,e){r.attr(t,e)});else{if(!sc(e)){if(r[0]&&1===r[0].nodeType){if(n=bc[t],n&&n.get)return n.get(r[0],t);if(gc[t])return r.prop(t)?t:void 0;e=r[0].getAttribute(t,2),null===e&&(e=void 0)}return e}this.each(function(){var n;if(1===this.nodeType){if(n=bc[t],n&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if(t=vc[t]||t,"object"===typeof t)Cc(t,function(t,e){n.prop(t,e)});else{if(!sc(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(t,e){var n,r,o=this,i=function(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})},a=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})};if("object"===typeof t)Cc(t,function(t,e){o.css(t,e)});else if(sc(e))t=i(t),"number"!==typeof e||mc[t]||(e=e.toString()+"px"),o.each(function(){var n=this.style;if(r=xc[t],r&&r.set)r.set(this,e);else{try{this.style[yc[t]||t]=e}catch(o){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(a(t)):n.removeAttribute(t))}});else{if(n=o[0],r=xc[t],r&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(t))}catch(u){return}}return o},remove:function(){var t,e=this,n=this.length;while(n--)t=e[n],ac.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){var t,e=this,n=this.length;while(n--){t=e[n];while(t.firstChild)t.removeChild(t.firstChild)}return this},html:function(t){var e,n=this;if(sc(t)){e=n.length;try{while(e--)n[e].innerHTML=t}catch(r){Ic(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(sc(t)){e=n.length;while(e--)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return dc(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return dc(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?dc(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?dc(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return Ic(t).append(this),this},prependTo:function(t){return Ic(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return pc(this,t)},wrapAll:function(t){return pc(this,t,!0)},wrapInner:function(t){return this.each(function(){Ic(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){Ic(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),Ic(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!==typeof t?n:(-1!==t.indexOf(" ")?Cc(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,r){var o=hc(r,t);if(o!==e){var i=r.className;o?r.className=Sc((" "+i+" ").replace(" "+t+" "," ")):r.className+=i?" "+t:t}}),n)},hasClass:function(t){return hc(this[0],t)},each:function(t){return Cc(this,t)},on:function(t,e){return this.each(function(){ac.bind(this,t,e)})},off:function(t,e){return this.each(function(){ac.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"===typeof t?ac.fire(this,t.type,t):ac.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Ic(oc.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,r=[];for(e=0,n=this.length;e<n;e++)Ic.find(t,this[e],r);return Ic(r)},filter:function(t){return Ic("function"===typeof t?kc(this.toArray(),function(e,n){return t(n,e)}):Ic.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof Ic&&(t=t[0]),this.each(function(n,r){while(r){if("string"===typeof t&&Ic(r).is(t)){e.push(r);break}if(r===t){e.push(r);break}r=r.parentNode}}),Ic(e)},offset:function(t){var e,n,r,o,i=0,a=0;return t?this.css(t):(e=this[0],e&&(n=e.ownerDocument,r=n.documentElement,e.getBoundingClientRect&&(o=e.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:rc,sort:Array.prototype.sort,splice:Array.prototype.splice},pn.extend(_c,{extend:pn.extend,makeArray:function(t){return lc(t)||t.nodeType?[t]:pn.toArray(t)},inArray:wc,isArray:pn.isArray,each:Cc,trim:Sc,grep:kc,find:Fs,expr:Fs.selectors,unique:Fs.uniqueSort,text:Fs.getText,contains:Fs.contains,filter:function(t,e,n){var r=e.length;n&&(t=":not("+t+")");while(r--)1!==e[r].nodeType&&e.splice(r,1);return e=1===e.length?Ic.find.matchesSelector(e[0],t)?[e[0]]:[]:Ic.find.matches(t,e),e}});var Mc=function(t,e,n){var r=[],o=t[e];"string"!==typeof n&&n instanceof Ic&&(n=n[0]);while(o&&9!==o.nodeType){if(void 0!==n){if(o===n)break;if("string"===typeof n&&Ic(o).is(n))break}1===o.nodeType&&r.push(o),o=o[e]}return r},Dc=function(t,e,n,r){var o=[];for(r instanceof Ic&&(r=r[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==r){if(t===r)break;if("string"===typeof r&&Ic(t).is(r))break}o.push(t)}return o},Ac=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};Cc({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Mc(t,"parentNode")},next:function(t){return Ac(t,"nextSibling",1)},prev:function(t){return Ac(t,"previousSibling",1)},children:function(t){return Dc(t.firstChild,"nextSibling",1)},contents:function(t){return pn.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){_c.fn[t]=function(n){var r=this,o=[];r.each(function(){var t=e.call(o,this,n,o);t&&(Ic.isArray(t)?o.push.apply(o,t):o.push(t))}),this.length>1&&(uc[t]||(o=Ic.unique(o)),0===t.indexOf("parents")&&(o=o.reverse()));var i=Ic(o);return n?i.filter(n):i}}),Cc({parentsUntil:function(t,e){return Mc(t,"parentNode",e)},nextUntil:function(t,e){return Dc(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return Dc(t,"previousSibling",1,e).slice(1)}},function(t,e){_c.fn[t]=function(n,r){var o=this,i=[];o.each(function(){var t=e.call(i,this,n,i);t&&(Ic.isArray(t)?i.push.apply(i,t):i.push(t))}),this.length>1&&(i=Ic.unique(i),0!==t.indexOf("parents")&&"prevUntil"!==t||(i=i.reverse()));var a=Ic(i);return r?a.filter(r):a}}),_c.fn.is=function(t){return!!t&&this.filter(t).length>0},_c.fn.init.prototype=_c.fn,_c.overrideDefaults=function(t){var e,n=function(r,o){return e=e||t(),0===arguments.length&&(r=e.element),o||(o=e.context),new n.fn.init(r,o)};return Ic.extend(n,this),n},_c.attrHooks=bc,_c.cssHooks=xc;var Ic=_c,jc=pn.each,Ec=pn.grep,Rc=tn.ie,Nc=/^([a-z0-9],?)+$/i,Pc=function(t,e,n){var r=e.keep_values,o={set:function(t,r,o){e.url_converter&&null!==r&&(r=e.url_converter.call(e.url_converter_scope||n(),r,o,t[0])),t.attr("data-mce-"+o,r).attr(o,r)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(e,n){null===n||"object"!==typeof n?(r&&e.attr("data-mce-style",n),null!==n&&"string"===typeof n?(e.removeAttr("style"),e.css(t.parse(n))):e.attr("style",n)):e.css(n)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName),n}}};return r&&(i.href=i.src=o),i},Bc=function(t,e){var n=e.attr("style"),r=t.serialize(t.parse(n),e[0].nodeName);r||(r=null),e.attr("data-mce-style",r)},Lc=function(t,e){var n,r,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!e||3!==r||r!==n&&t.nodeValue.length)&&(o++,n=r);return o},Fc=function(t,e){void 0===e&&(e={});var n={},r=window,o={},i=0,a=!0,u=!0,s=Fi.forElement(xn.fromDom(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),c=[],l=e.schema?e.schema:Fu({}),f=Vu({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),d=e.ownEvents?new es:es.Event,h=l.getBlockElements(),p=Ic.overrideDefaults(function(){return{context:t,element:It.getRoot()}}),m=function(t){if("string"===typeof t)return!!h[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!h[t.nodeName])}return!1},g=function(e){return e&&t&&v(e)?t.getElementById(e):e},y=function(t){return p("string"===typeof t?g(t):t)},b=function(t,e,n){var r,o,i=y(t);return i.length&&(r=jt[e],o=r&&r.get?r.get(i,e):i.attr(e)),"undefined"===typeof o&&(o=n||""),o},x=function(t){var e=g(t);return e?e.attributes:[]},_=function(t,n,r){""===r&&(r=null);var o=y(t),i=o.attr(n);if(o.length){var a=jt[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&e.onSetAttrib&&e.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},w=function(e,n){if(!Rc||1!==e.nodeType||n)return e.cloneNode(n);var r=t.createElement(e.nodeName);return jc(x(e),function(t){_(r,t.nodeName,b(e,t.nodeName))}),r},S=function(){return e.root_element||t.body},C=function(t){var e=zr(t);return{x:e.x,y:e.y,w:e.width,h:e.height}},k=function(e,n){return No(t.body,g(e),n)},M=function(t,n,r){var o=v(n)?y(t).css(n,r):y(t).css(n);e.update_styles&&Bc(f,o)},D=function(t,n){var r=y(t).css(n);e.update_styles&&Bc(f,r)},I=function(t,e,n){var r=y(t);return n?r.css(e):(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"float"===e&&(e=tn.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[e]:void 0)},j=function(t){var e,n;return t=g(t),e=I(t,"width"),n=I(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},E=function(t){t=g(t);var e=k(t),n=j(t);return{x:e.x,y:e.y,w:n.w,h:n.h}},R=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(Nc.test(e)){var r=e.toLowerCase().split(/,/),o=t.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var i=Array.isArray(t)?t:[t];return Fs(e,i[0].ownerDocument||i[0],null,i).length>0},N=function(t,e,n,r){var o,i=[],a=g(t);r=void 0===r,n=n||("BODY"!==S().nodeName?S().parentNode:null),pn.is(e,"string")&&(o=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return R(t,o)});while(a){if(a===n||O(a.nodeType)||eo(a)||no(a))break;if(!e||"function"===typeof e&&e(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},P=function(t,e,n){var r=N(t,e,n,!1);return r&&r.length>0?r[0]:null},B=function(t,e,n){var r=e;if(t)for("string"===typeof e&&(r=function(t){return R(t,e)}),t=t[n];t;t=t[n])if("function"===typeof r&&r(t))return t;return null},L=function(t,e){return B(t,e,"nextSibling")},F=function(t,e){return B(t,e,"previousSibling")},z=function(n,r){return Fs(n,g(r)||e.root_element||t,[])},V=function(t,e,n){var r,o="string"===typeof t?g(t):t;if(!o)return!1;if(pn.isArray(o)&&(o.length||0===o.length))return r=[],jc(o,function(t,o){t&&r.push(e.call(n,"string"===typeof t?g(t):t,o))}),r;var i=n||this;return e.call(i,o)},H=function(t,e){y(t).each(function(t,n){jc(e,function(t,e){_(n,e,t)})})},U=function(t,e){var n=y(t);Rc?n.each(function(t,n){if(!1!==n.canHaveHTML){while(n.firstChild)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(r){Ic("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}}):n.html(e)},W=function(e,n,r,o,i){return V(e,function(e){var a="string"===typeof n?t.createElement(n):n;return H(a,r),o&&("string"!==typeof o&&o.nodeType?a.appendChild(o):"string"===typeof o&&U(a,o)),i?a:e.appendChild(a)})},G=function(e,n,r){return W(t.createElement(e),e,n,r,!0)},q=Mu.decode,Y=Mu.encodeAllRaw,X=function(t,e,n){var r,o="";for(r in o+="<"+t,e)Et(e,r)&&(o+=" "+r+'="'+Y(e[r])+'"');return"undefined"!==typeof n?o+">"+n+"</"+t+">":o+" />"},$=function(e){var n,r=t.createElement("div"),o=t.createDocumentFragment();o.appendChild(r),e&&(r.innerHTML=e);while(n=r.firstChild)o.appendChild(n);return o.removeChild(r),o},K=function(t,e){var n=y(t);return e?n.each(function(){var t;while(t=this.firstChild)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},Z=function(t){return V(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},J=function(t){return f.parse(t)},tt=function(t,e){return f.serialize(t,e)},et=function(e){var r,o;if(It!==Fc.DOM&&t===document){if(n[e])return;n[e]=!0}o=t.getElementById("mceDefaultStyles"),o||(o=t.createElement("style"),o.id="mceDefaultStyles",o.type="text/css",r=t.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=e:o.appendChild(t.createTextNode(e))},nt=function(t){t||(t=""),Q(t.split(","),function(t){o[t]=!0,s.load(t,T)})},rt=function(t,e,n){y(t).toggleClass(e,n).each(function(){""===this.className&&Ic(this).attr("class",null)})},ot=function(t,e){y(t).addClass(e)},it=function(t,e){rt(t,e,!1)},at=function(t,e){return y(t).hasClass(e)},ut=function(t){y(t).show()},st=function(t){y(t).hide()},ct=function(t){return"none"===y(t).css("display")},lt=function(t){return(t||"mce_")+i++},ft=function(t){var e="string"===typeof t?g(t):t;return Ur(e)?e.outerHTML:Ic("<div></div>").append(Ic(e).clone()).html()},dt=function(t,e){y(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}K(Ic(this).html(e),!0)})},ht=function(t,e){var n=g(e);return V(t,function(t){var e=n.parentNode,r=n.nextSibling;return r?e.insertBefore(t,r):e.appendChild(t),t})},pt=function(t,e,n){return V(e,function(e){return pn.is(e,"array")&&(t=t.cloneNode(!0)),n&&jc(Ec(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},mt=function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=G(e),jc(x(t),function(e){_(n,e.nodeName,b(t,e.nodeName))}),pt(n,t,!0)),n||t},gt=function(t,e){var n,r=t;while(r){n=e;while(n&&r!==n)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&t.ownerDocument?t.ownerDocument.documentElement:r},vt=function(t){return f.toHex(pn.trim(t))},yt=function(t){if(Ur(t)){var e="a"===t.nodeName.toLowerCase()&&!b(t,"href")&&b(t,"id");if(b(t,"name")||b(t,"data-mce-bookmark")||e)return!0}return!1},bt=function(t,e){var n,r,o=0;if(yt(t))return!1;if(t=t.firstChild,t){var i=new zi(t,t.parentNode),a=l?l.getWhiteSpaceElements():{};e=e||(l?l.getNonEmptyElements():null);do{if(n=t.nodeType,Ur(t)){var u=t.getAttribute("data-mce-bogus");if(u){t=i.next("all"===u);continue}if(r=t.nodeName.toLowerCase(),e&&e[r]){if("br"===r){o++,t=i.next();continue}return!1}if(yt(t))return!1}if(8===n)return!1;if(3===n&&!Ya(t.nodeValue))return!1;if(3===n&&t.parentNode&&a[t.parentNode.nodeName]&&Ya(t.nodeValue))return!1;t=i.next()}while(t)}return o<=1},xt=function(){return t.createRange()},_t=function(t,e,n){var r,o,i,a=xt();if(t&&e)return a.setStart(t.parentNode,Lc(t)),a.setEnd(e.parentNode,Lc(e)),r=a.extractContents(),a=xt(),a.setStart(e.parentNode,Lc(e)+1),a.setEnd(t.parentNode,Lc(t)+1),o=a.extractContents(),i=t.parentNode,i.insertBefore(lu(It,r),t),n?i.insertBefore(n,t):i.insertBefore(e,t),i.insertBefore(lu(It,o),t),K(t),n||e},Ot=function(n,o,i,a){if(pn.isArray(n)){var u=n.length,s=[];while(u--)s[u]=Ot(n[u],o,i,a);return s}!e.collect||n!==t&&n!==r||c.push([n,o,i,a]);var l=d.bind(n,o,i,a||It);return l},St=function(e,n,o){if(pn.isArray(e)){var i=e.length,a=[];while(i--)a[i]=St(e[i],n,o);return a}if(c.length>0&&(e===t||e===r)){i=c.length;while(i--){var u=c[i];e!==u[0]||n&&n!==u[1]||o&&o!==u[2]||d.unbind(u[0],u[1],u[2])}}return d.unbind(e,n,o)},Ct=function(t,e,n){return d.fire(t,e,n)},kt=function(t){if(t&&Ur(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},Tt=function(t){for(var e=S(),n=null;t&&t!==e;t=t.parentNode)if(n=kt(t),null!==n)break;return n},Mt=function(){if(c.length>0){var t=c.length;while(t--){var e=c[t];d.unbind(e[0],e[1],e[2])}}wt(o,function(t,e){s.unload(e),delete o[e]}),Fs.setDocument&&Fs.setDocument()},Dt=function(t,e){if(Rc){while(t){if(e===t)return!0;t=t.parentNode}return!1}return t===e||e.contains(t)},At=function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},It={doc:t,settings:e,win:r,files:o,stdMode:a,boxModel:u,styleSheetLoader:s,boundEvents:c,styles:f,schema:l,events:d,isBlock:m,$:p,$$:y,root:null,clone:w,getRoot:S,getViewPort:C,getRect:E,getSize:j,getParent:P,getParents:N,get:g,getNext:L,getPrev:F,select:z,is:R,add:W,create:G,createHTML:X,createFragment:$,remove:K,setStyle:M,getStyle:I,setStyles:D,removeAllAttribs:Z,setAttrib:_,setAttribs:H,getAttrib:b,getPos:k,parseStyle:J,serializeStyle:tt,addStyle:et,loadCSS:nt,addClass:ot,removeClass:it,hasClass:at,toggleClass:rt,show:ut,hide:st,isHidden:ct,uniqueId:lt,setHTML:U,getOuterHTML:ft,setOuterHTML:dt,decode:q,encode:Y,insertAfter:ht,replace:pt,rename:mt,findCommonAncestor:gt,toHex:vt,run:V,getAttribs:x,isEmpty:bt,createRng:xt,nodeIndex:Lc,split:_t,bind:Ot,unbind:St,fire:Ct,getContentEditable:kt,getContentEditableParent:Tt,destroy:Mt,isChildOf:Dt,dumpRng:At},jt=Pc(f,e,A(It));return It};Fc.DOM=Fc(document),Fc.nodeIndex=Lc;var zc=Fc.DOM,Vc=pn.each,Hc=pn.grep,Uc=0,Wc=1,Gc=2,qc=3,Yc=function(){function t(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return t.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},t.prototype.loadScript=function(t,e,n){var r,o=zc,i=function(){o.remove(s),r&&(r.onerror=r.onload=r=null)},a=function(){i(),e()},u=function(){i(),C(n)?n():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+t)},s=o.uniqueId();r=document.createElement("script"),r.id=s,r.type="text/javascript",r.src=pn._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=a,r.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)},t.prototype.isDone=function(t){return this.states[t]===Gc},t.prototype.markDone=function(t){this.states[t]=Gc},t.prototype.add=function(t,e,n,r){var o=this.states[t];this.queue.push(t),void 0===o&&(this.states[t]=Uc),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:r,scope:n||this}))},t.prototype.load=function(t,e,n,r){return this.add(t,e,n,r)},t.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},t.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},t.prototype.loadScripts=function(t,e,n,r){var o=this,i=[],a=function(t,e){Vc(o.scriptLoadedCallbacks[e],function(e){C(e[t])&&e[t].call(e.scope)}),o.scriptLoadedCallbacks[e]=void 0};o.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this});var u=function(){var e=Hc(t);if(t.length=0,Vc(e,function(t){o.states[t]!==Gc?o.states[t]!==qc?o.states[t]!==Wc&&(o.states[t]=Wc,o.loading++,o.loadScript(t,function(){o.states[t]=Gc,o.loading--,a("success",t),u()},function(){o.states[t]=qc,o.loading--,i.push(t),a("failure",t),u()})):a("failure",t):a("success",t)}),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,Vc(n,function(t){0===i.length?C(t.success)&&t.success.call(t.scope):C(t.failure)&&t.failure.call(t.scope,i)})}};u()},t.ScriptLoader=new t,t}(),Xc=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},$c=function(t){return y(t)&&jt(t,"raw")},Kc=function(t){return b(t)&&t.length>1},Zc={},Jc=Xc("en"),Qc=function(){return It(Zc,Jc.get())},tl=function(){return Ot(Zc,function(t){return Wt({},t)})},el=function(t){t&&Jc.set(t)},nl=function(){return Jc.get()},rl=function(t,e){var n=Zc[t];n||(Zc[t]=n={}),wt(e,function(t,e){n[e.toLowerCase()]=t})},ol=function(t){var e=Qc().getOr({}),n=function(t){return C(t)?Object.prototype.toString.call(t):r(t)?"":""+t},r=function(t){return""===t||null===t||void 0===t},o=function(t){var r=n(t);return It(e,r.toLowerCase()).map(n).getOr(r)},i=function(t){return t.replace(/{context:\w+}$/,"")};if(r(t))return"";if($c(t))return n(t.raw);if(Kc(t)){var a=t.slice(1),u=o(t[0]).replace(/\{([0-9]+)\}/g,function(t,e){return jt(a,e)?n(a[e]):t});return i(u)}return i(o(t))},il=function(){return Qc().bind(function(t){return It(t,"_dir")}).exists(function(t){return"rtl"===t})},al=function(t){return jt(Zc,t)},ul={getData:tl,setCode:el,getCode:nl,add:rl,translate:ol,isRtl:il,hasCode:al},sl=function(){var t=[],e={},n={},r=[],o=function(t,e){var n=nt(r,function(n){return n.name===t&&n.state===e});Q(n,function(t){return t.callback()})},i=function(t){if(n[t])return n[t].instance},a=function(t){var e;return n[t]&&(e=n[t].dependencies),e||[]},u=function(t,n){!1!==sl.languageLoad&&p(t,function(){var r=ul.getCode(),o=","+(n||"")+",";!r||n&&-1===o.indexOf(","+r+",")||Yc.ScriptLoader.add(e[t]+"/langs/"+r+".js")},"loaded")},s=function(e,r,i){var a=r;return t.push(a),n[e]={instance:a,dependencies:i},o(e,"added"),a},c=function(t){delete e[t],delete n[t]},l=function(t,e){return"object"===typeof e?e:"string"===typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},f=function(t,n){var r=e[t];Q(n,function(t){Yc.ScriptLoader.add(r+"/"+t)})},d=function(t,e,n,r){var o=a(t);Q(o,function(t){var n=l(e,t);h(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(Yc))},h=function(t,r,i,a,u){if(!e[t]){var s="string"===typeof r?r:r.prefix+r.resource+r.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=sl.baseURL+"/"+s),e[t]=s.substring(0,s.lastIndexOf("/"));var c=function(){o(t,"loaded"),d(t,r,i,a)};n[t]?c():Yc.ScriptLoader.add(s,c,a,u)}},p=function(t,o,i){void 0===i&&(i="added"),jt(n,t)&&"added"===i?o():jt(e,t)&&"loaded"===i?o():r.push({name:t,state:i,callback:o})};return{items:t,urls:e,lookup:n,_listeners:r,get:i,dependencies:a,requireLangPack:u,add:s,remove:c,createUrl:l,addComponents:f,load:h,waitFor:p}};sl.languageLoad=!0,sl.baseURL="",sl.PluginManager=sl(),sl.ThemeManager=sl();var cl=function(t){var e=Xc(W.none()),n=function(){return e.get().each(t)},r=function(){n(),e.set(W.none())},o=function(){return e.get().isSome()},i=function(){return e.get()},a=function(t){n(),e.set(W.some(t))};return{clear:r,isSet:o,get:i,set:a}},ll=function(){var t=cl(T),e=function(e){return t.get().each(e)};return Wt(Wt({},t),{on:e})},fl=function(t,e){var n=null,r=function(){x(n)||(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];x(n)&&(n=setTimeout(function(){n=null,t.apply(null,r)},e))};return{cancel:r,throttle:o}},dl=function(t,e){var n=null,r=function(){x(n)||(clearTimeout(n),n=null)},o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r(),n=setTimeout(function(){n=null,t.apply(null,o)},e)};return{cancel:r,throttle:o}},hl=function(t,e){var n=bo(t,e);return void 0===n||""===n?[]:n.split(" ")},pl=function(t,e,n){var r=hl(t,e),o=r.concat([n]);return vo(t,e,o.join(" ")),!0},ml=function(t,e,n){var r=nt(hl(t,e),function(t){return t!==n});return r.length>0?vo(t,e,r.join(" ")):wo(t,e),!1},gl=function(t){return void 0!==t.dom.classList},vl=function(t){return hl(t,"class")},yl=function(t,e){return pl(t,"class",e)},bl=function(t,e){return ml(t,"class",e)},xl=function(t,e){gl(t)?t.dom.classList.add(e):yl(t,e)},_l=function(t){var e=gl(t)?t.dom.classList:vl(t);0===e.length&&wo(t,"class")},wl=function(t,e){if(gl(t)){var n=t.dom.classList;n.remove(e)}else bl(t,e);_l(t)},Ol=function(t,e){return gl(t)&&t.dom.classList.contains(e)},Sl=function(t,e){var n=[];return Q(rr(t),function(t){e(t)&&(n=n.concat([t])),n=n.concat(Sl(t,e))}),n},Cl=function(t,e){return In(e,t)},kl=A("mce-annotation"),Tl=A("data-mce-annotation"),Ml=A("data-mce-annotation-uid"),Dl=function(t,e){var n=t.selection.getRng(),r=xn.fromDom(n.startContainer),o=xn.fromDom(t.getBody()),i=e.fold(function(){return"."+kl()},function(t){return"["+Tl()+'="'+t+'"]'}),a=or(r,n.startOffset).getOr(r),u=Mi(a,i,function(t){return En(t,o)}),s=function(t,e){return _o(t,e)?W.some(bo(t,e)):W.none()};return u.bind(function(e){return s(e,""+Ml()).bind(function(n){return s(e,""+Tl()).map(function(e){var r=Il(t,n);return{uid:n,name:e,elements:r}})})})},Al=function(t){return Vn(t)&&Ol(t,kl())},Il=function(t,e){var n=xn.fromDom(t.getBody());return Cl(n,"["+Ml()+'="'+e+'"]')},jl=function(t,e){var n=xn.fromDom(t.getBody()),r=Cl(n,"["+Tl()+'="'+e+'"]'),o={};return Q(r,function(t){var e=bo(t,Ml()),n=It(o,e).getOr([]);o[e]=n.concat([t])}),o},El=function(t,e){var n=Xc({}),r=function(){return{listeners:[],previous:ll()}},o=function(t,e){i(t,function(t){return e(t),t})},i=function(t,e){var o=n.get(),i=It(o,t).getOrThunk(r),a=e(i);o[t]=a,n.set(o)},a=function(t,e,n){o(t,function(r){Q(r.listeners,function(r){return r(!0,t,{uid:e,nodes:J(n,function(t){return t.dom})})})})},u=function(t){o(t,function(e){Q(e.listeners,function(e){return e(!1,t)})})},s=dl(function(){var e=n.get(),r=pt(xt(e));Q(r,function(e){i(e,function(n){var r=n.previous.get();return Dl(t,W.some(e)).fold(function(){r.isSome()&&(u(e),n.previous.clear())},function(t){var e=t.uid,o=t.name,i=t.elements;co(r,e)||(a(o,e,i),n.previous.set(e))}),{previous:n.previous,listeners:n.listeners}})})},30);t.on("remove",function(){s.cancel()}),t.on("NodeChange",function(){s.throttle()});var c=function(t,e){i(t,function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}})};return{addListener:c}},Rl=function(t,e){var n=function(t){return W.from(t.attr(Tl())).bind(e.lookup)};t.on("init",function(){t.serializer.addNodeFilter("span",function(t){Q(t,function(t){n(t).each(function(e){!1===e.persistent&&t.unwrap()})})})})},Nl=function(){var t={},e=function(e,n){t[e]={name:e,settings:n}},n=function(e){return It(t,e).map(function(t){return t.settings})};return{register:e,lookup:n}},Pl=0,Bl=function(t){var e=new Date,n=e.getTime(),r=Math.floor(1e9*Math.random());return Pl++,t+"_"+r+Pl+String(n)},Ll=function(t,e){Q(e,function(e){xl(t,e)})},Fl=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,rr(xn.fromDom(r))},zl=function(t){return J(t,xn.fromDom)},Vl=function(t){return t.dom.innerHTML},Hl=function(t,e){var n=qn(t),r=n.dom,o=xn.fromDom(r.createDocumentFragment()),i=Fl(e,r);Sr(o,i),Cr(t),_r(t,o)},Ul=function(t,e){return xn.fromDom(t.dom.cloneNode(e))},Wl=function(t){return Ul(t,!1)},Gl=function(t){return Ul(t,!0)},ql=function(t,e,n){void 0===n&&(n=L);var r=new zi(t,e),o=function(t){var e;do{e=r[t]()}while(e&&!Qr(e)&&!n(e));return W.from(e).filter(Qr)};return{current:function(){return W.from(r.current()).filter(Qr)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},Yl=function(t,e){var n=e||function(e){return t.isBlock(e)||ro(e)||ao(e)},r=function(t,e,n,o){if(Qr(t)){var i=o(t,e,t.data);if(-1!==i)return W.some({container:t,offset:i})}return n().bind(function(t){return r(t.container,t.offset,n,o)})},o=function(t,e,o,i){var a=ql(t,i,n);return r(t,e,function(){return a.prev().map(function(t){return{container:t,offset:t.length}})},o).getOrNull()},i=function(t,e,o,i){var a=ql(t,i,n);return r(t,e,function(){return a.next().map(function(t){return{container:t,offset:0}})},o).getOrNull()};return{backwards:o,forwards:i}},Xl=Math.round,$l=function(t){return t?{left:Xl(t.left),top:Xl(t.top),bottom:Xl(t.bottom),right:Xl(t.right),width:Xl(t.width),height:Xl(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Kl=function(t,e){return t=$l(t),e?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t},Zl=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},Jl=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},Ql=function(t,e){var n=Math.min(e.height/2,t.height/2);return t.bottom-n<e.top||!(t.top>e.bottom)&&Jl(e.top-t.bottom,t,e)},tf=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Jl(e.bottom-t.top,t,e)},ef=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},nf=function(t,e,n){return Math.min(Math.max(t,e),n)},rf=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},of=function(t,e){if(Ur(t)&&t.hasChildNodes()){var n=t.childNodes,r=nf(e,0,n.length-1);return n[r]}return t},af=function(t,e){return e<0&&Ur(t)&&t.hasChildNodes()?void 0:of(t,e)},uf=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),sf=function(t){return"string"===typeof t&&t.charCodeAt(0)>=768&&uf.test(t)},cf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},lf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},ff=Ur,df=Fa,hf=Gr("display","block table"),pf=Gr("float","left right"),mf=lf(ff,df,R(pf)),gf=R(Gr("white-space","pre pre-line pre-wrap")),vf=Qr,yf=ro,bf=Fc.nodeIndex,xf=af,_f=function(t){return"createRange"in t?t.createRange():Fc.DOM.createRng()},wf=function(t){return t&&/[\r\n\t ]/.test(t)},Of=function(t){return!!t.setStart&&!!t.setEnd},Sf=function(t){var e=t.startContainer,n=t.startOffset;if(wf(t.toString())&&gf(e.parentNode)&&Qr(e)){var r=e.data;if(wf(r[n-1])||wf(r[n+1]))return!0}return!1},Cf=function(t){var e=t.ownerDocument,n=_f(e),r=e.createTextNode(ca),o=t.parentNode;o.insertBefore(r,t),n.setStart(r,0),n.setEnd(r,1);var i=$l(n.getBoundingClientRect());return o.removeChild(r),i},kf=function(t){var e=t.startContainer,n=t.endContainer,r=t.startOffset,o=t.endOffset;if(e===n&&Qr(n)&&0===r&&1===o){var i=t.cloneRange();return i.setEndAfter(n),Mf(i)}return null},Tf=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},Mf=function(t){var e,n=t.getClientRects();return e=n.length>0?$l(n[0]):$l(t.getBoundingClientRect()),!Of(t)&&yf(t)&&Tf(e)?Cf(t):Tf(e)&&Of(t)?kf(t):e},Df=function(t,e){var n=Kl(t,e);return n.width=1,n.right=n.left+1,n},Af=function(t){var e=[],n=function(t){0!==t.height&&(e.length>0&&Zl(t,e[e.length-1])||e.push(t))},r=function(t,r){var o=_f(t.ownerDocument);if(r<t.data.length){if(sf(t.data[r]))return e;if(sf(t.data[r-1])&&(o.setStart(t,r),o.setEnd(t,r+1),!Sf(o)))return n(Df(Mf(o),!1)),e}r>0&&(o.setStart(t,r-1),o.setEnd(t,r),Sf(o)||n(Df(Mf(o),!1))),r<t.data.length&&(o.setStart(t,r),o.setEnd(t,r+1),Sf(o)||n(Df(Mf(o),!0)))},o=t.container(),i=t.offset();if(vf(o))return r(o,i),e;if(ff(o))if(t.isAtEnd()){var a=xf(o,i);vf(a)&&r(a,a.data.length),mf(a)&&!yf(a)&&n(Df(Mf(a),!1))}else{a=xf(o,i);if(vf(a)&&r(a,0),mf(a)&&t.isAtEnd())return n(Df(Mf(a),!1)),e;var u=xf(t.container(),t.offset()-1);mf(u)&&!yf(u)&&(hf(u)||hf(a)||!mf(a))&&n(Df(Mf(u),!1)),mf(a)&&n(Df(Mf(a),!0))}return e},If=function(t,e,n){var r=function(){return vf(t),0===e},o=function(){return vf(t)?e>=t.data.length:e>=t.childNodes.length},i=function(){var n=_f(t.ownerDocument);return n.setStart(t,e),n.setEnd(t,e),n},a=function(){return n||(n=Af(If(t,e))),n},u=function(){return a().length>0},s=function(n){return n&&t===n.container()&&e===n.offset()},c=function(n){return xf(t,n?e-1:e)};return{container:A(t),offset:A(e),toRange:i,getClientRects:a,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:s,getNode:c}};If.fromRangeStart=function(t){return If(t.startContainer,t.startOffset)},If.fromRangeEnd=function(t){return If(t.endContainer,t.endOffset)},If.after=function(t){return If(t.parentNode,bf(t)+1)},If.before=function(t){return If(t.parentNode,bf(t))},If.isAbove=function(t,e){return fo(gt(e.getClientRects()),vt(t.getClientRects()),Ql).getOr(!1)},If.isBelow=function(t,e){return fo(vt(e.getClientRects()),gt(t.getClientRects()),tf).getOr(!1)},If.isAtStart=function(t){return!!t&&t.isAtStart()},If.isAtEnd=function(t){return!!t&&t.isAtEnd()},If.isTextPosition=function(t){return!!t&&Qr(t.container())},If.isElementPosition=function(t){return!1===If.isTextPosition(t)};var jf,Ef=function(t,e){Qr(e)&&0===e.data.length&&t.remove(e)},Rf=function(t,e,n){e.insertNode(n),Ef(t,n.previousSibling),Ef(t,n.nextSibling)},Nf=function(t,e,n){var r=W.from(n.firstChild),o=W.from(n.lastChild);e.insertNode(n),r.each(function(e){return Ef(t,e.previousSibling)}),o.each(function(e){return Ef(t,e.nextSibling)})},Pf=function(t,e,n){no(n)?Nf(t,e,n):Rf(t,e,n)},Bf=Qr,Lf=Xr,Ff=Fc.nodeIndex,zf=function(t){var e=t.parentNode;return Lf(e)?zf(e):e},Vf=function(t){return t?Vt(t.childNodes,function(t,e){return Lf(e)&&"BR"!==e.nodeName?t=t.concat(Vf(e)):t.push(e),t},[]):[]},Hf=function(t,e){while(t=t.previousSibling){if(!Bf(t))break;e+=t.data.length}return e},Uf=function(t){return function(e){return t===e}},Wf=function(t){var e,n;e=Vf(zf(t)),n=Ht(e,Uf(t),t),e=e.slice(0,n+1);var r=Vt(e,function(t,n,r){return Bf(n)&&Bf(e[r-1])&&t++,t},0);return e=Ft(e,Wr([t.nodeName])),n=Ht(e,Uf(t),t),n-r},Gf=function(t){var e;return e=Bf(t)?"text()":t.nodeName.toLowerCase(),e+"["+Wf(t)+"]"},qf=function(t,e,n){var r=[];for(e=e.parentNode;e!==t;e=e.parentNode){if(n&&n(e))break;r.push(e)}return r},Yf=function(t,e){var n,r,o,i,a,u=[];return n=e.container(),r=e.offset(),Bf(n)?o=Hf(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Gf(n)),a=qf(t,n),a=Ft(a,R(Xr)),u=u.concat(Lt(a,function(t){return Gf(t)})),u.reverse().join("/")+","+o},Xf=function(t,e,n){var r=Vf(t);return r=Ft(r,function(t,e){return!Bf(t)||!Bf(r[e-1])}),r=Ft(r,Wr([e])),r[n]},$f=function(t,e){var n,r=t,o=0;while(Bf(r)){if(n=r.data.length,e>=o&&e<=o+n){t=r,e-=o;break}if(!Bf(r.nextSibling)){t=r,e=n;break}o+=n,r=r.nextSibling}return Bf(t)&&e>t.data.length&&(e=t.data.length),If(t,e)},Kf=function(t,e){var n;if(!e)return null;var r=e.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=Vt(o,function(t,e){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e);return n?("text()"===n[1]&&(n[1]="#text"),Xf(t,n[1],parseInt(n[2],10))):null},t);return i?Bf(i)?$f(i,parseInt(n,10)):(n="after"===n?Ff(i)+1:Ff(i),If(i.parentNode,n)):null},Zf=ao,Jf=function(t,e,n){var r,o;for(o=t(e.data.slice(0,n)).length,r=e.previousSibling;r&&Qr(r);r=r.previousSibling)o+=t(r.data).length;return o},Qf=function(t,e,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],s=[],c=0,l=t.getRoot();for(Qr(a)?s.push(n?Jf(e,a,u):u):(i=a.childNodes,u>=i.length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(t.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(t.nodeIndex(a,n));return s},td=function(t,e,n,r){var o=e.dom,i={};return i.start=Qf(o,t,n,r,!0),e.isCollapsed()||(i.end=Qf(o,t,n,r,!1)),Aa(r)&&(i.isFakeCaret=!0),i},ed=function(t,e,n){var r=0;return pn.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void r++}),r},nd=function(t,e){var n,r,o,i=e?"start":"end";n=t[i+"Container"],r=t[i+"Offset"],Ur(n)&&"TR"===n.nodeName&&(o=n.childNodes,n=o[Math.min(e?r:r-1,o.length-1)],n&&(r=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,r)))},rd=function(t){return nd(t,!0),nd(t,!1),t},od=function(t,e){var n;if(Ur(t)&&(t=of(t,e),Zf(t)))return t;if(ba(t)){if(Qr(t)&&va(t)&&(t=t.parentNode),n=t.previousSibling,Zf(n))return n;if(n=t.nextSibling,Zf(n))return n}},id=function(t){return od(t.startContainer,t.startOffset)||od(t.endContainer,t.endOffset)},ad=function(t,e,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Zf(r)||"IMG"===o)return{name:o,index:ed(n.dom,o,r)};var a=id(i);return a?(o=a.tagName,{name:o,index:ed(n.dom,o,a)}):td(t,n,e,i)},ud=function(t){var e=t.getRng();return{start:Yf(t.dom.getRoot(),If.fromRangeStart(e)),end:Yf(t.dom.getRoot(),If.fromRangeEnd(e))}},sd=function(t){return{rng:t.getRng()}},cd=function(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)},ld=function(t,e){var n=t.dom,r=t.getRng(),o=n.uniqueId(),i=t.isCollapsed(),a=t.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:ed(n,u,a)};var s=rd(r.cloneRange());if(!i){s.collapse(!1);var c=cd(n,o+"_end",e);Pf(n,s,c)}r=rd(r),r.collapse(!0);var l=cd(n,o+"_start",e);return Pf(n,r,l),t.moveToBookmark({id:o,keep:!0}),{id:o}},fd=function(t,e,n){return 2===e?ad(pa,n,t):3===e?ud(t):e?sd(t):ld(t,!1)},dd=E(ad,I,!0),hd=Fc.DOM,pd="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",md=function(t,e,n){var r=t.getParam(e,n);if(-1!==r.indexOf("=")){var o=t.getParam(e,"","hash");return It(o,t.id).getOr(n)}return r},gd=function(t){return t.getParam("iframe_attrs",{})},vd=function(t){return t.getParam("doctype","<!DOCTYPE html>")},yd=function(t){return t.getParam("document_base_url","")},bd=function(t){return md(t,"body_id","tinymce")},xd=function(t){return md(t,"body_class","")},_d=function(t){return t.getParam("content_security_policy","")},wd=function(t){return t.getParam("br_in_pre",!0)},Od=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},Sd=function(t){return t.getParam("forced_root_block_attrs",{})},Cd=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},kd=function(t){return t.getParam("no_newline_selector","")},Td=function(t){return t.getParam("keep_styles",!0)},Md=function(t){return t.getParam("end_container_on_empty_block",!1)},Dd=function(t){return pn.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Ad=function(t){return pn.explode(t.getParam("font_size_classes",""))},Id=function(t){return t.getParam("images_dataimg_filter",F,"function")},jd=function(t){return t.getParam("automatic_uploads",!0,"boolean")},Ed=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},Rd=function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},Nd=function(t){return t.getParam("icons","","string")},Pd=function(t){return t.getParam("icons_url","","string")},Bd=function(t){return t.getParam("images_upload_url","","string")},Ld=function(t){return t.getParam("images_upload_base_path","","string")},Fd=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},zd=function(t){return t.getParam("images_upload_handler",null,"function")},Vd=function(t){return t.getParam("content_css_cors",!1,"boolean")},Hd=function(t){return t.getParam("referrer_policy","","string")},Ud=function(t){return t.getParam("language","en","string")},Wd=function(t){return t.getParam("language_url","","string")},Gd=function(t){return t.getParam("indent_use_margin",!1)},qd=function(t){return t.getParam("indentation","40px","string")},Yd=function(t){var e=t.getParam("content_css");return v(e)?J(e.split(","),fe):b(e)?e:!1===e||t.inline?[]:["default"]},Xd=function(t){var e=t.getParam("font_css",[]);return b(e)?e:J(e.split(","),fe)},$d=function(t){return t.getParam("directionality",ul.isRtl()?"rtl":void 0)},Kd=function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Zd=function(t){var e=t.getParam("object_resizing");return!1!==e&&!tn.iOS&&(v(e)?e:"table,img,figure.image,div,video,iframe")},Jd=function(t){return t.getParam("resize_img_proportional",!0,"boolean")},Qd=function(t){return t.getParam("placeholder",hd.getAttrib(t.getElement(),"placeholder"),"string")},th=function(t){return t.getParam("event_root")},eh=function(t){return t.getParam("service_message")},nh=function(t){return t.getParam("theme")},rh=function(t){return t.getParam("validate")},oh=function(t){return!1!==t.getParam("inline_boundaries")},ih=function(t){return t.getParam("formats")},ah=function(t){var e=t.getParam("preview_styles",pd);return v(e)?e:""},uh=function(t){return t.getParam("format_empty_lines",!1,"boolean")},sh=function(t){return t.getParam("custom_ui_selector","","string")},ch=function(t){return t.getParam("theme_url")},lh=function(t){return t.getParam("inline")},fh=function(t){return t.getParam("hidden_input")},dh=function(t){return t.getParam("submit_patch")},hh=function(t){return"xml"===t.getParam("encoding")},ph=function(t){return t.getParam("add_form_submit_trigger")},mh=function(t){return t.getParam("add_unload_trigger")},gh=function(t){return""!==Od(t)},vh=function(t){return t.getParam("custom_undo_redo_levels",0,"number")},yh=function(t){return t.getParam("disable_nodechange")},bh=function(t){return t.getParam("readonly")},xh=function(t){return t.getParam("content_css_cors")},_h=function(t){return t.getParam("plugins","","string")},wh=function(t){return t.getParam("external_plugins")},Oh=function(t){return t.getParam("block_unsupported_drop",!0,"boolean")},Sh=function(t){return t.getParam("visual",!0,"boolean")},Ch=function(t){return t.getParam("visual_table_class","mce-item-table","string")},kh=function(t){return t.getParam("visual_anchor_class","mce-item-anchor","string")},Th=function(t){return t.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},Mh=Ur,Dh=Qr,Ah=function(t){var e=t.parentNode;e&&e.removeChild(t)},Ih=function(t){var e=pa(t);return{count:t.length-e.length,text:e}},jh=function(t){var e;while(-1!==(e=t.data.lastIndexOf(da)))t.deleteData(e,1)},Eh=function(t,e){return Fh(t),e},Rh=function(t,e){var n=Ih(t.data.substr(0,e.offset())),r=Ih(t.data.substr(e.offset())),o=n.text+r.text;return o.length>0?(jh(t),If(t,e.offset()-n.count)):e},Nh=function(t,e){var n=e.container(),r=$(yt(n.childNodes),t).map(function(t){return t<e.offset()?If(n,e.offset()-1):e}).getOr(e);return Fh(t),r},Ph=function(t,e){return Dh(t)&&e.container()===t?Rh(t,e):Eh(t,e)},Bh=function(t,e){return e.container()===t.parentNode?Nh(t,e):Eh(t,e)},Lh=function(t,e){return If.isTextPosition(e)?Ph(t,e):Bh(t,e)},Fh=function(t){Mh(t)&&ba(t)&&(xa(t)?t.removeAttribute("data-mce-caret"):Ah(t)),Dh(t)&&(jh(t),0===t.data.length&&Ah(t))},zh=Ge().browser,Vh=ao,Hh=so,Uh=uo,Wh="*[contentEditable=false],video,audio,embed,object",Gh=function(t,e,n){var r,o,i=Kl(e.getBoundingClientRect(),n);if("BODY"===t.tagName){var a=t.ownerDocument.documentElement;r=t.scrollLeft||a.scrollLeft,o=t.scrollTop||a.scrollTop}else{var u=t.getBoundingClientRect();r=t.scrollLeft-u.left,o=t.scrollTop-u.top}i.left+=r,i.right+=r,i.top+=o,i.bottom+=o,i.width=1;var s=e.offsetWidth-e.clientWidth;return s>0&&(n&&(s*=-1),i.left+=s,i.right+=s),i},qh=function(t){for(var e=Cl(xn.fromDom(t),Wh),n=0;n<e.length;n++){var r=e[n].dom,o=r.previousSibling;if(Ta(o)){var i=o.data;1===i.length?o.parentNode.removeChild(o):o.deleteData(i.length-1,1)}if(o=r.nextSibling,ka(o)){i=o.data;1===i.length?o.parentNode.removeChild(o):o.deleteData(0,1)}}},Yh=function(t,e,n,r){var o,i,a=ll(),u=Od(t),s=u.length>0?u:"p",c=function(t,r){var o;if(l(),Uh(r))return null;if(!n(r))return i=_a(r,t),o=r.ownerDocument.createRange(),$h(i.nextSibling)?(o.setStart(i,0),o.setEnd(i,0)):(o.setStart(i,1),o.setEnd(i,1)),o;i=Ca(s,r,t);var u=Gh(e,r,t);Ic(i).css("top",u.top);var c=Ic('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Wt({},u)).appendTo(e)[0];return a.set({caret:c,element:r,before:t}),t&&Ic(c).addClass("mce-visual-caret-before"),f(),o=r.ownerDocument.createRange(),o.setStart(i,0),o.setEnd(i,0),o},l=function(){qh(e),i&&(Fh(i),i=null),a.on(function(t){Ic(t.caret).remove(),a.clear()}),o&&(Pi.clearInterval(o),o=void 0)},f=function(){o=Pi.setInterval(function(){r()?Ic("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Ic("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},d=function(){a.on(function(t){var n=Gh(e,t.element,t.before);Ic(t.caret).css(Wt({},n))})},h=function(){return Pi.clearInterval(o)},p=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:c,hide:l,getCss:p,reposition:d,destroy:h}},Xh=function(){return zh.isIE()||zh.isEdge()||zh.isFirefox()},$h=function(t){return Vh(t)||Hh(t)},Kh=function(t){return $h(t)||Kr(t)&&Xh()},Zh=ao,Jh=so,Qh=Gr("display","block table table-cell table-caption list-item"),tp=ba,ep=va,np=Ur,rp=Fa,op=function(t){return t>0},ip=function(t){return t<0},ap=function(t,e){var n;while(n=t(e))if(!ep(n))return n;return null},up=function(t,e,n,r,o){var i=new zi(t,r),a=Zh(t)||ep(t);if(ip(e)){if(a&&(t=ap(i.prev.bind(i),!0),n(t)))return t;while(t=ap(i.prev.bind(i),o))if(n(t))return t}if(op(e)){if(a&&(t=ap(i.next.bind(i),!0),n(t)))return t;while(t=ap(i.next.bind(i),o))if(n(t))return t}return null},sp=function(t,e){while(t&&t!==e){if(Qh(t))return t;t=t.parentNode}return null},cp=function(t,e,n){return sp(t.container(),n)===sp(e.container(),n)},lp=function(t,e){if(!e)return null;var n=e.container(),r=e.offset();return np(n)?n.childNodes[r+t]:null},fp=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},dp=function(t,e,n){return sp(e,t)===sp(n,t)},hp=function(t,e,n){var r=t?"previousSibling":"nextSibling";while(n&&n!==e){var o=n[r];if(tp(o)&&(o=o[r]),Zh(o)||Jh(o)){if(dp(e,o,n))return o;break}if(rp(o))break;n=n.parentNode}return null},pp=E(fp,!0),mp=E(fp,!1),gp=function(t,e,n){var r,o=E(hp,!0,e),i=E(hp,!1,e),a=n.startContainer,u=n.startOffset;if(va(a)){np(a)||(a=a.parentNode);var s=a.getAttribute("data-mce-caret");if("before"===s&&(r=a.nextSibling,Kh(r)))return pp(r);if("after"===s&&(r=a.previousSibling,Kh(r)))return mp(r)}if(!n.collapsed)return n;if(Qr(a)){if(tp(a)){if(1===t){if(r=i(a),r)return pp(r);if(r=o(a),r)return mp(r)}if(-1===t){if(r=o(a),r)return mp(r);if(r=i(a),r)return pp(r)}return n}if(Ta(a)&&u>=a.data.length-1)return 1===t&&(r=i(a),r)?pp(r):n;if(ka(a)&&u<=1)return-1===t&&(r=o(a),r)?mp(r):n;if(u===a.data.length)return r=i(a),r?pp(r):n;if(0===u)return r=o(a),r?mp(r):n}return n},vp=function(t,e){return W.from(lp(t?0:-1,e)).filter(Zh)},yp=function(t,e,n){var r=gp(t,e,n);return-1===t?If.fromRangeStart(r):If.fromRangeEnd(r)},bp=function(t){return W.from(t.getNode()).map(xn.fromDom)},xp=function(t){return W.from(t.getNode(!0)).map(xn.fromDom)},_p=function(t,e){while(e=t(e))if(e.isVisible())return e;return e},wp=function(t,e){var n=cp(t,e);return!(n||!ro(t.getNode()))||n};(function(t){t[t["Backwards"]=-1]="Backwards",t[t["Forwards"]=1]="Forwards"})(jf||(jf={}));var Op=ao,Sp=Qr,Cp=Ur,kp=ro,Tp=Fa,Mp=Wa,Dp=Ga,Ap=function(t,e){var n=[];while(t&&t!==e)n.push(t),t=t.parentNode;return n},Ip=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},jp=function(t,e){if(op(t)){if(Tp(e.previousSibling)&&!Sp(e.previousSibling))return If.before(e);if(Sp(e))return If(e,0)}if(ip(t)){if(Tp(e.nextSibling)&&!Sp(e.nextSibling))return If.after(e);if(Sp(e))return If(e,e.data.length)}return ip(t)?kp(e)?If.before(e):If.after(e):If.before(e)},Ep=function(t,e){var n=e.nextSibling;return n&&Tp(n)?Sp(n)?If(n,0):If.before(n):Rp(jf.Forwards,If.after(e),t)},Rp=function(t,e,n){var r,o,i,a;if(!Cp(n)||!e)return null;if(e.isEqual(If.after(n))&&n.lastChild){if(a=If.after(n.lastChild),ip(t)&&Tp(n.lastChild)&&Cp(n.lastChild))return kp(n.lastChild)?If.before(n.lastChild):a}else a=e;var u=a.container(),s=a.offset();if(Sp(u)){if(ip(t)&&s>0)return If(u,--s);if(op(t)&&s<u.length)return If(u,++s);r=u}else{if(ip(t)&&s>0&&(o=Ip(u,s-1),Tp(o)))return!Mp(o)&&(i=up(o,t,Dp,o),i)?Sp(i)?If(i,i.data.length):If.after(i):Sp(o)?If(o,o.data.length):If.before(o);if(op(t)&&s<u.childNodes.length&&(o=Ip(u,s),Tp(o)))return kp(o)?Ep(n,o):!Mp(o)&&(i=up(o,t,Dp,o),i)?Sp(i)?If(i,0):If.before(i):Sp(o)?If(o,0):If.after(o);r=o||a.getNode()}if((op(t)&&a.isAtEnd()||ip(t)&&a.isAtStart())&&(r=up(r,t,F,n,!0),Dp(r,n)))return jp(t,r);o=up(r,t,Dp,n);var c=Ut(nt(Ap(u,n),Op));return!c||o&&c.contains(o)?o?jp(t,o):null:(a=op(t)?If.after(c):If.before(c),a)},Np=function(t){return{next:function(e){return Rp(jf.Forwards,e,t)},prev:function(e){return Rp(jf.Backwards,e,t)}}},Pp=function(t,e,n){var r=t?If.before(n):If.after(n);return Up(t,e,r)},Bp=function(t){return ro(t)?If.before(t):If.after(t)},Lp=function(t){return If.isTextPosition(t)?0===t.offset():Fa(t.getNode())},Fp=function(t){if(If.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return Fa(t.getNode(!0))},zp=function(t,e){return!If.isTextPosition(t)&&!If.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Vp=function(t){return!If.isTextPosition(t)&&ro(t.getNode())},Hp=function(t,e,n){return t?!zp(e,n)&&!Vp(e)&&Fp(e)&&Lp(n):!zp(n,e)&&Lp(e)&&Fp(n)},Up=function(t,e,n){var r=Np(e);return W.from(t?r.next(n):r.prev(n))},Wp=function(t,e,n){return Up(t,e,n).bind(function(r){return cp(n,r,e)&&Hp(t,n,r)?Up(t,e,r):W.some(r)})},Gp=function(t,e,n,r){return Wp(t,e,n).bind(function(n){return r(n)?Gp(t,e,n,r):W.some(n)})},qp=function(t,e){var n=t?e.firstChild:e.lastChild;return Qr(n)?W.some(If(n,t?0:n.data.length)):n?Fa(n)?W.some(t?If.before(n):Bp(n)):Pp(t,e,n):W.none()},Yp=E(Up,!0),Xp=E(Up,!1),$p=E(qp,!0),Kp=E(qp,!1),Zp="_mce_caret",Jp=function(t){return Ur(t)&&t.id===Zp},Qp=function(t,e){while(e&&e!==t){if(e.id===Zp)return e;e=e.parentNode}return null},tm=function(t){return v(t.start)},em=function(t){return jt(t,"rng")},nm=function(t){return jt(t,"id")},rm=function(t){return jt(t,"name")},om=function(t){return pn.isArray(t.start)},im=function(t,e){return Ur(e)&&t.isBlock(e)&&!e.innerHTML&&!tn.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},am=function(t,e){var n,r=t.createRng();return n=Kf(t.getRoot(),e.start),r.setStart(n.container(),n.offset()),n=Kf(t.getRoot(),e.end),r.setEnd(n.container(),n.offset()),r},um=function(t,e){var n=t.ownerDocument.createTextNode(da);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)},sm=function(t){return!1===t.hasChildNodes()},cm=function(t,e){return Kp(t).fold(L,function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0})},lm=function(t,e,n){return!(!sm(e)||!Qp(t,e))&&(um(e,n),!0)},fm=function(t,e,n,r){var o,i,a,u,s=n[e?"start":"end"],c=t.getRoot();if(s){for(a=s[0],i=c,o=s.length-1;o>=1;o--){if(u=i.childNodes,lm(c,i,r))return!0;if(s[o]>u.length-1)return!!lm(c,i,r)||cm(i,r);i=u[s[o]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),e?r.setStart(i,a):r.setEnd(i,a)}return!0},dm=function(t){return Qr(t)&&t.data.length>0},hm=function(t,e,n){var r,o,i,a,u,s,c=t.get(n.id+"_"+e),l=n.keep;if(c){if(r=c.parentNode,"start"===e?(l?c.hasChildNodes()?(r=c.firstChild,o=1):dm(c.nextSibling)?(r=c.nextSibling,o=0):dm(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=t.nodeIndex(c)+1):o=t.nodeIndex(c),u=r,s=o):(l?c.hasChildNodes()?(r=c.firstChild,o=1):dm(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=t.nodeIndex(c)):o=t.nodeIndex(c),u=r,s=o),!l){a=c.previousSibling,i=c.nextSibling,pn.each(pn.grep(c.childNodes),function(t){Qr(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});while(c=t.get(n.id+"_"+e))t.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&Qr(a)&&!tn.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),t.remove(i),u=a,s=o)}return W.some(If(u,s))}return W.none()},pm=function(t,e){var n=t.createRng();return fm(t,!0,e,n)&&fm(t,!1,e,n)?W.some(n):W.none()},mm=function(t,e){var n=hm(t,"start",e),r=hm(t,"end",e);return fo(n,r.or(n),function(e,n){var r=t.createRng();return r.setStart(im(t,e.container()),e.offset()),r.setEnd(im(t,n.container()),n.offset()),r})},gm=function(t,e){return W.from(t.select(e.name)[e.index]).map(function(e){var n=t.createRng();return n.selectNode(e),n})},vm=function(t,e){var n=t.dom;if(e){if(om(e))return pm(n,e);if(tm(e))return W.some(am(n,e));if(nm(e))return mm(n,e);if(rm(e))return gm(n,e);if(em(e))return W.some(e.rng)}return W.none()},ym=function(t,e,n){return fd(t,e,n)},bm=function(t,e){vm(t,e).each(function(e){t.setRng(e)})},xm=function(t){return Ur(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},_m=function(t){return function(e){return t===e}},wm=_m(ca),Om=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},Sm=function(t){return!Om(t)&&!wm(t)},Cm=function(t){return!!t.nodeType},km=function(t){return t&&/^(IMG)$/.test(t.nodeName)},Tm=function(t,e,n){var r=n.startOffset,o=n.startContainer;if((o!==n.endContainer||!km(o.childNodes[r]))&&Ur(o)){var i=o.childNodes,a=void 0;r<i.length?(o=i[r],a=new zi(o,t.getParent(o,t.isBlock))):(o=i[i.length-1],a=new zi(o,t.getParent(o,t.isBlock)),a.next(!0));for(var u=a.current();u;u=a.next())if(Qr(u)&&!Im(u))return n.setStart(u,0),void e.setRng(n)}},Mm=function(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(Ur(t)||!Im(t))return t}},Dm=function(t,e){return Cm(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},Am=function(t,e,n){return t.schema.isValidChild(e,n)},Im=function(t,e){if(void 0===e&&(e=!1),S(t)&&Qr(t)){var n=e?t.data.replace(/ /g,""):t.data;return Ya(n)}return!1},jm=function(t){return S(t)&&Qr(t)&&0===t.length},Em=function(t,e){return C(t)?t=t(e):S(e)&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t},Rm=function(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},Nm=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},Pm=function(t,e,n){return Nm(t,t.getStyle(e,n),n)},Bm=function(t,e){var n;return t.getParent(e,function(e){return n=t.getStyle(e,"text-decoration"),n&&"none"!==n}),n},Lm=function(t,e,n){return t.getParents(e,n,t.getRoot())},Fm=function(t,e){var n=function(t){var e=function(t){return t.length>1&&"%"===t.charAt(0)};return Z(["styles","attributes"],function(n){return It(t,n).exists(function(t){var n=b(t)?t:At(t);return Z(n,e)})})};return Z(t.formatter.get(e),n)},zm=function(t,e,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(t){return Mt(t,function(t,e){return Z(r,function(t){return t===e})})};return Z(t.formatter.get(e),function(e){var r=o(e);return Z(t.formatter.get(n),function(t){var e=o(t);return Rt(r,e)})})},Vm=function(t){return Et(t,"block")},Hm=function(t){return Et(t,"selector")},Um=function(t){return Et(t,"inline")},Wm=function(t){return Hm(t)&&Um(t)&&co(It(t,"mixed"),!0)},Gm=function(t){return Hm(t)&&!1!==t.expand&&!Um(t)},qm=xm,Ym=Lm,Xm=Im,$m=Dm,Km=function(t){return ro(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},Zm=function(t,e){var n=e;while(n){if(Ur(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},Jm=function(t,e,n,r){for(var o=e.data,i=n;t?i>=0:i<o.length;t?i--:i++)if(r(o.charAt(i)))return t?i+1:i;return-1},Qm=function(t,e,n){return Jm(t,e,n,function(t){return wm(t)||Om(t)})},tg=function(t,e,n){return Jm(t,e,n,Sm)},eg=function(t,e,n,r,o,i){var a,u=t.getParent(n,t.isBlock)||e,s=function(e,n,r){var i=Yl(t),s=o?i.backwards:i.forwards;return W.from(s(e,n,function(t,e){return qm(t.parentNode)?-1:(a=t,r(o,t,e))},u))},c=s(n,r,Qm);return c.bind(function(t){return i?s(t.container,t.offset+(o?-1:0),tg):W.some(t)}).orThunk(function(){return a?W.some({container:a,offset:o?0:a.length}):W.none()})},ng=function(t,e,n,r,o){Qr(r)&&me(r.data)&&r[o]&&(r=r[o]);for(var i=Ym(t,r),a=0;a<i.length;a++)for(var u=0;u<e.length;u++){var s=e[u];if((!S(s.collapsed)||s.collapsed===n.collapsed)&&(Hm(s)&&t.is(i[a],s.selector)))return i[a]}return r},rg=function(t,e,n,r){var o=n,i=t.dom,a=i.getRoot(),u=e[0];if(Vm(u)&&(o=u.wrapper?null:i.getParent(n,u.block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(Qr(n)?n.parentNode:n,function(e){return e!==a&&$m(t,e)},s)}if(o&&Vm(u)&&u.wrapper&&(o=Ym(i,o,"ul,ol").reverse()[0]||o),!o){o=n;while(o[r]&&!i.isBlock(o[r]))if(o=o[r],Rm(o,"br"))break}return o||n},og=function(t,e,n,r){var o=n.parentNode;return!S(n[r])&&(!(o!==e&&!O(o)&&!t.isBlock(o))||og(t,e,o,r))},ig=function(t,e,n,r,o){var i=n,a=o?"previousSibling":"nextSibling",u=t.getRoot();if(Qr(n)&&!Xm(n)&&(o?r>0:r<n.data.length))return n;while(1){if(!e[0].block_expand&&t.isBlock(i))return i;for(var s=i[a];s;s=s[a]){var c=Qr(s)&&!og(t,u,s,a);if(!qm(s)&&!Km(s)&&!Xm(s,c))return i}if(i===u||i.parentNode===u){n=i;break}i=i.parentNode}return n},ag=function(t){return qm(t.parentNode)||qm(t)},ug=function(t,e,n,r){void 0===r&&(r=!1);var o=e.startContainer,i=e.startOffset,a=e.endContainer,u=e.endOffset,s=t.dom,c=n[0];if(Ur(o)&&o.hasChildNodes()&&(o=of(o,i),Qr(o)&&(i=0)),Ur(a)&&a.hasChildNodes()&&(a=of(a,e.collapsed?u:u-1),Qr(a)&&(u=a.nodeValue.length)),o=Zm(s,o),a=Zm(s,a),ag(o)&&(o=qm(o)?o:o.parentNode,o=e.collapsed?o.previousSibling||o:o.nextSibling||o,Qr(o)&&(i=e.collapsed?o.length:0)),ag(a)&&(a=qm(a)?a:a.parentNode,a=e.collapsed?a.nextSibling||a:a.previousSibling||a,Qr(a)&&(u=e.collapsed?0:a.length)),e.collapsed){var l=eg(s,t.getBody(),o,i,!0,r);l.each(function(t){var e=t.container,n=t.offset;o=e,i=n});var f=eg(s,t.getBody(),a,u,!1,r);f.each(function(t){var e=t.container,n=t.offset;a=e,u=n})}return(Um(c)||c.block_expand)&&(Um(c)&&Qr(o)&&0!==i||(o=ig(s,n,o,i,!0)),Um(c)&&Qr(a)&&u!==a.nodeValue.length||(a=ig(s,n,a,u,!1))),Gm(c)&&(o=ng(s,n,e,o,"previousSibling"),a=ng(s,n,e,a,"nextSibling")),(Vm(c)||Hm(c))&&(o=rg(t,n,o,"previousSibling"),a=rg(t,n,a,"nextSibling"),Vm(c)&&(s.isBlock(o)||(o=ig(s,n,o,i,!0)),s.isBlock(a)||(a=ig(s,n,a,u,!1)))),Ur(o)&&(i=s.nodeIndex(o),o=o.parentNode),Ur(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},sg=function(t,e,n){var r=e.startOffset,o=of(e.startContainer,r),i=e.endOffset,a=of(e.endContainer,i-1),u=function(t){var e=t[0];Qr(e)&&e===o&&r>=e.data.length&&t.splice(0,1);var n=t[t.length-1];return 0===i&&t.length>0&&n===a&&Qr(n)&&t.splice(t.length-1,1),t},s=function(t,e,n){for(var r=[];t&&t!==n;t=t[e])r.push(t);return r},c=function(e,n){return t.getParent(e,function(t){return t.parentNode===n},n)},l=function(t,e,r){for(var o=r?"nextSibling":"previousSibling",i=t,a=i.parentNode;i&&i!==e;i=a){a=i.parentNode;var c=s(i===t?i:i[o],o);c.length&&(r||c.reverse(),n(u(c)))}};if(o===a)return n(u([o]));var f=t.findCommonAncestor(o,a);if(t.isChildOf(o,a))return l(o,f,!0);if(t.isChildOf(a,o))return l(a,f);var d=c(o,f)||o,h=c(a,f)||a;l(o,d,!0);var p=s(d===o?d:d.nextSibling,"nextSibling",h===a?h.nextSibling:h);p.length&&n(u(p)),l(a,h)},cg=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},lg=function(t){return ct(t,function(t){var e=rf(t);return e?[xn.fromDom(e)]:[]})},fg=function(t){return cg(t).length>1},dg=function(t){return nt(lg(t),ia)},hg=function(t){return Cl(t,"td[data-mce-selected],th[data-mce-selected]")},pg=function(t,e){var n=hg(e);return n.length>0?n:dg(t)},mg=function(t){return pg(cg(t.selection.getSel()),xn.fromDom(t.getBody()))},gg=function(t,e){return ki(t,"table",e)},vg=function(t){var e=t.startContainer,n=t.startOffset;return Qr(e)?0===n?W.some(xn.fromDom(e)):W.none():W.from(e.childNodes[n]).map(xn.fromDom)},yg=function(t){var e=t.endContainer,n=t.endOffset;return Qr(e)?n===e.data.length?W.some(xn.fromDom(e)):W.none():W.from(e.childNodes[n-1]).map(xn.fromDom)},bg=function(t){return ir(t).fold(A([t]),function(e){return[t].concat(bg(e))})},xg=function(t){return ar(t).fold(A([t]),function(e){return"br"===Bn(e)?Qn(e).map(function(e){return[t].concat(xg(e))}).getOr([]):[t].concat(xg(e))})},_g=function(t,e){return fo(vg(e),yg(e),function(e,n){var r=at(bg(t),E(En,e)),o=at(xg(t),E(En,n));return r.isSome()&&o.isSome()}).getOr(!1)},wg=function(t,e,n,r){var o=n,i=new zi(n,o),a=Mt(t.schema.getMoveCaretBeforeOnEnterElements(),function(t,e){return!K(["td","th","table"],e.toLowerCase())});do{if(Qr(n)&&0!==pn.trim(n.nodeValue).length)return void(r?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},Og=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},Sg=function(t,e){var n=mg(t);n.length>0?Q(n,function(n){var r=n.dom,o=t.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),e(o,!0)}):e(t.selection.getRng(),!1)},Cg=function(t,e,n){var r=ld(t,e);n(r),t.moveToBookmark(r)},kg=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?W.from(e.dom.nodeValue):W.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}},Tg=kg(Hn,"text"),Mg=function(t){return Tg.get(t)},Dg=function(t){return Hn(t)&&Mg(t)===da},Ag=function(t,e,n,r){return Kn(e).fold(function(){return"skipping"},function(o){return"br"===r||Dg(e)?"valid":Al(e)?"existing":Jp(e.dom)?"caret":Am(t,n,r)&&Am(t,Bn(o),n)?"valid":"invalid-child"})},Ig=function(t,e){var n=ug(t,e,[{inline:"span"}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)},jg=function(t,e,n,r){var o=e.uid,i=void 0===o?Bl("mce-annotation"):o,a=Gt(e,["uid"]),u=xn.fromTag("span",t);xl(u,kl()),vo(u,""+Ml(),i),vo(u,""+Tl(),n);var s=r(i,a),c=s.attributes,l=void 0===c?{}:c,f=s.classes,d=void 0===f?[]:f;return yo(u,l),Ll(u,d),u},Eg=function(t,e,n,r,o){var i=[],a=jg(t.getDoc(),o,n,r),u=ll(),s=function(){u.clear()},c=function(){return u.get().getOrThunk(function(){var t=Wl(a);return i.push(t),u.set(t),t})},l=function(t){Q(t,f)},f=function(e){var n=Ag(t,e,"span",Bn(e));switch(n){case"invalid-child":s();var r=rr(e);l(r),s();break;case"valid":var o=c();wr(e,o);break}},d=function(t){var e=J(t,xn.fromDom);l(e)};return sg(t.dom,e,function(t){s(),d(t)}),i},Rg=function(t,e,n,r){t.undoManager.transact(function(){var o=t.selection,i=o.getRng(),a=mg(t).length>0;if(i.collapsed&&!a&&Ig(t,i),o.getRng().collapsed&&!a){var u=jg(t.getDoc(),r,e,n.decorate);Hl(u,ca),o.getRng().insertNode(u.dom),o.select(u.dom)}else Cg(o,!1,function(){Sg(t,function(o){Eg(t,o,e,n.decorate,r)})})})},Ng=function(t){var e=Nl();Rl(t,e);var n=El(t);return{register:function(t,n){e.register(t,n)},annotate:function(n,r){e.lookup(n).each(function(e){Rg(t,n,e,r)})},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(e){Dl(t,W.some(e)).each(function(t){var e=t.elements;Q(e,Tr)})},getAll:function(e){var n=jl(t,e);return Ot(n,function(t){return J(t,function(t){return t.dom})})}}},Pg=function(t){return{getBookmark:E(ym,t),moveToBookmark:E(bm,t)}};Pg.isBookmarkNode=xm;var Bg=function(t,e){while(e&&e!==t){if(io(e)||ao(e))return e;e=e.parentNode}return null},Lg=function(t,e,n){if(n.collapsed)return!1;if(tn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Ur(r))return Z(r.getClientRects(),function(n){return ef(n,t,e)})}return Z(n.getClientRects(),function(n){return ef(n,t,e)})},Fg=function(t,e){return t.fire("PreProcess",e)},zg=function(t,e){return t.fire("PostProcess",e)},Vg=function(t){return t.fire("remove")},Hg=function(t){return t.fire("detach")},Ug=function(t,e){return t.fire("SwitchMode",{mode:e})},Wg=function(t,e,n,r,o){t.fire("ObjectResizeStart",{target:e,width:n,height:r,origin:o})},Gg=function(t,e,n,r,o){t.fire("ObjectResized",{target:e,width:n,height:r,origin:o})},qg=function(t){return t.fire("PreInit")},Yg=function(t){return t.fire("PostRender")},Xg=function(t){return t.fire("Init")},$g=function(t,e){return t.fire("PlaceholderToggle",{state:e})},Kg=function(t,e,n){return t.fire(e,n)},Zg=function(t,e,n,r){return t.fire("FormatApply",{format:e,node:n,vars:r})},Jg=function(t,e,n,r){return t.fire("FormatRemove",{format:e,node:n,vars:r})},Qg={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||Qg.metaKeyPressed(t)},metaKeyPressed:function(t){return tn.mac?t.metaKey:t.ctrlKey&&!t.altKey}},tv=ao,ev=function(t,e){var n,r,o,i,a,u,s,c,l,f,d,h,p,m,g,v,y,b="data-mce-selected",x=e.dom,_=pn.each,w=e.getDoc(),O=document,C=Math.abs,k=Math.round,T=e.getBody(),M={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},D=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},A=function(t){return so(t)||x.hasClass(t,"mce-preview-object")},I=function(t,e){if("longpress"===t.type||0===t.type.indexOf("touch")){var n=t.touches[0];return D(t.target)&&!Lg(n.clientX,n.clientY,e)}return D(t.target)&&!Lg(t.clientX,t.clientY,e)},j=function(t){var n=t.target;I(t,e.selection.getRng())&&!t.isDefaultPrevented()&&e.selection.select(n)},E=function(t){return x.is(t,"figure.image")?[t.querySelector("img")]:x.hasClass(t,"mce-preview-object")&&S(t.firstElementChild)?[t,t.firstElementChild]:[t]},R=function(t){var n=Zd(e);return!!n&&("false"!==t.getAttribute("data-mce-resize")&&(t!==e.getBody()&&(x.hasClass(t,"mce-preview-object")?Dn(xn.fromDom(t.firstElementChild),n):Dn(xn.fromDom(t),n))))},N=function(t){return A(t)?x.create("img",{src:tn.transparentSrc}):t.cloneNode(!0)},P=function(t,n,r){if(S(r)){var o=E(t);Q(o,function(t){t.style[n]||!e.schema.isValid(t.nodeName.toLowerCase(),n)?x.setStyle(t,n,r):x.setAttrib(t,n,""+r)})}},B=function(t,e,n){P(t,"width",e),P(t,"height",n)},L=function(t){var a,b,_,w,O;a=t.screenX-u,b=t.screenY-s,m=a*i[2]+f,g=b*i[3]+d,m=m<5?5:m,g=g<5?5:g,_=(D(n)||A(n))&&!1!==Jd(e)?!Qg.modifierPressed(t):Qg.modifierPressed(t),_&&(C(a)>C(b)?(g=k(m*h),m=k(g/h)):(m=k(g/h),g=k(m*h))),B(r,m,g),w=i.startPos.x+a,O=i.startPos.y+b,w=w>0?w:0,O=O>0?O:0,x.setStyles(o,{left:w,top:O,display:"block"}),o.innerHTML=m+" &times; "+g,i[2]<0&&r.clientWidth<=m&&x.setStyle(r,"left",c+(f-m)),i[3]<0&&r.clientHeight<=g&&x.setStyle(r,"top",l+(d-g)),a=T.scrollWidth-v,b=T.scrollHeight-y,a+b!==0&&x.setStyles(o,{left:w-a,top:O-b}),p||(Wg(e,n,f,d,"corner-"+i.name),p=!0)},F=function(){var t=p;p=!1,t&&(P(n,"width",m),P(n,"height",g)),x.unbind(w,"mousemove",L),x.unbind(w,"mouseup",F),O!==w&&(x.unbind(O,"mousemove",L),x.unbind(O,"mouseup",F)),x.remove(r),x.remove(o),x.remove(a),z(n),t&&(Gg(e,n,m,g,"corner-"+i.name),x.setAttrib(n,"style",x.getAttrib(n,"style"))),e.nodeChanged()},z=function(t){W();var c=x.getPos(t,T),l=c.x,p=c.y,S=t.getBoundingClientRect(),C=S.width||S.right-S.left,k=S.height||S.bottom-S.top;n!==t&&(V(),n=t,m=g=0);var D=e.fire("ObjectSelected",{target:t}),A=x.getAttrib(n,b,"1");R(t)&&!D.isDefaultPrevented()?_(M,function(t,e){var c,m=function(c){var m=E(n)[0];u=c.screenX,s=c.screenY,f=m.clientWidth,d=m.clientHeight,h=d/f,i=t,i.name=e,i.startPos={x:C*t[0]+l,y:k*t[1]+p},v=T.scrollWidth,y=T.scrollHeight,a=x.add(T,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),x.setStyles(a,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=N(n),x.addClass(r,"mce-clonedresizable"),x.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",x.setStyles(r,{left:l,top:p,margin:0}),B(r,C,k),r.removeAttribute(b),T.appendChild(r),x.bind(w,"mousemove",L),x.bind(w,"mouseup",F),O!==w&&(x.bind(O,"mousemove",L),x.bind(O,"mouseup",F)),o=x.add(T,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+d)};c=x.get("mceResizeHandle"+e),c&&x.remove(c),c=x.add(T,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===tn.ie&&(c.contentEditable=!1),x.bind(c,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),m(t)}),t.elm=c,x.setStyles(c,{left:C*t[0]+l-c.offsetWidth/2,top:k*t[1]+p-c.offsetHeight/2})}):V(),x.getAttrib(n,b)||n.setAttribute(b,A)},V=function(){W(),n&&n.removeAttribute(b),wt(M,function(t,e){var n=x.get("mceResizeHandle"+e);n&&(x.unbind(n),x.remove(n))})},H=function(n){var r,o,i=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};p||e.removed||(_(x.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute(b)}),o="mousedown"===n.type?n.target:t.getNode(),o=x.$(o).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],i(o,T)&&(G(),r=t.getStart(!0),i(r,o)&&i(t.getEnd(!0),o))?z(o):V())},U=function(t){return tv(Bg(e.getBody(),t))},W=function(){wt(M,function(t){t.elm&&(x.unbind(t.elm),delete t.elm)})},G=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(t){}};e.on("init",function(){if(G(),tn.browser.isIE()||tn.browser.isEdge()){e.on("mousedown click",function(t){var n=t.target,r=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(r)||U(n)||(2!==t.button&&e.selection.select(n,"TABLE"===r),"mousedown"===t.type&&e.nodeChanged())});var t=function(t){var n=function(t){Pi.setEditorTimeout(e,function(){return e.selection.select(t)})};if(U(t.target)||so(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))};x.bind(T,"mscontrolselect",t),e.on("remove",function(){return x.unbind(T,"mscontrolselect",t)})}var r=Pi.throttle(function(t){e.composing||H(t)});e.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),e.on("keyup compositionend",function(t){n&&"TABLE"===n.nodeName&&r(t)}),e.on("hide blur",V),e.on("contextmenu longpress",j,!0)}),e.on("remove",W);var q=function(){n=r=a=null};return{isResizable:R,showResizeRect:z,hideResizeRect:V,updateResizeRect:H,destroy:q}},nv=function(t){return io(t)||ao(t)},rv=function(t,e,n){while(t&&t!==e){if(n(t))return t;t=t.parentNode}return null},ov=function(t,e,n){var r,o=n.elementFromPoint(t,e),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),r=pn.toArray(i.getClientRects()),r=r.sort(function(t,n){return t=Math.abs(Math.max(t.top-e,t.bottom-e)),n=Math.abs(Math.max(n.top-e,n.bottom-e)),t-n}),r.length>0){e=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(t,e),i.collapse(!0),i}catch(a){}}return null},iv=function(t,e){var n=t&&t.parentElement?t.parentElement():null;return ao(rv(n,e,nv))?null:t},av=function(t,e,n){var r,o,i=n;if(i.caretPositionFromPoint)o=i.caretPositionFromPoint(t,e),o&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(t,e);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(t,e),r.collapse(!0)}catch(a){r=ov(t,e,n)}return iv(r,n.body)}return r},uv=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},sv=function(t,e,n){while(t&&t!==e){if(n(t))return t;t=t.parentNode}return null},cv=function(t,e,n){return null!==sv(t,e,n)},lv=function(t,e,n){return cv(t,e,function(t){return t.nodeName===n})},fv=function(t){return t&&"TABLE"===t.nodeName},dv=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},hv=function(t,e){return ba(t)&&!1===cv(t,e,Jp)},pv=function(t,e,n){var r=new zi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());while(e=r[n?"prev":"next"]())if(ro(e))return!0},mv=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},gv=function(t,e){while(e&&e!==t){if(ao(e))return!0;e=e.parentNode}return!1},vv=function(t,e,n,r,o){var i,a,u=t.getRoot(),s=t.schema.getNonEmptyElements(),c=t.getParent(o.parentNode,t.isBlock)||u;if(r&&ro(o)&&e&&t.isEmpty(c))return W.some(If(o.parentNode,t.nodeIndex(o)));var l=new zi(o,c);while(a=l[r?"prev":"next"]()){if("false"===t.getContentEditableParent(a)||hv(a,u))return W.none();if(Qr(a)&&a.nodeValue.length>0)return!1===lv(a,u,"A")?W.some(If(a,r?a.nodeValue.length:0)):W.none();if(t.isBlock(a)||s[a.nodeName.toLowerCase()])return W.none();i=a}return n&&i?W.some(If(i,0)):W.none()},yv=function(t,e,n,r){var o,i,a,u,s=t.getRoot(),c=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=Ur(o)&&i===o.childNodes.length,f=t.schema.getNonEmptyElements();if(u=n,ba(o))return W.none();if(Ur(o)&&i>o.childNodes.length-1&&(u=!1),eo(o)&&(o=s,i=0),o===s){if(u&&(a=o.childNodes[i>0?i-1:0],a)){if(ba(a))return W.none();if(f[a.nodeName]||fv(a))return W.none()}if(o.hasChildNodes()){if(i=Math.min(!u&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Qr(o)&&l?o.data.length:0,!e&&o===s.lastChild&&fv(o))return W.none();if(gv(s,o)||ba(o))return W.none();if(o.hasChildNodes()&&!1===fv(o)){a=o;var d=new zi(o,s);do{if(ao(a)||ba(a)){c=!1;break}if(Qr(a)&&a.nodeValue.length>0){i=u?0:a.nodeValue.length,o=a,c=!0;break}if(f[a.nodeName.toLowerCase()]&&!dv(a)){i=t.nodeIndex(a),o=a.parentNode,u||i++,c=!0;break}}while(a=u?d.next():d.prev())}}}return e&&(Qr(o)&&0===i&&vv(t,l,e,!0,o).each(function(t){o=t.container(),i=t.offset(),c=!0}),Ur(o)&&(a=o.childNodes[i],a||(a=o.childNodes[i-1]),!a||!ro(a)||mv(a,"A")||pv(t,a,!1)||pv(t,a,!0)||vv(t,l,e,!0,a).each(function(t){o=t.container(),i=t.offset(),c=!0}))),u&&!e&&Qr(o)&&i===o.nodeValue.length&&vv(t,l,e,!1,o).each(function(t){o=t.container(),i=t.offset(),c=!0}),c?W.some(If(o,i)):W.none()},bv=function(t,e){var n=e.collapsed,r=e.cloneRange(),o=If.fromRangeStart(e);return yv(t,n,!0,r).each(function(t){n&&If.isAbove(o,t)||r.setStart(t.container(),t.offset())}),n||yv(t,n,!1,r).each(function(t){r.setEnd(t.container(),t.offset())}),n&&r.collapse(!0),uv(e,r)?W.none():W.some(r)},xv=function(t,e){return t.splitText(e)},_v=function(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset;return e===r&&Qr(e)?n>0&&n<e.nodeValue.length&&(r=xv(e,n),e=r.previousSibling,o>n?(o-=n,e=r=xv(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(Qr(e)&&n>0&&n<e.nodeValue.length&&(e=xv(e,n),n=0),Qr(r)&&o>0&&o<r.nodeValue.length&&(r=xv(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:e,startOffset:n,endContainer:r,endOffset:o}},wv=function(t){var e=function(e,n){return sg(t,e,n)},n=_v,r=function(e){return bv(t,e).fold(L,function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0})};return{walk:e,split:n,normalize:r}};wv.compareRanges=uv,wv.getCaretRangeFromPoint=av,wv.getSelectedNode=rf,wv.getNode=of;var Ov,Sv=function(t,e){var n=function(e,n){if(!k(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;mo(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=ko(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return ot(e,function(e,n){var r=ko(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o},0)},a=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}},Cv=Sv("height",function(t){var e=t.dom;return Mr(t)?e.getBoundingClientRect().height:e.offsetHeight}),kv=function(t){return Cv.get(t)},Tv=function(t,e){var n=t.view(e);return n.fold(A([]),function(e){var n=t.owner(e),r=Tv(t,n);return[e].concat(r)})},Mv=function(t,e){var n=e.owner(t);return Tv(e,n)},Dv=function(t){var e,n=t.dom===document?W.none():W.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement);return n.map(xn.fromDom)},Av=function(t){return Yn(t)},Iv=Object.freeze({__proto__:null,view:Dv,owner:Av}),jv=function(t){var e=xn.fromDom(document),n=Nr(e),r=Mv(t,Iv),o=Rr(t),i=rt(r,function(t,e){var n=Rr(e);return{left:t.left+n.left,top:t.top+n.top}},{left:0,top:0});return Ar(i.left+o.left+n.left,i.top+o.top+n.top)},Ev=function(t){return"textarea"===Bn(t)},Rv=function(t,e){var n=t.fire("ScrollIntoView",e);return n.isDefaultPrevented()},Nv=function(t,e){t.fire("AfterScrollIntoView",e)},Pv=function(t,e){var n=rr(t);if(0===n.length||Ev(t))return{element:t,offset:e};if(e<n.length&&!Ev(n[e]))return{element:n[e],offset:0};var r=n[n.length-1];return Ev(r)?{element:t,offset:e}:"img"===Bn(r)?{element:r,offset:1}:Hn(r)?{element:r,offset:Mg(r).length}:{element:r,offset:rr(r).length}},Bv=function(t,e){var n=Er(t),r=kv(t);return{element:t,bottom:n.top+r,height:r,pos:n,cleanup:e}},Lv=function(t,e){var n=Pv(t,e),r=xn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+da+"</span>");return yr(n.element,r),Bv(r,function(){return kr(r)})},Fv=function(t){return Bv(xn.fromDom(t),T)},zv=function(t,e,n,r){Wv(t,function(o,i){return Hv(t,e,n,r)},n)},Vv=function(t,e,n,r,o){var i={elm:r.element.dom,alignToTop:o};if(!Rv(t,i)){var a=Nr(e).top;n(e,a,r,o),Nv(t,i)}},Hv=function(t,e,n,r){var o=xn.fromDom(t.getBody()),i=xn.fromDom(t.getDoc());Ao(o);var a=Lv(xn.fromDom(n.startContainer),n.startOffset);Vv(t,i,e,a,r),a.cleanup()},Uv=function(t,e,n,r){var o=xn.fromDom(t.getDoc());Vv(t,o,n,Fv(e),r)},Wv=function(t,e,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;e(xn.fromDom(r),xn.fromDom(i));var u=t.dom.createRng();u.setStart(r,o),u.setEnd(i,a),t.selection.setRng(n)},Gv=function(t,e,n,r){var o=t.pos;if(n)Pr(o.left,o.top,r);else{var i=o.top-e+t.height;Pr(o.left,i,r)}},qv=function(t,e,n,r,o){var i=n+e,a=r.pos.top,u=r.bottom,s=u-a>=n;if(a<e)Gv(r,n,!1!==o,t);else if(a>i){var c=s?!1!==o:!0===o;Gv(r,n,c,t)}else u>i&&!s&&Gv(r,n,!0===o,t)},Yv=function(t,e,n,r){var o=t.dom.defaultView.innerHeight;qv(t,e,o,n,r)},Xv=function(t,e,n,r){var o=t.dom.defaultView.innerHeight;qv(t,e,o,n,r);var i=jv(n.element),a=zr(window);i.top<a.y?Br(n.element,!1!==r):i.top>a.bottom&&Br(n.element,!0===r)},$v=function(t,e,n){return zv(t,Yv,e,n)},Kv=function(t,e,n){return Uv(t,e,Yv,n)},Zv=function(t,e,n){return zv(t,Xv,e,n)},Jv=function(t,e,n){return Uv(t,e,Xv,n)},Qv=function(t,e,n){var r=t.inline?Kv:Jv;r(t,e,n)},ty=function(t,e,n){var r=t.inline?$v:Zv;r(t,e,n)},ey=function(){return xn.fromDom(document)},ny=function(t){return t.dom.focus()},ry=function(t){var e=dr(t).dom;return t.dom===e.activeElement},oy=function(t){return void 0===t&&(t=ey()),W.from(t.dom.activeElement).map(xn.fromDom)},iy=function(t){return oy(dr(t)).filter(function(e){return t.dom.contains(e.dom)})},ay=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},uy={create:ay},sy=ti.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cy=function(t,e,n,r){return t.fold(e,n,r)},ly=function(t){return t.fold(I,I,I)},fy=sy.before,dy=sy.on,hy=sy.after,py={before:fy,on:dy,after:hy,cata:cy,getStart:ly},my=ti.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gy=function(t){return my.exact(t.start,t.soffset,t.finish,t.foffset)},vy=function(t){return t.match({domRange:function(t){return xn.fromDom(t.startContainer)},relative:function(t,e){return py.getStart(t)},exact:function(t,e,n,r){return t}})},yy=my.domRange,by=my.relative,xy=my.exact,_y=function(t){var e=vy(t);return $n(e)},wy=uy.create,Oy={domRange:yy,relative:by,exact:xy,exactFromRange:gy,getWin:_y,range:wy},Sy=Ge().browser,Cy=function(t,e){var n=Hn(e)?Mg(e).length:rr(e).length+1;return t>n?n:t<0?0:t},ky=function(t){return Oy.range(t.start,Cy(t.soffset,t.start),t.finish,Cy(t.foffset,t.finish))},Ty=function(t,e){return!Hr(e.dom)&&(Pn(t,e)||En(t,e))},My=function(t){return function(e){return Ty(t,e.start)&&Ty(t,e.finish)}},Dy=function(t){return!0===t.inline||Sy.isIE()},Ay=function(t){return Oy.range(xn.fromDom(t.startContainer),t.startOffset,xn.fromDom(t.endContainer),t.endOffset)},Iy=function(t){var e=t.getSelection(),n=e&&0!==e.rangeCount?W.from(e.getRangeAt(0)):W.none();return n.map(Ay)},jy=function(t){var e=$n(t);return Iy(e.dom).filter(My(t))},Ey=function(t,e){return W.from(e).filter(My(t)).map(ky)},Ry=function(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),W.some(e)}catch(n){return W.none()}},Ny=function(t){var e=Dy(t)?jy(xn.fromDom(t.getBody())):W.none();t.bookmark=e.isSome()?e:t.bookmark},Py=function(t,e){var n=xn.fromDom(t.getBody()),r=Dy(t)?W.from(e):W.none(),o=r.map(Ay).filter(My(n));t.bookmark=o.isSome()?o:t.bookmark},By=function(t){var e=t.bookmark?t.bookmark:W.none();return e.bind(function(e){return Ey(xn.fromDom(t.getBody()),e)}).bind(Ry)},Ly=function(t){By(t).each(function(e){return t.selection.setRng(e)})},Fy=function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")},zy={isEditorUIElement:Fy},Vy=function(t){return"nodechange"===t.type&&t.selectionChange},Hy=function(t,e){var n=function(){e.throttle()};Fc.DOM.bind(document,"mouseup",n),t.on("remove",function(){Fc.DOM.unbind(document,"mouseup",n)})},Uy=function(t){t.on("focusout",function(){Ny(t)})},Wy=function(t,e){t.on("mouseup touchend",function(t){e.throttle()})},Gy=function(t,e){var n=Ge().browser;n.isIE()?Uy(t):Wy(t,e),t.on("keyup NodeChange",function(e){Vy(e)||Ny(t)})},qy=function(t){var e=fl(function(){Ny(t)},0);t.on("init",function(){t.inline&&Hy(t,e),Gy(t,e)}),t.on("remove",function(){e.cancel()})},Yy=Fc.DOM,Xy=function(t){return zy.isEditorUIElement(t)},$y=function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},Ky=function(t,e){var n=sh(t),r=Yy.getParent(e,function(e){return Xy(e)||!!n&&t.dom.is(e,n)});return null!==r},Zy=function(t){try{var e=dr(xn.fromDom(t.getElement()));return oy(e).fold(function(){return document.body},function(t){return t.dom})}catch(n){return document.body}},Jy=function(t,e){var n=e.editor;qy(n),n.on("focusin",function(){var e=t.focusedEditor;e!==n&&(e&&e.fire("blur",{focusedEditor:n}),t.setActive(n),t.focusedEditor=n,n.fire("focus",{blurredEditor:e}),n.focus(!0))}),n.on("focusout",function(){Pi.setEditorTimeout(n,function(){var e=t.focusedEditor;Ky(n,Zy(n))||e!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Ov||(Ov=function(e){var n=t.activeEditor;n&&gr(e).each(function(e){e.ownerDocument===document&&(e===document.body||Ky(n,e)||t.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null))})},Yy.bind(document,"focusin",Ov))},Qy=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(Yy.unbind(document,"focusin",Ov),Ov=null)},tb=function(t){t.on("AddEditor",E(Jy,t)),t.on("RemoveEditor",E(Qy,t))},eb=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})},nb=function(t){return t.collapsed?W.from(of(t.startContainer,t.startOffset)).map(xn.fromDom):W.none()},rb=function(t,e){return nb(e).bind(function(e){return oa(e)?W.some(e):!1===Pn(t,e)?W.some(t):W.none()})},ob=function(t,e){rb(xn.fromDom(t.getBody()),e).bind(function(t){return $p(t.dom)}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},ib=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},ab=function(t){return ry(t)||iy(t).isSome()},ub=function(t){return t.iframeElement&&ry(xn.fromDom(t.iframeElement))},sb=function(t){var e=t.getBody();return e&&ab(xn.fromDom(e))},cb=function(t){var e=dr(xn.fromDom(t.getElement()));return oy(e).filter(function(e){return!$y(e.dom)&&Ky(t,e.dom)}).isSome()},lb=function(t){return t.inline?sb(t):ub(t)},fb=function(t){return lb(t)||cb(t)},db=function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===lb(t)&&By(t).each(function(e){t.selection.setRng(e),r=e});var o=eb(t,e.getNode());if(t.$.contains(n,o))return ib(o),ob(t,r),void hb(t);t.inline||(tn.opera||ib(n),t.getWin().focus()),(tn.gecko||t.inline)&&(ib(n),ob(t,r)),hb(t)},hb=function(t){return t.editorManager.setActive(t)},pb=function(t,e){t.removed||(e?hb(t):db(t))},mb=function(t,e,n,r,o){var i=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;return W.from(i).map(xn.fromDom).map(function(t){return r&&e.collapsed?t:or(t,o(t,a)).getOr(t)}).bind(function(t){return Vn(t)?W.some(t):Kn(t).filter(Vn)}).map(function(t){return t.dom}).getOr(t)},gb=function(t,e,n){return mb(t,e,!0,n,function(t,e){return Math.min(ur(t),e)})},vb=function(t,e,n){return mb(t,e,!1,n,function(t,e){return e>0?e-1:e})},yb=function(t,e){var n=t;while(t&&Qr(t)&&0===t.length)t=e?t.nextSibling:t.previousSibling;return t||n},bb=function(t,e){var n,r,o;if(!e)return t;r=e.startContainer,o=e.endContainer;var i=e.startOffset,a=e.endOffset;return n=e.commonAncestorContainer,!e.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?yb(r.nextSibling,!0):r.parentNode,o=0===a?yb(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n},xb=function(t,e,n,r){var o,i=[],a=t.getRoot();if(n=t.getParent(n||gb(a,e,e.collapsed),t.isBlock),r=t.getParent(r||vb(a,e,e.collapsed),t.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;var u=new zi(n,a);while((o=u.next())&&o!==r)t.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i},_b=function(t,e,n){return W.from(e).map(function(e){var r=t.nodeIndex(e),o=t.createRng();return o.setStart(e.parentNode,r),o.setEnd(e.parentNode,r+1),n&&(wg(t,o,e,!0),wg(t,o,e,!1)),o})},wb=function(t,e){return J(e,function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e})},Ob={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Sb=function(t,e,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[r])return t[r];if(t!==e){var i=t[o];if(i)return i;for(var a=t.parent;a&&a!==e;a=a.parent)if(i=a[o],i)return i}},Cb=function(t){if(!Ya(t.value))return!1;var e=t.parent;return!e||"span"===e.name&&!e.attr("style")||!/^[ ]+$/.test(t.value)},kb=function(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},Tb=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var r=new t(e,Ob[e]||1);return n&&wt(n,function(t,e){r.attr(e,t)}),r},t.prototype.replace=function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},t.prototype.attr=function(t,e){var n,r=this;if("string"!==typeof t)return void 0!==t&&null!==t&&wt(t,function(t,e){r.attr(e,t)}),r;if(n=r.attributes){if(void 0!==e){if(null===e){if(t in n.map){delete n.map[t];var o=n.length;while(o--)if(n[o].name===t)return n.splice(o,1),r}return r}if(t in n.map){o=n.length;while(o--)if(n[o].name===t){n[o].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}return n.map[t]}},t.prototype.clone=function(){var e,n=this,r=new t(n.name,n.type);if(e=n.attributes){var o=[];o.map={};for(var i=0,a=e.length;i<a;i++){var u=e[i];"id"!==u.name&&(o[o.length]={name:u.name,value:u.value},o.map[u.name]=u.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},t.prototype.wrap=function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},t.prototype.unwrap=function(){for(var t=this,e=t.firstChild;e;){var n=e.next;t.insert(e,t,!0),e=n}t.remove()},t.prototype.remove=function(){var t=this,e=t.parent,n=t.next,r=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):r.next=n,e.lastChild===t?(e.lastChild=r,r&&(r.next=null)):n.prev=r,t.parent=t.next=t.prev=null),t},t.prototype.append=function(t){var e=this;t.parent&&t.remove();var n=e.lastChild;return n?(n.next=t,t.prev=n,e.lastChild=t):e.lastChild=e.firstChild=t,t.parent=e,t},t.prototype.insert=function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===r.lastChild?r.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=r,t},t.prototype.getAll=function(t){for(var e=this,n=[],r=e.firstChild;r;r=Sb(r,e))r.name===t&&n.push(r);return n},t.prototype.children=function(){for(var t=this,e=[],n=t.firstChild;n;n=n.next)e.push(n);return e},t.prototype.empty=function(){var t=this;if(t.firstChild){for(var e=[],n=t.firstChild;n;n=Sb(n,t))e.push(n);var r=e.length;while(r--){n=e[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return t.firstChild=t.lastChild=null,t},t.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var r=this,o=r.firstChild;if(kb(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(t[o.name])return!1;if(kb(o))return!1}if(8===o.type)return!1;if(3===o.type&&!Cb(o))return!1;if(3===o.type&&o.parent&&e[o.parent.name]&&Ya(o.value))return!1;if(n&&n(o))return!1}while(o=Sb(o,r));return!0},t.prototype.walk=function(t){return Sb(this,null,t)},t}(),Mb=function(t){var e,n=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,r=[],o={},i=Bl("img"),a=0,u=0;while(e=n.exec(t)){var s=e[0],c=i+"_"+u++;o[c]=s,a<e.index&&r.push(t.substr(a,e.index-a)),r.push(c),a=e.index+s.length}var l=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:t,re:l}:(a<t.length&&r.push(t.substr(a)),{prefix:i,uris:o,html:r.join(""),re:l})},Db=function(t,e){return t.replace(e.re,function(t){return It(e.uris,t).getOr(t)})},Ab=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(t);return e?W.some({type:e[1],data:decodeURIComponent(e[2])}):W.none()},Ib=pn.each,jb=pn.trim,Eb="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Rb={ftp:21,http:80,https:443,mailto:25},Nb=["img","video"],Pb=function(t,e){return S(t)?!t:!S(e)||!K(Nb,e)},Bb=function(t,e,n){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?Pb(t.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},Lb=function(){function t(e,n){e=jb(e),this.settings=n||{};var r=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))o.source=e;else{var i=0===e.indexOf("//");if(0!==e.indexOf("/")||i||(e=(r&&r.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var a=this.settings.base_uri?this.settings.base_uri.path:new t(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+o.toAbsPath(a,e);else{var u=/([^#?]*)([#?]?.*)/.exec(e);e=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(a,u[1])+u[2]}}e=e.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);Ib(Eb,function(t,e){var n=s[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[t]=n}),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return t.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},t.isDomSafe=function(t,e,n){if(void 0===n&&(n={}),n.allow_script_urls)return!0;var r=Mu.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{r=decodeURIComponent(r)}catch(o){r=unescape(r)}return!/((java|vb)script|mhtml):/i.test(r)&&!Bb(n,r,e)},t.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},t.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},t.prototype.toRelative=function(e){var n;if("./"===e)return e;var r=new t(e,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},t.prototype.toAbsolute=function(e,n){var r=new t(e,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},t.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=Rb[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},t.prototype.toRelPath=function(t,e){var n,r,o=0,i="",a=t.substring(0,t.lastIndexOf("/")).split("/"),u=e.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return e;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},t.prototype.toAbsPath=function(t,e){var n,r,o=0,i=[],a=/\/$/.test(e)?"/":"",u=t.split("/"),s=e.split("/");for(Ib(u,function(t){t&&i.push(t)}),u=i,n=s.length-1,i=[];n>=0;n--)0!==s[n].length&&"."!==s[n]&&(".."!==s[n]?o>0?o--:i.push(s[n]):o++);return n=u.length-o,r=n<=0?ft(i).join("/"):u.slice(0,n).join("/")+"/"+ft(i).join("/"),0!==r.indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},t.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},t}(),Fb=pn.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),zb=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},Vb=function(t,e,n){var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=t.getShortEndedElements(),a=1,u=n;while(0!==a){r.lastIndex=u;while(1){var s=r.exec(e);if(null===s)return u;if("!"===s[1]){u=ce(s[2],"--")?Ub(e,!1,s.index+"!--".length):Ub(e,!0,s.index+1);break}o.lastIndex=r.lastIndex;var c=o.exec(e);if(!x(c)&&c.index===r.lastIndex){"/"===s[1]?a-=1:jt(i,s[2])||(a+=1),u=r.lastIndex+c[0].length;break}}}return u},Hb=function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))},Ub=function(t,e,n){void 0===n&&(n=0);var r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&Hb(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(e){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=n;var u=a.exec(t);return u?u.index+u[0].length:r.length},Wb=function(t,e){var n=t.exec(e);if(n){var r=n[1],o=n[2];return"string"===typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null},Gb=function(t,e){var n;void 0===e&&(e=Fu()),t=t||{};var r=null!==(n=t.document)&&void 0!==n?n:document,o=r.createElement("form");!1!==t.fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment?t.comment:T,a=t.cdata?t.cdata:T,u=t.text?t.text:T,s=t.start?t.start:T,c=t.end?t.end:T,l=t.pi?t.pi:T,f=t.doctype?t.doctype:T,d=function(n,d){void 0===d&&(d="html");var h,p,m,g,v,y,b,x,_,w,O,S,C,k,T,M,D,A,I,j,E=n.html,R=0,N=[],P=0,B=Mu.decode,L=pn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),F="html"===d?0:1,z=function(t){var e,n;e=N.length;while(e--)if(N[e].name===t)break;if(e>=0){for(n=N.length-1;n>=e;n--)t=N[n],t.valid&&c(t.name);N.length=e}},V=function(t,e){return u(Db(t,n),e)},H=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),t.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),i(Db(e,n)))},U=function(t){return Db(t,n)},W=function(t,e){var n=t||"",r=!ce(n,"--"),o=Ub(E,r,e);return t=E.substr(e,o-e),H(r?n+t:t),o+1},G=function(e,n,i,a,u){if(n=n.toLowerCase(),i=U(n in K?n:B(i||a||u||"")),Z&&!x&&!1===zb(n)){var s=k[n];if(!s&&T){var c=T.length;while(c--)if(s=T[c],s.pattern.test(n))break;-1===c&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}var l="name"===n||"id"===n;l&&e in Fb&&(i in r||i in o)||L[n]&&!Lb.isDomSafe(i,e,t)||x&&(n in L||0===n.indexOf("on"))||(g.map[n]=i,g.push({name:n,value:i}))},q=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),Y=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,X=e.getShortEndedElements(),$=t.self_closing_elements||e.getSelfClosingElements(),K=e.getBoolAttrs(),Z=t.validate,J=t.remove_internals,Q=t.fix_self_closing,tt=e.getSpecialElements(),et=E+">";while(h=q.exec(et)){var nt=h[0];if(R<h.index&&V(B(E.substr(R,h.index-R))),p=h[7])p=p.toLowerCase(),":"===p.charAt(0)&&(p=p.substr(1)),z(p);else if(p=h[8]){if(h.index+nt.length>E.length){V(B(E.substr(h.index))),R=h.index+nt.length;continue}p=p.toLowerCase(),":"===p.charAt(0)&&(p=p.substr(1)),_=p in X,Q&&$[p]&&N.length>0&&N[N.length-1].name===p&&z(p);var rt=Wb(Y,h[9]);if(null!==rt){if("all"===rt){R=Vb(e,E,q.lastIndex),q.lastIndex=R;continue}O=!1}if(!Z||(w=e.getElementRule(p))){if(O=!0,Z&&(k=w.attributes,T=w.attributePatterns),(C=h[9])?(x=-1!==C.indexOf("data-mce-type"),x&&J&&(O=!1),g=[],g.map={},C.replace(Y,function(t,e,n,r,o){return G(p,e,n,r,o),""})):(g=[],g.map={}),Z&&!x){if(M=w.attributesRequired,D=w.attributesDefault,A=w.attributesForced,I=w.removeEmptyAttrs,I&&!g.length&&(O=!1),A){v=A.length;while(v--)S=A[v],b=S.name,j=S.value,"{$uid}"===j&&(j="mce_"+P++),g.map[b]=j,g.push({name:b,value:j})}if(D){v=D.length;while(v--)S=D[v],b=S.name,b in g.map||(j=S.value,"{$uid}"===j&&(j="mce_"+P++),g.map[b]=j,g.push({name:b,value:j}))}if(M){v=M.length;while(v--)if(M[v]in g.map)break;-1===v&&(O=!1)}if(S=g.map["data-mce-bogus"]){if("all"===S){R=Vb(e,E,q.lastIndex),q.lastIndex=R;continue}O=!1}}O&&s(p,g,_)}else O=!1;if(m=tt[p]){m.lastIndex=R=h.index+nt.length,(h=m.exec(E))?(O&&(y=E.substr(R,h.index-R)),R=h.index+h[0].length):(y=E.substr(R),R=E.length),O&&(y.length>0&&V(y,!0),c(p)),q.lastIndex=R;continue}_||(C&&C.indexOf("/")===C.length-1?O&&c(p):N.push({name:p,valid:O}))}else if(p=h[1])H(p);else if(p=h[2]){var ot=1===F||t.preserve_cdata||N.length>0&&e.isValidChild(N[N.length-1].name,"#cdata");if(!ot){R=W("",h.index+2),q.lastIndex=R;continue}a(p)}else if(p=h[3])f(p);else{if((p=h[4])||"<!"===nt){R=W(p,h.index+nt.length),q.lastIndex=R;continue}if(p=h[5]){if(1!==F){R=W("?",h.index+2),q.lastIndex=R;continue}l(p,h[6])}}R=h.index+nt.length}for(R<E.length&&V(B(E.substr(R))),v=N.length-1;v>=0;v--)p=N[v],p.valid&&c(p.name)},h=function(t,e){void 0===e&&(e="html"),d(Mb(t),e)};return{parse:h}};Gb.findEndTag=Vb;var qb=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},Yb=function(t,e){var n,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=t.schema,i=qb(t.getTempAttrs(),e),a=o.getShortEndedElements();while(n=r.exec(i)){var u=r.lastIndex,s=n[0].length,c=void 0;c=a[n[1]]?u:Gb.findEndTag(o,i,u),i=i.substring(0,u-s)+i.substring(c),r.lastIndex=u-s}return pa(i)},Xb=Yb,$b=function(t,e){var n=Od(t),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(r,"")},Kb=function(t,e){return Wt(Wt({},t),{format:e,get:!0,getInner:!0})},Zb=function(t,e,n,r){var o,i=Kb(e,n),a=e.no_events?i:t.fire("BeforeGetContent",i);return o="raw"===a.format?pn.trim(Xb(t.serializer,r.innerHTML)):"text"===a.format?t.dom.isEmpty(r)?"":pa(r.innerText||r.textContent):"tree"===a.format?t.serializer.serialize(r,a):$b(t,t.serializer.serialize(r,a)),K(["text","tree"],a.format)||aa(xn.fromDom(r))?a.content=o:a.content=pn.trim(o),a.no_events?a.content:t.fire("GetContent",a).content},Jb=function(t,e,n){return W.from(t.getBody()).fold(A("tree"===e.format?new Tb("body",11):""),function(r){return Zb(t,e,n,r)})},Qb=pn.each,tx=function(t){var e=function(e,n){if(e.nodeName!==n.nodeName)return!1;var r=function(e){var n={};return Qb(t.getAttribs(e),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=t.getAttrib(e,o))}),n},o=function(t,e){var n,r;for(r in t)if(jt(t,r)){if(n=e[r],"undefined"===typeof n)return!1;if(t[r]!==n)return!1;delete e[r]}for(r in e)if(jt(e,r))return!1;return!0};return!!o(r(e),r(n))&&(!!o(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))&&(!xm(e)&&!xm(n)))};return{compare:e}},ex=pn.makeMap,nx=function(t){var e=[];t=t||{};var n=t.indent,r=ex(t.indent_before||""),o=ex(t.indent_after||""),i=Mu.getEncodeFunc(t.entity_encoding||"raw",t.entities),a="html"===t.element_format;return{start:function(t,u,s){var c,l,f,d;if(n&&r[t]&&e.length>0&&(d=e[e.length-1],d.length>0&&"\n"!==d&&e.push("\n")),e.push("<",t),u)for(c=0,l=u.length;c<l;c++)f=u[c],e.push(" ",f.name,'="',i(f.value,!0),'"');e[e.length]=!s||a?">":" />",s&&n&&o[t]&&e.length>0&&(d=e[e.length-1],d.length>0&&"\n"!==d&&e.push("\n"))},end:function(t){var r;e.push("</",t,">"),n&&o[t]&&e.length>0&&(r=e[e.length-1],r.length>0&&"\n"!==r&&e.push("\n"))},text:function(t,n){t.length>0&&(e[e.length]=n?t:i(t))},cdata:function(t){e.push("<![CDATA[",t,"]]>")},comment:function(t){e.push("\x3c!--",t,"--\x3e")},pi:function(t,r){r?e.push("<?",t," ",i(r),"?>"):e.push("<?",t,"?>"),n&&e.push("\n")},doctype:function(t){e.push("<!DOCTYPE",t,">",n?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}},rx=function(t,e){void 0===e&&(e=Fu());var n=nx(t);t=t||{},t.validate=!("validate"in t)||t.validate;var r=function(r){var o=t.validate,i={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{a(t)}while(t=t.next)}};n.reset();var a=function(t){var r=i[t.type];if(r)r(t);else{var u=t.name,s=t.shortEnded,c=t.attributes;if(o&&c&&c.length>1){var l=[];l.map={};var f=e.getElementRule(t.name);if(f){for(var d=0,h=f.attributesOrder.length;d<h;d++){var p=f.attributesOrder[d];if(p in c.map){var m=c.map[p];l.map[p]=m,l.push({name:p,value:m})}}for(d=0,h=c.length;d<h;d++){p=c[d].name;if(!(p in l.map)){m=c.map[p];l.map[p]=m,l.push({name:p,value:m})}}c=l}}if(n.start(t.name,c,s),!s){if(t=t.firstChild)do{a(t)}while(t=t.next);n.end(u)}}};return 1!==r.type||t.inner?i[11](r):a(r),n.getContent()};return{serialize:r}},ox=new Set;(function(){var t=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Q(t,function(t){ox.add(t)})})();var ix=["font","text-decoration","text-emphasis"],ax=function(t,e){return xt(t.parseStyle(t.getAttrib(e,"style")))},ux=function(t){return ox.has(t)},sx=function(t,e){return lt(ax(t,e),function(t){return!ux(t)})},cx=function(t){return nt(t,function(t){return Z(ix,function(e){return ce(t,e)})})},lx=function(t,e,n){var r=ax(t,e),o=ax(t,n),i=function(r){var o=t.getStyle(e,r),i=t.getStyle(n,r);return pe(o)&&pe(i)&&o!==i};return Z(r,function(t){var e=function(e){return Z(e,function(e){return e===t})};if(!e(o)&&e(ix)){var n=cx(o);return Z(n,i)}return i(t)})},fx=function(t,e,n){return W.from(n.container()).filter(Qr).exists(function(r){var o=t?0:-1;return e(r.data.charAt(n.offset()+o))})},dx=E(fx,!0,Om),hx=E(fx,!1,Om),px=function(t){var e=t.container();return Qr(e)&&(0===e.data.length||ha(e.data)&&Pg.isBookmarkNode(e.parentNode))},mx=function(t,e){return function(n){return W.from(lp(t?0:-1,n)).filter(e).isSome()}},gx=function(t){return oo(t)&&"block"===ko(xn.fromDom(t),"display")},vx=function(t){return ao(t)&&!$r(t)},yx=mx(!0,gx),bx=mx(!1,gx),xx=mx(!0,so),_x=mx(!1,so),wx=mx(!0,Kr),Ox=mx(!1,Kr),Sx=mx(!0,vx),Cx=mx(!1,vx),kx=function(t){var e=[],n=t.dom;while(n)e.push(xn.fromDom(n)),n=n.lastChild;return e},Tx=function(t){var e=Cl(t,"br"),n=nt(kx(t).slice(-1),ta);e.length===n.length&&Q(n,kr)},Mx=function(t){Cr(t),_r(t,xn.fromHtml('<br data-mce-bogus="1">'))},Dx=function(t){ar(t).each(function(e){Qn(e).each(function(n){Zi(t)&&ta(e)&&Zi(n)&&kr(e)})})},Ax=function(t){return t.slice(0,-1)},Ix=function(t,e,n){return Pn(e,t)?Ax(Zn(t,function(t){return n(t)||En(t,e)})):[]},jx=function(t,e){return Ix(t,e,L)},Ex=function(t,e){return[t].concat(jx(t,e))},Rx=function(t,e,n){return Gp(t,e,n,px)},Nx=function(t,e){return at(Ex(xn.fromDom(e.container()),t),Zi)},Px=function(t,e,n){return Rx(t,e.dom,n).forall(function(t){return Nx(e,n).fold(function(){return!1===cp(t,n,e.dom)},function(r){return!1===cp(t,n,e.dom)&&Pn(r,xn.fromDom(t.container()))})})},Bx=function(t,e,n){return Nx(e,n).fold(function(){return Rx(t,e.dom,n).forall(function(t){return!1===cp(t,n,e.dom)})},function(e){return Rx(t,e.dom,n).isNone()})},Lx=E(Bx,!1),Fx=E(Bx,!0),zx=E(Px,!1),Vx=E(Px,!0),Hx=function(t){return bp(t).exists(ta)},Ux=function(t,e,n){var r=nt(Ex(xn.fromDom(n.container()),e),Zi),o=gt(r).getOr(e);return Up(t,o.dom,n).filter(Hx)},Wx=function(t,e){return bp(e).exists(ta)||Ux(!0,t,e).isSome()},Gx=function(t,e){return xp(e).exists(ta)||Ux(!1,t,e).isSome()},qx=E(Ux,!1),Yx=E(Ux,!0),Xx=function(t){return If.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},$x=function(t,e){var n=nt(Ex(xn.fromDom(e.container()),t),Zi);return gt(n).getOr(t)},Kx=function(t,e){return Xx(e)?hx(e):hx(e)||Xp($x(t,e).dom,e).exists(hx)},Zx=function(t,e){return Xx(e)?dx(e):dx(e)||Yp($x(t,e).dom,e).exists(dx)},Jx=function(t){return K(["pre","pre-wrap"],t)},Qx=function(t){return bp(t).bind(function(t){return Oi(t,Vn)}).exists(function(t){return Jx(ko(t,"white-space"))})},t_=function(t,e){return Xp(t.dom,e).isNone()},e_=function(t,e){return Yp(t.dom,e).isNone()},n_=function(t,e){return t_(t,e)||e_(t,e)||Lx(t,e)||Fx(t,e)||Gx(t,e)||Wx(t,e)},r_=function(t,e){return!Qx(e)&&(n_(t,e)||Kx(t,e)||Zx(t,e))},o_=function(t,e){return!Qx(e)&&(Lx(t,e)||zx(t,e)||Gx(t,e)||Kx(t,e))},i_=function(t){var e=t.container(),n=t.offset();return Qr(e)&&n<e.data.length?If(e,n+1):t},a_=function(t,e){return!Qx(e)&&(Fx(t,e)||Vx(t,e)||Wx(t,e)||Zx(t,e))},u_=function(t,e){return o_(t,e)||a_(t,i_(e))},s_=function(t,e){return wm(t.charAt(e))},c_=function(t){var e=t.container();return Qr(e)&&se(e.data,ca)},l_=function(t){var e=t.split("");return J(e,function(t,n){return wm(t)&&n>0&&n<e.length-1&&Sm(e[n-1])&&Sm(e[n+1])?" ":t}).join("")},f_=function(t,e){var n=e.data,r=If(e,0);return!(!s_(n,0)||u_(t,r))&&(e.data=" "+n.slice(1),!0)},d_=function(t){var e=t.data,n=l_(e);return n!==e&&(t.data=n,!0)},h_=function(t,e){var n=e.data,r=If(e,n.length-1);return!(!s_(n,n.length-1)||u_(t,r))&&(e.data=n.slice(0,-1)+" ",!0)},p_=function(t,e){return W.some(e).filter(c_).bind(function(e){var n=e.container(),r=f_(t,n)||d_(n)||h_(t,n);return r?W.some(e):W.none()})},m_=function(t){var e=xn.fromDom(t.getBody());t.selection.isCollapsed()&&p_(e,If.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})},g_=function(t,e,n){var r=ot(t,function(r,o){return Om(o)||wm(o)?r.previousCharIsSpace||""===r.str&&e||r.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:r.str+ca}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""});return r.str},v_=function(t,e,n){if(0!==n){var r=xn.fromDom(t),o=wi(r,Zi).getOr(r),i=t.data.slice(e,e+n),a=e+n>=t.data.length&&a_(o,If(t,t.data.length)),u=0===e&&o_(o,If(t,0));t.replaceData(e,n,g_(i,u,a))}},y_=function(t,e){var n=t.data.slice(e),r=n.length-de(n).length;v_(t,e,r)},b_=function(t,e){var n=t.data.slice(0,e),r=n.length-he(n).length;v_(t,e-r,r)},x_=function(t,e,n,r){void 0===r&&(r=!0);var o=he(t.data).length,i=r?t:e,a=r?e:t;return r?i.appendData(a.data):i.insertData(0,a.data),kr(xn.fromDom(a)),n&&y_(i,o),i},__=function(t,e){var n=t.container(),r=t.offset();return!1===If.isTextPosition(t)&&n===e.parentNode&&r>If.before(e).offset()},w_=function(t,e){return __(e,t)?If(e.container(),e.offset()-1):e},O_=function(t){return Qr(t)?If(t,0):If.before(t)},S_=function(t){return Qr(t)?If(t,t.data.length):If.after(t)},C_=function(t){return Fa(t.previousSibling)?W.some(S_(t.previousSibling)):t.previousSibling?Kp(t.previousSibling):W.none()},k_=function(t){return Fa(t.nextSibling)?W.some(O_(t.nextSibling)):t.nextSibling?$p(t.nextSibling):W.none()},T_=function(t,e){var n=If.before(e.previousSibling?e.previousSibling:e.parentNode);return Xp(t,n).fold(function(){return Yp(t,If.after(e))},W.some)},M_=function(t,e){return Yp(t,If.after(e)).fold(function(){return Xp(t,If.before(e))},W.some)},D_=function(t,e){return C_(e).orThunk(function(){return k_(e)}).orThunk(function(){return T_(t,e)})},A_=function(t,e){return k_(e).orThunk(function(){return C_(e)}).orThunk(function(){return M_(t,e)})},I_=function(t,e,n){return t?A_(e,n):D_(e,n)},j_=function(t,e,n){return I_(t,e,n).map(E(w_,n))},E_=function(t,e,n){n.fold(function(){t.focus()},function(n){t.selection.setRng(n.toRange(),e)})},R_=function(t){return function(e){return e.dom===t}},N_=function(t,e){return e&&jt(t.schema.getBlockElements(),Bn(e))},P_=function(t){if(nu(t)){var e=xn.fromHtml('<br data-mce-bogus="1">');return Cr(t),_r(t,e),W.some(If.before(e.dom))}return W.none()},B_=function(t,e,n){var r=Qn(t).filter(Hn),o=tr(t).filter(Hn);return kr(t),ho(r,o,e,function(t,e,r){var o=t.dom,i=e.dom,a=o.data.length;return x_(o,i,n),r.container()===i?If(o,a):r}).orThunk(function(){return n&&(r.each(function(t){return b_(t.dom,t.dom.length)}),o.each(function(t){return y_(t.dom,0)})),e})},L_=function(t,e){return jt(t.schema.getTextInlineElements(),Bn(e))},F_=function(t,e,n,r){void 0===r&&(r=!0);var o=j_(e,t.getBody(),n.dom),i=wi(n,E(N_,t),R_(t.getBody())),a=B_(n,o,L_(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):i.bind(P_).fold(function(){r&&E_(t,e,a)},function(n){r&&E_(t,e,W.some(n))})},z_=function(t){return function(e){return En(t,e)}},V_=function(t){return Cl(t,"td,th")},H_=function(t,e){var n=function(t){return gg(xn.fromDom(t),e)},r=n(t.startContainer),o=n(t.endContainer),i=r.isSome(),a=o.isSome(),u=fo(r,o,En).getOr(!1),s=!u&&i&&a;return{startTable:r,endTable:o,isStartInTable:i,isEndInTable:a,isSameTable:u,isMultiTable:s}},U_=function(t,e){return{start:t,end:e}},W_=function(t,e,n){return{rng:t,table:e,cells:n}},G_=ti.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),q_=function(t,e){return Mi(xn.fromDom(t),"td,th",e)},Y_=function(t){return!En(t.start,t.end)},X_=function(t,e){return gg(t.start,e).bind(function(n){return gg(t.end,e).bind(function(t){return po(En(n,t),n)})})},$_=function(t,e){return!Y_(t)&&X_(t,e).exists(function(t){var e=t.dom.rows;return 1===e.length&&1===e[0].cells.length})},K_=function(t,e){var n=q_(t.startContainer,e),r=q_(t.endContainer,e);return fo(n,r,U_)},Z_=function(t){return function(e){return gg(e,t).bind(function(t){return vt(V_(t)).map(function(t){return U_(e,t)})})}},J_=function(t){return function(e){return gg(e,t).bind(function(t){return gt(V_(t)).map(function(t){return U_(t,e)})})}},Q_=function(t){return function(e){return X_(e,t).map(function(t){return W_(e,t,V_(t))})}},tw=function(t,e,n,r){if(n.collapsed||!t.forall(Y_))return W.none();if(e.isSameTable){var o=t.bind(Q_(r));return W.some({start:o,end:o})}var i=q_(n.startContainer,r),a=q_(n.endContainer,r),u=i.bind(Z_(r)).bind(Q_(r)),s=a.bind(J_(r)).bind(Q_(r));return W.some({start:u,end:s})},ew=function(t,e){return ut(t,function(t){return En(t,e)})},nw=function(t){return fo(ew(t.cells,t.rng.start),ew(t.cells,t.rng.end),function(e,n){return t.cells.slice(e,n+1)})},rw=function(t,e,n){return t.exists(function(t){return $_(t,n)&&_g(t.start,e)})},ow=function(t,e){var n=e.startTable,r=e.endTable,o=t.cloneRange();return n.each(function(t){return o.setStartAfter(t.dom)}),r.each(function(t){return o.setEndBefore(t.dom)}),o},iw=function(t,e,n,r){return tw(t,e,n,r).bind(function(t){var e=t.start,n=t.end;return e.or(n)}).bind(function(t){var r=e.isSameTable,o=nw(t).getOr([]);if(r&&t.cells.length===o.length)return W.some(G_.fullTable(t.table));if(o.length>0){if(r)return W.some(G_.partialTable(o,W.none()));var i=ow(n,e);return W.some(G_.partialTable(o,W.some(Wt(Wt({},e),{rng:i}))))}return W.none()})},aw=function(t,e,n,r){return tw(t,e,n,r).bind(function(t){var r=t.start,o=t.end,i=r.bind(nw).getOr([]),a=o.bind(nw).getOr([]);if(i.length>0&&a.length>0){var u=ow(n,e);return W.some(G_.multiTable(i,a,u))}return W.none()})},uw=function(t,e){var n=z_(t),r=K_(e,n),o=H_(e,n);return rw(r,e,n)?r.map(function(t){return G_.singleCellTable(e,t.start)}):o.isMultiTable?aw(r,o,e,n):iw(r,o,e,n)},sw=function(t){var e=zn(t)?Qn(t):ar(t);return e.bind(sw).orThunk(function(){return W.some(t)})},cw=function(t){return Q(t,function(t){wo(t,"contenteditable"),Mx(t)})},lw=function(t,e){return W.from(t.dom.getParent(e,t.dom.isBlock)).map(xn.fromDom)},fw=function(t,e,n){n.each(function(n){e?kr(n):(Mx(n),t.selection.setCursorLocation(n.dom,0))})},dw=function(t,e,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(e.dom.lastChild)):(o.setStartBefore(e.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),gw(t,o,e,!1)},hw=function(t){var e=mg(t),n=xn.fromDom(t.selection.getNode());uo(n.dom)&&nu(n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),e.length>1&&Z(e,function(t){return En(t,n)})&&vo(n,"data-mce-selected","1")},pw=function(t,e,n){var r=t.selection.getRng(),o=n.bind(function(n){var o=n.rng,i=n.isStartInTable,a=lw(t,i?o.endContainer:o.startContainer);o.deleteContents(),fw(t,i,a.filter(nu));var u=i?e[0]:e[e.length-1];return dw(t,u,r,i),nu(u)?W.none():W.some(i?e.slice(1):e.slice(0,-1))}).getOr(e);return cw(o),hw(t),!0},mw=function(t,e,n,r){var o=t.selection.getRng(),i=e[0],a=n[n.length-1];dw(t,i,o,!0),dw(t,a,o,!1);var u=nu(i)?e:e.slice(1),s=nu(a)?n:n.slice(0,-1);return cw(u.concat(s)),r.deleteContents(),hw(t),!0},gw=function(t,e,n,r){void 0===r&&(r=!0),e.deleteContents();var o=sw(n).getOr(n),i=xn.fromDom(t.dom.getParent(o.dom,t.dom.isBlock));if(nu(i)&&(Mx(i),r&&t.selection.setCursorLocation(i.dom,0)),!En(n,i)){var a=co(Kn(i),n)?[]:Jn(i);Q(a.concat(rr(n)),function(t){En(t,i)||Pn(t,i)||!nu(t)||kr(t)})}return!0},vw=function(t,e){return F_(t,!1,e),!0},yw=function(t,e,n){return uw(e,n).map(function(e){return e.fold(E(gw,t),E(vw,t),E(pw,t),E(mw,t))})},bw=function(t,e){return Cw(t,e)},xw=function(t,e,n,r){return Ow(e,r).fold(function(){return yw(t,e,n)},function(e){return bw(t,e)}).getOr(!1)},_w=function(t,e,n){var r=xn.fromDom(t.getBody()),o=t.selection.getRng();return 0!==n.length?pw(t,n,W.none()):xw(t,r,o,e)},ww=function(t,e){return at(Ex(e,t),ia)},Ow=function(t,e){return at(Ex(e,t),Gn("caption"))},Sw=function(t,e,n,r,o){return Wp(n,t.getBody(),o).bind(function(t){return ww(e,xn.fromDom(t.getNode())).map(function(t){return!1===En(t,r)})})},Cw=function(t,e){return Mx(e),t.selection.setCursorLocation(e.dom,0),W.some(!0)},kw=function(t,e,n,r){return $p(t.dom).bind(function(o){return Kp(t.dom).map(function(t){return e?n.isEqual(o)&&r.isEqual(t):n.isEqual(t)&&r.isEqual(o)})}).getOr(!0)},Tw=function(t,e){return Cw(t,e)},Mw=function(t,e,n){return Ow(t,xn.fromDom(n.getNode())).map(function(t){return!1===En(t,e)})},Dw=function(t,e,n,r,o){return Wp(n,t.getBody(),o).bind(function(i){return kw(r,n,o,i)?Tw(t,r):Mw(e,r,i)}).or(W.some(!0))},Aw=function(t,e,n,r){var o=If.fromRangeStart(t.selection.getRng());return ww(n,r).bind(function(r){return nu(r)?Cw(t,r):Sw(t,n,e,r,o)}).getOr(!1)},Iw=function(t,e,n,r){var o=If.fromRangeStart(t.selection.getRng());return nu(r)?Cw(t,r):Dw(t,n,e,r,o)},jw=function(t,e){return t?wx(e):Ox(e)},Ew=function(t,e){var n=If.fromRangeStart(t.selection.getRng());return jw(e,n)||Up(e,t.getBody(),n).exists(function(t){return jw(e,t)})},Rw=function(t,e,n){var r=xn.fromDom(t.getBody());return Ow(r,n).fold(function(){return Aw(t,e,r,n)||Ew(t,e)},function(n){return Iw(t,e,r,n).getOr(!1)})},Nw=function(t,e){var n=xn.fromDom(t.selection.getStart(!0)),r=mg(t);return t.selection.isCollapsed()&&0===r.length?Rw(t,e,n):_w(t,n,r)},Pw=function(t,e,n,r){var o=document.createRange();return o.setStart(t,e),o.setEnd(n,r),o},Bw=function(t){var e=If.fromRangeStart(t),n=If.fromRangeEnd(t),r=t.commonAncestorContainer;return Up(!1,r,n).map(function(o){return!cp(e,n,r)&&cp(e,o,r)?Pw(e.container(),e.offset(),o.container(),o.offset()):t}).getOr(t)},Lw=function(t){return t.collapsed?t:Bw(t)},Fw=function(t){return t.firstChild&&t.firstChild===t.lastChild},zw=function(t){return"br"===t.name||t.value===ca},Vw=function(t,e){var n=t.getBlockElements();return n[e.name]&&Fw(e)&&zw(e.firstChild)},Hw=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||Vw(t,e))},Uw=function(t,e){var n=e.firstChild,r=e.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),Hw(t,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},Ww=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},Gw=function(t,e,n){var r=e.serialize(n),o=t.createFragment(r);return Ww(o)},qw=function(t){return nt(t.childNodes,function(t){return"LI"===t.nodeName})},Yw=function(t){return t.data===ca||ro(t)},Xw=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&Yw(t.firstChild)},$w=function(t){return!t.firstChild||Xw(t)},Kw=function(t){return t.length>0&&$w(t[t.length-1])?t.slice(0,-1):t},Zw=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},Jw=function(t,e){return!!Zw(t,e)},Qw=function(t,e){var n=e.cloneRange(),r=e.cloneRange();return n.setStartBefore(t),r.setEndAfter(t),[n.cloneContents(),r.cloneContents()]},tO=function(t,e){var n=If.before(t),r=Np(e),o=r.next(n);return o?o.toRange():null},eO=function(t,e){var n=If.after(t),r=Np(e),o=r.prev(n);return o?o.toRange():null},nO=function(t,e,n,r){var o=Qw(t,r),i=t.parentNode;return i.insertBefore(o[0],t),pn.each(e,function(e){i.insertBefore(e,t)}),i.insertBefore(o[1],t),i.removeChild(t),eO(e[e.length-1],n)},rO=function(t,e,n){var r=t.parentNode;return pn.each(e,function(e){r.insertBefore(e,t)}),tO(t,n)},oO=function(t,e,n,r){return r.insertAfter(e.reverse(),t),eO(e[0],n)},iO=function(t,e,n,r){var o=Gw(e,t,r),i=Zw(e,n.startContainer),a=Kw(qw(o.firstChild)),u=1,s=2,c=e.getRoot(),l=function(t){var r=If.fromRangeStart(n),o=Np(e.getRoot()),a=t===u?o.prev(r):o.next(r);return!a||Zw(e,a.getNode())!==i};return l(u)?rO(i,a,c):l(s)?oO(i,a,c,e):nO(i,a,c,n)},aO=function(t,e,n){var r=xn.fromDom(t.getRoot());return n=o_(r,If.fromRangeStart(e))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=a_(r,If.fromRangeEnd(e))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},uO=uo,sO=function(t,e,n){if(null!==n){var r=t.getParent(e.endContainer,uO);return n===r&&_g(xn.fromDom(n),e)}return!1},cO=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}},lO=function(t,e){W.from(t.getParent(e,"td,th")).map(xn.fromDom).each(Dx)},fO=function(t,e){var n=t.schema.getTextInlineElements(),r=t.dom;if(e){var o=t.getBody(),i=tx(r);pn.each(r.select("*[data-mce-fragment]"),function(t){var e=S(n[t.nodeName.toLowerCase()]);if(e&&sx(r,t))for(var a=t.parentNode;S(a)&&a!==o;a=a.parentNode){var u=lx(r,t,a);if(u)break;if(i.compare(a,t)){r.remove(t,!0);break}}})}},dO=function(t){var e=t;while(e=e.walk())1===e.type&&e.attr("data-mce-fragment","1")},hO=function(t){pn.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},pO=function(t){return!!t.getAttribute("data-mce-fragment")},mO=function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},gO=function(t,e){var n,r=t.dom,o=t.selection;if(e){o.scrollIntoView(e);var i=Bg(t.getBody(),e);if("false"===r.getContentEditable(i))return r.remove(e),void o.select(i);var a=r.createRng(),u=e.previousSibling;if(Qr(u)){if(a.setStart(u,u.nodeValue.length),!tn.ie){var s=e.nextSibling;Qr(s)&&(u.appendData(s.data),s.parentNode.removeChild(s))}}else a.setStartBefore(e),a.setEndBefore(e);var c=function(e){var n=If.fromRangeStart(e),r=Np(t.getBody());if(n=r.next(n),n)return n.toRange()},l=r.getParent(e,r.isBlock);r.remove(e),l&&r.isEmpty(l)&&(t.$(l).empty(),a.setStart(l,0),a.setEnd(l,0),uO(l)||pO(l)||!(n=c(a))?r.add(l,r.create("br",{"data-mce-bogus":"1"})):(a=n,r.remove(l))),o.setRng(a)}},vO=function(t){var e=t.dom,n=Lw(t.selection.getRng());t.selection.setRng(n);var r=e.getParent(n.startContainer,uO);sO(e,n,r)?gw(t,n,xn.fromDom(r)):t.getDoc().execCommand("Delete",!1,null)},yO=function(t,e,n){var r,o,i,a=t.selection,u=t.dom;/^ | $/.test(e)&&(e=aO(u,a.getRng(),e));var s=t.parser,c=n.merge,l=rx({validate:rh(t)},t.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',d=t.fire("BeforeSetContent",{content:e,format:"html",selection:!0,paste:n.paste});if(d.isDefaultPrevented())t.fire("SetContent",{content:d.content,format:"html",selection:!0,paste:n.paste});else{e=d.content,-1===e.indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,f),o=a.getRng();var h=o.startContainer||(o.parentElement?o.parentElement():null),p=t.getBody();h===p&&a.isCollapsed()&&u.isBlock(p.firstChild)&&mO(t,p.firstChild)&&u.isEmpty(p.firstChild)&&(o=u.createRng(),o.setStart(p.firstChild,0),o.setEnd(p.firstChild,0),a.setRng(o)),a.isCollapsed()||vO(t),r=a.getNode();var m={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},g=s.parse(e,m);if(!0===n.paste&&Uw(t.schema,g)&&Jw(u,r))return o=iO(l,u,a.getRng(),g),a.setRng(o),void t.fire("SetContent",d);if(dO(g),i=g.lastChild,"mce_marker"===i.attr("id")){var v=i;for(i=i.prev;i;i=i.walk(!0))if(3===i.type||!u.isBlock(i.name)){t.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(v,i,"br"===i.name);break}}if(t._selectionOverrides.showBlockCaretContainer(r),m.invalid){t.selection.setContent(f),r=a.getNode();var y=t.getBody();9===r.nodeType?r=i=y:i=r;while(i!==y)r=i,i=i.parentNode;e=r===y?y.innerHTML:u.getOuterHTML(r),e=l.serialize(s.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(g)}))),r===y?u.setHTML(y,e):u.setOuterHTML(r,e)}else e=l.serialize(g),cO(t,e,r);fO(t,c),gO(t,u.get("mce_marker")),hO(t.getBody()),lO(u,a.getStart()),t.fire("SetContent",d),t.addVisual()}},bO=function(t,e){e(t),t.firstChild&&bO(t.firstChild,e),t.next&&bO(t.next,e)},xO=function(t,e,n){var r={},o={},i=[];for(var a in n.firstChild&&bO(n.firstChild,function(n){Q(t,function(t){t.name===n.name&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})}),Q(e,function(t){"string"===typeof n.attr(t.name)&&(o[t.name]?o[t.name].nodes.push(n):o[t.name]={filter:t,nodes:[n]})})}),r)jt(r,a)&&i.push(r[a]);for(var u in o)jt(o,u)&&i.push(o[u]);return i},_O=function(t,e,n){var r=xO(t,e,n);Q(r,function(t){Q(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},wO="html",OO=function(t){return t instanceof Tb},SO=function(t){lb(t)&&$p(t.getBody()).each(function(e){var n=e.getNode(),r=Kr(n)?$p(n).getOr(e):e;t.selection.setRng(r.toRange())})},CO=function(t,e,n){t.dom.setHTML(t.getBody(),e),!0!==n&&SO(t)},kO=function(t,e,n,r){if(0===n.length||/^\s+$/.test(n)){var o='<br data-mce-bogus="1">';"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>");var i=Od(t);i&&t.schema.isValidChild(e.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=t.dom.createHTML(i,Sd(t),n)):n||(n='<br data-mce-bogus="1">'),CO(t,n,r.no_selection),t.fire("SetContent",r)}else"raw"!==r.format&&(n=rx({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=aa(xn.fromDom(e))?n:pn.trim(n),CO(t,r.content,r.no_selection),r.no_events||t.fire("SetContent",r);return r.content},TO=function(t,e,n,r){_O(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var o=rx({validate:t.validate},t.schema).serialize(n);return r.content=aa(xn.fromDom(e))?o:pn.trim(o),CO(t,r.content,r.no_selection),r.no_events||t.fire("SetContent",r),n},MO=function(t,e){return Wt(Wt({format:wO},t),{set:!0,content:OO(e)?"":e})},DO=function(t,e,n){var r=MO(n,e),o=n.no_events?r:t.fire("BeforeSetContent",r);return OO(e)||(e=o.content),W.from(t.getBody()).fold(A(e),function(n){return OO(e)?TO(t,n,e,o):kO(t,n,e,o)})},AO=function(t,e){return Si(t,e).isSome()},IO=function(t){return C(t)?t:L},jO=function(t,e,n){var r=t.dom,o=IO(n);while(r.parentNode){r=r.parentNode;var i=xn.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return W.none()},EO=function(t,e,n){var r=e(t),o=IO(n);return r.orThunk(function(){return o(t)?W.none():jO(t,e,o)})},RO=Rm,NO=function(t,e,n){var r=t.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(Hm(i)&&!1===i.inherit&&t.dom.is(e,i.selector))return!0}return!1},PO=function(t,e,n,r,o){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,function(e){return!!NO(t,e,n)||(e.parentNode===i||!!FO(t,e,n,r,!0))}),!!FO(t,e,n,r,o))},BO=function(t,e,n){return!!RO(e,n.inline)||(!!RO(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0))},LO=function(t,e,n,r,o,i){var a=n[r];if(C(n.onmatch))return n.onmatch(e,n,r);if(a)if(w(a.length)){for(var u in a)if(jt(a,u)){var s="attributes"===r?t.getAttrib(e,u):Pm(t,e,u),c=Em(a[u],i),l=O(s)||me(s);if(l&&O(c))continue;if(o&&l&&!n.exact)return!1;if((!o||n.exact)&&!RO(s,Nm(t,c,u)))return!1}}else for(var f=0;f<a.length;f++)if("attributes"===r?t.getAttrib(e,a[f]):Pm(t,e,a[f]))return!0;return!0},FO=function(t,e,n,r,o){var i=t.formatter.get(n),a=t.dom;if(i&&e)for(var u=0;u<i.length;u++){var s=i[u];if(BO(t.dom,e,s)&&LO(a,e,s,"attributes",o,r)&&LO(a,e,s,"styles",o,r)){var c=s.classes;if(c)for(var l=0;l<c.length;l++)if(!t.dom.hasClass(e,Em(c[l],r)))return;return s}}},zO=function(t,e,n,r,o){if(r)return PO(t,r,e,n,o);if(r=t.selection.getNode(),PO(t,r,e,n,o))return!0;var i=t.selection.getStart();return!(i===r||!PO(t,i,e,n,o))},VO=function(t,e,n){var r=[],o={},i=t.selection.getStart();return t.dom.getParent(i,function(i){for(var a=0;a<e.length;a++){var u=e[a];!o[u]&&FO(t,i,u,n)&&(o[u]=!0,r.push(u))}},t.dom.getRoot()),r},HO=function(t,e){var n=function(e){return En(e,xn.fromDom(t.getBody()))},r=function(e,n){return FO(t,e.dom,n)?W.some(n):W.none()};return W.from(t.selection.getStart(!0)).bind(function(t){return EO(xn.fromDom(t),function(t){return bt(e,function(e){return r(t,e)})},n)}).getOrNull()},UO=function(t,e){var n=t.formatter.get(e),r=t.dom;if(n)for(var o=t.selection.getStart(),i=Lm(r,o),a=n.length-1;a>=0;a--){var u=n[a];if(!Hm(u)||S(u.defaultBlock))return!0;for(var s=i.length-1;s>=0;s--)if(r.is(i[s],u.selector))return!0}return!1},WO=function(t,e,n){return ot(n,function(n,r){var o=Fm(t,r);return t.formatter.matchNode(e,r,{},o)?n.concat([r]):n},[])},GO=da,qO="_mce_caret",YO=function(t,e){return t.importNode(e,!0)},XO=function(t){var e=[];while(t){if(3===t.nodeType&&t.nodeValue!==GO||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},$O=function(t){return XO(t).length>0},KO=function(t){if(t){var e=new zi(t,t);for(t=e.current();t;t=e.next())if(Qr(t))return t}return null},ZO=function(t){var e=xn.fromTag("span");return yo(e,{id:qO,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&_r(e,xn.fromText(GO)),e},JO=function(t){var e=KO(t);return e&&e.nodeValue.charAt(0)===GO&&e.deleteData(0,1),e},QO=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if($O(e))F_(t,!1,xn.fromDom(e),n);else{var i=o.getRng(),a=r.getParent(e,r.isBlock),u=i.startContainer,s=i.startOffset,c=i.endContainer,l=i.endOffset,f=JO(e);r.remove(e,!0),u===f&&s>0&&i.setStart(f,s-1),c===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&Mx(xn.fromDom(a)),o.setRng(i)}},tS=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(e)QO(t,e,n);else if(e=Qp(t.getBody(),o.getStart()),!e)while(e=r.get(qO))QO(t,e,!1)},eS=function(t,e,n){var r=t.dom,o=r.getParent(n,E(Dm,t));o&&r.isEmpty(o)?n.parentNode.replaceChild(e,n):(Tx(xn.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(e,n):r.insertAfter(e,n))},nS=function(t,e){return t.appendChild(e),e},rS=function(t,e){var n=rt(t,function(t,e){return nS(t,e.cloneNode(!1))},e);return nS(n,n.ownerDocument.createTextNode(GO))},oS=function(t,e,n,r,o,i){var a=t.formatter,u=t.dom,s=nt(xt(a.get()),function(t){return t!==r&&!se(t,"removeformat")}),c=WO(t,n,s),l=nt(c,function(e){return!zm(t,e,r)});if(l.length>0){var f=n.cloneNode(!1);return u.add(e,f),a.remove(r,o,f,i),u.remove(f),W.some(f)}return W.none()},iS=function(t,e,n){var r,o,i=t.selection,a=i.getRng(),u=a.startOffset,s=a.startContainer,c=s.nodeValue;r=Qp(t.getBody(),i.getStart()),r&&(o=KO(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&u>0&&u<c.length&&l.test(c.charAt(u))&&l.test(c.charAt(u-1))){var f=i.getBookmark();a.collapse(!0);var d=ug(t,a,t.formatter.get(e));d=_v(d),t.formatter.apply(e,n,d),i.moveToBookmark(f)}else r&&o.nodeValue===GO?t.formatter.apply(e,n,r):(r=YO(t.getDoc(),ZO(!0).dom),o=r.firstChild,a.insertNode(r),u=1,t.formatter.apply(e,n,r)),i.setCursorLocation(o,u)},aS=function(t,e,n,r){var o,i,a,u=t.dom,s=t.selection,c=[],l=s.getRng(),f=l.startContainer,d=l.startOffset;i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);while(i){if(FO(t,i,e,n,r)){a=i;break}i.nextSibling&&(o=!0),c.push(i),i=i.parentNode}if(a)if(o){var h=s.getBookmark();l.collapse(!0);var p=ug(t,l,t.formatter.get(e),!0);p=_v(p),t.formatter.remove(e,n,p,r),s.moveToBookmark(h)}else{var m=Qp(t.getBody(),a),g=ZO(!1).dom;eS(t,g,null!==m?m:a);var v=oS(t,g,a,e,n,r),y=rS(c.concat(v.toArray()),g);QO(t,m,!1),s.setCursorLocation(y,1),u.isEmpty(a)&&u.remove(a)}},uS=function(t,e){var n=t.selection,r=t.getBody();tS(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==GO||tS(t,Qp(r,n.getStart())),37!==e&&39!==e||tS(t,Qp(r,n.getStart()))},sS=function(t){t.on("mouseup keydown",function(e){uS(t,e.keyCode)})},cS=function(t,e){var n=ZO(!1),r=rS(e,n.dom);return yr(xn.fromDom(t),n),kr(xn.fromDom(t)),If(r,0)},lS=function(t,e){var n=t.schema.getTextInlineElements();return jt(n,Bn(e))&&!Jp(e.dom)&&!Xr(e.dom)},fS=function(t){return Jp(t.dom)&&$O(t.dom)},dS={},hS=Ft,pS=Bt,mS=function(t,e){var n=dS[t];n||(dS[t]=[]),dS[t].push(e)},gS=function(t,e){pS(dS[t],function(t){t(e)})};mS("pre",function(t){var e,n=t.selection.getRng(),r=function(t){return i(t.previousSibling)&&-1!==zt(e,t.previousSibling)},o=function(t,e){Ic(e).remove(),Ic(t).append("<br><br>").append(e.childNodes)},i=Wr(["pre"]);n.collapsed||(e=t.selection.getSelectedBlocks(),pS(hS(hS(e,i),r),function(t){o(t.previousSibling,t)}))});var vS=pn.each,yS=function(t){return Ur(t)&&!xm(t)&&!Jp(t)&&!Xr(t)},bS=function(t,e){for(var n=t;n;n=n[e]){if(Qr(n)&&pe(n.data))return t;if(Ur(n)&&!xm(n))return n}return t},xS=function(t,e,n){var r=tx(t);if(e&&n&&(e=bS(e,"previousSibling"),n=bS(n,"nextSibling"),r.compare(e,n))){for(var o=e.nextSibling;o&&o!==n;){var i=o;o=o.nextSibling,e.appendChild(i)}return t.remove(n),pn.each(pn.grep(n.childNodes),function(t){e.appendChild(t)}),e}return n},_S=function(t,e,n,r){if(r&&!1!==e.merge_siblings){var o=xS(t,Mm(r),r);xS(t,o,Mm(o,!0))}},wS=function(t,e,n){if(e.clear_child_styles){var r=e.links?"*:not(a)":"*";vS(t.select(r,n),function(n){yS(n)&&vS(e.styles,function(e,r){t.setStyle(n,r,"")})})}},OS=function(t,e,n){vS(t.childNodes,function(t){yS(t)&&(e(t)&&n(t),t.hasChildNodes()&&OS(t,e,n))})},SS=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},CS=function(t,e){return function(n){return!(!n||!Pm(t,n,e))}},kS=function(t,e,n){return function(r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),SS(t,r)}},TS=ti.generate([{keep:[]},{rename:["name"]},{removed:[]}]),MS=/^(src|href|style)$/,DS=pn.each,AS=Rm,IS=function(t){return/^(TR|TH|TD)$/.test(t.nodeName)},jS=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},ES=function(t,e,n){var r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"];if(Ur(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return Qr(r)&&n&&o>=r.nodeValue.length&&(r=new zi(r,t.getBody()).next()||r),Qr(r)&&!n&&0===o&&(r=new zi(r,t.getBody()).prev()||r),r},RS=function(t,e){var n=e?"firstChild":"lastChild";if(IS(t)&&t[n]){var r=t[n];return"TR"===t.nodeName&&r[n]||r}return t},NS=function(t,e,n,r){var o=t.create(n,r);return e.parentNode.insertBefore(o,e),o.appendChild(e),o},PS=function(t,e,n,r,o){var i=xn.fromDom(e),a=xn.fromDom(t.create(r,o)),u=n?nr(i):er(i);return Sr(a,u),n?(yr(i,a),xr(a,i)):(br(i,a),_r(a,i)),a.dom},BS=function(t,e,n){return!(!Um(n)||!AS(e,n.inline))||(!(!Vm(n)||!AS(e,n.block))||(Hm(n)?Ur(e)&&t.is(e,n.selector):void 0))},LS=function(t,e){return e.links&&"A"===t.nodeName},FS=function(t,e,n,r){var o=Mm(e,n,r);return O(o)||"BR"===o.nodeName||t.isBlock(o)},zS=function(t,e,n){var r,o=e.parentNode,i=t.dom,a=Od(t);Vm(n)&&(a?o===i.getRoot()&&(n.list_block&&AS(e,n.list_block)||Q(yt(e.childNodes),function(e){Am(t,a,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=NS(i,e,a),i.setAttribs(r,t.settings.forced_root_block_attrs)):r=null})):i.isBlock(e)&&!i.isBlock(o)&&(FS(i,e,!1)||FS(i,e.firstChild,!0,!0)||e.insertBefore(i.create("br"),e.firstChild),FS(i,e,!0)||FS(i,e.lastChild,!1,!0)||e.appendChild(i.create("br")))),Wm(n)&&!AS(n.inline,e)||i.remove(e,!0)},VS=function(t,e,n,r,o){var i,a=t.dom;if(!BS(a,r,e)&&!LS(r,e))return TS.keep();var u=r;if(Um(e)&&"all"===e.remove&&b(e.preserve_attributes)){var s=nt(a.getAttribs(u),function(t){return K(e.preserve_attributes,t.name.toLowerCase())});if(a.removeAllAttribs(u),Q(s,function(t){return a.setAttrib(u,t.name,t.value)}),s.length>0)return TS.rename("span")}if("all"!==e.remove){DS(e.styles,function(t,r){t=Nm(a,Em(t,n),r+""),k(r)&&(r=t,o=null),(e.remove_similar||!o||AS(Pm(a,o,r),t))&&a.setStyle(u,r,""),i=!0}),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),DS(e.attributes,function(t,r){var i;if(t=Em(t,n),k(r)&&(r=t,o=null),e.remove_similar||!o||AS(a.getAttrib(o,r),t)){if("class"===r&&(t=a.getAttrib(u,r),t&&(i="",Q(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(i+=(i?" ":"")+t)}),i)))return void a.setAttrib(u,r,i);if(MS.test(r)&&u.removeAttribute("data-mce-"+r),"style"===r&&Wr(["li"])(u)&&"none"===a.getStyle(u,"list-style-type"))return u.removeAttribute(r),void a.setStyle(u,"list-style-type","none");"class"===r&&u.removeAttribute("className"),u.removeAttribute(r)}}),DS(e.classes,function(t){t=Em(t,n),o&&!a.hasClass(o,t)||a.removeClass(u,t)});for(var c=a.getAttribs(u),l=0;l<c.length;l++){var f=c[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return TS.keep()}}return"none"!==e.remove?(zS(t,u,e),TS.removed()):TS.keep()},HS=function(t,e,n,r,o){return VS(t,e,n,r,o).fold(L,function(e){return t.dom.rename(r,e),!0},F)},US=function(t,e,n,r,o){var i;return Q(Lm(t.dom,e.parentNode).reverse(),function(e){if(!i&&"_start"!==e.id&&"_end"!==e.id){var a=FO(t,e,n,r,o);a&&!1!==a.split&&(i=e)}}),i},WS=function(t,e,n,r){return VS(t,e,n,r,r).fold(A(r),function(e){var n=t.dom.createFragment();return n.appendChild(r),t.dom.rename(r,e)},A(null))},GS=function(t,e,n,r,o,i,a,u){var s,c,l,f=t.dom;if(n){for(var d=n.parentNode,h=r.parentNode;h&&h!==d;h=h.parentNode){s=f.clone(h,!1);for(var p=0;p<e.length;p++)if(s=WS(t,e[p],u,s),null===s)break;s&&(c&&s.appendChild(c),l||(l=s),c=s)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),c&&(o.parentNode.insertBefore(c,o),l.appendChild(o),Um(a)&&_S(f,a,u,c))}return r},qS=function(t,e,n,r,o){var i=t.formatter.get(e),a=i[0],u=!0,s=t.dom,c=t.selection,l=function(r){var u=US(t,r,e,n,o);return GS(t,i,u,r,r,!0,a,n)},f=function(t){return xm(t)&&Ur(t)&&("_start"===t.id||"_end"===t.id)},d=function(e){return Z(i,function(r){return HS(t,r,n,e,e)})},h=function(e){var n=!0,r=!1;Ur(e)&&s.getContentEditable(e)&&(n=u,u="true"===s.getContentEditable(e),r=!0);var o=yt(e.childNodes);if(u&&!r){var c=d(e),l=c||Z(i,function(t){return BO(s,e,t)}),f=e.parentNode;!l&&S(f)&&Gm(a)&&d(f)}if(a.deep&&o.length){for(var p=0;p<o.length;p++)h(o[p]);r&&(u=n)}var m=["underline","line-through","overline"];Q(m,function(n){Ur(e)&&t.dom.getStyle(e,"text-decoration")===n&&e.parentNode&&Bm(s,e.parentNode)===n&&HS(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,e)})},p=function(t){var e=s.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return f(n)&&(n=n[t?"firstChild":"lastChild"]),Qr(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),s.remove(e,!0),n},m=function(e){var n,r,o=ug(t,e,i,e.collapsed);if(a.split){if(o=_v(o),n=ES(t,o,!0),r=ES(t,o),n!==r){if(n=RS(n,!0),r=RS(r,!1),jS(s,n,r)){var u=W.from(n.firstChild).getOr(n);return l(PS(s,u,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(jS(s,r,n)){u=W.from(r.lastChild).getOr(r);return l(PS(s,u,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1)}n=NS(s,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=NS(s,r,"span",{id:"_end","data-mce-type":"bookmark"});var c=s.createRng();c.setStartAfter(n),c.setEndBefore(r),sg(s,c,function(t){Q(t,function(t){xm(t)||xm(t.parentNode)||l(t)})}),l(n),l(r),n=p(!0),r=p()}else n=r=l(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=s.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=s.nodeIndex(r)+1}sg(s,o,function(t){Q(t,h)})};if(r){if(Cm(r)){var g=s.createRng();g.setStartBefore(r),g.setEndAfter(r),m(g)}else m(r);Jg(t,e,r,n)}else if("false"!==s.getContentEditable(c.getNode()))c.isCollapsed()&&Um(a)&&!mg(t).length?aS(t,e,n,o):(Cg(c,!0,function(){Sg(t,m)}),Um(a)&&zO(t,e,n,c.getStart())&&Tm(s,c,c.getRng()),t.nodeChanged()),Jg(t,e,r,n);else{r=c.getNode();for(var v=0;v<i.length;v++)if(i[v].ceFalseOverride&&HS(t,i[v],n,r,r))break;Jg(t,e,r,n)}},YS=pn.each,XS=function(t,e,n,r){var o=function(e){if(1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType){var n=Bm(t,e.parentNode);t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(pn.walk(r,o,"childNodes"),o(r))},$S=function(t,e,n,r){e.styles&&e.styles.backgroundColor&&OS(r,CS(t,"fontSize"),kS(t,"backgroundColor",Em(e.styles.backgroundColor,n)))},KS=function(t,e,n,r){!Um(e)||"sub"!==e.inline&&"sup"!==e.inline||(OS(r,CS(t,"fontSize"),kS(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",r),!0))},ZS=function(t,e,n,r){YS(e,function(e){Um(e)&&YS(t.dom.select(e.inline,r),function(r){yS(r)&&HS(t,e,n,r,e.exact?r:null)}),wS(t.dom,e,r)})},JS=function(t,e,n,r,o){FO(t,o.parentNode,n,r)&&HS(t,e,r,o)||e.merge_with_parents&&t.dom.getParent(o.parentNode,function(i){if(FO(t,i,n,r))return HS(t,e,r,o),!0})},QS=pn.each,tC=function(t){return Ur(t)&&!xm(t)&&!Jp(t)&&!Xr(t)},eC=function(t,e,n,r){if(uh(t)&&Um(e)){var o=Wt(Wt({},t.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=AO(xn.fromDom(n),function(t){return Jp(t.dom)});return Et(o,r)&&nu(xn.fromDom(n.parentNode),!1)&&!i}return!1},nC=function(t,e,n,r){var o=t.formatter.get(e),i=o[0],a=!r&&t.selection.isCollapsed(),u=t.dom,s=t.selection,c=function(t,e){if(void 0===e&&(e=i),C(e.onformat)&&e.onformat(t,e,n,r),QS(e.styles,function(e,r){u.setStyle(t,r,Em(e,n))}),e.styles){var o=u.getAttrib(t,"style");o&&u.setAttrib(t,"data-mce-style",o)}QS(e.attributes,function(e,r){u.setAttrib(t,r,Em(e,n))}),QS(e.classes,function(e){e=Em(e,n),u.hasClass(t,e)||u.addClass(t,e)})},l=function(t,e){var n=!1;return QS(t,function(t){return!!Hm(t)&&(S(t.collapsed)&&t.collapsed!==a?void 0:u.is(e,t.selector)&&!Jp(e)?(c(e,t),n=!0,!1):void 0)}),n},f=function(t){if(v(t)){var e=u.create(t);return c(e),e}return null},d=function(r,a,u){var s=[],d=!0,h=i.inline||i.block,p=f(h);sg(r,a,function(a){var f,m=function(a){var g=!1,v=d,y=a.nodeName.toLowerCase(),b=a.parentNode,x=b.nodeName.toLowerCase();if(Ur(a)&&r.getContentEditable(a)&&(v=d,d="true"===r.getContentEditable(a),g=!0),ro(a)&&!eC(t,i,a,x))return f=null,void(Vm(i)&&r.remove(a));if(Vm(i)&&i.wrapper&&FO(t,a,e,n))f=null;else{if(d&&!g&&Vm(i)&&!i.wrapper&&Dm(t,y)&&Am(t,x,h)){var _=r.rename(a,h);return c(_),s.push(_),void(f=null)}if(Hm(i)){var w=l(o,a);if(!w&&S(b)&&Gm(i)&&(w=l(o,b)),!Um(i)||w)return void(f=null)}!d||g||!Am(t,h,y)||!Am(t,x,h)||!u&&Qr(a)&&ha(a.data)||Jp(a)||Um(i)&&r.isBlock(a)?(f=null,Q(yt(a.childNodes),m),g&&(d=v),f=null):(f||(f=r.clone(p,!1),a.parentNode.insertBefore(f,a),s.push(f)),f.appendChild(a))}};Q(a,m)}),!0===i.links&&Q(s,function(t){var e=function(t){"A"===t.nodeName&&c(t,i),Q(yt(t.childNodes),e)};e(t)}),Q(s,function(a){var u=function(t){var e=0;return Q(t.childNodes,function(t){jm(t)||xm(t)||e++}),e},l=function(t){var e=at(t.childNodes,tC).filter(function(t){return BO(r,t,i)});return e.map(function(e){var n=r.clone(e,!1);return c(n),r.replace(n,t,!0),r.remove(e,!0),n}).getOr(t)},f=u(a);!(s.length>1)&&r.isBlock(a)||0!==f?(Um(i)||Vm(i)&&i.wrapper)&&(i.exact||1!==f||(a=l(a)),ZS(t,o,n,a),JS(t,i,e,n,a),$S(r,i,n,a),XS(r,i,n,a),KS(r,i,n,a),_S(r,i,n,a)):r.remove(a,!0)})};if("false"!==u.getContentEditable(s.getNode())){if(i){if(r)if(Cm(r)){if(!l(o,r)){var h=u.createRng();h.setStartBefore(r),h.setEndAfter(r),d(u,ug(t,h,o),!0)}}else d(u,r,!0);else if(a&&Um(i)&&!mg(t).length)iS(t,e,n);else{var p=s.getNode(),m=o[0];t.settings.forced_root_block||!m.defaultBlock||u.getParent(p,u.isBlock)||nC(t,m.defaultBlock),s.setRng(Lw(s.getRng())),Cg(s,!0,function(){Sg(t,function(e,n){var r=n?e:ug(t,e,o);d(u,r,!1)})}),Tm(u,s,s.getRng()),t.nodeChanged()}gS(e,t)}Zg(t,e,r,n)}else{r=s.getNode();for(var g=0,y=o.length;g<y;g++){var b=o[g];if(b.ceFalseOverride&&Hm(b)&&u.is(r,b.selector)){c(r,b);break}}Zg(t,e,r,n)}},rC=function(t){return jt(t,"vars")},oC=function(t,e){t.set({}),e.on("NodeChange",function(n){sC(e,n.element,t.get())}),e.on("FormatApply FormatRemove",function(n){var r=W.from(n.node).map(function(t){return Cm(t)?t:t.startContainer}).bind(function(t){return Ur(t)?W.some(t):W.from(t.parentElement)}).getOrThunk(function(){return iC(e)});sC(e,r,t.get())})},iC=function(t){return t.selection.getStart()},aC=function(t,e,n,r,o){var i=function(e){var i=t.formatter.matchNode(e,n,null!==o&&void 0!==o?o:{},r);return!w(i)},a=function(e){return!!NO(t,e,n)||!r&&S(t.formatter.matchNode(e,n,o,!0))};return it(e,i,a)},uC=function(t,e){var n=null!==e&&void 0!==e?e:iC(t);return nt(Lm(t.dom,n),function(t){return Ur(t)&&!Xr(t)})},sC=function(t,e,n){var r=uC(t,e);wt(n,function(n,o){var i=function(n){var i=aC(t,r,o,n.similar,rC(n)?n.vars:void 0),a=i.isSome();if(n.state.get()!==a){n.state.set(a);var u=i.getOr(e);rC(n)?n.callback(a,{node:u,format:o,parents:r}):Q(n.callbacks,function(t){return t(a,{node:u,format:o,parents:r})})}};Q([n.withSimilar,n.withoutSimilar],i),Q(n.withVars,i)})},cC=function(t,e,n,r,o,i){var a=e.get();Q(n.split(","),function(e){var n=It(a,e).getOrThunk(function(){var t={withSimilar:{state:Xc(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Xc(!1),similar:!1,callbacks:[]},withVars:[]};return a[e]=t,t}),u=function(){var n=uC(t);return aC(t,n,e,o,i).isSome()};if(w(i)){var s=o?n.withSimilar:n.withoutSimilar;s.callbacks.push(r),1===s.callbacks.length&&s.state.set(u())}else n.withVars.push({state:Xc(u()),similar:o,vars:i,callback:r})}),e.set(a)},lC=function(t,e,n){var r=t.get();Q(e.split(","),function(t){return It(r,t).each(function(e){r[t]={withSimilar:Wt(Wt({},e.withSimilar),{callbacks:nt(e.withSimilar.callbacks,function(t){return t!==n})}),withoutSimilar:Wt(Wt({},e.withoutSimilar),{callbacks:nt(e.withoutSimilar.callbacks,function(t){return t!==n})}),withVars:nt(e.withVars,function(t){return t.callback!==n})}})}),t.set(r)},fC=function(t,e,n,r,o,i){return null===e.get()&&oC(e,t),cC(t,e,n,r,o,i),{unbind:function(){return lC(e,n,r)}}},dC=function(t,e,n,r){var o=t.formatter.get(e);!zO(t,e,n,r)||"toggle"in o[0]&&!o[0].toggle?nC(t,e,n,r):qS(t,e,n,r)},hC=function(t,e){var n=e||document,r=n.createDocumentFragment();return Q(t,function(t){r.appendChild(t.dom)}),xn.fromDom(r)},pC=function(t,e,n){return{element:t,width:e,rows:n}},mC=function(t,e){return{element:t,cells:e}},gC=function(t,e){return{x:t,y:e}},vC=function(t,e){var n=parseInt(bo(t,e),10);return isNaN(n)?1:n},yC=function(t,e,n,r,o){for(var i=vC(o,"rowspan"),a=vC(o,"colspan"),u=t.rows,s=n;s<n+i;s++){u[s]||(u[s]=mC(Gl(r),[]));for(var c=e;c<e+a;c++){var l=u[s].cells;l[c]=s===n&&c===e?o:Wl(o)}}},bC=function(t,e,n){var r=t.rows,o=r[n]?r[n].cells:[];return!!o[e]},xC=function(t,e,n){while(bC(t,e,n))e++;return e},_C=function(t){return ot(t,function(t,e){return e.cells.length>t?e.cells.length:t},0)},wC=function(t,e){for(var n=t.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(En(o[i],e))return W.some(gC(i,r));return W.none()},OC=function(t,e,n,r,o){for(var i=[],a=t.rows,u=n;u<=o;u++){var s=a[u].cells,c=e<r?s.slice(e,r+1):s.slice(r,e+1);i.push(mC(a[u].element,c))}return i},SC=function(t,e,n){var r=e.x,o=e.y,i=n.x,a=n.y,u=o<a?OC(t,r,o,i,a):OC(t,r,a,i,o);return pC(t.element,_C(u),u)},CC=function(t,e){var n=Wl(t.element),r=xn.fromTag("tbody");return Sr(r,e),_r(n,r),n},kC=function(t){return J(t.rows,function(t){var e=J(t.cells,function(t){var e=Gl(t);return wo(e,"colspan"),wo(e,"rowspan"),e}),n=Wl(t.element);return Sr(n,e),n})},TC=function(t){var e=pC(Wl(t),0,[]);return Q(Cl(t,"tr"),function(t,n){Q(Cl(t,"td,th"),function(r,o){yC(e,xC(e,o,n),n,t,r)})}),pC(e.element,_C(e.rows),e.rows)},MC=function(t){return CC(t,kC(t))},DC=function(t,e,n){return wC(t,e).bind(function(e){return wC(t,n).map(function(n){return SC(t,e,n)})})},AC=function(t){return at(t,function(t){return"ul"===Bn(t)||"ol"===Bn(t)})},IC=function(t,e){return at(t,function(t){return"li"===Bn(t)&&_g(t,e)}).fold(A([]),function(e){return AC(t).map(function(t){var e=xn.fromTag(Bn(t)),n=Mt(Do(t),function(t,e){return ce(e,"list-style")});return Co(e,n),[xn.fromTag("li"),e]}).getOr([])})},jC=function(t,e){var n=ot(e,function(t,e){return _r(e,t),e},t);return e.length>0?hC([n]):n},EC=function(t){return ra(t)?Kn(t).filter(na).fold(A([]),function(e){return[t,e]}):na(t)?[t]:[]},RC=function(t,e){var n=xn.fromDom(e.commonAncestorContainer),r=Ex(n,t),o=nt(r,function(t){return Qi(t)||Ki(t)}),i=IC(r,e),a=o.concat(i.length?i:EC(n));return J(a,Wl)},NC=function(){return hC([])},PC=function(t,e){return jC(xn.fromDom(e.cloneContents()),RC(t,e))},BC=function(t,e){return ki(e,"table",E(En,t))},LC=function(t,e){return BC(t,e[0]).bind(function(t){var n=e[0],r=e[e.length-1],o=TC(t);return DC(o,n,r).map(function(t){return hC([MC(t)])})}).getOrThunk(NC)},FC=function(t,e){return e.length>0&&e[0].collapsed?NC():PC(t,e[0])},zC=function(t,e){var n=pg(e,t);return n.length>0?LC(t,n):FC(t,e)},VC=function(t){return t.replace(/^[ \f\n\r\t\v]+/,"")},HC=function(t,e){return e>=0&&e<t.length&&Om(t.charAt(e))},UC=function(t,e){var n=pa(t.innerText);return e?VC(n):n},WC=function(t){return t.map(function(t){return t.nodeName}).getOr("div").toLowerCase()},GC=function(t){return W.from(t.selection.getRng()).map(function(e){var n=W.from(t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock)),r=t.getBody(),o=WC(n),i=tn.browser.isIE()&&"pre"!==o,a=t.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),u=UC(a,i),s=pa(a.textContent);if(t.dom.remove(a),HC(s,0)||HC(s,s.length-1)){var c=n.getOr(r),l=UC(c,i),f=l.indexOf(u);if(-1===f)return u;var d=HC(l,f-1),h=HC(l,f+u.length);return(d?" ":"")+u+(h?" ":"")}return u}).getOr("")},qC=function(t,e){var n=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),i=wb(t,cg(o)),a=e.contextual?zC(xn.fromDom(t.getBody()),i).dom:n.cloneContents();return a&&r.appendChild(a),t.selection.serializer.serialize(r,e)},YC=function(t,e){return Wt(Wt({},t),{format:e,get:!0,selection:!0})},XC=function(t,e,n){void 0===n&&(n={});var r=YC(n,e),o=t.fire("BeforeGetContent",r);if(o.isDefaultPrevented())return t.fire("GetContent",o),o.content;if("text"===o.format)return GC(t);o.getInner=!0;var i=qC(t,o);return"tree"===o.format?i:(o.content=t.selection.isCollapsed()?"":i,t.fire("GetContent",o),o.content)},$C=0,KC=1,ZC=2,JC=function(t,e){var n=t.length+e.length+2,r=new Array(n),o=new Array(n),i=function(t,e,n){return{start:t,end:e,diag:n}},a=function(n,r,o,i,u){var c=s(n,r,o,i);if(null===c||c.start===r&&c.diag===r-i||c.end===n&&c.diag===n-o){var l=n,f=o;while(l<r||f<i)l<r&&f<i&&t[l]===e[f]?(u.push([$C,t[l]]),++l,++f):r-n>i-o?(u.push([ZC,t[l]]),++l):(u.push([KC,e[f]]),++f)}else{a(n,c.start,o,c.start-c.diag,u);for(var d=c.start;d<c.end;++d)u.push([$C,t[d]]);a(c.end,r,c.end-c.diag,i,u)}},u=function(n,r,o,a){var u=n;while(u-r<a&&u<o&&t[u]===e[u-r])++u;return i(n,u,r)},s=function(n,i,a,s){var c=i-n,l=s-a;if(0===c||0===l)return null;var f,d,h,p,m,g=c-l,v=l+c,y=(v%2===0?v:v+1)/2;for(r[1+y]=n,o[1+y]=i+1,f=0;f<=y;++f){for(d=-f;d<=f;d+=2){h=d+y,d===-f||d!==f&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,p=r[h],m=p-n+a-d;while(p<i&&m<s&&t[p]===e[m])r[h]=++p,++m;if(g%2!==0&&g-f<=d&&d<=g+f&&o[h-g]<=r[h])return u(o[h-g],d+n-a,i,s)}for(d=g-f;d<=g+f;d+=2){h=d+y-g,d===g-f||d!==g+f&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1],p=o[h]-1,m=p-n+a-d;while(p>=n&&m>=a&&t[p]===e[m])o[h]=p--,m--;if(g%2===0&&-f<=d&&d<=f&&o[h]<=r[h+g])return u(o[h],d+n-a,i,s)}}},c=[];return a(0,t.length,0,e.length,c),c},QC=function(t){return Ur(t)?t.outerHTML:Qr(t)?Mu.encodeRaw(t.data,!1):to(t)?"\x3c!--"+t.data+"--\x3e":""},tk=function(t){var e,n=document.createElement("div"),r=document.createDocumentFragment();t&&(n.innerHTML=t);while(e=n.firstChild)r.appendChild(e);return r},ek=function(t,e,n){var r=tk(e);if(t.hasChildNodes()&&n<t.childNodes.length){var o=t.childNodes[n];o.parentNode.insertBefore(r,o)}else t.appendChild(r)},nk=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},rk=function(t,e){var n=0;Q(t,function(t){t[0]===$C?n++:t[0]===KC?(ek(e,t[1],n),n++):t[0]===ZC&&nk(e,n)})},ok=function(t){return nt(J(yt(t.childNodes),QC),function(t){return t.length>0})},ik=function(t,e){var n=J(yt(e.childNodes),QC);return rk(JC(n,t),e),e},ak=Yt(function(){return document.implementation.createHTMLDocument("undo")}),uk=function(t){return-1!==t.indexOf("</iframe>")},sk=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},ck=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},lk=function(t){var e=ok(t.getBody()),n=ct(e,function(e){var n=Yb(t.serializer,e);return n.length>0?[n]:[]}),r=n.join("");return uk(r)?sk(n):ck(r)},fk=function(t,e,n){var r=n?e.beforeBookmark:e.bookmark;"fragmented"===e.type?ik(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw",no_selection:!S(r)||!om(r)||!r.isFakeCaret}),t.selection.moveToBookmark(r)},dk=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},hk=function(t){var e=xn.fromTag("body",ak());return Hl(e,dk(t)),Q(Cl(e,"*[data-mce-bogus]"),Tr),Vl(e)},pk=function(t,e){return dk(t)===dk(e)},mk=function(t,e){return hk(t)===hk(e)},gk=function(t,e){return!(!t||!e)&&(!!pk(t,e)||mk(t,e))},vk=function(t){return 0===t.get()},yk=function(t,e,n){vk(n)&&(t.typing=e)},bk=function(t,e){t.typing&&(yk(t,!1,e),t.add())},xk=function(t){t.typing&&(t.typing=!1,t.add())},_k=function(t,e,n){vk(e)&&n.set(dd(t.selection))},wk=function(t,e,n,r,o,i,a){var u=lk(t);if(i=i||{},i=pn.extend(i,u),!1===vk(r)||t.removed)return null;var s=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&gk(s,i))return null;e.data[n.get()]&&o.get().each(function(t){e.data[n.get()].beforeBookmark=t});var c=vh(t);if(c&&e.data.length>c){for(var l=0;l<e.data.length-1;l++)e.data[l]=e.data[l+1];e.data.length--,n.set(e.data.length)}i.bookmark=dd(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(i),n.set(e.data.length-1);var f={level:i,lastLevel:s,originalEvent:a};return n.get()>0?(t.setDirty(!0),t.fire("AddUndo",f),t.fire("change",f)):t.fire("AddUndo",f),i},Ok=function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")},Sk=function(t,e,n,r,o){if(e.transact(r)){var i=e.data[n.get()].bookmark,a=e.data[n.get()-1];fk(t,a,!0),e.transact(o)&&(e.data[n.get()-1].beforeBookmark=i)}},Ck=function(t,e,n){var r;return e.get()<n.length-1&&(e.set(e.get()+1),r=n[e.get()],fk(t,r,!1),t.setDirty(!0),t.fire("Redo",{level:r})),r},kk=function(t,e,n,r){var o;return e.typing&&(e.add(),e.typing=!1,yk(e,!1,n)),r.get()>0&&(r.set(r.get()-1),o=e.data[r.get()],fk(t,o,!0),t.setDirty(!0),t.fire("Undo",{level:o})),o},Tk=function(t){t.clear(),t.add()},Mk=function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!gk(lk(t),e.data[0])},Dk=function(t,e){return e.get()<t.data.length-1&&!t.typing},Ak=function(t,e,n){return bk(t,e),t.beforeChange(),t.ignore(n),t.add()},Ik=function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}},jk=function(t,e){var n=t.dom,r=S(e)?e:t.getBody();w(t.hasVisual)&&(t.hasVisual=Sh(t)),Q(n.select("table,a",r),function(e){switch(e.nodeName){case"TABLE":var r=Ch(t),o=n.getAttrib(e,"border");o&&"0"!==o||!t.hasVisual?n.removeClass(e,r):n.addClass(e,r);break;case"A":if(!n.getAttrib(e,"href")){var i=n.getAttrib(e,"name")||e.id,a=kh(t);i&&t.hasVisual?n.addClass(e,a):n.removeClass(e,a)}break}}),t.fire("VisualAid",{element:e,hasVisual:t.hasVisual})},Ek=function(t){return{undoManager:{beforeChange:function(e,n){return _k(t,e,n)},add:function(e,n,r,o,i,a){return wk(t,e,n,r,o,i,a)},undo:function(e,n,r){return kk(t,e,n,r)},redo:function(e,n){return Ck(t,e,n)},clear:function(e,n){return Ok(t,e,n)},reset:function(t){return Tk(t)},hasUndo:function(e,n){return Mk(t,e,n)},hasRedo:function(t,e){return Dk(t,e)},transact:function(t,e,n){return Ak(t,e,n)},ignore:function(t,e){return Ik(t,e)},extra:function(e,n,r,o){return Sk(t,e,n,r,o)}},formatter:{match:function(e,n,r,o){return zO(t,e,n,r,o)},matchAll:function(e,n){return VO(t,e,n)},matchNode:function(e,n,r,o){return FO(t,e,n,r,o)},canApply:function(e){return UO(t,e)},closest:function(e){return HO(t,e)},apply:function(e,n,r){return nC(t,e,n,r)},remove:function(e,n,r,o){return qS(t,e,n,r,o)},toggle:function(e,n,r){return dC(t,e,n,r)},formatChanged:function(e,n,r,o,i){return fC(t,e,n,r,o,i)}},editor:{getContent:function(e,n){return Jb(t,e,n)},setContent:function(e,n){return DO(t,e,n)},insertContent:function(e,n){return yO(t,e,n)},addVisual:function(e){return jk(t,e)}},selection:{getContent:function(e,n){return XC(t,e,n)}},raw:{getModel:function(){return W.none()}}}},Rk=function(t){var e=function(t){return y(t)?t:{}},n=t.undoManager,r=t.formatter,o=t.editor,i=t.selection,a=t.raw;return{undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:function(t,e,r){return n.transact(r)},ignore:function(t,e){return n.ignore(e)},extra:function(t,e,r,o){return n.extra(r,o)}},formatter:{match:function(t,n,o,i){return r.match(t,e(n),i)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(t){return r.canApply(t)},closest:function(t){return r.closest(t)},apply:function(t,n,o){return r.apply(t,e(n))},remove:function(t,n,o,i){return r.remove(t,e(n))},toggle:function(t,n,o){return r.toggle(t,e(n))},formatChanged:function(t,e,n,o,i){return r.formatChanged(e,n,o,i)}},editor:{getContent:function(t,e){return o.getContent(t)},setContent:function(t,e){return o.setContent(t,e)},insertContent:function(t,e){return o.insertContent(t)},addVisual:o.addVisual},selection:{getContent:function(t,e){return i.getContent(e)}},raw:{getModel:function(){return W.some(a.getRawModel())}}}},Nk=function(){var t=A(null),e=A("");return{undoManager:{beforeChange:T,add:t,undo:t,redo:t,clear:T,reset:T,hasUndo:L,hasRedo:L,transact:t,ignore:T,extra:T},formatter:{match:L,matchAll:A([]),matchNode:A(void 0),canApply:L,closest:e,apply:T,remove:T,toggle:T,formatChanged:A({unbind:T})},editor:{getContent:e,setContent:e,insertContent:T,addVisual:T},selection:{getContent:e},raw:{getModel:A(W.none())}}},Pk=function(t){return jt(t.plugins,"rtc")},Bk=function(t){return It(t.plugins,"rtc").bind(function(t){return W.from(t.setup)})},Lk=function(t){var e=t;return Bk(t).fold(function(){return e.rtcInstance=Ek(t),W.none()},function(t){return e.rtcInstance=Nk(),W.some(function(){return t().then(function(t){return e.rtcInstance=Rk(t),t.rtc.isRemote})})})},Fk=function(t){return t.rtcInstance?t.rtcInstance:Ek(t)},zk=function(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},Vk=function(t,e,n){zk(t).undoManager.beforeChange(e,n)},Hk=function(t,e,n,r,o,i,a){return zk(t).undoManager.add(e,n,r,o,i,a)},Uk=function(t,e,n,r){return zk(t).undoManager.undo(e,n,r)},Wk=function(t,e,n){return zk(t).undoManager.redo(e,n)},Gk=function(t,e,n){zk(t).undoManager.clear(e,n)},qk=function(t,e){zk(t).undoManager.reset(e)},Yk=function(t,e,n){return zk(t).undoManager.hasUndo(e,n)},Xk=function(t,e,n){return zk(t).undoManager.hasRedo(e,n)},$k=function(t,e,n,r){return zk(t).undoManager.transact(e,n,r)},Kk=function(t,e,n){zk(t).undoManager.ignore(e,n)},Zk=function(t,e,n,r,o){zk(t).undoManager.extra(e,n,r,o)},Jk=function(t,e,n,r,o){return zk(t).formatter.match(e,n,r,o)},Qk=function(t,e,n){return zk(t).formatter.matchAll(e,n)},tT=function(t,e,n,r,o){return zk(t).formatter.matchNode(e,n,r,o)},eT=function(t,e){return zk(t).formatter.canApply(e)},nT=function(t,e){return zk(t).formatter.closest(e)},rT=function(t,e,n,r){zk(t).formatter.apply(e,n,r)},oT=function(t,e,n,r,o){zk(t).formatter.remove(e,n,r,o)},iT=function(t,e,n,r){zk(t).formatter.toggle(e,n,r)},aT=function(t,e,n,r,o,i){return zk(t).formatter.formatChanged(e,n,r,o,i)},uT=function(t,e,n){return Fk(t).editor.getContent(e,n)},sT=function(t,e,n){return Fk(t).editor.setContent(e,n)},cT=function(t,e,n){return Fk(t).editor.insertContent(e,n)},lT=function(t,e,n){return zk(t).selection.getContent(e,n)},fT=function(t,e){return zk(t).editor.addVisual(e)},dT=function(t,e){void 0===e&&(e={});var n=e.format?e.format:"html";return lT(t,n,e)},hT=function(t){return 0===t.dom.length?(kr(t),W.none()):W.some(t)},pT=function(t,e){return t.filter(function(t){return Pg.isBookmarkNode(t.dom)}).bind(e?tr:Qn)},mT=function(t,e,n,r){var o=t.dom,i=e.dom,a=r?o.length:i.length;r?(x_(o,i,!1,!r),n.setStart(i,a)):(x_(i,o,!1,!r),n.setEnd(i,a))},gT=function(t,e){Kn(t).each(function(n){var r=t.dom;e&&o_(n,If(r,0))?y_(r,0):!e&&a_(n,If(r,r.length))&&b_(r,r.length)})},vT=function(t,e,n,r){t.bind(function(t){var o=r?b_:y_;return o(t.dom,r?t.dom.length:0),e.filter(Hn).map(function(e){return mT(t,e,n,r)})}).orThunk(function(){var t=pT(e,r).or(e).filter(Hn);return t.map(function(t){return gT(t,r)})})},yT=function(t,e){var n=W.from(e.firstChild).map(xn.fromDom),r=W.from(e.lastChild).map(xn.fromDom);t.deleteContents(),t.insertNode(e);var o=n.bind(Qn).filter(Hn).bind(hT),i=r.bind(tr).filter(Hn).bind(hT);vT(o,n,t,!0),vT(i,r,t,!1),t.collapse(!1)},bT=function(t,e){return Wt(Wt({format:"html"},t),{set:!0,selection:!0,content:e})},xT=function(t,e){if("raw"!==e.format){var n=t.selection.getRng(),r=t.dom.getParent(n.commonAncestorContainer,t.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=t.parser.parse(e.content,Wt(Wt({isRootContent:!0,forced_root_block:!1},o),e));return rx({validate:t.validate},t.schema).serialize(i)}return e.content},_T=function(t,e,n){void 0===n&&(n={});var r=bT(n,e),o=r;if(!r.no_events){var i=t.fire("BeforeSetContent",r);if(i.isDefaultPrevented())return void t.fire("SetContent",i);o=i}o.content=xT(t,o);var a=t.selection.getRng();yT(a,a.createContextualFragment(o.content)),t.selection.setRng(a),ty(t,a),o.no_events||t.fire("SetContent",o)},wT=function(t,e,n){if(t&&jt(t,e)){var r=nt(t[e],function(t){return t!==n});0===r.length?delete t[e]:t[e]=r}};function OT(t,e){var n,r,o=function(e,n){return at(n,function(n){return t.is(n,e)})},i=function(e){return t.getParents(e,null,t.getRoot())};return{selectorChangedWithUnbind:function(t,a){return n||(n={},r={},e.on("NodeChange",function(t){var e=t.element,a=i(e),u={};pn.each(n,function(t,e){o(e,a).each(function(n){r[e]||(Q(t,function(t){t(!0,{node:n,selector:e,parents:a})}),r[e]=t),u[e]=t})}),pn.each(r,function(t,n){u[n]||(delete r[n],pn.each(t,function(t){t(!1,{node:e,selector:n,parents:a})}))})})),n[t]||(n[t]=[]),n[t].push(a),o(t,i(e.selection.getStart())).each(function(){r[t]=n[t]}),{unbind:function(){wT(n,t,a),wT(r,t,a)}}}}}var ST=function(t){return!!t.select},CT=function(t){return!(!t||!t.ownerDocument)&&Pn(xn.fromDom(t.ownerDocument),xn.fromDom(t))},kT=function(t){return!!t&&(!!ST(t)||CT(t.startContainer)&&CT(t.endContainer))},TT=function(t,e,n,r){var o,i,a=OT(t,r).selectorChangedWithUnbind,u=function(e,n){var o=t.createRng();S(e)&&S(n)?(o.setStart(e,n),o.setEnd(e,n),b(o),g(!1)):(wg(t,o,r.getBody(),!0),b(o))},s=function(t){return dT(r,t)},c=function(t,e){return _T(r,t,e)},l=function(t){return gb(r.getBody(),y(),t)},f=function(t){return vb(r.getBody(),y(),t)},d=function(t,e){return E.getBookmark(t,e)},h=function(t){return E.moveToBookmark(t)},p=function(e,n){return _b(t,e,n).each(b),e},m=function(){var t=y(),e=v();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},g=function(t){var e=y();e.collapse(!!t),b(e)},v=function(){return e.getSelection?e.getSelection():e.document.selection},y=function(){var n,a,u,s=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(r){return-1}},c=e.document;if(void 0!==r.bookmark&&!1===lb(r)){var l=By(r);if(l.isSome())return l.map(function(t){return wb(r,[t])[0]}).getOr(c.createRange())}try{(n=v())&&!Hr(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange(),a=wb(r,[a])[0])}catch(f){}return a||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(u=t.getRoot(),a.setStart(u,0),a.setEnd(u,0)),o&&i&&(0===s(a.START_TO_START,a,o)&&0===s(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},b=function(t,e){var n;if(kT(t)){var a=ST(t)?t:null;if(a){i=null;try{a.select()}catch(c){}}else{var u=v(),s=r.fire("SetSelectionRange",{range:t,forward:e});if(t=s.range,u){i=t;try{u.removeAllRanges(),u.addRange(t)}catch(c){}!1===e&&u.extend&&(u.collapse(t.endContainer,t.endOffset),u.extend(t.startContainer,t.startOffset)),o=u.rangeCount>0?u.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!u.setBaseAndExtent||tn.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(n=t.startContainer.childNodes[t.startOffset],n&&"IMG"===n.tagName&&(u.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),u.anchorNode===t.startContainer&&u.focusNode===t.endContainer||u.setBaseAndExtent(n,0,n,1))),r.fire("AfterSetSelectionRange",{range:t,forward:e})}}},x=function(e){return c(t.getOuterHTML(e)),e},_=function(){return bb(r.getBody(),y())},w=function(e,n){return xb(t,y(),e,n)},O=function(){var e=v(),n=null===e||void 0===e?void 0:e.anchorNode,r=null===e||void 0===e?void 0:e.focusNode;if(!e||!n||!r||Hr(n)||Hr(r))return!0;var o=t.createRng();o.setStart(n,e.anchorOffset),o.collapse(!0);var i=t.createRng();return i.setStart(r,e.focusOffset),i.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,i)<=0},C=function(){var e=y(),n=v();if(!fg(n)&&Og(r)){var o=bv(t,e);return o.each(function(t){b(t,O())}),o.getOr(e)}return e},k=function(t,e){return a(t,e),j},T=function(){var e,n=t.getRoot();while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},M=function(t,e){S(t)?Qv(r,t,e):ty(r,y(),e)},D=function(t,e){return b(av(t,e,r.getDoc()))},A=function(){var t=y();return t.collapsed?If.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},I=function(){e=o=i=null,R.destroy()},j={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:r,collapse:g,setCursorLocation:u,getContent:s,setContent:c,getBookmark:d,moveToBookmark:h,select:p,isCollapsed:m,isForward:O,setNode:x,getNode:_,getSel:v,setRng:b,getRng:y,getStart:l,getEnd:f,getSelectedBlocks:w,normalize:C,selectorChanged:k,selectorChangedWithUnbind:a,getScrollContainer:T,scrollIntoView:M,placeCaretAt:D,getBoundingClientRect:A,destroy:I},E=Pg(j),R=ev(j,r);return j.bookmarkManager=E,j.controlSelection=R,j},MT=function(t,e){Q(e,function(e){t.attr(e,null)})},DT=function(t,e,n){t.addNodeFilter("font",function(t){Q(t,function(t){var r=e.parse(t.attr("style")),o=t.attr("color"),i=t.attr("face"),a=t.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(r)),MT(t,["color","face","size"])})})},AT=function(t,e){t.addNodeFilter("strike",function(t){Q(t,function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))})})},IT=function(t,e){var n=Vu();e.convert_fonts_to_spans&&DT(t,n,pn.explode(e.font_size_legacy_values)),AT(t,n)},jT=function(t,e){e.inline_styles&&IT(t,e)},ET=function(t){return new Di(function(e,n){var r=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200===o.status?e(o.response):r()},o.onerror=r,o.send()}catch(i){r()}})},RT=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},NT=function(t,e){var n;try{n=atob(e)}catch(pV){return W.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return W.some(new Blob([r],{type:t}))},PT=function(t){return new Di(function(e){var n=RT(t),r=n.type,o=n.data;NT(r,o).fold(function(){return e(new Blob([]))},e)})},BT=function(t){return 0===t.indexOf("blob:")?ET(t):0===t.indexOf("data:")?PT(t):null},LT=function(t){return new Di(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})},FT=0,zT=function(t){return(t||"blobid")+FT++},VT=function(t,e,n,r){var o,i;if(0===e.src.indexOf("blob:"))return i=t.getByUri(e.src),void(i?n({image:e,blobInfo:i}):BT(e.src).then(function(r){LT(r).then(function(a){o=RT(a).data,i=t.create(zT(),r,o),t.add(i),n({image:e,blobInfo:i})})},function(t){r(t)}));var a=RT(e.src),u=a.data,s=a.type;o=u,i=t.getByData(o,s),i?n({image:e,blobInfo:i}):BT(e.src).then(function(r){i=t.create(zT(),r,o),t.add(i),n({image:e,blobInfo:i})},function(t){r(t)})},HT=function(t){return t?yt(t.getElementsByTagName("img")):[]},UT=function(t,e){var n={},r=function(r,o){o||(o=F);var i=nt(HT(r),function(e){var n=e.src;return!!tn.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!n||n===tn.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e)))))}),a=J(i,function(t){if(void 0!==n[t.src])return new Di(function(e){n[t.src].then(function(n){if("string"===typeof n)return n;e({image:t,blobInfo:n.blobInfo})})});var r=new Di(function(n,r){VT(e,t,n,r)}).then(function(t){return delete n[t.image.src],t}).catch(function(e){return delete n[t.src],e});return n[t.src]=r,r});return Di.all(a)};return{findAll:r}},WT=function(t,e,n,r){var o=t.padd_empty_with_br||e.insert;o&&n[r.name]?r.empty().append(new Tb("br",1)).shortEnded=!0:r.empty().append(new Tb("#text",3)).value=ca},GT=function(t){return qT(t,"#text")&&t.firstChild.value===ca},qT=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},YT=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},XT=function(t,e,n,r){return r.isEmpty(e,n,function(e){return YT(t,e)})},$T=function(t,e){return t&&(jt(e,t.name)||"br"===t.name)},KT=function(t){return S(t.attr("data-mce-bogus"))},ZT=function(t){return t.attr("src")===tn.transparentSrc||S(t.attr("data-mce-placeholder"))},JT=function(t,e){if(e.images_dataimg_filter){var n=new Image;return n.src=t.attr("src"),wt(t.attributes.map,function(t,e){n.setAttribute(e,t)}),e.images_dataimg_filter(n)}return!0},QT=function(t,e){var n=e.blob_cache,r=function(t){var r=t.attr("src");ZT(t)||KT(t)||Ab(r).filter(function(){return JT(t,e)}).bind(function(t){var e=t.type,r=t.data;return W.from(n.getByData(r,e)).orThunk(function(){return NT(e,r).map(function(t){var e=n.create(zT(),t,r);return n.add(e),e})})}).each(function(e){t.attr("src",e.blobUri())})};n&&t.addAttributeFilter("src",function(t){return Q(t,r)})},tM=function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",function(t,r,o){var i,a,u,s,c,l,f,d,h=t.length,p=pn.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(p.body=1,i=0;i<h;i++)if(a=t[i],u=a.parent,p[a.parent.name]&&a===u.lastChild){c=a.prev;while(c){if(l=c.name,"span"!==l||"bookmark"!==c.attr("data-mce-type")){"br"===l&&(a=null);break}c=c.prev}a&&(a.remove(),XT(n,m,g,u)&&(f=n.getElementRule(u.name),f&&(f.removeEmpty?u.remove():f.paddEmpty&&WT(e,o,p,u))))}else{s=a;while(u&&u.firstChild===s&&u.lastChild===s){if(s=u,p[u.name])break;u=u.parent}s===u&&!0!==e.padd_empty_with_br&&(d=new Tb("#text",3),d.value=ca,a.replace(d))}}),t.addAttributeFilter("href",function(t){var n=t.length,r=function(t){var e=t.split(" ").filter(function(t){return t.length>0});return e.concat(["noopener"]).sort().join(" ")},o=function(t){var e=t?pn.trim(t):"";return/\b(noopener)\b/g.test(e)?e:r(e)};if(!e.allow_unsafe_link_target)while(n--){var i=t[n];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",o(i.attr("rel")))}}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(t){var e,n,r,o,i=t.length;while(i--)if(o=t[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,e=o.lastChild;do{n=e.prev,r.insert(e,o),e=n}while(e)}}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(t){var e,n,r=t.length;while(r--)if(e=t[r],n=e.parent,"ul"===n.name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var o=new Tb("li",1);o.attr("style","list-style-type: none"),e.wrap(o)}}),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",function(t){var e=n.getValidClasses(),r=t.length;while(r--){for(var o=t[r],i=o.attr("class").split(" "),a="",u=0;u<i.length;u++){var s=i[u],c=!1,l=e["*"];l&&l[s]&&(c=!0),l=e[o.name],!c&&l&&l[s]&&(c=!0),c&&(a&&(a+=" "),a+=s)}a.length||(a=null),o.attr("class",a)}}),QT(t,e)},eM=pn.makeMap,nM=pn.each,rM=pn.explode,oM=pn.extend,iM=function(t,e){void 0===e&&(e=Fu());var n={},r=[],o={},i={};t=t||{},t.validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a=function(t){for(var n=eM("tr,td,th,tbody,thead,tfoot,table"),r=e.getNonEmptyElements(),o=e.getWhiteSpaceElements(),i=e.getTextBlockElements(),a=e.getSpecialElements(),s=function(t,n){if(void 0===n&&(n=t.parent),a[t.name])t.empty().remove();else{for(var r=t.children(),o=0,i=r;o<i.length;o++){var u=i[o];e.isValidChild(n.name,u.name)||s(u,n)}t.unwrap()}},c=0;c<t.length;c++){var l=t[c],f=void 0,d=void 0,h=void 0;if(l.parent&&!l.fixed)if(i[l.name]&&"li"===l.parent.name){var p=l.next;while(p){if(!i[p.name])break;p.name="li",p.fixed=!0,l.parent.insert(p,l.parent),p=p.next}l.unwrap()}else{var m=[l];for(f=l.parent;f&&!e.isValidChild(f.name,l.name)&&!n[f.name];f=f.parent)m.push(f);if(f&&m.length>1)if(e.isValidChild(f.name,l.name)){m.reverse(),d=u(m[0].clone());for(var g=d,v=0;v<m.length-1;v++){e.isValidChild(g.name,m[v].name)?(h=u(m[v].clone()),g.append(h)):h=g;for(var y=m[v].firstChild;y&&y!==m[v+1];){var b=y.next;h.append(y),y=b}g=h}XT(e,r,o,d)?f.insert(l,m[0],!0):(f.insert(d,m[0],!0),f.insert(l,d)),f=m[0],(XT(e,r,o,f)||qT(f,"br"))&&f.empty().remove()}else s(l);else if(l.parent){if("li"===l.name){p=l.prev;if(p&&("ul"===p.name||"ol"===p.name)){p.append(l);continue}if(p=l.next,p&&("ul"===p.name||"ol"===p.name)){p.insert(l,p.firstChild,!0);continue}l.wrap(u(new Tb("ul",1)));continue}e.isValidChild(l.parent.name,"div")&&e.isValidChild("div",l.name)?l.wrap(u(new Tb("div",1))):s(l)}}}},u=function(t){var e=t.name;if(e in n){var a=o[e];a?a.push(t):o[e]=[t]}var u=r.length;while(u--){var s=r[u].name;if(s in t.attributes.map){a=i[s];a?a.push(t):i[s]=[t]}}return t},s=function(t,e){nM(rM(t),function(t){var r=n[t];r||(n[t]=r=[]),r.push(e)})},c=function(){var t=[];for(var e in n)jt(n,e)&&t.push({name:e,callbacks:n[e]});return t},l=function(t,e){nM(rM(t),function(t){var n;for(n=0;n<r.length;n++)if(r[n].name===t)return void r[n].callbacks.push(e);r.push({name:t,callbacks:[e]})})},f=function(){return[].concat(r)},d=function(u,s){var c,l,f,d,h,p,m,g,v=[],y=function(t){return!1===t?"":!0===t?"p":t};s=s||{},o={},i={};var b=oM(eM("script,style,head,html,body,title,meta,param"),e.getBlockElements()),x=e.getNonEmptyElements(),_=e.children,w=t.validate,O="forced_root_block"in s?s.forced_root_block:t.forced_root_block,S=y(O),C=e.getWhiteSpaceElements(),k=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,M=/[ \t\r\n]+/g,D=/^[ \t\r\n]+$/,A=jt(C,s.context)||jt(C,t.root_name),I=function(){var n=P.firstChild,r=null,o=function(t){t&&(n=t.firstChild,n&&3===n.type&&(n.value=n.value.replace(k,"")),n=t.lastChild,n&&3===n.type&&(n.value=n.value.replace(T,"")))};if(e.isValidChild(P.name,S.toLowerCase())){while(n){var i=n.next;3===n.type||1===n.type&&"p"!==n.name&&!b[n.name]&&!n.attr("data-mce-type")?r?r.append(n):(r=j(S,1),r.attr(t.forced_root_block_attrs),P.insert(r,n),r.append(n)):(o(r),r=null),n=i}o(r)}},j=function(t,e){var r,i=new Tb(t,e);return t in n&&(r=o[t],r?r.push(i):o[t]=[i]),i},E=function(t){for(var n=e.getBlockElements(),r=t.prev;r&&3===r.type;){var o=r.value.replace(T,"");if(o.length>0)return void(r.value=o);var i=r.next;if(i){if(3===i.type&&i.value.length){r=r.prev;continue}if(!n[i.name]&&"script"!==i.name&&"style"!==i.name){r=r.prev;continue}}var a=r.prev;r.remove(),r=a}},R=function(t){var e={};for(var n in t)"li"!==n&&"p"!==n&&(e[n]=t[n]);return e},N=Gb({validate:w,document:t.document,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:R(e.getSelfClosingElements()),cdata:function(t){g.append(j("#cdata",4)).value=t},text:function(t,e){var n;A||(t=t.replace(M," "),$T(g.lastChild,b)&&(t=t.replace(k,""))),0!==t.length&&(n=j("#text",3),n.raw=!!e,g.append(n).value=t)},comment:function(t){g.append(j("#comment",8)).value=t},pi:function(t,e){g.append(j(t,7)).value=e,E(g)},doctype:function(t){var e=g.append(j("#doctype",10));e.value=t,E(g)},start:function(t,n,o){var a=w?e.getElementRule(t):{};if(a){var u=j(a.outputName||t,1);u.attributes=n,u.shortEnded=o,g.append(u);var s=_[g.name];s&&_[u.name]&&!s[u.name]&&v.push(u);var c=r.length;while(c--){var l=r[c].name;l in n.map&&(p=i[l],p?p.push(u):i[l]=[u])}b[t]&&E(u),o||(g=u),!A&&C[t]&&(A=!0)}},end:function(n){var r,o,i,a,u=w?e.getElementRule(n):{};if(u){if(b[n]&&!A){if(r=g.firstChild,r&&3===r.type)if(o=r.value.replace(k,""),o.length>0)r.value=o,r=r.next;else{i=r.next,r.remove(),r=i;while(r&&3===r.type)o=r.value,i=r.next,(0===o.length||D.test(o))&&(r.remove(),r=i),r=i}if(r=g.lastChild,r&&3===r.type)if(o=r.value.replace(T,""),o.length>0)r.value=o,r=r.prev;else{i=r.prev,r.remove(),r=i;while(r&&3===r.type)o=r.value,i=r.prev,(0===o.length||D.test(o))&&(r.remove(),r=i),r=i}}if(A&&C[n]&&(A=!1),u.removeEmpty&&XT(e,x,C,g))return a=g.parent,b[g.name]?g.empty().remove():g.unwrap(),void(g=a);u.paddEmpty&&(GT(g)||XT(e,x,C,g))&&WT(t,s,b,g),g=g.parent}}},e),P=g=new Tb(s.context||t.root_name,11);if(N.parse(u,s.format),w&&v.length&&(s.context?s.invalid=!0:a(v)),S&&("body"===P.name||s.isRootContent)&&I(),!s.invalid){for(m in o)if(jt(o,m)){p=n[m],c=o[m],d=c.length;while(d--)c[d].parent||c.splice(d,1);for(l=0,f=p.length;l<f;l++)p[l](c,m,s)}for(l=0,f=r.length;l<f;l++)if(p=r[l],p.name in i){c=i[p.name],d=c.length;while(d--)c[d].parent||c.splice(d,1);for(d=0,h=p.callbacks.length;d<h;d++)p.callbacks[d](c,p.name,s)}}return P},h={schema:e,addAttributeFilter:l,getAttributeFilters:f,addNodeFilter:s,getNodeFilters:c,filterNode:u,parse:d};return tM(h,t),jT(h,t),h},aM=function(t,e,n){t.addAttributeFilter("data-mce-tabindex",function(t,e){var n=t.length;while(n--){var r=t[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(e,null)}}),t.addAttributeFilter("src,href,style",function(t,r){var o="data-mce-"+r,i=e.url_converter,a=e.url_converter_scope,u=t.length;while(u--){var s=t[u],c=s.attr(o);void 0!==c?(s.attr(r,c.length>0?c:null),s.attr(o,null)):(c=s.attr(r),"style"===r?c=n.serializeStyle(n.parseStyle(c),s.name):i&&(c=i.call(a,c,r,s.name)),s.attr(r,c.length>0?c:null))}}),t.addAttributeFilter("class",function(t){var e=t.length;while(e--){var n=t[e],r=n.attr("class");r&&(r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}}),t.addAttributeFilter("data-mce-type",function(t,e,n){var r=t.length;while(r--){var o=t[r];if("bookmark"===o.attr("data-mce-type")&&!n.cleanup){var i=W.from(o.firstChild).exists(function(t){return!ha(t.value)});i?o.unwrap():o.remove()}}}),t.addNodeFilter("noscript",function(t){var e=t.length;while(e--){var n=t[e].firstChild;n&&(n.value=Mu.decode(n.value))}}),t.addNodeFilter("script,style",function(t,n){var r=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},o=t.length;while(o--){var i=t[o],a=i.firstChild?i.firstChild.value:"";if("script"===n){var u=i.attr("type");u&&i.attr("type","mce-no/type"===u?null:u.replace(/^mce\-/,"")),"xhtml"===e.element_format&&a.length>0&&(i.firstChild.value="// <![CDATA[\n"+r(a)+"\n// ]]>")}else"xhtml"===e.element_format&&a.length>0&&(i.firstChild.value="\x3c!--\n"+r(a)+"\n--\x3e")}}),t.addNodeFilter("#comment",function(t){var r=t.length;while(r--){var o=t[r];e.preserve_cdata&&0===o.value.indexOf("[CDATA[")?(o.name="#cdata",o.type=4,o.value=n.decode(o.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===o.value.indexOf("mce:protected ")&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(o.value).substr(14))}}),t.addNodeFilter("xml:namespace,input",function(t,e){var n=t.length;while(n--){var r=t[n];7===r.type?r.remove():1===r.type&&("input"!==e||r.attr("type")||r.attr("type","text"))}}),t.addAttributeFilter("data-mce-type",function(e){Q(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(t,e){var n=t.length;while(n--)t[n].attr(e,null)})},uM=function(t){var e=function(t){return t&&"br"===t.name},n=t.lastChild;if(e(n)){var r=n.prev;e(r)&&(n.remove(),r.remove())}},sM=function(t,e,n){var r,o=t.dom,i=e.cloneNode(!0),a=document.implementation;if(a.createHTMLDocument){var u=a.createHTMLDocument("");pn.each("BODY"===i.nodeName?i.childNodes:[i],function(t){u.body.appendChild(u.importNode(t,!0))}),i="BODY"!==i.nodeName?u.body.firstChild:u.body,r=o.doc,o.doc=u}return Fg(t,Wt(Wt({},n),{node:i})),r&&(o.doc=r),i},cM=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},lM=function(t,e,n){return cM(t,n)?sM(t,e,n):e},fM=function(t,e,n){-1===pn.inArray(e,n)&&(t.addAttributeFilter(n,function(t,e){var n=t.length;while(n--)t[n].attr(e,null)}),e.push(n))},dM=function(t,e,n){if(!e.no_events&&t){var r=zg(t,Wt(Wt({},e),{content:n}));return r.content}return n},hM=function(t,e,n){var r=pa(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||aa(xn.fromDom(e))?r:pn.trim(r)},pM=function(t,e,n){var r=n.selection?Wt({forced_root_block:!1},n):n,o=t.parse(e,r);return uM(o),o},mM=function(t,e,n){var r=rx(t,e);return r.serialize(n)},gM=function(t,e,n,r,o){var i=mM(e,n,r);return dM(t,o,i)},vM=function(t,e){var n=["data-mce-selected"],r=e&&e.dom?e.dom:Fc.DOM,o=e&&e.schema?e.schema:Fu(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i=iM(t,o);aM(i,t,r);var a=function(n,a){void 0===a&&(a={});var u=Wt({format:"html"},a),s=lM(e,n,u),c=hM(r,s,u),l=pM(i,c,u);return"tree"===u.format?l:gM(e,t,o,l,u)};return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:a,addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:E(fM,i,n),getTempAttrs:A(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},yM=function(t,e){var n=vM(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},bM="html",xM=function(t,e){void 0===e&&(e={});var n=e.format?e.format:bM;return uT(t,e,n)},_M=function(t,e,n){return void 0===n&&(n={}),sT(t,e,n)},wM=Fc.DOM,OM=function(t){wM.setStyle(t.id,"display",t.orgDisplay)},SM=function(t){return W.from(t).each(function(t){return t.destroy()})},CM=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},kM=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),wM.unbind(e,"submit reset",t.formEventDelegate))},TM=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),o=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&wM.remove(o.nextSibling),Vg(t),t.editorManager.remove(t),!t.inline&&r&&OM(t),Hg(t),wM.remove(t.getContainer()),SM(e),SM(n),t.destroy()}},MM=function(t,e){var n=t.selection,r=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),SM(n),SM(r)),kM(t),CM(t),t.destroyed=!0):t.remove())},DM=function(t,e){var n=y(t)&&y(e);return n?IM(t,e):e},AM=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)jt(i,a)&&(r[a]=t(r[a],i[a]))}return r}},IM=AM(DM),jM="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),EM="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),RM="imagetools,toc".split(","),NM=function(t){var e=nt(jM,function(e){return jt(t,e)}),n=t.forced_root_block;return!1!==n&&""!==n||e.push("forced_root_block (false only)"),pt(e)},PM=function(t){var e=pn.makeMap(t.plugins," "),n=function(t){return jt(e,t)},r=qt(qt([],nt(EM,n),!0),ct(RM,function(t){return n(t)?[t+" (moving to premium)"]:[]}),!0);return pt(r)},BM=function(t,e){var n=NM(t),r=PM(e),o=r.length>0,i=n.length>0,a="mobile"===e.theme;if(o||i||a){var u="\n- ",s=a?"\n\nThemes:"+u+"mobile":"",c=o?"\n\nPlugins:"+u+r.join(u):"",l=i?"\n\nSettings:"+u+n.join(u):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+s+c+l)}},LM=function(t,e){return{sections:A(t),settings:A(e)}},FM=Ge().deviceType,zM=FM.isTouch(),VM=FM.isPhone(),HM=FM.isTablet(),UM=["lists","autolink","autosave"],WM={table_grid:!1,object_resizing:!1,resize:!1},GM=function(t){var e=b(t)?t.join(" "):t,n=J(v(e)?e.split(" "):[],fe);return nt(n,function(t){return t.length>0})},qM=function(t){return nt(t,E(K,UM))},YM=function(t,e){var n=Tt(e,function(e,n){return K(t,n)});return LM(n.t,n.f)},XM=function(t,e,n){void 0===n&&(n={});var r=t.sections(),o=It(r,e).getOr({});return pn.extend({},n,o)},$M=function(t,e){return jt(t.sections(),e)},KM=function(t,e,n){var r=t.sections();return $M(t,e)&&r[e].theme===n},ZM=function(t,e){return $M(t,e)?t.sections()[e]:{}},JM=function(t,e){return It(t,"toolbar_mode").orThunk(function(){return It(t,"toolbar_drawer").map(function(t){return!1===t?"wrap":t})}).getOr(e)},QM=function(t,e,n,r,o){var i={id:e,theme:"silver",toolbar_mode:JM(t,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Wt(Wt({},i),r?WM:{})},tD=function(t,e){var n={resize:!1,toolbar_mode:JM(t,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return Wt(Wt(Wt({},WM),n),e?r:{})},eD=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?pn.extend({},t.external_plugins,n):n},nD=function(t,e){return[].concat(GM(t)).concat(GM(e))},rD=function(t,e,n,r){return t&&KM(e,"mobile","mobile")?qM(r):t&&$M(e,"mobile")?r:n},oD=function(t,e,n,r){var o=GM(n.forced_plugins),i=GM(r.plugins),a=ZM(e,"mobile"),u=a.plugins?GM(a.plugins):i,s=rD(t,e,i,u),c=nD(o,s);if(tn.browser.isIE()&&K(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return pn.extend(r,{plugins:c.join(" ")})},iD=function(t,e){return t&&$M(e,"mobile")},aD=function(t,e,n,r,o){var i=t?{mobile:tD(o.mobile||{},e)}:{},a=YM(["mobile"],IM(i,o)),u=pn.extend(n,r,a.settings(),iD(t,a)?XM(a,"mobile"):{},{validate:!0,external_plugins:eD(r,a.settings())});return oD(t,a,r,u)},uD=function(t,e,n,r,o){var i=QM(o,e,n,zM,t),a=aD(VM||HM,VM,i,r,o);return!1!==a.deprecation_warnings&&BM(o,a),a},sD=function(t,e,n){return W.from(e.settings[n]).filter(t)},cD=function(t){var e={};return"string"===typeof t?Q(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(t){var n=t.split("=");n.length>1?e[pn.trim(n[0])]=pn.trim(n[1]):e[pn.trim(n[0])]=pn.trim(n[0])}):e=t,e},lD=function(t){return function(e){return b(e)&&lt(e,t)}},fD=function(t,e,n,r){var o=e in t.settings?t.settings[e]:n;return"hash"===r?cD(o):"string"===r?sD(v,t,e).getOr(n):"number"===r?sD(k,t,e).getOr(n):"boolean"===r?sD(_,t,e).getOr(n):"object"===r?sD(y,t,e).getOr(n):"array"===r?sD(b,t,e).getOr(n):"string[]"===r?sD(lD(v),t,e).getOr(n):"function"===r?sD(C,t,e).getOr(n):o},dD=function(){var t={},e=function(e,n){t[e]=n},n=function(e){return t[e]?t[e]:{icons:{}}},r=function(e){return jt(t,e)};return{add:e,get:n,has:r}},hD=dD(),pD=function(t,e){var n=e.dom;return n[t]},mD=function(t,e){return parseInt(ko(e,t),10)},gD=E(pD,"clientWidth"),vD=E(pD,"clientHeight"),yD=E(mD,"margin-top"),bD=E(mD,"margin-left"),xD=function(t){return t.dom.getBoundingClientRect()},_D=function(t,e,n){var r=gD(t),o=vD(t);return e>=0&&n>=0&&e<=r&&n<=o},wD=function(t,e,n,r){var o=xD(e),i=t?o.left+e.dom.clientLeft+bD(e):0,a=t?o.top+e.dom.clientTop+yD(e):0,u=n-i,s=r-a;return{x:u,y:s}},OD=function(t,e,n){var r=xn.fromDom(t.getBody()),o=t.inline?r:Xn(r),i=wD(t.inline,o,e,n);return _D(o,i.x,i.y)},SD=function(t){return W.from(t).map(xn.fromDom)},CD=function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return SD(e).map(Mr).getOr(!1)},kD=function(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}},TD=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():kD()},r=function(){return W.from(e[0])},o=function(t,e){return t.type===e.type&&t.text===e.text&&!t.progressBar&&!t.timeout&&!e.progressBar&&!e.timeout},i=function(){e.length>0&&n().reposition(e)},a=function(t){e.push(t)},u=function(t){ut(e,function(e){return e===t}).each(function(t){e.splice(t,1)})},s=function(s,c){if(void 0===c&&(c=!0),!t.removed&&CD(t))return c&&t.fire("BeforeOpenNotification",{notification:s}),at(e,function(t){return o(n().getArgs(t),s)}).getOrThunk(function(){t.editorManager.setActive(t);var e=n().open(s,function(){u(e),i(),r().fold(function(){return t.focus()},function(t){return ny(xn.fromDom(t.getEl()))})});return a(e),i(),t.fire("OpenNotification",{notification:Wt({},e)}),e})},c=function(){r().each(function(t){n().close(t),u(t),i()})},l=A(e),f=function(t){t.on("SkinLoaded",function(){var e=eh(t);e&&s({text:e,type:"warning",timeout:0},!1),i()}),t.on("show ResizeEditor ResizeWindow NodeChange",function(){Pi.requestAnimationFrame(i)}),t.on("remove",function(){Q(e.slice(),function(t){n().close(t)})})};return f(t),{open:s,close:c,getNotifications:l}},MD=sl.PluginManager,DD=sl.ThemeManager;function AD(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}var ID=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():AD()},r=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e?e.apply(t,n):void 0}},o=function(e){t.fire("OpenWindow",{dialog:e})},i=function(e){t.fire("CloseWindow",{dialog:e})},a=function(t){e.push(t),o(t)},u=function(n){i(n),e=nt(e,function(t){return t!==n}),0===e.length&&t.focus()},s=function(){return W.from(e[e.length-1])},c=function(e){t.editorManager.setActive(t),Ny(t);var n=e();return a(n),n},l=function(t,e){return c(function(){return n().open(t,e,u)})},f=function(t){return c(function(){return n().openUrl(t,u)})},d=function(t,e,o){var i=n();i.alert(t,r(o||i,e))},h=function(t,e,o){var i=n();i.confirm(t,r(o||i,e))},p=function(){s().each(function(t){n().close(t),u(t)})};return t.on("remove",function(){Q(e,function(t){n().close(t)})}),{open:l,openUrl:f,alert:d,confirm:h,close:p}},jD=function(t,e){t.notificationManager.open({type:"error",text:e})},ED=function(t,e){t._skinLoaded?jD(t,e):t.on("SkinLoaded",function(){jD(t,e)})},RD=function(t,e){ED(t,ul.translate(["Failed to upload image: {0}",e]))},ND=function(t,e,n){Kg(t,e,{message:n}),console.error(n)},PD=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},BD=function(t,e,n){ND(t,"PluginLoadError",PD("plugin",e,n))},LD=function(t,e,n){ND(t,"IconsLoadError",PD("icons",e,n))},FD=function(t,e,n){ND(t,"LanguageLoadError",PD("language",e,n))},zD=function(t,e,n){var r=ul.translate(["Failed to initialize plugin: {0}",e]);Kg(t,"PluginLoadError",{message:r}),VD(r,n),ED(t,r)},VD=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,qt([t],e,!1)):r.log.apply(r,qt([t],e,!1)))},HD=function(t){return/^[a-z0-9\-]+$/i.test(t)},UD=function(t){return GD(t,Yd(t))},WD=function(t){return GD(t,Xd(t))},GD=function(t,e){var n=t.editorManager.baseURL+"/skins/content",r=t.editorManager.suffix,o="content"+r+".css",i=!0===t.inline;return J(e,function(e){return HD(e)&&!i?n+"/"+e+"/"+o:t.documentBaseURI.toAbsolute(e)})},qD=function(t){t.contentCSS=t.contentCSS.concat(UD(t),WD(t))},YD=function(){var t=1,e=2,n={},r=function(t,e){return{status:t,resultUri:e}},o=function(t){return t in n},i=function(t){var e=n[t];return e?e.resultUri:null},a=function(e){return!!o(e)&&n[e].status===t},u=function(t){return!!o(t)&&n[t].status===e},s=function(e){n[e]=r(t,null)},c=function(t,o){n[t]=r(e,o)},l=function(t){delete n[t]},f=function(){n={}};return{hasBlobUri:o,getResultUri:i,isPending:a,isUploaded:u,markPending:s,markUploaded:c,removeFailed:l,destroy:f}},XD=0,$D=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)},e=(new Date).getTime();return"s"+e.toString(36)+t()+t()+t()},KD=function(t){return t+XD+++$D()},ZD=function(){var t=[],e=function(t){var e={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return e[t.toLowerCase()]||"dat"},n=function(t,e,n,o,i){if(v(t)){var a=t;return r({id:a,name:o,filename:i,blob:e,base64:n})}if(y(t))return r(t);throw new Error("Unknown input type")},r=function(t){if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var n=t.id||KD("blobid"),r=t.name||n,o=t.blob;return{id:A(n),name:A(r),filename:A(t.filename||r+"."+e(o.type)),blob:A(o),base64:A(t.base64),blobUri:A(t.blobUri||URL.createObjectURL(o)),uri:A(t.uri)}},o=function(e){a(e.id())||t.push(e)},i=function(e){return at(t,e).getOrUndefined()},a=function(t){return i(function(e){return e.id()===t})},u=function(t){return i(function(e){return e.blobUri()===t})},s=function(t,e){return i(function(n){return n.base64()===t&&n.blob().type===e})},c=function(e){t=nt(t,function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)})},l=function(){Q(t,function(t){URL.revokeObjectURL(t.blobUri())}),t=[]};return{create:n,add:o,get:a,getByUri:u,getByData:s,findFirst:i,removeByUri:c,destroy:l}},JD=function(t,e){var n={},r=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},o=function(t,n,o,i){var a=new XMLHttpRequest;a.open("POST",e.url),a.withCredentials=e.credentials,a.upload.onprogress=function(t){i(t.loaded/t.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)o("HTTP Error: "+a.status);else{var t=JSON.parse(a.responseText);t&&"string"===typeof t.location?n(r(e.basePath,t.location)):o("Invalid JSON: "+a.responseText)}};var u=new FormData;u.append("file",t.blob(),t.filename()),a.send(u)},i=function(){return new Di(function(t){t([])})},a=function(t,e){return{url:e,blobInfo:t,status:!0}},u=function(t,e,n){return{url:"",blobInfo:t,status:!1,error:{message:e,options:n}}},s=function(t,e){pn.each(n[t],function(t){t(e)}),delete n[t]},c=function(e,n,r){return t.markPending(e.blobUri()),new Di(function(o){var i,c;try{var l=function(){i&&(i.close(),c=T)},f=function(n){l(),t.markUploaded(e.blobUri(),n),s(e.blobUri(),a(e,n)),o(a(e,n))},d=function(n,r){var i=r||{};l(),t.removeFailed(e.blobUri()),s(e.blobUri(),u(e,n,i)),o(u(e,n,i))};c=function(t){t<0||t>100||W.from(i).orThunk(function(){return W.from(r).map(P)}).each(function(e){i=e,e.progressBar.value(t)})},n(e,f,d,c)}catch(h){o(u(e,h.message,{}))}})},l=function(t){return t===o},f=function(t){var e=t.blobUri();return new Di(function(t){n[e]=n[e]||[],n[e].push(t)})},d=function(n,r){return n=pn.grep(n,function(e){return!t.isUploaded(e.blobUri())}),Di.all(pn.map(n,function(n){return t.isPending(n.blobUri())?f(n):c(n,e.handler,r)}))},h=function(t,n){return!e.url&&l(e.handler)?i():d(t,n)};return!1===C(e.handler)&&(e.handler=o),{upload:h}},QD=function(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},tA=function(t,e){return JD(e,{url:Bd(t),basePath:Ld(t),credentials:Fd(t),handler:zd(t)})},eA=function(t){var e=YD(),n=tA(t,e);return{upload:function(e,r){return void 0===r&&(r=!0),n.upload(e,r?QD(t):void 0)}}},nA=function(t){var e=Xc(null);t.on("change AddUndo",function(t){e.set(Wt({},t.level))});var n=function(){var n=t.undoManager.data;vt(n).filter(function(t){return!gk(e.get(),t)}).each(function(e){t.setDirty(!0),t.fire("change",{level:e,lastLevel:mt(n,n.length-2).getOrNull()})})};return{fireIfChanged:n}},rA=function(t){var e,n,r=ZD(),o=YD(),i=[],a=nA(t),u=function(e){return function(n){return t.selection?e(n):[]}},s=function(t){return t+(-1===t.indexOf("?")?"?":"&")+(new Date).getTime()},c=function(t,e,n){var r=0;do{r=t.indexOf(e,r),-1!==r&&(t=t.substring(0,r)+n+t.substr(r+e.length),r+=n.length-e.length+1)}while(-1!==r);return t},l=function(t,e,n){var r='src="'+n+'"'+(n===tn.transparentSrc?' data-mce-placeholder="1"':"");return t=c(t,'src="'+e+'"',r),t=c(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"'),t},f=function(e,n){Q(t.undoManager.data,function(t){"fragmented"===t.type?t.fragments=J(t.fragments,function(t){return l(t,e,n)}):t.content=l(t.content,e,n)})},d=function(e,n){var r=t.convertURL(n,"src");f(e.src,n),t.$(e).attr({src:Ed(t)?s(n):n,"data-mce-src":r})},h=function(n){return e||(e=tA(t,o)),v().then(u(function(o){var i=J(o,function(t){return t.blobInfo});return e.upload(i,QD(t)).then(u(function(e){var i=[],u=J(e,function(e,n){var a=o[n].blobInfo,u=o[n].image;return e.status&&Rd(t)?(r.removeByUri(u.src),Pk(t)||d(u,e.url)):e.error&&(e.error.options.remove&&(f(u.getAttribute("src"),tn.transparentSrc),i.push(u)),RD(t,e.error.message)),{element:u,status:e.status,uploadUri:e.url,blobInfo:a}});return u.length>0&&a.fireIfChanged(),i.length>0&&(Pk(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact(function(){Q(i,function(e){t.dom.remove(e),r.removeByUri(e.src)})})),n&&n(u),u}))}))},p=function(e){if(jd(t))return h(e)},m=function(e){if(!1===lt(i,function(t){return t(e)}))return!1;if(0===e.getAttribute("src").indexOf("data:")){var n=Id(t);return n(e)}return!0},g=function(t){i.push(t)},v=function(){return n||(n=UT(o,r)),n.findAll(t.getBody(),m).then(u(function(e){return e=nt(e,function(e){return"string"!==typeof e||(ED(t,e),!1)}),Pk(t)||Q(e,function(t){f(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),e}))},y=function(){r.destroy(),o.destroy(),n=e=null},b=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=ot(t.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null)),a){var u=a.blob();return'src="data:'+u.type+";base64,"+a.base64()+'"'}return e})};return t.on("SetContent",function(){jd(t)?p():v()}),t.on("RawSaveContent",function(t){t.content=b(t.content)}),t.on("GetContent",function(t){t.source_view||"raw"===t.format||"tree"===t.format||(t.content=b(t.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(t){Q(t,function(t){var e=t.attr("src");if(!r.getByUri(e)){var n=o.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:r,addFilter:g,uploadImages:h,uploadImagesAuto:p,scanForImages:v,destroy:y}},oA=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(t,e,n){return Ur(t)&&t.hasAttribute("href")},onformat:function(e,n,r){pn.each(r,function(n,r){t.setAttrib(e,r,n)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.customValue)&&void 0!==e?e:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return pn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(t){e[t]={block:t,remove:"all"}}),e},iA=function(t){var e={},n=function(t){return S(t)?e[t]:e},r=function(t){return jt(e,t)},o=function(t,n){t&&(v(t)?(b(n)||(n=[n]),Q(n,function(t){w(t.deep)&&(t.deep=!Hm(t)),w(t.split)&&(t.split=!Hm(t)||Um(t)),w(t.remove)&&Hm(t)&&!Um(t)&&(t.remove="none"),Hm(t)&&Um(t)&&(t.mixed=!0,t.block_expand=!0),v(t.classes)&&(t.classes=t.classes.split(/\s+/))}),e[t]=n):wt(t,function(t,e){o(e,t)}))},i=function(t){return t&&e[t]&&delete e[t],e};return o(oA(t.dom)),o(ih(t)),{get:n,has:r,register:o,unregister:i}},aA=pn.each,uA=Fc.DOM,sA=function(t,e){var n,r,o,i=e&&e.schema||Fu({}),a=function(t,e){e.classes.length&&uA.addClass(t,e.classes.join(" ")),uA.setAttribs(t,e.attrs)},u=function(t){r="string"===typeof t?{name:t,classes:[],attrs:{}}:t;var e=uA.create(r.name);return a(e,r),e},s=function(t,e){var n="string"!==typeof t?t.nodeName.toLowerCase():t,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(e&&-1!==pn.inArray(o,e)?e:o[0])},c=function(t,e,n){var r,o,i=e.length>0&&e[0],a=i&&i.name,l=s(t,a);if(l)a===l?(o=e[0],e=e.slice(1)):o=l;else if(i)o=e[0],e=e.slice(1);else if(!n)return t;return o&&(r=u(o),r.appendChild(t)),n&&(r||(r=uA.create("div"),r.appendChild(t)),pn.each(n,function(e){var n=u(e);r.insertBefore(n,t)})),c(r,e,o&&o.siblings)};return t&&t.length?(r=t[0],n=u(r),o=uA.create("div"),o.appendChild(c(n,t.slice(1),r.siblings)),o):""},cA=function(t){var e,n={classes:[],attrs:{}};return t=n.selector=pn.trim(t),"*"!==t&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,e,r,o,i){switch(e){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==pn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r);break}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=e||"div",n},lA=function(t){return t&&"string"===typeof t?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),pn.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var e=pn.map(t.split(/(?:~\+|~|\+)/),cA),n=e.pop();return e.length&&(n.siblings=e),n}).reverse()):[]},fA=function(t,e){var n,r,o,i="",a=ah(t);if(""===a)return"";var u=function(t){return t.replace(/%(\w+)/g,"")};if("string"===typeof e){if(e=t.formatter.get(e),!e)return;e=e[0]}if("preview"in e){var s=It(e,"preview");if(co(s,!1))return"";a=s.getOr(a)}n=e.block||e.inline||"span";var c=lA(e.selector);c.length?(c[0].name||(c[0].name=n),n=e.selector,r=sA(c,t)):r=sA([n],t);var l=uA.select(n,r)[0]||r.firstChild;return aA(e.styles,function(t,e){var n=u(t);n&&uA.setStyle(l,e,n)}),aA(e.attributes,function(t,e){var n=u(t);n&&uA.setAttrib(l,e,n)}),aA(e.classes,function(t){var e=u(t);uA.hasClass(l,e)||uA.addClass(l,e)}),t.fire("PreviewFormats"),uA.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),o=uA.getStyle(t.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,aA(a.split(" "),function(e){var n=uA.getStyle(l,e,!0);if(("background-color"!==e||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)||(n=uA.getStyle(t.getBody(),e,!0),"#ffffff"!==uA.toHex(n).toLowerCase()))&&("color"!==e||"#000000"!==uA.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===o)return;var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*o+"px"}"border"===e&&n&&(i+="padding:0 2px;"),i+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),uA.remove(r),i},dA=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},hA=function(t){var e=iA(t),n=Xc(null);return dA(t),sS(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,n,r){rT(t,e,n,r)},remove:function(e,n,r,o){oT(t,e,n,r,o)},toggle:function(e,n,r){iT(t,e,n,r)},match:function(e,n,r,o){return Jk(t,e,n,r,o)},closest:function(e){return nT(t,e)},matchAll:function(e,n){return Qk(t,e,n)},matchNode:function(e,n,r,o){return tT(t,e,n,r,o)},canApply:function(e){return eT(t,e)},formatChanged:function(e,r,o,i){return aT(t,n,e,r,o,i)},getCssText:E(fA,t)}},pA=function(t){switch(t.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},mA=function(t,e,n){var r=Xc(!1),o=function(t){yk(e,!1,n),e.add({},t)};t.on("init",function(){e.add()}),t.on("BeforeExecCommand",function(t){var r=t.command;pA(r)||(bk(e,n),e.beforeChange())}),t.on("ExecCommand",function(t){var e=t.command;pA(e)||o(t)}),t.on("ObjectResizeStart cut",function(){e.beforeChange()}),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),r.get()&&e.typing&&!1===gk(lk(t),e.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),r.set(!1),t.nodeChanged()))}),t.on("keydown",function(t){var i=t.keyCode;if(!t.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)e.typing&&o(t);else{var a=t.ctrlKey&&!t.altKey||t.metaKey;!(i<16||i>20)||224===i||91===i||e.typing||a||(e.beforeChange(),yk(e,!0,n),e.add({},t),r.set(!0))}}),t.on("mousedown",function(t){e.typing&&o(t)});var i=function(t){return"insertReplacementText"===t.inputType},a=function(t){return"insertText"===t.inputType&&null===t.data},u=function(t){return"insertFromPaste"===t.inputType||"insertFromDrop"===t.inputType};t.on("input",function(t){t.inputType&&(i(t)||a(t)||u(t))&&o(t)}),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()})},gA=function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},vA=function(t){var e=ll(),n=Xc(0),r=Xc(0),o={data:[],typing:!1,beforeChange:function(){Vk(t,n,e)},add:function(i,a){return Hk(t,o,r,n,e,i,a)},undo:function(){return Uk(t,o,n,r)},redo:function(){return Wk(t,r,o.data)},clear:function(){Gk(t,o,r)},reset:function(){qk(t,o)},hasUndo:function(){return Yk(t,o,r)},hasRedo:function(){return Xk(t,o,r)},transact:function(e){return $k(t,o,n,e)},ignore:function(e){Kk(t,n,e)},extra:function(e,n){Zk(t,o,r,e,n)}};return Pk(t)||mA(t,o,n),gA(t),o},yA=[9,27,Qg.HOME,Qg.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Qg.DOWN,Qg.UP,Qg.LEFT,Qg.RIGHT].concat(tn.browser.isFirefox()?[224]:[]),bA="data-mce-placeholder",xA=function(t){return"keydown"===t.type||"keyup"===t.type},_A=function(t){var e=t.keyCode;return e===Qg.BACKSPACE||e===Qg.DELETE},wA=function(t){if(xA(t)){var e=t.keyCode;return!_A(t)&&(Qg.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||K(yA,e))}return!1},OA=function(t){return xA(t)&&!(_A(t)||"keyup"===t.type&&229===t.keyCode)},SA=function(t,e,n){if(nu(xn.fromDom(e),!1)){var r=""===n,o=e.firstElementChild;return!o||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&(r?!t.isBlock(o):n===o.nodeName.toLowerCase())}return!1},CA=function(t){var e=t.dom,n=Od(t),r=Qd(t),o=function(i,a){if(!wA(i)){var u=t.getBody(),s=!OA(i)&&SA(e,u,n),c=""!==e.getAttrib(u,bA);(c!==s||a)&&(e.setAttrib(u,bA,s?r:null),e.setAttrib(u,"aria-placeholder",s?r:null),$g(t,s),t.on(s?"keydown":"keyup",o),t.off(s?"keyup":"keydown",o))}};r&&t.on("init",function(e){o(e,!0),t.on("change SetContent ExecCommand",o),t.on("paste",function(e){return Pi.setEditorTimeout(t,function(){return o(e)})})})},kA=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,TA=function(t){return kA.test(t)},MA=function(t,e){return Dn(xn.fromDom(e),Kd(t))},DA=function(t){return"rtl"===Fc.DOM.getStyle(t,"direction",!0)||TA(t.textContent)},AA=function(t,e,n){return nt(Fc.DOM.getParents(n.container(),"*",e),t)},IA=function(t,e,n){var r=AA(t,e,n);return W.from(r[r.length-1])},jA=function(t,e,n){var r=sp(e,t),o=sp(n,t);return r&&r===o},EA=function(t){return wa(t)||Oa(t)},RA=function(t,e){if(!e)return e;var n=e.container(),r=e.offset();return t?ya(n)?Qr(n.nextSibling)?If(n.nextSibling,0):If.after(n):wa(e)?If(n,r+1):e:ya(n)?Qr(n.previousSibling)?If(n.previousSibling,n.previousSibling.data.length):If.before(n):Oa(e)?If(n,r-1):e},NA=E(RA,!0),PA=E(RA,!1),BA=function(t){return function(e){return En(t,xn.fromDom(e.dom.parentNode))}},LA=function(t){return ea(t)||ra(t)},FA=function(t,e){return Pn(t,e)?Oi(e,LA,BA(t)):W.none()},zA=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},VA=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),zA(t))},HA=function(t,e,n){return fo($p(n),Kp(n),function(r,o){var i=RA(!0,r),a=RA(!1,o),u=RA(!1,e);return t?Yp(n,u).exists(function(t){return t.isEqual(a)&&e.isEqual(i)}):Xp(n,u).exists(function(t){return t.isEqual(i)&&e.isEqual(a)})}).getOr(!0)},UA=function(t,e){return{block:t,position:e}},WA=function(t,e){return{from:t,to:e}},GA=function(t,e){var n=xn.fromDom(t),r=xn.fromDom(e.container());return FA(n,r).map(function(t){return UA(t,e)})},qA=function(t){return!1===En(t.from.block,t.to.block)},YA=function(t){return Kn(t.from.block).bind(function(e){return Kn(t.to.block).filter(function(t){return En(e,t)})}).isSome()},XA=function(t){return!1===ao(t.from.block.dom)&&!1===ao(t.to.block.dom)},$A=function(t,e,n){return ro(n.position.getNode())&&!1===nu(n.block)?qp(!1,n.block.dom).bind(function(r){return r.isEqual(n.position)?Up(e,t,r).bind(function(e){return GA(t,e)}):W.some(n)}).getOr(n):n},KA=function(t,e,n){var r=GA(t,If.fromRangeStart(n)),o=r.bind(function(n){return Up(e,t,n.position).bind(function(n){return GA(t,n).map(function(n){return $A(t,e,n)})})});return fo(r,o,WA).filter(function(t){return qA(t)&&YA(t)&&XA(t)})},ZA=function(t,e,n){return n.collapsed?KA(t,e,n):W.none()},JA=function(t){var e=rr(t);return ut(e,Zi).fold(A(e),function(t){return e.slice(0,t)})},QA=function(t){var e=JA(t);return Q(e,kr),e},tI=function(t,e){var n=Ex(e,t);return at(n.reverse(),function(t){return nu(t)}).each(kr)},eI=function(t){return 0===nt(er(t),function(t){return!nu(t)}).length},nI=function(t,e,n,r){if(nu(n))return Mx(n),$p(n.dom);eI(r)&&nu(e)&&yr(r,xn.fromTag("br"));var o=Xp(n.dom,If.before(r.dom));return Q(QA(e),function(t){yr(r,t)}),tI(t,e),o},rI=function(t,e,n){if(nu(n))return kr(n),nu(e)&&Mx(e),$p(e.dom);var r=Kp(n.dom);return Q(QA(e),function(t){_r(n,t)}),tI(t,e),r},oI=function(t,e){var n=Ex(e,t);return W.from(n[n.length-1])},iI=function(t,e){return Pn(e,t)?oI(e,t):W.none()},aI=function(t,e){qp(t,e.dom).map(function(t){return t.getNode()}).map(xn.fromDom).filter(ta).each(kr)},uI=function(t,e,n){return aI(!0,e),aI(!1,n),iI(e,n).fold(E(rI,t,e,n),E(nI,t,e,n))},sI=function(t,e,n,r){return e?uI(t,r,n):uI(t,n,r)},cI=function(t,e){var n=xn.fromDom(t.getBody()),r=ZA(n.dom,e,t.selection.getRng()).bind(function(t){return sI(n,e,t.from.block,t.to.block)});return r.each(function(e){t.selection.setRng(e.toRange())}),r.isSome()},lI=function(t,e){var n=e.getRng();return fo(FA(t,xn.fromDom(n.startContainer)),FA(t,xn.fromDom(n.endContainer)),function(r,o){return!1===En(r,o)&&(n.deleteContents(),sI(t,!0,r,o).each(function(t){e.setRng(t.toRange())}),!0)}).getOr(!1)},fI=function(t,e){var n=xn.fromDom(e),r=E(En,t);return wi(n,ia,r).isSome()},dI=function(t,e){return fI(t,e.startContainer)||fI(t,e.endContainer)},hI=function(t,e){var n=Xp(t.dom,If.fromRangeStart(e)).isNone(),r=Yp(t.dom,If.fromRangeEnd(e)).isNone();return!dI(t,e)&&n&&r},pI=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},mI=function(t){var e=xn.fromDom(t.getBody()),n=t.selection.getRng();return hI(e,n)?pI(t):lI(e,t.selection)},gI=function(t,e){return!t.selection.isCollapsed()&&mI(t)},vI=io,yI=ao,bI=function(t,e,n,r,o){return W.from(e._selectionOverrides.showCaret(t,n,r,o))},xI=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},_I=function(t,e){var n=t.fire("BeforeObjectSelected",{target:e});return n.isDefaultPrevented()?W.none():W.some(xI(e))},wI=function(t,e,n){var r=gp(1,t.getBody(),e),o=If.fromRangeStart(r),i=o.getNode();if($h(i))return bI(1,t,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if($h(a))return bI(1,t,a,!1,!1);var u=t.dom.getParent(o.getNode(),function(t){return yI(t)||vI(t)});return $h(u)?bI(1,t,u,!1,n):W.none()},OI=function(t,e,n){return e.collapsed?wI(t,e,n).getOr(e):e},SI=function(t){return Sx(t)||xx(t)},CI=function(t){return Cx(t)||_x(t)},kI=function(t,e){Qr(e)&&0===e.data.length&&t.remove(e)},TI=function(t,e,n,r,o,i){return bI(r,t,i.getNode(!o),o,!0).each(function(n){if(e.collapsed){var r=e.cloneRange();o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else e.deleteContents();t.selection.setRng(n)}),kI(t.dom,n),!0},MI=function(t,e){var n=t.selection.getRng();if(!Qr(n.commonAncestorContainer))return!1;var r=e?jf.Forwards:jf.Backwards,o=Np(t.getBody()),i=E(_p,e?o.next:o.prev),a=e?SI:CI,u=yp(r,t.getBody(),n),s=RA(e,i(u));if(!s||!wp(u,s))return!1;if(a(s))return TI(t,n,u.getNode(),r,e,s);var c=i(s);return!!(c&&a(c)&&wp(s,c))&&TI(t,n,u.getNode(),r,e,c)},DI=function(t,e){return MI(t,e)},AI=function(t){return ia(xn.fromDom(t))||ra(xn.fromDom(t))},II=ti.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),jI=function(t,e){var n=e.getNode(!1===t),r=t?"after":"before";return Ur(n)&&n.getAttribute("data-mce-caret")===r},EI=function(t,e,n,r){var o=function(e){return Qi(xn.fromDom(e))&&!cp(n,r,t)};return vp(!e,n).fold(function(){return vp(e,r).fold(L,o)},o)},RI=function(t,e,n,r){var o=r.getNode(!1===e);return FA(xn.fromDom(t),xn.fromDom(n.getNode())).map(function(t){return nu(t)?II.remove(t.dom):II.moveToElement(o)}).orThunk(function(){return W.some(II.moveToElement(o))})},NI=function(t,e,n){return Up(e,t,n).bind(function(r){return AI(r.getNode())?W.none():EI(t,e,n,r)?W.none():e&&ao(r.getNode())?RI(t,e,n,r):!1===e&&ao(r.getNode(!0))?RI(t,e,n,r):e&&Cx(n)?W.some(II.moveToPosition(r)):!1===e&&Sx(n)?W.some(II.moveToPosition(r)):W.none()})},PI=function(t,e){return t&&ao(e.nextSibling)?W.some(II.moveToElement(e.nextSibling)):!1===t&&ao(e.previousSibling)?W.some(II.moveToElement(e.previousSibling)):W.none()},BI=function(t,e,n){return n.fold(function(t){return W.some(II.remove(t))},function(t){return W.some(II.moveToElement(t))},function(n){return cp(e,n,t)?W.none():W.some(II.moveToPosition(n))})},LI=function(t,e,n){return jI(e,n)?PI(e,n.getNode(!1===e)).fold(function(){return NI(t,e,n)},W.some):NI(t,e,n).bind(function(e){return BI(t,n,e)})},FI=function(t,e,n){var r=gp(e?1:-1,t,n),o=If.fromRangeStart(r),i=xn.fromDom(t);return!1===e&&Cx(o)?W.some(II.remove(o.getNode(!0))):e&&Sx(o)?W.some(II.remove(o.getNode())):!1===e&&Sx(o)&&Gx(i,o)?qx(i,o).map(function(t){return II.remove(t.getNode())}):e&&Cx(o)&&Wx(i,o)?Yx(i,o).map(function(t){return II.remove(t.getNode())}):LI(t,e,o)},zI=function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),F_(t,e,xn.fromDom(n)),!0}},VI=function(t,e){return function(n){var r=e?If.before(n):If.after(n);return t.selection.setRng(r.toRange()),!0}},HI=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},UI=function(t,e){return W.from(Bg(t.getBody(),e))},WI=function(t,e){var n=t.selection.getNode();return UI(t,n).filter(ao).fold(function(){return FI(t.getBody(),e,t.selection.getRng()).exists(function(n){return n.fold(zI(t,e),VI(t,e),HI(t))})},F)},GI=function(t){Q(Cl(t,".mce-offscreen-selection"),kr)},qI=function(t,e){var n=t.selection.getNode();if(ao(n)&&!uo(n)){var r=UI(t,n.parentNode).filter(ao);return r.fold(function(){return GI(xn.fromDom(t.getBody())),F_(t,e,xn.fromDom(t.selection.getNode())),VA(t),!0},F)}return!1},YI=function(t){var e=t.dom,n=t.selection,r=Bg(t.getBody(),n.getNode());if(io(r)&&e.isBlock(r)&&e.isEmpty(r)){var o=e.create("br",{"data-mce-bogus":"1"});e.setHTML(r,""),r.appendChild(o),n.setRng(If.before(o).toRange())}return!0},XI=function(t,e){return t.selection.isCollapsed()?WI(t,e):qI(t,e)},$I=function(t,e){var n=If.fromRangeStart(t.selection.getRng());return Up(e,t.getBody(),n).filter(function(t){return e?yx(t):bx(t)}).bind(function(t){return W.from(lp(e?0:-1,t))}).exists(function(e){return t.selection.select(e),!0})},KI=function(t,e){return!!t.selection.isCollapsed()&&$I(t,e)},ZI=Qr,JI=function(t){return ZI(t)&&t.data[0]===da},QI=function(t){return ZI(t)&&t.data[t.data.length-1]===da},tj=function(t){return t.ownerDocument.createTextNode(da)},ej=function(t){if(ZI(t.previousSibling))return QI(t.previousSibling)?t.previousSibling:(t.previousSibling.appendData(da),t.previousSibling);if(ZI(t))return JI(t)?t:(t.insertData(0,da),t);var e=tj(t);return t.parentNode.insertBefore(e,t),e},nj=function(t){if(ZI(t.nextSibling))return JI(t.nextSibling)?t.nextSibling:(t.nextSibling.insertData(0,da),t.nextSibling);if(ZI(t))return QI(t)?t:(t.appendData(da),t);var e=tj(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},rj=function(t,e){return t?ej(e):nj(e)},oj=E(rj,!0),ij=E(rj,!1),aj=function(t,e){return Qr(t.container())?rj(e,t.container()):rj(e,t.getNode())},uj=function(t,e){var n=e.get();return n&&t.container()===n&&ya(n)},sj=function(t,e){return e.fold(function(e){Fh(t.get());var n=oj(e);return t.set(n),W.some(If(n,n.length-1))},function(e){return $p(e).map(function(e){if(uj(e,t))return If(t.get(),1);Fh(t.get());var n=aj(e,!0);return t.set(n),If(n,1)})},function(e){return Kp(e).map(function(e){if(uj(e,t))return If(t.get(),t.get().length-1);Fh(t.get());var n=aj(e,!1);return t.set(n),If(n,n.length-1)})},function(e){Fh(t.get());var n=ij(e);return t.set(n),W.some(If(n,1))})},cj=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return W.none()},lj=ti.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),fj=function(t,e){var n=sp(e,t);return n||t},dj=function(t,e,n){var r=NA(n),o=fj(e,r.container());return IA(t,o,r).fold(function(){return Yp(o,r).bind(E(IA,t,o)).map(function(t){return lj.before(t)})},W.none)},hj=function(t,e){return null===Qp(t,e)},pj=function(t,e,n){return IA(t,e,n).filter(E(hj,e))},mj=function(t,e,n){var r=PA(n);return pj(t,e,r).bind(function(t){var e=Xp(t,r);return e.isNone()?W.some(lj.start(t)):W.none()})},gj=function(t,e,n){var r=NA(n);return pj(t,e,r).bind(function(t){var e=Yp(t,r);return e.isNone()?W.some(lj.end(t)):W.none()})},vj=function(t,e,n){var r=PA(n),o=fj(e,r.container());return IA(t,o,r).fold(function(){return Xp(o,r).bind(E(IA,t,o)).map(function(t){return lj.after(t)})},W.none)},yj=function(t){return!1===DA(xj(t))},bj=function(t,e,n){var r=cj([dj,mj,gj,vj],[t,e,n]);return r.filter(yj)},xj=function(t){return t.fold(I,I,I,I)},_j=function(t){return t.fold(A("before"),A("start"),A("end"),A("after"))},wj=function(t){return t.fold(lj.before,lj.before,lj.after,lj.after)},Oj=function(t){return t.fold(lj.start,lj.start,lj.end,lj.end)},Sj=function(t,e){return _j(t)===_j(e)&&xj(t)===xj(e)},Cj=function(t,e,n,r,o,i){return fo(IA(e,n,r),IA(e,n,o),function(e,r){return e!==r&&jA(n,e,r)?lj.after(t?e:r):i}).getOr(i)},kj=function(t,e){return t.fold(F,function(t){return!Sj(t,e)})},Tj=function(t,e,n,r,o){var i=RA(t,o),a=Up(t,n,i).map(E(RA,t)),u=a.fold(function(){return r.map(wj)},function(o){return bj(e,n,o).map(E(Cj,t,e,n,i,o)).filter(E(kj,r))});return u.filter(yj)},Mj=function(t,e){return t?e.fold(M(W.some,lj.start),W.none,M(W.some,lj.after),W.none):e.fold(W.none,M(W.some,lj.before),W.none,M(W.some,lj.end))},Dj=function(t,e,n,r){var o=RA(t,r),i=bj(e,n,o);return bj(e,n,o).bind(E(Mj,t)).orThunk(function(){return Tj(t,e,n,i,r)})};E(Dj,!1),E(Dj,!0);var Aj,Ij=function(t){return C(t.selection.getSel().modify)},jj=function(t,e,n){var r=t?1:-1;return e.setRng(If(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},Ej=function(t,e){var n=e.selection.getRng(),r=t?If.fromRangeEnd(n):If.fromRangeStart(n);return!!Ij(e)&&(t&&wa(r)?jj(!0,e.selection,r):!(t||!Oa(r))&&jj(!1,e.selection,r))};(function(t){t[t["Br"]=0]="Br",t[t["Block"]=1]="Block",t[t["Wrap"]=2]="Wrap",t[t["Eol"]=3]="Eol"})(Aj||(Aj={}));var Rj,Nj=function(t,e){return t===jf.Backwards?ft(e):e},Pj=function(t,e,n){return t===jf.Forwards?e.next(n):e.prev(n)},Bj=function(t,e,n,r){return ro(r.getNode(e===jf.Forwards))?Aj.Br:!1===cp(n,r)?Aj.Block:Aj.Wrap},Lj=function(t,e,n,r){var o=Np(n),i=r,a=[];while(i){var u=Pj(e,o,i);if(!u)break;if(ro(u.getNode(!1)))return e===jf.Forwards?{positions:Nj(e,a).concat([u]),breakType:Aj.Br,breakAt:W.some(u)}:{positions:Nj(e,a),breakType:Aj.Br,breakAt:W.some(u)};if(u.isVisible()){if(t(i,u)){var s=Bj(n,e,i,u);return{positions:Nj(e,a),breakType:s,breakAt:W.some(u)}}a.push(u),i=u}else i=u}return{positions:Nj(e,a),breakType:Aj.Eol,breakAt:W.none()}},Fj=function(t,e,n,r){return e(n,r).breakAt.map(function(r){var o=e(n,r).positions;return t===jf.Backwards?o.concat(r):[r].concat(o)}).getOr([])},zj=function(t,e){return ot(t,function(t,n){return t.fold(function(){return W.some(n)},function(r){return fo(gt(r.getClientRects()),gt(n.getClientRects()),function(t,o){var i=Math.abs(e-t.left),a=Math.abs(e-o.left);return a<=i?n:r}).or(t)})},W.none())},Vj=function(t,e){return gt(e.getClientRects()).bind(function(e){return zj(t,e.left)})},Hj=E(Lj,If.isAbove,-1),Uj=E(Lj,If.isBelow,1),Wj=E(Fj,-1,Hj),Gj=E(Fj,1,Uj),qj=function(t,e){return Hj(t,e).breakAt.isNone()},Yj=function(t,e){return Uj(t,e).breakAt.isNone()},Xj=function(t){return $p(t).map(function(e){return[e].concat(Uj(t,e).positions)}).getOr([])},$j=function(t){return Kp(t).map(function(e){return Hj(t,e).positions.concat(e)}).getOr([])},Kj=function(t){var e=function(e){return J(e,function(e){var n=$l(e);return n.node=t,n})};if(Ur(t))return e(t.getClientRects());if(Qr(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},Zj=function(t){return ct(t,Kj)};(function(t){t[t["Up"]=-1]="Up",t[t["Down"]=1]="Down"})(Rj||(Rj={}));var Jj,Qj,tE=function(t,e,n,r){while(r=up(r,t,Ga,e))if(n(r))return},eE=function(t,e,n,r,o,i){var a=0,u=[],s=function(r){var i=Zj([r]);-1===t&&(i=i.reverse());for(var s=0;s<i.length;s++){var l=i[s];if(!n(l,c)){if(u.length>0&&e(l,Ut(u))&&a++,l.line=a,o(l))return!0;u.push(l)}}},c=Ut(i.getClientRects());if(!c)return u;var l=i.getNode();return s(l),tE(t,r,s,l),u},nE=function(t,e){return e.line>t},rE=function(t,e){return e.line===t},oE=E(eE,Rj.Up,Ql,tf),iE=E(eE,Rj.Down,tf,Ql),aE=function(t,e,n,r){var o,i,a,u,s=Np(e),c=[],l=0,f=function(t){return Ut(t.getClientRects())};1===t?(o=s.next,i=tf,a=Ql,u=If.after(r)):(o=s.prev,i=Ql,a=tf,u=If.before(r));var d=f(u);do{if(u.isVisible()){var h=f(u);if(!a(h,d)){c.length>0&&i(h,Ut(c))&&l++;var p=$l(h);if(p.position=u,p.line=l,n(p))return c;c.push(p)}}}while(u=o(u));return c},uE=function(t){return function(e){return nE(t,e)}},sE=function(t){return function(e){return rE(t,e)}},cE=ao,lE=up,fE=function(t,e){return Math.abs(t.left-e)},dE=function(t,e){return Math.abs(t.right-e)},hE=function(t,e){return t>=e.left&&t<=e.right},pE=function(t,e){return t>=e.top&&t<=e.bottom},mE=function(t){return Et(t,"node")},gE=function(t,e,n){return void 0===n&&(n=F),Vt(t,function(t,r){if(hE(e,r))return n(r)?r:t;if(hE(e,t))return n(t)?t:r;var o=Math.min(fE(t,e),dE(t,e)),i=Math.min(fE(r,e),dE(r,e));return i===o&&mE(r)&&cE(r.node)?r:i<o?r:t})},vE=function(t,e,n,r,o){var i=lE(r,t,Ga,e,!o);do{if(!i||n(i))return}while(i=lE(i,t,Ga,e))},yE=function(t,e,n){void 0===n&&(n=!0);var r=[],o=function(t,n){var o=nt(Zj([n]),function(n){return!t(n,e)});return r=r.concat(o),0===o.length};return r.push(e),vE(Rj.Up,t,E(o,Ql),e.node,n),vE(Rj.Down,t,E(o,tf),e.node,n),r},bE=function(t){return nt(yt(t.getElementsByTagName("*")),Kh)},xE=function(t,e){return{node:t.node,before:fE(t,e)<dE(t,e)}},_E=function(t,e,n){var r=Zj(bE(t)),o=nt(r,E(pE,n)),i=function(t){return!Kr(t.node)&&!so(t.node)},a=gE(o,e,i);if(a){var u=i(a);if(a=gE(yE(t,a,u),e,i),a&&Kh(a.node))return xE(a,e)}return null},wE=function(t,e){t.selection.setRng(e),ty(t,t.selection.getRng())},OE=function(t,e,n){return W.some(OI(t,e,n))},SE=function(t,e,n,r,o,i){var a=e===jf.Forwards,u=Np(t.getBody()),s=E(_p,a?u.next:u.prev),c=a?r:o;if(!n.collapsed){var l=rf(n);if(i(l))return bI(e,t,l,e===jf.Backwards,!1)}var f=yp(e,t.getBody(),n);if(c(f))return _I(t,f.getNode(!a));var d=RA(a,s(f)),h=Aa(n);if(!d)return h?W.some(n):W.none();if(c(d))return bI(e,t,d.getNode(!a),a,!1);var p=s(d);return p&&c(p)&&wp(d,p)?bI(e,t,p.getNode(!a),a,!1):h?OE(t,d.toRange(),!1):W.none()},CE=function(t,e,n,r,o,i){var a=yp(e,t.getBody(),n),u=Ut(a.getClientRects()),s=e===Rj.Down;if(!u)return W.none();var c,l=s?iE:oE,f=l(t.getBody(),uE(1),a),d=nt(f,sE(1)),h=u.left,p=gE(d,h);if(p&&i(p.node)){var m=Math.abs(h-p.left),g=Math.abs(h-p.right);return bI(e,t,p.node,m<g,!1)}if(c=r(a)?a.getNode():o(a)?a.getNode(!0):rf(n),c){var v=aE(e,t.getBody(),uE(1),c),y=gE(nt(v,sE(1)),h);if(y)return OE(t,y.position.toRange(),!1);if(y=Ut(nt(v,sE(0))),y)return OE(t,y.position.toRange(),!1)}return 0===d.length?kE(t,s).filter(s?o:r).map(function(e){return OI(t,e.toRange(),!1)}):W.none()},kE=function(t,e){var n=t.selection.getRng(),r=t.getBody();if(e){var o=If.fromRangeEnd(n),i=Uj(r,o);return vt(i.positions)}o=If.fromRangeStart(n),i=Hj(r,o);return gt(i.positions)},TE=function(t,e,n){return kE(t,e).filter(n).exists(function(e){return t.selection.setRng(e.toRange()),!0})},ME=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},DE=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},AE=function(t,e,n){return sj(e,n).map(function(e){return ME(t,e),n})},IE=function(t,e,n){var r=t.getBody(),o=If.fromRangeStart(t.selection.getRng()),i=E(MA,t),a=Dj(n,i,r,o);return a.bind(function(n){return AE(t,e,n)})},jE=function(t,e,n){var r=J(Cl(xn.fromDom(e.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(t){return t.dom}),o=nt(r,t),i=nt(n,t);Q(dt(o,i),E(DE,!1)),Q(dt(i,o),E(DE,!0))},EE=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=If.fromRangeStart(t.selection.getRng());If.isTextPosition(n)&&!1===EA(n)&&(ME(t,Lh(e.get(),n)),e.set(null))}},RE=function(t,e,n,r){if(e.selection.isCollapsed()){var o=nt(r,t);Q(o,function(r){var o=If.fromRangeStart(e.selection.getRng());bj(t,e.getBody(),o).bind(function(t){return AE(e,n,t)})})}},NE=function(t,e,n){return!!oh(t)&&IE(t,e,n).isSome()},PE=function(t,e,n){return!!oh(e)&&Ej(t,e)},BE=function(t){var e=Xc(null),n=E(MA,t);return t.on("NodeChange",function(r){!oh(t)||tn.browser.isIE()&&r.initial||(jE(n,t.dom,r.parents),EE(t,e),RE(n,t,e,r.parents))}),e},LE=E(PE,!0),FE=E(PE,!1),zE=function(t,e,n){if(oh(t)){var r=kE(t,e).getOrThunk(function(){var n=t.selection.getRng();return e?If.fromRangeEnd(n):If.fromRangeStart(n)});return bj(E(MA,t),t.getBody(),r).exists(function(e){var r=wj(e);return sj(n,r).exists(function(e){return ME(t,e),!0})})}return!1},VE=function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n},HE=function(t){return fo($p(t),Kp(t),function(e,n){var r=RA(!0,e),o=RA(!1,n);return Yp(t,r).forall(function(t){return t.isEqual(o)})}).getOr(!0)},UE=function(t,e){return function(n){return sj(e,n).exists(function(e){return ME(t,e),!0})}},WE=function(t,e,n,r){var o=t.getBody(),i=E(MA,t);t.undoManager.ignore(function(){t.selection.setRng(VE(n,r)),t.execCommand("Delete"),bj(i,o,If.fromRangeStart(t.selection.getRng())).map(Oj).map(UE(t,e))}),t.nodeChanged()},GE=function(t,e){var n=sp(e,t);return n||t},qE=function(t,e,n,r){var o=GE(t.getBody(),r.container()),i=E(MA,t),a=bj(i,o,r);return a.bind(function(t){return n?t.fold(A(W.some(Oj(t))),W.none,A(W.some(wj(t))),W.none):t.fold(W.none,A(W.some(wj(t))),W.none,A(W.some(Oj(t))))}).map(UE(t,e)).getOrThunk(function(){var u=Wp(n,o,r),s=u.bind(function(t){return bj(i,o,t)});return fo(a,s,function(){return IA(i,o,r).exists(function(e){return!!HE(e)&&(F_(t,n,xn.fromDom(e)),!0)})}).orThunk(function(){return s.bind(function(o){return u.map(function(o){return n?WE(t,e,r,o):WE(t,e,o,r),!0})})}).getOr(!1)})},YE=function(t,e,n){if(t.selection.isCollapsed()&&oh(t)){var r=If.fromRangeStart(t.selection.getRng());return qE(t,e,n,r)}return!1},XE=function(t,e){var n=Ex(e,t);return ut(n,Zi).fold(A(n),function(t){return n.slice(0,t)})},$E=function(t){return 1===ur(t)},KE=function(t,e,n,r){var o=E(lS,e),i=J(nt(r,o),function(t){return t.dom});if(0===i.length)F_(e,t,n);else{var a=cS(n.dom,i);e.selection.setRng(a.toRange())}},ZE=function(t,e){var n=xn.fromDom(t.getBody()),r=xn.fromDom(t.selection.getStart()),o=nt(XE(n,r),$E);return vt(o).exists(function(n){var r=If.fromRangeStart(t.selection.getRng());return!(!HA(e,r,n.dom)||fS(n))&&(KE(e,t,n,o),!0)})},JE=function(t,e){return!!t.selection.isCollapsed()&&ZE(t,e)},QE=function(t,e,n){return t._selectionOverrides.hideFakeCaret(),F_(t,e,xn.fromDom(n)),!0},tR=function(t,e){var n=e?xx:_x,r=e?jf.Forwards:jf.Backwards,o=yp(r,t.getBody(),t.selection.getRng());return n(o)?QE(t,e,o.getNode(!e)):W.from(RA(e,o)).filter(function(t){return n(t)&&wp(o,t)}).exists(function(n){return QE(t,e,n.getNode(!e))})},eR=function(t,e){var n=t.selection.getNode();return!!so(n)&&QE(t,e,n)},nR=function(t,e){return t.selection.isCollapsed()?tR(t,e):eR(t,e)},rR=function(t){return Oi(t,function(t){return io(t.dom)||ao(t.dom)}).exists(function(t){return io(t.dom)})},oR=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},iR=function(t,e){var n=t||Ji(e)?"margin":"padding",r="rtl"===ko(e,"direction")?"-right":"-left";return n+r},aR=function(t,e,n,r,o,i){var a=iR(n,xn.fromDom(i));if("outdent"===e){var u=Math.max(0,oR(i.style[a])-r);t.setStyle(i,a,u?u+o:"")}else{u=oR(i.style[a])+r+o;t.setStyle(i,a,u)}},uR=function(t,e){return lt(e,function(e){var n=iR(Gd(t),e),r=Mo(e,n).map(oR).getOr(0),o=t.dom.getContentEditable(e.dom);return"false"!==o&&r>0})},sR=function(t){var e=fR(t);return!t.mode.isReadOnly()&&(e.length>1||uR(t,e))},cR=function(t){return na(t)||ra(t)},lR=function(t){return Kn(t).exists(cR)},fR=function(t){return nt(zl(t.selection.getSelectedBlocks()),function(t){return!cR(t)&&!lR(t)&&rR(t)})},dR=function(t,e){var n=t.dom,r=t.selection,o=t.formatter,i=qd(t),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=Gd(t),c=Od(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),Q(fR(t),function(t){aR(n,e,s,u,a,t.dom)})},hR=function(t,e){if(t.selection.isCollapsed()&&sR(t)){var n=t.dom,r=t.selection.getRng(),o=If.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&Lx(xn.fromDom(i),o))return dR(t,"outdent"),!0}return!1},pR=function(t,e){t.getDoc().execCommand(e,!1,null)},mR=function(t,e){hR(t)||XI(t,!1)||DI(t,!1)||YE(t,e,!1)||cI(t,!1)||Nw(t)||KI(t,!1)||nR(t,!1)||gI(t)||JE(t,!1)||(pR(t,"Delete"),VA(t))},gR=function(t,e){XI(t,!0)||DI(t,!0)||YE(t,e,!0)||cI(t,!0)||Nw(t)||KI(t,!0)||nR(t,!0)||gI(t)||JE(t,!0)||pR(t,"ForwardDelete")},vR=function(t,e){t.addCommand("delete",function(){mR(t,e)}),t.addCommand("forwardDelete",function(){gR(t,e)})},yR=5,bR=400,xR=function(t){return void 0===t.touches||1!==t.touches.length?W.none():W.some(t.touches[0])},_R=function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>yR||r>yR},wR=function(t){var e=ll(),n=Xc(!1),r=dl(function(e){t.fire("longpress",Wt(Wt({},e),{type:"longpress"})),n.set(!0)},bR);t.on("touchstart",function(t){xR(t).each(function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.throttle(t),n.set(!1),e.set(i)})},!0),t.on("touchmove",function(o){r.cancel(),xR(o).each(function(r){e.on(function(o){_R(r,o)&&(e.clear(),n.set(!1),t.fire("longpresscancel"))})})},!0),t.on("touchend touchcancel",function(o){r.cancel(),"touchcancel"!==o.type&&e.get().filter(function(t){return t.target.isEqualNode(o.target)}).each(function(){n.get()?o.preventDefault():t.fire("tap",Wt(Wt({},o),{type:"tap"}))})},!0)},OR=function(t,e){return jt(t,e.nodeName)},SR=function(t,e){return!!Qr(e)||!!Ur(e)&&(!OR(t,e)&&!xm(e))},CR=function(t,e,n){return Z(jx(xn.fromDom(n),xn.fromDom(e)),function(e){return OR(t,e.dom)})},kR=function(t,e){if(Qr(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||OR(t,e.nextSibling)))return!0}return!1},TR=function(t){var e,n,r,o=t.dom,i=t.selection,a=t.schema,u=a.getBlockElements(),s=i.getStart(),c=t.getBody(),l=Od(t);if(s&&Ur(s)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!CR(u,c,s)){var d=i.getRng(),h=d.startContainer,p=d.startOffset,m=d.endContainer,g=d.endOffset,v=lb(t);s=c.firstChild;while(s)if(SR(u,s)){if(kR(u,s)){n=s,s=s.nextSibling,o.remove(n);continue}e||(e=o.create(l,Sd(t)),s.parentNode.insertBefore(e,s),r=!0),n=s,s=s.nextSibling,e.appendChild(n)}else e=null,s=s.nextSibling;r&&v&&(d.setStart(h,p),d.setEnd(m,g),i.setRng(d),t.nodeChanged())}}},MR=function(t){Od(t)&&t.on("NodeChange",E(TR,t))},DR=function(t){return Ti(xn.fromDom(t.getBody()),"*[data-mce-caret]").map(function(t){return t.dom}).getOrNull()},AR=function(t){t.selection.setRng(t.selection.getRng())},IR=function(t,e){e.hasAttribute("data-mce-caret")&&(Da(e),AR(t),t.selection.scrollIntoView(e))},jR=function(t,e){var n=DR(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void IR(t,n)):void(xa(n)&&(IR(t,n),t.undoManager.add()))},ER=function(t){t.on("keyup compositionstart",E(jR,t))},RR=ao,NR=function(t,e,n){return SE(e,t,n,Sx,Cx,RR)},PR=function(t,e,n){var r=function(t){return Sx(t)||wx(t)},o=function(t){return Cx(t)||Ox(t)};return CE(e,t,n,r,o,RR)},BR=function(t){var e=t.dom.create(Od(t));return(!tn.ie||tn.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e},LR=function(t,e,n){var r=Np(t.getBody()),o=E(_p,1===e?r.next:r.prev);if(n.collapsed&&gh(t)){var i=t.dom.getParent(n.startContainer,"PRE");if(!i)return;var a=o(If.fromRangeStart(n));if(!a){var u=BR(t);1===e?t.$(i).after(u):t.$(i).before(u),t.selection.select(u,!0),t.selection.collapse()}}},FR=function(t,e){var n=e?jf.Forwards:jf.Backwards,r=t.selection.getRng();return NR(n,t,r).orThunk(function(){return LR(t,n,r),W.none()})},zR=function(t,e){var n=e?1:-1,r=t.selection.getRng();return PR(n,t,r).orThunk(function(){return LR(t,n,r),W.none()})},VR=function(t,e){return FR(t,e).exists(function(e){return wE(t,e),!0})},HR=function(t,e){return zR(t,e).exists(function(e){return wE(t,e),!0})},UR=function(t,e){var n=e?Cx:Sx;return TE(t,e,n)},WR=function(t){return K(["figcaption"],Bn(t))},GR=function(t){var e=document.createRange();return e.setStartBefore(t.dom),e.setEndBefore(t.dom),e},qR=function(t,e,n){n?_r(t,e):xr(t,e)},YR=function(t,e){var n=xn.fromTag("br");return qR(t,n,e),GR(n)},XR=function(t,e,n,r){var o=xn.fromTag(n),i=xn.fromTag("br");return yo(o,r),_r(o,i),qR(t,o,e),GR(i)},$R=function(t,e,n,r){return""===e?YR(t,r):XR(t,r,e,n)},KR=function(t,e){var n=E(En,e);return Oi(xn.fromDom(t.container()),Zi,n).filter(WR)},ZR=function(t,e,n){return e?Yj(t.dom,n):qj(t.dom,n)},JR=function(t,e){var n=xn.fromDom(t.getBody()),r=If.fromRangeStart(t.selection.getRng()),o=Od(t),i=Sd(t);return KR(r,n).exists(function(){if(ZR(n,e,r)){var a=$R(n,o,i,e);return t.selection.setRng(a),!0}return!1})},QR=function(t,e){return!!t.selection.isCollapsed()&&JR(t,e)},tN=function(t){return J(t,function(t){return Wt({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:T},t)})},eN=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},nN=function(t,e){return ct(tN(t),function(t){return eN(t,e)?[t]:[]})},rN=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(null,e)}},oN=function(t,e){return at(nN(t,e),function(t){return t.action()})},iN=function(t,e){var n=e?jf.Forwards:jf.Backwards,r=t.selection.getRng();return SE(t,n,r,xx,_x,so).exists(function(e){return wE(t,e),!0})},aN=function(t,e){var n=e?1:-1,r=t.selection.getRng();return CE(t,n,r,xx,_x,so).exists(function(e){return wE(t,e),!0})},uN=function(t,e){var n=e?_x:xx;return TE(t,e,n)},sN=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}},cN=function(t,e){return ct(e,function(e){var n=sN($l(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]})},lN=function(t,e,n){return ot(t,function(t,r){return t.fold(function(){return W.some(r)},function(t){var o=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),i=Math.sqrt(Math.abs(r.x-e)+Math.abs(r.y-n));return W.some(i<o?r:t)})},W.none())},fN=function(t,e,n,r,o){var i=Cl(xn.fromDom(n),"td,th,caption").map(function(t){return t.dom}),a=nt(cN(t,i),function(t){return e(t,o)});return lN(a,r,o).map(function(t){return t.cell})},dN=function(t){return t.bottom},hN=function(t){return t.top},pN=function(t,e){return t.y<e},mN=function(t,e){return t.y>e},gN=E(fN,dN,pN),vN=E(fN,hN,mN),yN=function(t,e){return gt(e.getClientRects()).bind(function(e){return gN(t,e.left,e.top)}).bind(function(t){return Vj($j(t),e)})},bN=function(t,e){return vt(e.getClientRects()).bind(function(e){return vN(t,e.left,e.top)}).bind(function(t){return Vj(Xj(t),e)})},xN=function(t,e,n){return n.breakAt.exists(function(n){return t(e,n).breakAt.isSome()})},_N=function(t){return t.breakType===Aj.Wrap&&0===t.positions.length},wN=function(t){return t.breakType===Aj.Br&&1===t.positions.length},ON=function(t,e,n){var r=t(e,n);return _N(r)||!ro(n.getNode())&&wN(r)?!xN(t,e,r):r.breakAt.isNone()},SN=E(ON,Hj),CN=E(ON,Uj),kN=function(t,e,n){var r=If.fromRangeStart(e);return qp(!t,n).exists(function(t){return t.isEqual(r)})},TN=function(t,e,n,r){var o=t.selection.getRng(),i=e?1:-1;return!(!Xh()||!kN(e,o,n))&&(bI(i,t,n,!e,!1).each(function(e){wE(t,e)}),!0)},MN=function(t,e,n){return yN(e,n).orThunk(function(){return gt(n.getClientRects()).bind(function(n){return zj(Wj(t,If.before(e)),n.left)})}).getOr(If.before(e))},DN=function(t,e,n){return bN(e,n).orThunk(function(){return gt(n.getClientRects()).bind(function(n){return zj(Gj(t,If.after(e)),n.left)})}).getOr(If.after(e))},AN=function(t,e){var n=e.getNode(t);return Ur(n)&&"TABLE"===n.nodeName?W.some(n):W.none()},IN=function(t,e,n,r){var o=Od(e);o?e.undoManager.transact(function(){var r=xn.fromTag(o);yo(r,Sd(e)),_r(r,xn.fromTag("br")),t?br(xn.fromDom(n),r):yr(xn.fromDom(n),r);var i=e.dom.createRng();i.setStart(r.dom,0),i.setEnd(r.dom,0),wE(e,i)}):wE(e,r.toRange())},jN=function(t,e,n){var r=AN(!!e,n),o=!1===e;r.fold(function(){return wE(t,n.toRange())},function(r){return qp(o,t.getBody()).filter(function(t){return t.isEqual(n)}).fold(function(){return wE(t,n.toRange())},function(o){return IN(e,t,r,n)})})},EN=function(t,e,n,r){var o=t.selection.getRng(),i=If.fromRangeStart(o),a=t.getBody();if(!e&&SN(r,i)){var u=MN(a,n,i);return jN(t,e,u),!0}if(e&&CN(r,i)){u=DN(a,n,i);return jN(t,e,u),!0}return!1},RN=function(t,e,n){return W.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(r){return W.from(t.dom.getParent(r,"table")).map(function(o){return n(t,e,o,r)})}).getOr(!1)},NN=function(t,e){return RN(t,e,TN)},PN=function(t,e){return RN(t,e,EN)},BN=function(t,e,n){var r=Ge().os;oN([{keyCode:Qg.RIGHT,action:rN(VR,t,!0)},{keyCode:Qg.LEFT,action:rN(VR,t,!1)},{keyCode:Qg.UP,action:rN(HR,t,!1)},{keyCode:Qg.DOWN,action:rN(HR,t,!0)},{keyCode:Qg.RIGHT,action:rN(NN,t,!0)},{keyCode:Qg.LEFT,action:rN(NN,t,!1)},{keyCode:Qg.UP,action:rN(PN,t,!1)},{keyCode:Qg.DOWN,action:rN(PN,t,!0)},{keyCode:Qg.RIGHT,action:rN(iN,t,!0)},{keyCode:Qg.LEFT,action:rN(iN,t,!1)},{keyCode:Qg.UP,action:rN(aN,t,!1)},{keyCode:Qg.DOWN,action:rN(aN,t,!0)},{keyCode:Qg.RIGHT,action:rN(NE,t,e,!0)},{keyCode:Qg.LEFT,action:rN(NE,t,e,!1)},{keyCode:Qg.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:rN(LE,t,e)},{keyCode:Qg.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:rN(FE,t,e)},{keyCode:Qg.UP,action:rN(QR,t,!1)},{keyCode:Qg.DOWN,action:rN(QR,t,!0)}],n).each(function(t){n.preventDefault()})},LN=function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&BN(t,e,n)})},FN=function(t,e,n){oN([{keyCode:Qg.BACKSPACE,action:rN(hR,t,!1)},{keyCode:Qg.BACKSPACE,action:rN(XI,t,!1)},{keyCode:Qg.DELETE,action:rN(XI,t,!0)},{keyCode:Qg.BACKSPACE,action:rN(DI,t,!1)},{keyCode:Qg.DELETE,action:rN(DI,t,!0)},{keyCode:Qg.BACKSPACE,action:rN(YE,t,e,!1)},{keyCode:Qg.DELETE,action:rN(YE,t,e,!0)},{keyCode:Qg.BACKSPACE,action:rN(Nw,t,!1)},{keyCode:Qg.DELETE,action:rN(Nw,t,!0)},{keyCode:Qg.BACKSPACE,action:rN(KI,t,!1)},{keyCode:Qg.DELETE,action:rN(KI,t,!0)},{keyCode:Qg.BACKSPACE,action:rN(nR,t,!1)},{keyCode:Qg.DELETE,action:rN(nR,t,!0)},{keyCode:Qg.BACKSPACE,action:rN(gI,t,!1)},{keyCode:Qg.DELETE,action:rN(gI,t,!0)},{keyCode:Qg.BACKSPACE,action:rN(cI,t,!1)},{keyCode:Qg.DELETE,action:rN(cI,t,!0)},{keyCode:Qg.BACKSPACE,action:rN(JE,t,!1)},{keyCode:Qg.DELETE,action:rN(JE,t,!0)}],n).each(function(t){n.preventDefault()})},zN=function(t,e){oN([{keyCode:Qg.BACKSPACE,action:rN(YI,t)},{keyCode:Qg.DELETE,action:rN(YI,t)}],e)},VN=function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&FN(t,e,n)}),t.on("keyup",function(e){!1===e.isDefaultPrevented()&&zN(t,e)})},HN=function(t){while(t){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},UN=function(t,e){var n,r=e,o=t.dom,i=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var a=HN(e.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&e.insertBefore(o.doc.createTextNode(ca),e.firstChild)}var u=o.createRng();if(e.normalize(),e.hasChildNodes()){var s=new zi(e,e);while(n=s.current()){if(Qr(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=s.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else ro(e)?e.nextSibling&&o.isBlock(e.nextSibling)?(u.setStartBefore(e),u.setEndBefore(e)):(u.setStartAfter(e),u.setEndAfter(e)):(u.setStart(e,0),u.setEnd(e,0));t.selection.setRng(u),ty(t,u)}},WN=function(t,e){var n,r,o=t.getRoot();n=e;while(n!==o&&"false"!==t.getContentEditable(n))"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},GN=function(t){return W.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},qN=function(t){return GN(t).fold(A(""),function(t){return t.nodeName.toUpperCase()})},YN=function(t){return GN(t).filter(function(t){return ra(xn.fromDom(t))}).isSome()},XN=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},$N=function(t){var e;return(null===(e=t.parentNode)||void 0===e?void 0:e.firstChild)===t},KN=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},ZN=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},JN=function(t){return ZN(t)&&ZN(t.parentNode)},QN=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},tP=function(t,e,n){var r=t[n?"firstChild":"lastChild"];while(r){if(Ur(r))break;r=r[n?"nextSibling":"previousSibling"]}return r===e},eP=function(t,e,n,r,o){var i=t.dom,a=t.selection.getRng();if(n!==t.getBody()){JN(n)&&(o="LI");var u=o?e(o):i.create("BR");if(tP(n,r,!0)&&tP(n,r,!1))if(KN(n,"LI")){var s=QN(n);i.insertAfter(u,s),$N(n)?i.remove(s):i.remove(n)}else i.replace(u,n);else if(tP(n,r,!0))KN(n,"LI")?(i.insertAfter(u,QN(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),i.remove(r);else if(tP(n,r,!1))i.insertAfter(u,QN(n)),i.remove(r);else{n=QN(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var l=c.extractContents();"LI"===o&&XN(l,"LI")?(u=l.firstChild,i.insertAfter(l,n)):(i.insertAfter(l,n),i.insertAfter(u,n)),i.remove(r)}UN(t,u)}},nP=function(t){Q(Sl(xn.fromDom(t),Hn),function(t){var e=t.dom;e.nodeValue=pa(e.nodeValue)})},rP=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},oP=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},iP=function(t){t.innerHTML='<br data-mce-bogus="1">'},aP=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},uP=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},sP=function(t,e,n){var r,o=n,i=[];if(o){while(o=o.firstChild){if(t.isBlock(o))return;Ur(o)&&!e[o.nodeName.toLowerCase()]&&i.push(o)}r=i.length;while(r--)o=i[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?t.remove(o):rP(t,o)&&t.remove(o)}},cP=function(t,e,n){return!1===Qr(e)?n:t?1===n&&e.data.charAt(n-1)===da?0:n:n===e.data.length-1&&e.data.charAt(n)===da?e.data.length:n},lP=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,cP(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,cP(!1,t.endContainer,t.endOffset)),e},fP=function(t){do{Qr(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)},dP=function(t,e){var n,r,o=t.getRoot();n=e;while(n!==o&&"false"!==t.getContentEditable(n))"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},hP=function(t,e,n){var r=t.dom;W.from(n.style).map(r.parseStyle).each(function(t){var n=Do(xn.fromDom(e)),o=Wt(Wt({},n),t);r.setStyles(e,o)});var o=W.from(n.class).map(function(t){return t.split(/\s+/)}),i=W.from(e.className).map(function(t){return nt(t.split(/\s+/),function(t){return""!==t})});fo(o,i,function(t,n){var o=nt(n,function(e){return!K(t,e)}),i=qt(qt([],t,!0),o,!0);r.setAttrib(e,"class",i.join(" "))});var a=["style","class"],u=Mt(n,function(t,e){return!K(a,e)});r.setAttribs(e,u)},pP=function(t,e){var n=Od(t);if(n&&n.toLowerCase()===e.tagName.toLowerCase()){var r=Sd(t);hP(t,e,r)}},mP=function(t,e,n,r,o){var i,a,u,s,c,l,f=e||"P",d=t.dom,h=dP(d,r);if(a=d.getParent(r,d.isBlock),!a||!uP(d,a)){if(a=a||h,l=a===t.getBody()||oP(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),pP(t,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;s=r;while(s.parentNode!==a)s=s.parentNode;while(s&&!d.isBlock(s))u=s,s=s.previousSibling;if(u&&t.schema.isValidChild(l,f.toLowerCase())){i=d.create(f),pP(t,i),u.parentNode.insertBefore(i,u),s=u;while(s&&!d.isBlock(s))c=s.nextSibling,i.appendChild(s),s=c;n.setStart(r,o),n.setEnd(r,o)}}return r},gP=function(t,e){e.normalize();var n=e.lastChild;n&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},vP=function(t,e){var n,r,o,i,a,u,s,c,l,f,d=t.dom,h=t.schema,p=h.getNonEmptyElements(),m=t.selection.getRng(),g=function(e){var n,o,a,u=r,s=h.getTextInlineElements();if(n=e||"TABLE"===c||"HR"===c?d.create(e||l):i.cloneNode(!1),a=n,!1===Td(t))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(s[u.nodeName]){if(Jp(u)||xm(u))continue;o=u.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((u=u.parentNode)&&u!==_);return pP(t,n),iP(a),n},v=function(t){var e,n,a=cP(t,r,o);if(Qr(r)&&(t?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!t)return!0;if(t&&Ur(r)&&r===i.firstChild)return!0;if(aP(r,"TABLE")||aP(r,"HR"))return f&&!t||!f&&t;var u=new zi(r,i);Qr(r)&&(t&&0===a?u.prev():t||a!==r.nodeValue.length||u.next());while(e=u.current()){if(Ur(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(Qr(e)&&!Ya(e.nodeValue))return!1;t?u.prev():u.next()}return!0},y=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==w?g(l):g(),Md(t)&&uP(d,s)&&d.isEmpty(i)?a=d.split(s,i):d.insertAfter(a,i),UN(t,a)};bv(d,m).each(function(t){m.setStart(t.startContainer,t.startOffset),m.setEnd(t.endContainer,t.endOffset)}),r=m.startContainer,o=m.startOffset,l=Od(t);var b=!(!e||!e.shiftKey),x=!(!e||!e.ctrlKey);Ur(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&Qr(r)?r.nodeValue.length:0);var _=dP(d,r);if(_){(l&&!b||!l&&b)&&(r=mP(t,l,m,r,o)),i=d.getParent(r,d.isBlock),s=i?d.getParent(i.parentNode,d.isBlock):null,c=i?i.nodeName.toUpperCase():"";var w=s?s.nodeName.toUpperCase():"";"LI"!==w||x||(i=s,s=s.parentNode,c=w),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(i)?eP(t,g,s,i,l):l&&i===t.getBody()||(l=l||"P",va(i)?(a=Da(i),d.isEmpty(i)&&iP(i),pP(t,a),UN(t,a)):v()?y():v(!0)?(a=i.parentNode.insertBefore(g(),i),UN(t,aP(i,"HR")?a:i)):(n=lP(m).cloneRange(),n.setEndAfter(i),u=n.extractContents(),nP(u),fP(u),a=u.firstChild,d.insertAfter(u,i),sP(d,p,a),gP(d,i),d.isEmpty(i)&&iP(i),a.normalize(),d.isEmpty(a)?(d.remove(a),y()):(pP(t,a),UN(t,a))),d.setAttrib(a,"id",""),t.fire("NewBlock",{newBlock:a}))}},yP=function(t,e,n){var r,o=new zi(e,n),i=t.getNonEmptyElements();while(r=o.next())if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},bP=function(t,e,n){var r=t.dom.createRng();n?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)),t.selection.setRng(r),ty(t,r)},xP=function(t,e){var n,r,o=t.selection,i=t.dom,a=o.getRng();bv(i,a).each(function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)});var u=a.startOffset,s=a.startContainer;if(1===s.nodeType&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,u=c&&3===s.nodeType?s.nodeValue.length:0}var l=i.getParent(s,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=!(!e||!e.ctrlKey);"LI"!==d||h||(l=f),s&&3===s.nodeType&&u>=s.nodeValue.length&&(yP(t.schema,s,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Pf(i,a,n),bP(t,n,r),t.undoManager.add()},_P=function(t,e){var n=xn.fromTag("br");yr(xn.fromDom(e),n),t.undoManager.add()},wP=function(t,e){SP(t.getBody(),e)||br(xn.fromDom(e),xn.fromTag("br"));var n=xn.fromTag("br");br(xn.fromDom(e),n),bP(t,n.dom,!1),t.undoManager.add()},OP=function(t){return ro(t.getNode())},SP=function(t,e){return!!OP(If.after(e))||Yp(t,If.after(e)).map(function(t){return ro(t.getNode())}).getOr(!1)},CP=function(t){return t&&"A"===t.nodeName&&"href"in t},kP=function(t){return t.fold(L,CP,CP,L)},TP=function(t){var e=E(MA,t),n=If.fromRangeStart(t.selection.getRng());return bj(e,t.getBody(),n).filter(kP)},MP=function(t,e){e.fold(T,E(_P,t),E(wP,t),T)},DP=function(t,e){var n=TP(t);n.isSome()?n.each(E(MP,t)):xP(t,e)},AP=function(t,e){return GN(t).filter(function(t){return e.length>0&&Dn(xn.fromDom(t),e)}).isSome()},IP=function(t){return AP(t,Cd(t))},jP=function(t){return AP(t,kd(t))},EP=ti.generate([{br:[]},{block:[]},{none:[]}]),RP=function(t,e){return jP(t)},NP=function(t){return function(e,n){var r=""===Od(e);return r===t}},PP=function(t){return function(e,n){return YN(e)===t}},BP=function(t,e){return function(n,r){var o=qN(n)===t.toUpperCase();return o===e}},LP=function(t){return BP("pre",t)},FP=function(){return BP("summary",!0)},zP=function(t){return function(e,n){return wd(e)===t}},VP=function(t,e){return IP(t)},HP=function(t,e){return e},UP=function(t){var e=Od(t),n=WN(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},WP=function(t,e){return function(n,r){var o=ot(t,function(t,e){return t&&e(n,r)},!0);return o?W.some(e):W.none()}},GP=function(t,e){return cj([WP([RP],EP.none()),WP([FP()],EP.br()),WP([LP(!0),zP(!1),HP],EP.br()),WP([LP(!0),zP(!1)],EP.block()),WP([LP(!0),zP(!0),HP],EP.block()),WP([LP(!0),zP(!0)],EP.br()),WP([PP(!0),HP],EP.br()),WP([PP(!0)],EP.block()),WP([NP(!0),HP,UP],EP.block()),WP([NP(!0)],EP.br()),WP([VP],EP.br()),WP([NP(!1),HP],EP.br()),WP([UP],EP.block())],[t,!(!e||!e.shiftKey)]).getOr(EP.none())},qP=function(t,e){GP(t,e).fold(function(){DP(t,e)},function(){vP(t,e)},T)},YP=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),xk(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),qP(t,e)}))},XP=function(t){t.on("keydown",function(e){e.keyCode===Qg.ENTER&&YP(t,e)})},$P=function(t,e,n){oN([{keyCode:Qg.END,action:rN(UR,t,!0)},{keyCode:Qg.HOME,action:rN(UR,t,!1)},{keyCode:Qg.END,action:rN(uN,t,!0)},{keyCode:Qg.HOME,action:rN(uN,t,!1)},{keyCode:Qg.END,action:rN(zE,t,!0,e)},{keyCode:Qg.HOME,action:rN(zE,t,!1,e)}],n).each(function(t){n.preventDefault()})},KP=function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&$P(t,e,n)})},ZP=Ge().browser,JP=function(t){var e=fl(function(){t.composing||m_(t)},0);ZP.isIE()&&(t.on("keypress",function(t){e.throttle()}),t.on("remove",function(t){e.cancel()}))},QP=function(t){JP(t),t.on("input",function(e){!1===e.isComposing&&m_(t)})},tB=Ge(),eB=function(t,e,n){oN([{keyCode:Qg.PAGE_UP,action:rN(zE,t,!1,e)},{keyCode:Qg.PAGE_DOWN,action:rN(zE,t,!0,e)}],n)},nB=function(t){return t.stopImmediatePropagation()},rB=function(t){return t.keyCode===Qg.PAGE_UP||t.keyCode===Qg.PAGE_DOWN},oB=function(t,e,n){n&&!t.get()?e.on("NodeChange",nB,!0):!n&&t.get()&&e.off("NodeChange",nB),t.set(n)},iB=function(t,e){if(!tB.os.isOSX()){var n=Xc(!1);t.on("keydown",function(e){rB(e)&&oB(n,t,!0)}),t.on("keyup",function(r){!1===r.isDefaultPrevented()&&eB(t,e,r),rB(r)&&n.get()&&(oB(n,t,!1),t.nodeChanged())})}},aB=function(t,e){var n=e.container(),r=e.offset();return Qr(n)?(n.insertData(r,t),W.some(If(n,r+t.length))):bp(e).map(function(n){var r=xn.fromText(t);return e.isAtEnd()?br(n,r):yr(n,r),If(r.dom,t.length)})},uB=E(aB,ca),sB=E(aB," "),cB=function(t){return function(e){return e.fold(function(e){return Xp(t.dom,If.before(e))},function(t){return $p(t)},function(t){return Kp(t)},function(e){return Yp(t.dom,If.after(e))})}},lB=function(t,e){return function(n){return r_(t,n)?uB(e):sB(e)}},fB=function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}},dB=function(t){var e=If.fromRangeStart(t.selection.getRng()),n=xn.fromDom(t.getBody());if(t.selection.isCollapsed()){var r=E(MA,t),o=If.fromRangeStart(t.selection.getRng());return bj(r,t.getBody(),o).bind(cB(n)).bind(lB(n,e)).exists(fB(t))}return!1},hB=function(t,e){oN([{keyCode:Qg.SPACEBAR,action:rN(dB,t)}],e).each(function(t){e.preventDefault()})},pB=function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&hB(t,e)})},mB=function(t){var e=BE(t);return ER(t),LN(t,e),VN(t,e),XP(t),pB(t),QP(t),KP(t,e),iB(t,e),e},gB=function(t){return Pk(t)?Xc(null):mB(t)},vB=function(){function t(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(n){var r=t.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&uv(o,e)||t.fire("SelectionChange"),e=o}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var e=t.selection.getStart(!0);!e||!tn.range&&t.selection.isCollapsed()||Og(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(e){!e.isDefaultPrevented()&&Og(t)&&("IMG"===t.selection.getNode().nodeName?Pi.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return t.prototype.nodeChanged=function(t){var e,n,r,o=this.editor.selection;this.editor.initialized&&o&&!yh(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),e=o.getStart(!0)||r,e.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,r)||(e=r),n=[],this.editor.dom.getParent(e,function(t){if(t===r)return!0;n.push(t)}),t=t||{},t.element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(n.length===this.lastPath.length){for(e=n.length;e>=0;e--)if(n[e]!==this.lastPath[e])break;if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),yB=function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})},bB=function(t){t.parser.addNodeFilter("details",function(t){Q(t,function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")})}),t.serializer.addNodeFilter("details",function(t){Q(t,function(t){var e=t.attr("data-mce-open");t.attr("open",v(e)?e:null),t.attr("data-mce-open",null)})})},xB=function(t){yB(t),bB(t)},_B=function(t){return Ur(t)&&ea(xn.fromDom(t))},wB=function(t){var e=t.selection.getRng(),n=If.fromRangeStart(e),r=If.fromRangeEnd(e);if(If.isElementPosition(n)){var o=n.container();_B(o)&&$p(o).each(function(t){return e.setStart(t.container(),t.offset())})}if(If.isElementPosition(r)){o=n.container();_B(o)&&Kp(o).each(function(t){return e.setEnd(t.container(),t.offset())})}t.selection.setRng(Lw(e))},OB=function(t){t.on("click",function(e){e.detail>=3&&wB(t)})},SB=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:e.top+o.pageYOffset-r.clientTop,left:e.left+o.pageXOffset-r.clientLeft}},CB=function(t){return t.inline?SB(t.getBody()):{left:0,top:0}},kB=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},TB=function(t){var e=t.getBody(),n=t.getDoc().documentElement,r={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?r:o},MB=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=SB(t.getContentAreaContainer()),r=TB(t);return{left:e.pageX-n.left+r.left,top:e.pageY-n.top+r.top}}return{left:e.pageX,top:e.pageY}},DB=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},AB=function(t,e){return DB(CB(t),kB(t),MB(t,e))},IB=ao,jB=io,EB=function(t,e){return IB(e)&&e!==t},RB=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!IB(e)},NB=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},PB=function(t,e,n,r){var o=t.dom,i=e.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},BB=function(t,e){t.parentNode!==e&&e.appendChild(t)},LB=function(t,e,n,r,o,i){var a=0,u=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(a=e.pageX+n-o),e.pageY+r>i&&(u=e.pageY+r-i),t.style.width=n-a+"px",t.style.height=r-u+"px"},FB=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},zB=function(t){return 0===t.button},VB=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},HB=function(t,e){return function(n){if(zB(n)){var r=at(e.dom.getParents(n.target),cf(IB,jB)).getOr(null);if(EB(e.getBody(),r)){var o=e.dom.getPos(r),i=e.getBody(),a=e.getDoc().documentElement;t.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(e.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(e.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:PB(e,r,r.offsetWidth,r.offsetHeight)})}}}},UB=function(t,e){var n=Pi.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return e.on("remove",n.stop),function(r){return t.on(function(t){var o=Math.max(Math.abs(r.screenX-t.screenX),Math.abs(r.screenY-t.screenY));if(!t.dragging&&o>10){var i=e.fire("dragstart",{target:t.element});if(i.isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var a=VB(t,AB(e,r));BB(t.ghost,e.getBody()),LB(t.ghost,a,t.width,t.height,t.maxX,t.maxY),n(r.clientX,r.clientY)}})}},WB=function(t){var e=t.getSel().getRangeAt(0),n=e.startContainer;return 3===n.nodeType?n.parentNode:n},GB=function(t,e){return function(n){t.on(function(t){if(t.dragging){if(RB(e,WB(e.selection),t.element)){var r=NB(t.element),o=e.fire("drop",{clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||e.undoManager.transact(function(){FB(t.element),e.insertContent(e.dom.getOuterHTML(r)),e._selectionOverrides.hideFakeCaret()})}e.fire("dragend")}}),YB(t)}},qB=function(t,e){return function(){t.on(function(t){t.dragging&&e.fire("dragend")}),YB(t)}},YB=function(t){t.on(function(t){FB(t.ghost)}),t.clear()},XB=function(t){var e=ll(),n=Fc.DOM,r=document,o=HB(e,t),i=UB(e,t),a=GB(e,t),u=qB(e,t);t.on("mousedown",o),t.on("mousemove",i),t.on("mouseup",a),n.bind(r,"mousemove",i),n.bind(r,"mouseup",u),t.on("remove",function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",u)}),t.on("keydown",function(t){t.keyCode===Qg.ESC&&u()})},$B=function(t){t.on("drop",function(e){var n="undefined"!==typeof e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(IB(n)||"false"===t.dom.getContentEditableParent(n))&&e.preventDefault()})},KB=function(t){var e=function(e){if(!e.isDefaultPrevented()){var n=e.dataTransfer;n&&(K(n.types,"Files")||n.files.length>0)&&(e.preventDefault(),"drop"===e.type&&ED(t,"Dropped file type is not supported"))}},n=function(n){Ky(t,n.target)&&e(n)},r=function(){var r=Fc.DOM,o=t.dom,i=document,a=t.inline?t.getBody():t.getDoc(),u=["drop","dragover"];Q(u,function(t){r.bind(i,t,n),o.bind(a,t,e)}),t.on("remove",function(){Q(u,function(t){r.unbind(i,t,n),o.unbind(a,t,e)})})};t.on("init",function(){Pi.setEditorTimeout(t,r,0)})},ZB=function(t){XB(t),$B(t),Oh(t)&&KB(t)},JB=function(t){var e=fl(function(){if(!t.removed&&t.getBody().contains(document.activeElement)){var e=t.selection.getRng();if(e.collapsed){var n=OI(t,e,!1);t.selection.setRng(n)}}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})},QB=function(t){t.on("init",function(){t.on("focusin",function(e){var n=e.target;if(so(n)){var r=Bg(t.getBody(),n),o=ao(r)?r:n;t.selection.getNode()!==o&&_I(t,o).each(function(e){return t.selection.setRng(e)})}})})},tL=io,eL=ao,nL=function(t,e){return Bg(t.getBody(),e)},rL=function(t){var e,n=t.selection,r=t.dom,o=r.isBlock,i=t.getBody(),a=Yh(t,i,o,function(){return lb(t)}),u="sel-"+r.uniqueId(),s="data-mce-selected",c=function(t){return r.hasClass(t,"mce-offscreen-selection")},l=function(t){return t!==i&&(eL(t)||so(t))&&r.isChildOf(t,i)},f=function(t){return Sx(t)||Cx(t)||xx(t)||_x(t)},d=function(){var t=r.get(u);return t?t.getElementsByTagName("*")[0]:t},h=function(t){t&&n.setRng(t)},p=n.getRng,m=function(e,r,o,i){void 0===i&&(i=!0);var u=t.fire("ShowCaret",{target:r,direction:e,before:o});return u.isDefaultPrevented()?null:(i&&n.scrollIntoView(r,-1===e),a.show(o,r))},g=function(t){t.hasAttribute("data-mce-caret")&&(Da(t),h(p()),n.scrollIntoView(t))},v=function(){t.on("mouseup",function(e){var n=p();n.collapsed&&OD(t,e.clientX,e.clientY)&&wI(t,n,!1).each(h)}),t.on("click",function(e){var o=nL(t,e.target);o&&(eL(o)&&(e.preventDefault(),t.focus()),tL(o)&&r.isChildOf(o,n.getNode())&&C())}),t.on("blur NewBlock",C),t.on("ResizeWindow FullscreenStateChanged",a.reposition);var u=function(t){var e=t.firstChild;if(O(e))return!1;var n=If.before(e);if(ro(n.getNode())&&1===t.childNodes.length)return!f(n);var r=Np(t),o=r.next(n);return o&&!f(o)},s=function(t,e){var n=r.getParent(t,o),i=r.getParent(e,o);return n===i},g=function(e,n){var i=r.getParent(e,o),a=r.getParent(n,o);return!O(i)&&(!(e===a||!r.isChildOf(i,a)||!1!==eL(nL(t,i)))||!r.isChildOf(a,i)&&!s(i,a)&&u(i))};t.on("tap",function(e){var n=e.target,r=nL(t,n);eL(r)?(e.preventDefault(),_I(t,r).each(S)):l(n)&&_I(t,n).each(S)},!0),t.on("mousedown",function(e){var o=e.target;if((o===i||"HTML"===o.nodeName||r.isChildOf(o,i))&&!1!==OD(t,e.clientX,e.clientY)){var a=nL(t,o);if(a)eL(a)?(e.preventDefault(),_I(t,a).each(S)):(C(),tL(a)&&e.shiftKey||Lg(e.clientX,e.clientY,n.getRng())||(T(),n.placeCaretAt(e.clientX,e.clientY)));else if(l(o))_I(t,o).each(S);else if(!1===Kh(o)){C(),T();var u=_E(i,e.clientX,e.clientY);if(u&&!g(o,u.node)){e.preventDefault();var s=m(1,u.node,u.before,!1);h(s),t.getBody().focus()}}}}),t.on("keypress",function(t){Qg.modifierPressed(t)||eL(n.getNode())&&t.preventDefault()}),t.on("GetSelectionRange",function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);n=n.cloneRange(),n.selectNode(e),t.range=n}}),t.on("SetSelectionRange",function(t){t.range=x(t.range);var e=S(t.range,t.forward);e&&(t.range=e)});var v=function(t){return"mcepastebin"===t.id};t.on("AfterSetSelectionRange",function(t){var e=t.range,n=e.startContainer.parentNode;b(e)||v(n)||T(),c(n)||C()}),t.on("copy",function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!tn.ie){var n=d();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText||n.innerText))}}),ZB(t),JB(t),QB(t)},y=function(t){return ba(t)||ka(t)||Ta(t)},b=function(t){return y(t.startContainer)||y(t.endContainer)},x=function(e){var n=t.schema.getShortEndedElements(),o=r.createRng(),i=e.startContainer,a=e.startOffset,u=e.endContainer,s=e.endOffset;return jt(n,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),jt(n,u.nodeName.toLowerCase())?0===s?o.setEndBefore(u):o.setEndAfter(u):o.setEnd(u,s),o},_=function(e,o,i){var a=t.$,s=Ti(xn.fromDom(t.getBody()),"#"+u).fold(function(){return a([])},function(t){return a([t.dom])});0===s.length&&(s=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",u),s.appendTo(t.getBody()));var c=r.createRng();o===i&&tn.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(o),c.setStartAfter(s[0].firstChild.firstChild),c.setEndAfter(o)):(s.empty().append(ca).append(o).append(ca),c.setStart(s[0].firstChild,1),c.setEnd(s[0].lastChild,0)),s.css({top:r.getPos(e,t.getBody()).y}),s[0].focus();var l=n.getSel();return l.removeAllRanges(),l.addRange(c),c},w=function(n){var o=n.cloneNode(!0),i=t.fire("ObjectSelected",{target:n,targetClone:o});if(i.isDefaultPrevented())return null;var a=_(n,i.targetClone,o),u=xn.fromDom(n);return Q(Cl(xn.fromDom(t.getBody()),"*[data-mce-selected]"),function(t){En(u,t)||wo(t,s)}),r.getAttrib(n,s)||n.setAttribute(s,"1"),e=n,T(),a},S=function(t,e){if(!t)return null;if(t.collapsed){if(!b(t)){var n=e?1:-1,o=yp(n,i,t),a=o.getNode(!e);if(Kh(a))return m(n,a,!!e&&!o.isAtEnd(),!1);var u=o.getNode(e);if(Kh(u))return m(n,u,!e&&!o.isAtEnd(),!1)}return null}var s=t.startContainer,c=t.startOffset,f=t.endOffset;if(3===s.nodeType&&0===c&&eL(s.parentNode)&&(s=s.parentNode,c=r.nodeIndex(s),s=s.parentNode),1!==s.nodeType)return null;if(f===c+1&&s===t.endContainer){var d=s.childNodes[c];if(l(d))return w(d)}return null},C=function(){e&&e.removeAttribute(s),Ti(xn.fromDom(t.getBody()),"#"+u).each(kr),e=null},k=function(){a.destroy(),e=null},T=function(){a.hide()};return tn.ceFalse&&!Pk(t)&&v(),{showCaret:m,showBlockCaretContainer:g,hideFakeCaret:T,destroy:k}},oL=function(t){var e=pn.each,n=Qg.BACKSPACE,r=Qg.DELETE,o=t.dom,i=t.selection,a=t.parser,u=tn.gecko,s=tn.ie,c=tn.webkit,l="data:text/mce-internal,",f=s?"Text":"URL",d=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(r){}},h=function(t){return t.isDefaultPrevented()},p=function(e){var n,r;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&i.select(e.target),n=t.selection.getContent(),n.length>0&&(r=l+escape(t.id)+","+escape(n),e.dataTransfer.setData(f,r)))},m=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(f),e&&e.indexOf(l)>=0)?(e=e.substr(l.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},g=function(e,n){t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:e,internal:n}):t.execCommand("mceInsertContent",!1,e)},v=function(){var e=function(t){var e=o.create("body"),n=t.cloneContents();return e.appendChild(n),i.serializer.serialize(e,{format:"html"})},a=function(n){var r=e(n),i=o.createRng();i.selectNode(t.getBody());var a=e(i);return r===a};t.on("keydown",function(e){var i,u,s=e.keyCode;if(!h(e)&&(s===r||s===n)){if(i=t.selection.isCollapsed(),u=t.getBody(),i&&!o.isEmpty(u))return;if(!i&&!a(t.selection.getRng()))return;e.preventDefault(),t.setContent(""),u.firstChild&&o.isBlock(u.firstChild)?t.selection.setCursorLocation(u.firstChild,0):t.selection.setCursorLocation(u,0),t.nodeChanged()}})},y=function(){t.shortcuts.add("meta+a",null,"SelectAll")},b=function(){t.inline||o.bind(t.getDoc(),"mousedown mouseup",function(e){var n;if(e.target===t.getDoc().documentElement)if(n=i.getRng(),t.getBody().focus(),"mousedown"===e.type){if(ba(n.startContainer))return;i.placeCaretAt(e.clientX,e.clientY)}else i.setRng(n)})},x=function(){t.on("keydown",function(e){if(!h(e)&&e.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var r=i.getNode(),a=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void e.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(o.remove(a),e.preventDefault())}}})},_=function(){Range.prototype.getClientRects||t.on("mousedown",function(e){if(!h(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),Pi.setEditorTimeout(t,function(){n.focus()})}})},w=function(){t.on("click",function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),i.select(n))})},O=function(){var n=function(){var n=o.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==t.getBody()&&(o.setAttrib(r,"style",null),e(n,function(t){r.setAttributeNode(t.cloneNode(!0))}))}},r=function(){return!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock)};t.on("keypress",function(e){var o;if(!h(e)&&(8===e.keyCode||46===e.keyCode)&&r())return o=n(),t.getDoc().execCommand("delete",!1,null),o(),e.preventDefault(),!1}),o.bind(t.getDoc(),"cut",function(e){var o;!h(e)&&r()&&(o=n(),Pi.setEditorTimeout(t,function(){o()}))})},S=function(){t.on("keydown",function(t){if(!h(t)&&t.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var e=i.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})},C=function(){t.on("keydown",function(e){var n,r;if(!h(e)&&e.keyCode===Qg.BACKSPACE){n=i.getRng();var a=n.startContainer,u=n.startOffset,s=o.getRoot();if(r=a,n.collapsed&&0===u){while(r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==s)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(t.formatter.toggle("blockquote",null,r),n=o.createRng(),n.setStart(a,0),n.setEnd(a,0),i.setRng(n))}}})},k=function(){var e=function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),Zd(t)||d("enableObjectResizing",!1)};bh(t)||t.on("BeforeExecCommand mousedown",e)},M=function(){var n=function(){e(o.select("a"),function(t){var e=t.parentNode,n=o.getRoot();if(e.lastChild===t){while(e&&!o.isBlock(e)){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}o.add(e,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||n()})},D=function(){Od(t)&&t.on("init",function(){d("DefaultParagraphSeparator",Od(t))})},A=function(){t.on("keyup focusin mouseup",function(t){Qg.modifierPressed(t)||i.normalize()},!0)},I=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},j=function(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})},E=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(e){var n;if("HTML"===e.target.nodeName){if(tn.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}}))},R=function(){tn.mac&&t.on("keydown",function(e){if(Qg.metaKeyPressed(e)&&!e.shiftKey&&(37===e.keyCode||39===e.keyCode)){e.preventDefault();var n=t.selection.getSel();n.modify("move",37===e.keyCode?"backward":"forward","lineboundary")}})},N=function(){d("AutoUrlDetect",!1)},P=function(){t.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},B=function(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(t){t.preventDefault()})})},L=function(){a.addNodeFilter("br",function(t){var e=t.length;while(e--)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})},F=function(){t.on("dragstart",function(t){p(t)}),t.on("drop",function(e){if(!h(e)){var n=m(e);if(n&&n.id!==t.id){e.preventDefault();var r=av(e.x,e.y,t.getDoc());i.setRng(r),g(n.html,!0)}}})},z=T,V=function(){if(!u||t.removed)return!1;var e=t.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount},H=function(){c&&(b(),w(),B(),y(),tn.iOS&&(j(),E(),P())),u&&(_(),k(),I(),R())},U=function(){C(),v(),tn.windowsPhone||A(),c&&(b(),w(),D(),B(),S(),L(),tn.iOS?(j(),E(),P()):y()),tn.ie>=11&&(E(),S()),tn.ie&&(y(),N(),F()),u&&(x(),_(),O(),k(),M(),I(),R(),S())};return Pk(t)?H():U(),{refreshContentEditable:z,isHidden:V}},iL=Fc.DOM,aL=function(t,e){var n=xn.fromDom(t.getBody()),r=hr(dr(n)),o=xn.fromTag("style");vo(o,"type","text/css"),_r(o,xn.fromText(e)),_r(r,o),t.on("remove",function(){kr(o)})},uL=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},sL=function(t){return Mt(t,function(t){return!1===w(t)})},cL=function(t){var e=t.settings,n=t.editorUpload.blobCache;return sL({allow_conditional_comments:e.allow_conditional_comments,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_html_in_named_anchor:e.allow_html_in_named_anchor,allow_script_urls:e.allow_script_urls,allow_unsafe_link_target:e.allow_unsafe_link_target,convert_fonts_to_spans:e.convert_fonts_to_spans,fix_list_elements:e.fix_list_elements,font_size_legacy_values:e.font_size_legacy_values,forced_root_block:e.forced_root_block,forced_root_block_attrs:e.forced_root_block_attrs,padd_empty_with_br:e.padd_empty_with_br,preserve_cdata:e.preserve_cdata,remove_trailing_brs:e.remove_trailing_brs,inline_styles:e.inline_styles,root_name:uL(t),validate:!0,blob_cache:n,document:t.getDoc(),images_dataimg_filter:e.images_dataimg_filter})},lL=function(t){var e=t.settings;return Wt(Wt({},cL(t)),sL({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope,element_format:e.element_format,entities:e.entities,entity_encoding:e.entity_encoding,indent:e.indent,indent_after:e.indent_after,indent_before:e.indent_before,block_elements:e.block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements}))},fL=function(t){var e=iM(cL(t),t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(e,n){var r,o,i=e.length,a=t.dom,u="data-mce-"+n;while(i--)if(r=e[i],o=r.attr(n),o&&!r.attr(u)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=a.serializeStyle(a.parseStyle(o),r.name),o.length||(o=null),r.attr(u,o),r.attr(n,o)):"tabindex"===n?(r.attr(u,o),r.attr(n,null)):r.attr(u,t.convertURL(o,n,r.name))}}),e.addNodeFilter("script",function(t){var e=t.length;while(e--){var n=t[e],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",function(e){var n=e.length;while(n--){var r=e[n];r.type=8,r.name="#comment",r.value="[CDATA["+t.dom.encode(r.value)+"]]"}}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){var n=e.length,r=t.schema.getNonEmptyElements();while(n--){var o=e[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new Tb("br",1)).shortEnded=!0)}}),e},dL=function(t){t.settings.auto_focus&&Pi.setEditorTimeout(t,function(){var e;e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus),e.destroyed||e.focus()},100)},hL=function(t){var e=t.dom.getRoot();t.inline||Og(t)&&t.selection.getStart(!0)!==e||$p(e).each(function(e){var n=e.getNode(),r=Kr(n)?$p(n).getOr(e):e;tn.browser.isIE()?Py(t,r.toRange()):t.selection.setRng(r.toRange())})},pL=function(t){t.bindPendingEventDelegates(),t.initialized=!0,Xg(t),t.focus(!0),hL(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),dL(t)},mL=function(t){return t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader},gL=function(t,e,n){var r=[new Di(function(n,r){return mL(t).loadAll(e,n,r)})];return t.inline?r:r.concat([new Di(function(e,r){return t.ui.styleSheetLoader.loadAll(n,e,r)})])},vL=function(t){var e=mL(t),n=Xd(t),r=t.contentCSS,o=function(){e.unloadAll(r),t.inline||t.ui.styleSheetLoader.unloadAll(n)},i=function(){t.removed?o():t.on("remove",o)};if(t.contentStyles.length>0){var a="";pn.each(t.contentStyles,function(t){a+=t+"\r\n"}),t.dom.addStyle(a)}var u=Di.all(gL(t,r,n)).then(i).catch(i);return t.settings.content_style&&aL(t,t.settings.content_style),u},yL=function(t){var e=t.settings,n=t.getDoc(),r=t.getBody();qg(t),e.browser_spellcheck||e.gecko_spellcheck||(n.body.spellcheck=!1,iL.setAttrib(r,"spellcheck","false")),t.quirks=oL(t),Yg(t);var o=$d(t);void 0!==o&&(r.dir=o),e.protect&&t.on("BeforeSetContent",function(t){pn.each(e.protect,function(e){t.content=t.content.replace(e,function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type})},bL=function(t){Pk(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})},xL=function(t){!0!==t.removed&&(bL(t),pL(t))},_L=function(t,e){var n=t.settings,r=t.getElement(),o=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(o.open(),o.write(t.iframeHTML),o.close()),t.inline&&(iL.addClass(r,"mce-content-body"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);var i=t.getBody();i.disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&"static"===iL.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=t.getParam("content_editable_state",!0)),i.disabled=!1,t.editorUpload=rA(t),t.schema=Fu(n),t.dom=Fc(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:Vd(t),referrerPolicy:Hd(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=fL(t),t.serializer=yM(lL(t),t),t.selection=TT(t.dom,t.getWin(),t.serializer,t),t.annotator=Ng(t),t.formatter=hA(t),t.undoManager=vA(t),t._nodeChangeDispatcher=new vB(t),t._selectionOverrides=rL(t),wR(t),xB(t),Pk(t)||OB(t);var a=gB(t);vR(t,a),MR(t),CA(t);var u=Lk(t);yL(t),u.fold(function(){vL(t).then(function(){return xL(t)})},function(e){t.setProgressState(!0),vL(t).then(function(){e().then(function(e){t.setProgressState(!1),xL(t)},function(e){t.notificationManager.open({type:"error",text:String(e)}),xL(t)})})})},wL=Fc.DOM,OL=function(t,e){if(document.domain!==window.location.hostname&&tn.browser.isIE()){var n=KD("mce");t[n]=function(){_L(t)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return wL.setAttrib(e,"src",r),!0}return!1},SL=function(t,e,n,r){var o=xn.fromTag("iframe");return yo(o,r),yo(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),xl(o,"tox-edit-area__iframe"),o},CL=function(t){var e=vd(t)+"<html><head>";yd(t)!==t.documentBaseUrl&&(e+='<base href="'+t.documentBaseURI.getURI()+'" />'),e+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=bd(t),r=xd(t),o=t.translate(Th(t));return _d(t)&&(e+='<meta http-equiv="Content-Security-Policy" content="'+_d(t)+'" />'),e+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+t.id+'" aria-label="'+o+'"><br></body></html>',e},kL=function(t,e){var n=t.translate("Rich Text Area"),r=SL(t.id,n,e.height,gd(t)).dom;r.onload=function(){r.onload=null,t.fire("load")};var o=OL(t,r);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=r,t.iframeHTML=CL(t),wL.add(e.iframeContainer,r),o},TL=function(t,e){var n=kL(t,e);e.editorContainer&&(wL.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=wL.isHidden(e.editorContainer)),t.getElement().style.display="none",wL.setAttrib(t.id,"aria-hidden","true"),n||_L(t)},ML=Fc.DOM,DL=function(t,e,n){var r=MD.get(n),o=MD.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=pn.trim(n),r&&-1===pn.inArray(e,n)){if(pn.each(MD.dependencies(n),function(n){DL(t,e,n)}),t.plugins[n])return;try{var i=new r(t,o,t.$);t.plugins[n]=i,i.init&&(i.init(t,o),e.push(n))}catch(pV){zD(t,n,pV)}}},AL=function(t){return t.replace(/^\-/,"")},IL=function(t){var e=[];pn.each(_h(t).split(/[ ,]/),function(n){DL(t,e,AL(n))})},jL=function(t){var e=pn.trim(Nd(t)),n=t.ui.registry.getAll().icons,r=Wt(Wt({},hD.get("default").icons),hD.get(e).icons);wt(r,function(e,r){jt(n,r)||t.ui.registry.addIcon(r,e)})},EL=function(t){var e=nh(t);if(v(e)){t.settings.theme=AL(e);var n=DD.get(e);t.theme=new n(t,DD.urls[e]),t.theme.init&&t.theme.init(t,DD.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}},RL=function(t){return t.theme.renderUI()},NL=function(t){var e=t.getElement(),n=nh(t),r=n(t,e);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||t.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||t.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:e.offsetHeight,r},PL=function(t){return{editorContainer:t,iframeContainer:t,api:{}}},BL=function(t){var e=ML.create("div");return ML.insertAfter(e,t),PL(e)},LL=function(t){var e=t.getElement();return t.inline?PL(null):BL(e)},FL=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,v(nh(t))?RL(t):C(nh(t))?NL(t):LL(t)},zL=function(t,e){var n={show:W.from(e.show).getOr(T),hide:W.from(e.hide).getOr(T),disable:W.from(e.disable).getOr(T),isDisabled:W.from(e.isDisabled).getOr(L),enable:function(){t.mode.isReadOnly()||W.from(e.enable).map(B)}};t.ui=Wt(Wt({},t.ui),n)},VL=function(t){t.fire("ScriptsLoaded"),jL(t),EL(t),IL(t);var e=FL(t);zL(t,W.from(e.api).getOr({}));var n={editorContainer:e.editorContainer,iframeContainer:e.iframeContainer};return t.editorContainer=n.editorContainer?n.editorContainer:null,qD(t),t.inline?_L(t):TL(t,n)},HL=Fc.DOM,UL=function(t){return"-"===t.charAt(0)},WL=function(t,e){var n=Ud(e),r=Wd(e);if(!1===ul.hasCode(n)&&"en"!==n){var o=""!==r?r:e.editorManager.baseURL+"/langs/"+n+".js";t.add(o,T,void 0,function(){FD(e,o,n)})}},GL=function(t,e,n,r){var o=nh(e);if(v(o)){if(!UL(o)&&!jt(DD.urls,o)){var i=ch(e);i?DD.load(o,e.documentBaseURI.toAbsolute(i)):DD.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue(function(){DD.waitFor(o,r)})}else r()},qL=function(t){return W.from(Pd(t)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:W.none()}})},YL=function(t,e,n){return W.from(e).filter(function(t){return t.length>0&&!hD.has(t)}).map(function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons"+n+".js",name:W.some(e)}})},XL=function(t,e,n){var r=YL(e,"default",n),o=qL(e).orThunk(function(){return YL(e,Nd(e),"")});Q(lo([r,o]),function(n){t.add(n.url,T,void 0,function(){LD(e,n.url,n.name.getOrUndefined())})})},$L=function(t,e){pn.each(wh(t),function(e,n){MD.load(n,e,T,void 0,function(){BD(t,e,n)}),t.settings.plugins+=" "+n}),pn.each(_h(t).split(/[ ,]/),function(n){if(n=pn.trim(n),n&&!MD.urls[n])if(UL(n)){n=n.substr(1,n.length);var r=MD.dependencies(n);pn.each(r,function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+e+".js"},o=MD.createUrl(r,n);MD.load(o.resource,o,T,void 0,function(){BD(t,o.prefix+o.resource+o.suffix,o.resource)})})}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+e+".js"};MD.load(n,o,T,void 0,function(){BD(t,o.prefix+o.resource+o.suffix,n)})}})},KL=function(t,e){var n=Yc.ScriptLoader;GL(n,t,e,function(){WL(n,t),XL(n,t,e),$L(t,e),n.loadQueue(function(){t.removed||VL(t)},t,function(){t.removed||VL(t)})})},ZL=function(t,e){return Fi.forElement(t,{contentCssCors:xh(e),referrerPolicy:Hd(e)})},JL=function(t){var e=t.id;ul.setCode(Ud(t));var n=function(){HL.unbind(window,"ready",n),t.render()};if(es.Event.domLoaded){if(t.getElement()&&tn.contentEditable){var r=xn.fromDom(t.getElement()),o=Oo(r);t.on("remove",function(){tt(r.dom.attributes,function(t){return wo(r,t.name)}),yo(r,o)}),t.ui.styleSheetLoader=ZL(r,t),lh(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var i=t.getElement().form||HL.getParent(e,"form");i&&(t.formElement=i,fh(t)&&!Jr(t.getElement())&&(HL.insertAfter(HL.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},HL.bind(i,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),!dh(t)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=ID(t),t.notificationManager=TD(t),hh(t)&&t.on("GetContent",function(t){t.save&&(t.content=HL.encode(t.content))}),ph(t)&&t.on("submit",function(){t.initialized&&t.save()}),mh(t)&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),KL(t,t.suffix)}}else HL.bind(window,"ready",n)},QL=function(t,e){return fT(t,e)},tF={"font-size":"size","font-family":"face"},eF=function(t,e,n){var r=function(e){return Mo(e,t).orThunk(function(){return"font"===Bn(e)?It(tF,t).bind(function(t){return xo(e,t)}):W.none()})},o=function(t){return En(xn.fromDom(e),t)};return EO(xn.fromDom(n),function(t){return r(t)},o)},nF=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},rF=function(t,e){return W.from(Fc.DOM.getStyle(e,t,!0))},oF=function(t){return function(e,n){return W.from(n).map(xn.fromDom).filter(Vn).bind(function(n){return eF(t,e,n.dom).or(rF(t,n.dom))}).getOr("")}},iF=oF("font-size"),aF=M(nF,oF("font-family")),uF=function(t){return $p(t.getBody()).map(function(t){var e=t.container();return Qr(e)?e.parentNode:e})},sF=function(t){return W.from(t.selection.getRng()).bind(function(e){var n=t.getBody(),r=e.startContainer===n&&0===e.startOffset;return r?W.none():W.from(t.selection.getStart(!0))})},cF=function(t,e){return sF(t).orThunk(E(uF,t)).map(xn.fromDom).filter(Vn).bind(e)},lF=function(t,e){return cF(t,D(W.some,e))},fF=function(t,e){if(/^[0-9.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var r=Dd(t),o=Ad(t);return o?o[n-1]||e:r[n-1]||e}return e}return e},dF=function(t){var e=t.split(/\s*,\s*/);return J(e,function(t){return-1===t.indexOf(" ")||ce(t,'"')||ce(t,"'")?t:"'"+t+"'"}).join(",")},hF=function(t,e){var n=fF(t,e);t.formatter.toggle("fontname",{value:dF(n)}),t.nodeChanged()},pF=function(t){return lF(t,function(e){return aF(t.getBody(),e.dom)}).getOr("")},mF=function(t,e){t.formatter.toggle("fontsize",{value:fF(t,e)}),t.nodeChanged()},gF=function(t){return lF(t,function(e){return iF(t.getBody(),e.dom)}).getOr("")},vF=function(t){return lF(t,function(e){var n=xn.fromDom(t.getBody()),r=EO(e,function(t){return Mo(t,"line-height")},E(En,n)),o=function(){var t=parseFloat(ko(e,"line-height")),n=parseFloat(ko(e,"font-size"));return String(t/n)};return r.getOrThunk(o)}).getOr("")},yF=function(t,e){t.formatter.toggle("lineheight",{value:String(e)}),t.nodeChanged()},bF=function(t){if("string"!==typeof t){var e=pn.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:e}}return{content:t,details:{}}},xF=function(t,e){var n=bF(e);cT(t,n.content,n.details)},_F=pn.each,wF=pn.map,OF=pn.inArray,SF=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,e,n,r){var o,i=!1,a=this;if(!a.editor.removed){if("mcefocus"!==t.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?Ly(a.editor):a.editor.focus()),r=a.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n}),r.isDefaultPrevented())return!1;var u=t.toLowerCase();if(o=a.commands.exec[u])return o(u,e,n),a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(_F(this.editor.plugins,function(r){if(r.execCommand&&r.execCommand(t,e,n))return a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),i=!0,!1}),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(t,e,n))return a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{i=a.editor.getDoc().execCommand(t,e,n)}catch(s){}return!!i&&(a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(n){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(n){}}},t.prototype.addCommands=function(t,e){void 0===e&&(e="exec");var n=this;_F(t,function(t,r){_F(r.toLowerCase().split(","),function(r){n.commands[e][r]=t})})},t.prototype.addCommand=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,o,i,a){return e.call(n||r.editor,o,i,a)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(e){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||r.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||r.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var e=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":T,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},mceFocus:function(e,n,r){pb(t,r)},"Cut,Copy,Paste":function(n){var r,o=t.getDoc();try{e.execNativeCommand(n)}catch(a){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");tn.mac&&(i=i.replace(/Ctrl\+/g,"+")),t.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),_F("left,center,right,justify".split(","),function(e){r!==e&&t.formatter.remove("align"+e)}),"none"!==r&&e.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;e.execNativeCommand(n);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(e.storeSelection(),t.dom.split(r,o),e.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,r){e.toggleFormat(t,{value:r})},FontName:function(e,n,r){hF(t,r)},FontSize:function(e,n,r){mF(t,r)},LineHeight:function(e,n,r){yF(t,r)},Lang:function(t,n,r){e.toggleFormat(t,{value:r.code,customValue:r.customCode})},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,r){return e.toggleFormat(r||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,r,o){var i=o||t.selection.getNode();i!==t.getBody()&&(e.storeSelection(),t.dom.remove(i,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,r){var o=0;t.dom.getParent(t.selection.getNode(),function(e){if(1===e.nodeType&&o++===r)return t.selection.select(e),!1},t.getBody())},mceSelectNode:function(e,n,r){t.selection.select(r)},mceInsertContent:function(e,n,r){xF(t,r)},mceInsertRawHTML:function(e,n,r){t.selection.setContent("tiny_mce_marker");var o=t.getContent();t.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceInsertNewLine:function(e,n,r){qP(t,r)},mceToggleFormat:function(t,n,r){e.toggleFormat(r)},mceSetContent:function(e,n,r){t.setContent(r)},"Indent,Outdent":function(e){dR(t,e)},mceRepaint:T,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,r){"string"===typeof r&&(r={href:r});var o=t.dom.getParent(t.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||t.formatter.remove("link"),r.href&&t.formatter.apply("link",r,o)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),io);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,r){return DP(t,r),!0}});var n=function(e){return function(){var n=t.selection,r=n.isCollapsed()?[t.dom.getParent(n.getNode(),t.dom.isBlock)]:n.getSelectedBlocks(),o=wF(r,function(n){return!!t.formatter.matchNode(n,e)});return-1!==OF(o,!0)}};e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return sR(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",function(){return pF(t)},this),e.addQueryValueHandler("FontSize",function(){return gF(t)},this),e.addQueryValueHandler("LineHeight",function(){return vF(t)},this)},t}(),CF="data-mce-contenteditable",kF=function(t,e,n){Ol(t,e)&&!1===n?wl(t,e):n&&xl(t,e)},TF=function(t,e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch(r){}},MF=function(t,e){t.dom.contentEditable=e?"true":"false"},DF=function(t){Q(Cl(t,'*[contenteditable="true"]'),function(t){vo(t,CF,"true"),MF(t,!1)})},AF=function(t){Q(Cl(t,"*["+CF+'="true"]'),function(t){wo(t,CF),MF(t,!0)})},IF=function(t){W.from(t.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},jF=function(t){t.selection.setRng(t.selection.getRng())},EF=function(t,e){var n=xn.fromDom(t.getBody());kF(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),IF(t),t.readonly=!0,MF(n,!1),DF(n)):(t.readonly=!1,MF(n,!0),AF(n),TF(t,"StyleWithCSS",!1),TF(t,"enableInlineTableEditing",!1),TF(t,"enableObjectResizing",!1),fb(t)&&t.focus(),jF(t),t.nodeChanged())},RF=function(t){return t.readonly},NF=function(t){t.parser.addAttributeFilter("contenteditable",function(e){RF(t)&&Q(e,function(t){t.attr(CF,t.attr("contenteditable")),t.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(CF,function(e){RF(t)&&Q(e,function(t){t.attr("contenteditable",t.attr(CF))})}),t.serializer.addTempAttr(CF)},PF=function(t){t.serializer?NF(t):t.on("PreInit",function(){NF(t)})},BF=function(t){return"click"===t.type},LF=function(t,e){var n=function(e){return En(e,xn.fromDom(t.getBody()))};return Mi(e,"a",n).bind(function(t){return xo(t,"href")})},FF=function(t,e){if(BF(e)&&!Qg.metaKeyPressed(e)){var n=xn.fromDom(e.target);LF(t,n).each(function(n){if(e.preventDefault(),/^#/.test(n)){var r=t.dom.select(n+',[name="'+ue(n,"#")+'"]');r.length&&t.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},zF=function(t){t.on("ShowCaret",function(e){RF(t)&&e.preventDefault()}),t.on("ObjectSelected",function(e){RF(t)&&e.preventDefault()})},VF=pn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),HF=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||L}return t.isNative=function(t){return!!VF[t.toLowerCase()]},t.prototype.fire=function(t,e){var n=t.toLowerCase(),r=Yu(n,e||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!u.removed){if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}}return r},t.prototype.on=function(t,e,n,r){if(!1===e&&(e=L),e){var o={func:e,removed:!1};r&&pn.extend(o,r);var i=t.toLowerCase().split(" "),a=i.length;while(a--){var u=i[a],s=this.bindings[u];s||(s=[],this.toggleEvent(u,!0)),s=n?qt([o],s,!0):qt(qt([],s,!0),[o],!1),this.bindings[u]=s}}return this},t.prototype.off=function(t,e){var n=this;if(t){var r=t.toLowerCase().split(" "),o=r.length;while(o--){var i=r[o],a=this.bindings[i];if(!i)return wt(this.bindings,function(t,e){n.toggleEvent(e,!1),delete n.bindings[e]}),this;if(a){if(e){var u=et(a,function(t){return t.func===e});a=u.fail,this.bindings[i]=a,Q(u.pass,function(t){t.removed=!0})}else a.length=0;a.length||(this.toggleEvent(t,!1),delete this.bindings[i])}}}else wt(this.bindings,function(t,e){n.toggleEvent(e,!1)}),this.bindings={};return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),UF=function(t){return t._eventDispatcher||(t._eventDispatcher=new HF({scope:t,toggleEvent:function(e,n){HF.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},WF={fire:function(t,e,n){var r=this;if(r.removed&&"remove"!==t&&"detach"!==t)return e;var o=UF(r).fire(t,e);if(!1!==n&&r.parent){var i=r.parent();while(i&&!o.isPropagationStopped())i.fire(t,o,!1),i=i.parent()}return o},on:function(t,e,n){return UF(this).on(t,e,n)},off:function(t,e){return UF(this).off(t,e)},once:function(t,e){return UF(this).once(t,e)},hasEventListeners:function(t){return UF(this).has(t)}},GF=Fc.DOM,qF=function(t,e){if("selectionchange"===e)return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e))return t.getDoc().documentElement;var n=th(t);return n?(t.eventRoot||(t.eventRoot=GF.select(n)[0]),t.eventRoot):t.getBody()},YF=function(t){return!t.hidden&&!RF(t)},XF=function(t,e,n){YF(t)?t.fire(e,n):RF(t)&&FF(t,n)},$F=function(t,e){var n;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed){var r=qF(t,e);if(th(t)){if(Jj||(Jj={},t.editorManager.on("removeEditor",function(){t.editorManager.activeEditor||Jj&&(wt(Jj,function(e,n){t.dom.unbind(qF(t,n))}),Jj=null)})),Jj[e])return;n=function(n){var r=n.target,o=t.editorManager.get(),i=o.length;while(i--){var a=o[i].getBody();(a===r||GF.isChildOf(r,a))&&XF(o[i],e,n)}},Jj[e]=n,GF.bind(r,e,n)}else n=function(n){XF(t,e,n)},GF.bind(r,e,n),t.delegates[e]=n}},KF=Wt(Wt({},WF),{bindPendingEventDelegates:function(){var t=this;pn.each(t._pendingNativeEvents,function(e){$F(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(n.removed||(e?n.initialized?$F(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(qF(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),n=t.dom;t.delegates&&(wt(t.delegates,function(e,n){t.dom.unbind(qF(t,n),n,e)}),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}}),ZF=["design","readonly"],JF=function(t,e,n,r){var o=n[e.get()],i=n[r];try{i.activate()}catch(pV){return void console.error("problem while activating editor mode "+r+":",pV)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&EF(t,i.editorReadOnly),e.set(r),Ug(t,r)},QF=function(t,e,n,r){if(r!==n.get()){if(!jt(e,r))throw new Error("Editor mode '"+r+"' is invalid");t.initialized?JF(t,n,e,r):t.on("init",function(){return JF(t,n,e,r)})}},tz=function(t,e,n){var r;if(K(ZF,e))throw new Error("Cannot override default mode "+e);return Wt(Wt({},t),(r={},r[e]=Wt(Wt({},n),{deactivate:function(){try{n.deactivate()}catch(pV){console.error("problem while deactivating editor mode "+e+":",pV)}}}),r))},ez=function(t){var e=Xc("design"),n=Xc({design:{activate:T,deactivate:T,editorReadOnly:!1},readonly:{activate:T,deactivate:T,editorReadOnly:!0}});return PF(t),zF(t),{isReadOnly:function(){return RF(t)},set:function(r){return QF(t,n.get(),e,r)},get:function(){return e.get()},register:function(t,e){n.set(tz(n.get(),t,e))}}},nz=pn.each,rz=pn.explode,oz={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},iz=pn.makeMap("alt,ctrl,shift,meta,access"),az=function(t){var e,n={};nz(rz(t.toLowerCase(),"+"),function(t){t in iz?n[t]=!0:/^[0-9]{2,}$/.test(t)?n.keyCode=parseInt(t,10):(n.charCode=t.charCodeAt(0),n.keyCode=oz[t]||t.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(e in iz)n[e]?r.push(e):n[e]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,tn.mac?n.ctrl=!0:n.shift=!0),n.meta&&(tn.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},uz=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(nz(e.shortcuts,function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0}),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))})}return t.prototype.add=function(t,e,n,r){var o=this,i=o.normalizeCommandFunc(n);return nz(rz(pn.trim(t)),function(t){var n=o.createShortcut(t,e,i,r);o.shortcuts[n.id]=n}),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.normalizeCommandFunc=function(t){var e=this,n=t;return"string"===typeof n?function(){e.editor.execCommand(n,!1,null)}:pn.isArray(n)?function(){e.editor.execCommand(n[0],n[1],n[2])}:n},t.prototype.createShortcut=function(t,e,n,r){var o=pn.map(rz(t,">"),az);return o[o.length-1]=pn.extend(o[o.length-1],{func:n,scope:r||this.editor}),pn.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&(e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&(e.alt===t.altKey&&e.shift===t.shiftKey&&(!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0))))},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),sz=function(){var t={},e={},n={},r={},o={},i={},a={},u=function(t,e){return function(n,r){return t[n.toLowerCase()]=Wt(Wt({},r),{type:e})}},s=function(t,e){return r[t.toLowerCase()]=e};return{addButton:u(t,"button"),addGroupToolbarButton:u(t,"grouptoolbarbutton"),addToggleButton:u(t,"togglebutton"),addMenuButton:u(t,"menubutton"),addSplitButton:u(t,"splitbutton"),addMenuItem:u(e,"menuitem"),addNestedMenuItem:u(e,"nestedmenuitem"),addToggleMenuItem:u(e,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:s,getAll:function(){return{buttons:t,menuItems:e,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}},cz=function(){var t=sz();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},lz=Fc.DOM,fz=pn.extend,dz=pn.each,hz=pn.resolve,pz=tn.ie,mz=function(){function t(t,e,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,fz(this,KF),this.settings=uD(this,t,this.documentBaseUrl,n.defaultSettings,e),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Yc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Fc.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),sl.languageLoad=this.settings.language_load,sl.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new Lb(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new uz(this),this.editorCommands=new SF(this),this.settings.cache_suffix&&(tn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:cz(),styleSheetLoader:void 0,show:T,hide:T,enable:T,disable:T,isDisabled:L};var o=this,i=ez(o);this.mode=i,this.setMode=i.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Ic.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}return t.prototype.render=function(){JL(this)},t.prototype.focus=function(t){this.execCommand("mceFocus",!1,t)},t.prototype.hasFocus=function(){return lb(this)},t.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o=this,i=o.settings[t];if(i)return o.callbackLookup&&(r=o.callbackLookup[t])&&(i=r.func,r=r.scope),"string"===typeof i&&(r=i.replace(/\.\w+$/,""),r=r?hz(r):0,i=hz(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[t]={func:i,scope:r}),i.apply(r||o,e)},t.prototype.translate=function(t){return ul.translate(t)},t.prototype.getParam=function(t,e,n){return fD(this,t,e,n)},t.prototype.hasPlugin=function(t,e){var n=K(_h(this).split(/[ ,]/),t);return!!n&&(!e||void 0!==MD.get(t))},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},t.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},t.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},t.prototype.addShortcut=function(t,e,n,r){this.shortcuts.add(t,e,n,r)},t.prototype.execCommand=function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(lz.show(t.getContainer()),lz.hide(t.id)),t.load(),t.fire("show"))},t.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(pz&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(lz.hide(t.getContainer()),lz.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},t.prototype.load=function(t){var e,n=this,r=n.getElement();if(n.removed)return"";if(r){t=t||{},t.load=!0;var o=Jr(r)?r.value:r.innerHTML;return e=n.setContent(o,t),t.element=r,t.no_events||n.fire("LoadContent",t),t.element=r=null,e}},t.prototype.save=function(t){var e,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return t=t||{},t.save=!0,t.element=o,e=t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),e=t.content,Jr(o)?o.value=e:(!t.is_removing&&r.inline||(o.innerHTML=e),(n=lz.getParent(r.id,"form"))&&dz(n.elements,function(t){if(t.name===r.id)return t.value=e,!1})),t.element=o=null,!1!==t.set_dirty&&r.setDirty(!1),e},t.prototype.setContent=function(t,e){return _M(this,t,e)},t.prototype.getContent=function(t){return xM(this,t)},t.prototype.insertContent=function(t,e){e&&(t=fz({content:t},e)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){void 0===t?_M(this,this.startContent,{format:"raw"}):_M(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},t.prototype.getContainer=function(){var t=this;return t.container||(t.container=lz.get(t.editorContainer||t.id+"_parent")),t.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=lz.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t,e=this;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},t.prototype.getDoc=function(){var t,e=this;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,e,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",t,n,!0,e):!o.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:o.relative_urls?r.documentBaseURI.toRelative(t):(t=r.documentBaseURI.toAbsolute(t,o.remove_script_host),t)},t.prototype.addVisual=function(t){QL(this,t)},t.prototype.remove=function(){TM(this)},t.prototype.destroy=function(t){MM(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),gz=Fc.DOM,vz=pn.explode,yz=pn.each,bz=pn.extend,xz=0,_z=!1,wz=[],Oz=[],Sz=function(t){return"length"!==t},Cz=function(t){var e=t.type;yz(Az.get(),function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t);break}})},kz=function(t){t!==_z&&(t?Ic(window).on("resize scroll",Cz):Ic(window).off("resize scroll",Cz),_z=t)},Tz=function(t){var e=Oz;delete wz[t.id];for(var n=0;n<wz.length;n++)if(wz[n]===t){wz.splice(n,1);break}return Oz=nt(Oz,function(e){return t!==e}),Az.activeEditor===t&&(Az.activeEditor=Oz.length>0?Oz[0]:null),Az.focusedEditor===t&&(Az.focusedEditor=null),e.length!==Oz.length},Mz=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(Tz(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t},Dz="CSS1Compat"!==document.compatMode,Az=Wt(Wt({},WF),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Ic,majorVersion:"5",minorVersion:"10.4",releaseDate:"2022-04-27",editors:wz,i18n:ul,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,e,n=this,r="";e=Lb.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,r=o.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var u=i[a].src||"";if(""!==u){var s=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==s.indexOf(".min")&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript){u=document.currentScript.src;-1!==u.indexOf(".min")&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}}n.baseURL=new Lb(e).toAbsolute(t),n.documentBaseURL=e,n.baseURI=new Lb(n.baseURL),n.suffix=r,tb(n)},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e);var n=t.suffix;t.suffix&&(this.suffix=n),this.defaultSettings=t;var r=t.plugin_base_urls;void 0!==r&&wt(r,function(t,e){sl.PluginManager.urls[e]=t})},init:function(t){var e,n=this,r=pn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(t,e){return t.inline&&e.tagName.toLowerCase()in r},i=function(t){var e=t.id;return e||(e=It(t,"name").filter(function(t){return!gz.get(t)}).getOrThunk(gz.uniqueId),t.setAttribute("id",e)),e},a=function(e){var r=t[e];if(r)return r.apply(n,[])},u=function(t,e){return e.constructor===RegExp?e.test(t.className):gz.hasClass(t,e)},s=function(t){var e=[];if(tn.browser.isIE()&&tn.browser.version.major<11)return VD("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(Dz)return VD("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return yz(t.types,function(t){e=e.concat(gz.select(t.selector))}),e;if(t.selector)return gz.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var n=t.elements||"";n.length>0&&yz(vz(n),function(t){var n=gz.get(t);n?e.push(n):yz(document.forms,function(n){yz(n.elements,function(n){n.name===t&&(t="mce_editor_"+xz++,gz.setAttrib(n,"id",t),e.push(n))})})});break;case"textareas":case"specific_textareas":yz(gz.select("textarea"),function(n){t.editor_deselector&&u(n,t.editor_deselector)||t.editor_selector&&!u(n,t.editor_selector)||e.push(n)});break}return e},c=function(t){e=t},l=function(){var e,r=0,u=[],f=function(t,o,i){var a=new mz(t,o,n);u.push(a),a.on("init",function(){++r===e.length&&c(u)}),a.targetElm=a.targetElm||i,a.render()};gz.unbind(window,"ready",l),a("onpageload"),e=Ic.unique(s(t)),t.types?yz(t.types,function(n){pn.each(e,function(e){return!gz.is(e,n.selector)||(f(i(e),bz({},t,n),e),!1)})}):(pn.each(e,function(t){Mz(n.get(t.id))}),e=pn.grep(e,function(t){return!n.get(t.id)}),0===e.length?c([]):yz(e,function(e){o(t,e)?VD("Could not initialize inline editor on invalid inline target element",e):f(i(e),t,e)}))};return n.settings=t,gz.bind(window,"ready",l),new Di(function(t){e?t(e):c=function(e){t(e)}})},get:function(t){return 0===arguments.length?Oz.slice(0):v(t)?at(Oz,function(e){return e.id===t}).getOr(null):k(t)&&Oz[t]?Oz[t]:null},add:function(t){var e=this,n=wz[t.id];return n===t?t:(null===e.get(t.id)&&(Sz(t.id)&&(wz[t.id]=t),wz.push(t),Oz.push(t)),kz(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),Qj||(Qj=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",Qj)),t)},createEditor:function(t,e){return this.add(new mz(t,e,this))},remove:function(t){var e,n,r=this;if(t){if(!v(t))return n=t,x(r.get(n.id))?null:(Tz(n)&&r.fire("RemoveEditor",{editor:n}),0===Oz.length&&window.removeEventListener("beforeunload",Qj),n.remove(),kz(Oz.length>0),n);yz(gz.select(t),function(t){n=r.get(t.id),n&&r.remove(n)})}else for(e=Oz.length-1;e>=0;e--)r.remove(Oz[e])},execCommand:function(t,e,n){var r=this,o=r.get(n);switch(t){case"mceAddEditor":return r.get(n)||new mz(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(t,e,n)},triggerSave:function(){yz(Oz,function(t){t.save()})},addI18n:function(t,e){ul.add(t,e)},translate:function(t){return ul.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new Lb(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Lb(this.baseURL)}});Az.setup();var Iz,jz,Ez=Math.min,Rz=Math.max,Nz=Math.round,Pz=function(t,e,n){var r=e.x,o=e.y,i=t.w,a=t.h,u=e.w,s=e.h,c=(n||"").split("");return"b"===c[0]&&(o+=s),"r"===c[1]&&(r+=u),"c"===c[0]&&(o+=Nz(s/2)),"c"===c[1]&&(r+=Nz(u/2)),"b"===c[3]&&(o-=a),"r"===c[4]&&(r-=i),"c"===c[3]&&(o-=Nz(a/2)),"c"===c[4]&&(r-=Nz(i/2)),Vz(r,o,i,a)},Bz=function(t,e,n,r){var o,i;for(i=0;i<r.length;i++)if(o=Pz(t,e,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},Lz=function(t,e,n){return Vz(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},Fz=function(t,e){var n=Rz(t.x,e.x),r=Rz(t.y,e.y),o=Ez(t.x+t.w,e.x+e.w),i=Ez(t.y+t.h,e.y+e.h);return o-n<0||i-r<0?null:Vz(n,r,o-n,i-r)},zz=function(t,e,n){var r=t.x,o=t.y,i=t.x+t.w,a=t.y+t.h,u=e.x+e.w,s=e.y+e.h,c=Rz(0,e.x-r),l=Rz(0,e.y-o),f=Rz(0,i-u),d=Rz(0,a-s);return r+=c,o+=l,n&&(i+=c,a+=l,r-=f,o-=d),i-=f,a-=d,Vz(r,o,i-r,a-o)},Vz=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},Hz=function(t){return Vz(t.left,t.top,t.width,t.height)},Uz={inflate:Lz,relativePosition:Pz,findBestRelativePosition:Bz,intersect:Fz,clamp:zz,create:Vz,fromClientRect:Hz},Wz=function(t,e,n){void 0===n&&(n=1e3);var r=!1,o=null,i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r||(r=!0,null!==o&&(clearTimeout(o),o=null),t.apply(null,e))}},a=i(t),u=i(e),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r||null!==o||(o=setTimeout(function(){return u.apply(null,t)},n))};return{start:s,resolve:a,reject:u}},Gz=function(){var t={},e={},n=function(n,r){var o='Script at URL "'+r+'" failed to load',i='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==t[n])return t[n];var a=new Di(function(t,a){var u=Wz(t,a);e[n]=u.resolve,Yc.ScriptLoader.loadScript(r,function(){return u.start(i)},function(){return u.reject(o)})});return t[n]=a,a},r=function(n,r){void 0!==e[n]&&(e[n](r),delete e[n]),t[n]=Di.resolve(r)};return{load:n,add:r}},qz=Gz(),Yz=pn.each,Xz=pn.extend,$z=function(){};$z.extend=Iz=function(t){var e=this,n=e.prototype,r=function(){var t,e,n,r=this;if(!jz&&(r.init&&r.init.apply(r,arguments),e=r.Mixins,e)){t=e.length;while(t--)n=e[t],n.init&&n.init.apply(r,arguments)}},o=function(){return this},i=function(t,e){return function(){var r=this,o=r._super;r._super=n[t];var i=e.apply(r,arguments);return r._super=o,i}};jz=!0;var a=new e;return jz=!1,t.Mixins&&(Yz(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),n.Mixins&&(t.Mixins=n.Mixins.concat(t.Mixins))),t.Methods&&Yz(t.Methods.split(","),function(e){t[e]=o}),t.Properties&&Yz(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e=this;return void 0!==t?(e[n]=t,e):e[n]}}),t.Statics&&Yz(t.Statics,function(t,e){r[e]=t}),t.Defaults&&n.Defaults&&(t.Defaults=Xz({},n.Defaults,t.Defaults)),wt(t,function(t,e){"function"===typeof t&&n[e]?a[e]=i(e,t):a[e]=t}),r.prototype=a,r.constructor=r,r.extend=Iz,r};var Kz,Zz=Math.min,Jz=Math.max,Qz=Math.round,tV=function(t){var e={},n=0,r=0,o=0,i=function(t,e,n){var r,o,i;r=0,o=0,i=0,t/=255,e/=255,n/=255;var a=Zz(t,Zz(e,n)),u=Jz(t,Jz(e,n));if(a===u)return i=a,{h:0,s:0,v:100*i};var s=t===a?e-n:n===a?t-e:n-t;return r=t===a?3:n===a?1:5,r=60*(r-s/(u-a)),o=(u-a)/u,i=u,{h:Qz(r),s:Qz(100*o),v:Qz(100*i)}},a=function(t,e,i){if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,i=parseInt(i,10)/100,e=Jz(0,Zz(e,1)),i=Jz(0,Zz(i,1)),0!==e){var a=t/60,u=i*e,s=u*(1-Math.abs(a%2-1)),c=i-u;switch(Math.floor(a)){case 0:n=u,r=s,o=0;break;case 1:n=s,r=u,o=0;break;case 2:n=0,r=u,o=s;break;case 3:n=0,r=s,o=u;break;case 4:n=s,r=0,o=u;break;case 5:n=u,r=0,o=s;break;default:n=r=o=0}n=Qz(255*(n+c)),r=Qz(255*(r+c)),o=Qz(255*(o+c))}else n=r=o=Qz(255*i)},u=function(){var t=function(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t};return"#"+t(n)+t(r)+t(o)},s=function(){return{r:n,g:r,b:o}},c=function(){return i(n,r,o)},l=function(t){var i;return"object"===typeof t?"r"in t?(n=t.r,r=t.g,o=t.b):"v"in t&&a(t.h,t.s,t.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,e};return t&&l(t),e.toRgb=s,e.toHsv=c,e.toHex=u,e.parse=l,e},eV=function(t){var e=JSON.stringify(t);return v(e)?e.replace(/[\u0080-\uFFFF]/g,function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e}):e},nV={serialize:eV,parse:function(t){try{return JSON.parse(t)}catch(e){}}},rV={callbacks:{},count:0,send:function(t){var e=this,n=Fc.DOM,r=void 0!==t.count?t.count:e.count,o="tinymce_jsonp_"+r;e.callbacks[r]=function(i){n.remove(o),delete e.callbacks[r],t.callback(i)},n.add(n.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),e.count++}},oV=Wt(Wt({},WF),{send:function(t){var e,n=0,r=function(){!t.async||4===e.readyState||n++>1e4?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,n>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):Pi.setTimeout(r,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",oV.fire("beforeInitialize",{settings:t}),e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&pn.each(t.requestheaders,function(t){e.setRequestHeader(t.key,t.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e=oV.fire("beforeSend",{xhr:e,settings:t}).xhr,e.send(t.data),!t.async)return r();Pi.setTimeout(r,10)}}),iV=pn.extend,aV=function(){function t(t){this.settings=iV({},t),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(t){var e=t.error,n=t.success,r=iV(this.settings,t);r.success=function(t,o){t=nV.parse(t),"undefined"===typeof t&&(t={error:"JSON Parse error."}),t.error?e.call(r.error_scope||r.scope,t.error,o):n.call(r.success_scope||r.scope,t.result)},r.error=function(t,n){e&&e.call(r.error_scope||r.scope,t,n)},r.data=nV.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",oV.send(r)},t}(),uV=function(){return function(){var t={},e=[],n={getItem:function(e){var n=t[e];return n||null},setItem:function(n,r){e.push(n),t[n]=String(r)},key:function(t){return e[t]},removeItem:function(n){e=e.filter(function(t){return t===n}),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()};try{var sV="__storage_test__";Kz=window.localStorage,Kz.setItem(sV,sV),Kz.removeItem(sV)}catch(pV){Kz=uV()}var cV=Kz,lV={geom:{Rect:Uz},util:{Promise:Di,Delay:Pi,Tools:pn,VK:Qg,URI:Lb,Class:$z,EventDispatcher:HF,Observable:WF,I18n:ul,XHR:oV,JSON:nV,JSONRequest:aV,JSONP:rV,LocalStorage:cV,Color:tV,ImageUploader:eA},dom:{EventUtils:es,Sizzle:Fs,DomQuery:Ic,TreeWalker:zi,TextSeeker:Yl,DOMUtils:Fc,ScriptLoader:Yc,RangeUtils:wv,Serializer:yM,StyleSheetLoader:Bi,ControlSelection:ev,BookmarkManager:Pg,Selection:TT,Event:es.Event},html:{Styles:Vu,Entities:Mu,Node:Tb,Schema:Fu,SaxParser:Gb,DomParser:iM,Writer:nx,Serializer:rx},Env:tn,AddOnManager:sl,Annotator:Ng,Formatter:hA,UndoManager:vA,EditorCommands:SF,WindowManager:ID,NotificationManager:TD,EditorObservable:KF,Shortcuts:uz,Editor:mz,FocusManager:zy,EditorManager:Az,DOM:Fc.DOM,ScriptLoader:Yc.ScriptLoader,PluginManager:MD,ThemeManager:DD,IconManager:hD,Resource:qz,trim:pn.trim,isArray:pn.isArray,is:pn.is,toArray:pn.toArray,makeMap:pn.makeMap,each:pn.each,map:pn.map,grep:pn.grep,inArray:pn.inArray,extend:pn.extend,create:pn.create,walk:pn.walk,createNS:pn.createNS,resolve:pn.resolve,explode:pn.explode,_addCacheSuffix:pn._addCacheSuffix,isOpera:tn.opera,isWebKit:tn.webkit,isIE:tn.ie,isGecko:tn.gecko,isMac:tn.mac},fV=pn.extend(Az,lV),dV=function(e){try{t.exports=e}catch(n){}},hV=function(t){window.tinymce=t,window.tinyMCE=t};hV(fV),dV(fV)})()}).call(this,n("c8ba"))},e600:function(t,e,n){"use strict";var r=n("6d8b"),o=n("edae"),i=n("b7d9"),a={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},u=function(){function t(t){var e=this._condVal=Object(r["isString"])(t)?new RegExp(t):Object(r["isRegExp"])(t)?t:null;if(null==e){var n="";0,Object(o["c"])(n)}}return t.prototype.evaluate=function(t){var e=typeof t;return Object(r["isString"])(e)?this._condVal.test(t):!!Object(r["isNumber"])(e)&&this._condVal.test(t+"")},t}(),s=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),c=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),l=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),f=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),d=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),r=t?this.valueParser(n):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?r:n))return!1;return!0},t}();function h(t,e){if(!0===t||!1===t){var n=new s;return n.value=t,n}var r="";return v(t)||Object(o["c"])(r),t.and?p("and",t,e):t.or?p("or",t,e):t.not?m(t,e):g(t,e)}function p(t,e,n){var i=e[t],a="";Object(r["isArray"])(i)||Object(o["c"])(a),i.length||Object(o["c"])(a);var u="and"===t?new c:new l;return u.children=Object(r["map"])(i,function(t){return h(t,n)}),u.children.length||Object(o["c"])(a),u}function m(t,e){var n=t.not,r="";v(n)||Object(o["c"])(r);var i=new f;return i.child=h(n,e),i.child||Object(o["c"])(r),i}function g(t,e){for(var n="",s=e.prepareGetValue(t),c=[],l=Object(r["keys"])(t),f=t.parser,h=f?Object(i["c"])(f):null,p=0;p<l.length;p++){var m=l[p];if("parser"!==m&&!e.valueGetterAttrMap.get(m)){var g=Object(r["hasOwn"])(a,m)?a[m]:m,v=t[m],y=h?h(v):v,b=Object(i["b"])(g,y)||"reg"===g&&new u(y);b||Object(o["c"])(n),c.push(b)}}c.length||Object(o["c"])(n);var x=new d;return x.valueGetterParam=s,x.valueParser=h,x.getValue=e.getValue,x.subCondList=c,x}function v(t){return Object(r["isObject"])(t)&&!Object(r["isArrayLike"])(t)}var y=function(){function t(t,e){this._cond=h(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function b(t,e){return new y(t,e)}var x={type:"echarts:filter",transform:function(t){for(var e,n=t.upstream,i=b(t.config,{valueGetterAttrMap:Object(r["createHashMap"])({dimension:!0}),prepareGetValue:function(t){var e="",i=t.dimension;Object(r["hasOwn"])(t,"dimension")||Object(o["c"])(e);var a=n.getDimensionInfo(i);return a||Object(o["c"])(e),{dimIdx:a.index}},getValue:function(t){return n.retrieveValueFromItem(e,t.dimIdx)}}),a=[],u=0,s=n.count();u<s;u++)e=n.getRawDataItem(u),i.evaluate()&&a.push(e);return{data:a}}},_=n("07fd"),w=n("e0d3");var O={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,a="",u=Object(w["r"])(n);u.length||Object(o["c"])(a);var s=[];Object(r["each"])(u,function(t){var n=t.dimension,r=t.order,u=t.parser,c=t.incomparable;if(null==n&&Object(o["c"])(a),"asc"!==r&&"desc"!==r&&Object(o["c"])(a),c&&"min"!==c&&"max"!==c){var l="";0,Object(o["c"])(l)}if("asc"!==r&&"desc"!==r){var f="";0,Object(o["c"])(f)}var d=e.getDimensionInfo(n);d||Object(o["c"])(a);var h=u?Object(i["c"])(u):null;u&&!h&&Object(o["c"])(a),s.push({dimIdx:d.index,parser:h,comparator:new i["a"](r,c)})});var c=e.sourceFormat;c!==_["c"]&&c!==_["e"]&&Object(o["c"])(a);for(var l=[],f=0,d=e.count();f<d;f++)l.push(e.getRawDataItem(f));return l.sort(function(t,n){for(var r=0;r<s.length;r++){var o=s[r],i=e.retrieveValueFromItem(t,o.dimIdx),a=e.retrieveValueFromItem(n,o.dimIdx);o.parser&&(i=o.parser(i),a=o.parser(a));var u=o.comparator.evaluate(i,a);if(0!==u)return u}return 0}),{data:l}}};function S(t){t.registerTransform(x),t.registerTransform(O)}n.d(e,"a",function(){return S})},e86a:function(t,e,n){"use strict";n.d(e,"f",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"g",function(){return h}),n.d(e,"c",function(){return p});var r=n("9850"),o=n("d51b"),i=n("726e"),a={};function u(t,e){e=e||i["a"];var n=a[e];n||(n=a[e]=new o["a"](500));var r=n.get(t);return null==r&&(r=i["d"].measureText(t,e).width,n.put(t,r)),r}function s(t,e,n,o){var i=u(t,e),a=d(e),s=l(0,i,n),c=f(0,a,o),h=new r["a"](s,c,i,a);return h}function c(t,e,n,o){var i=((t||"")+"").split("\n"),a=i.length;if(1===a)return s(i[0],e,n,o);for(var u=new r["a"](0,0,0,0),c=0;c<i.length;c++){var l=s(i[c],e,n,o);0===c?u.copy(l):u.union(l)}return u}function l(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function f(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function d(t){return u("",t)}function h(t,e){return"string"===typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function p(t,e,n){var r=e.position||"inside",o=null!=e.distance?e.distance:5,i=n.height,a=n.width,u=i/2,s=n.x,c=n.y,l="left",f="top";if(r instanceof Array)s+=h(r[0],n.width),c+=h(r[1],n.height),l=null,f=null;else switch(r){case"left":s-=o,c+=u,l="right",f="middle";break;case"right":s+=o+a,c+=u,f="middle";break;case"top":s+=a/2,c-=o,l="center",f="bottom";break;case"bottom":s+=a/2,c+=i+o,l="center";break;case"inside":s+=a/2,c+=u,l="center",f="middle";break;case"insideLeft":s+=o,c+=u,f="middle";break;case"insideRight":s+=a-o,c+=u,l="right",f="middle";break;case"insideTop":s+=a/2,c+=o,l="center";break;case"insideBottom":s+=a/2,c+=i-o,l="center",f="bottom";break;case"insideTopLeft":s+=o,c+=o;break;case"insideTopRight":s+=a-o,c+=o,l="right";break;case"insideBottomLeft":s+=o,c+=i-o,f="bottom";break;case"insideBottomRight":s+=a-o,c+=i-o,l="right",f="bottom";break}return t=t||{},t.x=s,t.y=c,t.align=l,t.verticalAlign=f,t}},e887:function(t,e,n){"use strict";var r=n("6d8b"),o=n("2dc5"),i=n("8918"),a=n("625e"),u=n("e0d3"),s=n("7d6c"),c=n("9fbc"),l=n("cccd"),f=n("2306"),d=u["o"](),h=Object(l["a"])(),p=function(){function t(){this.group=new o["a"],this.uid=i["c"]("viewChart"),this.renderTask=Object(c["a"])({plan:v,reset:y}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){0},t.prototype.highlight=function(t,e,n,r){var o=t.getData(r&&r.dataType);o&&g(o,r,"emphasis")},t.prototype.downplay=function(t,e,n,r){var o=t.getData(r&&r.dataType);o&&g(o,r,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.eachRendered=function(t){Object(f["traverseElements"])(this.group,t)},t.markUpdateMethod=function(t,e){d(t).updateMethod=e},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function m(t,e,n){t&&Object(s["y"])(t)&&("emphasis"===e?s["r"]:s["C"])(t,n)}function g(t,e,n){var o=u["u"](t,e),i=e&&null!=e.highlightKey?Object(s["v"])(e.highlightKey):null;null!=o?Object(r["each"])(u["r"](o),function(e){m(t.getItemGraphicEl(e),n,i)}):t.eachItemGraphicEl(function(t){m(t,n,i)})}function v(t){return h(t.model)}function y(t){var e=t.model,n=t.ecModel,r=t.api,o=t.payload,i=e.pipelineContext.progressiveRender,a=t.view,u=o&&d(o).updateMethod,s=i?"incrementalPrepareRender":u&&a[u]?u:"render";return"render"!==s&&a[s](e,n,r,o),b[s]}a["b"](p,["dispose"]),a["c"](p);var b={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};e["a"]=p},eaea:function(t,e,n){"use strict";var r=n("7fae"),o=n("6d8b"),i=n("60e3"),a=n("5f14"),u=n("2b8c"),s=n("e0d3"),c=n("3842"),l=n("6cb7"),f=a["a"].mapVisual,d=a["a"].eachVisual,h=o["isArray"],p=o["each"],m=c["c"],g=c["l"],v=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return Object(r["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&u["d"](n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=o["bind"](t,this),this.controllerVisuals=u["b"](this.option.controller,e,t),this.targetVisuals=u["b"](this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=s["r"](t),e},e.prototype.eachTargetSeries=function(t,e){o["each"](this.getTargetSeriesIndices(),function(n){var r=this.ecModel.getSeriesByIndex(n);r&&t.call(e,r)},this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},e.prototype.formatValueText=function(t,e,n){var r,i=this.option,a=i.precision,u=this.dataBound,s=i.formatter;n=n||["<",">"],o["isArray"](t)&&(t=t.slice(),r=!0);var c=e?t:r?[l(t[0]),l(t[1])]:l(t);return o["isString"](s)?s.replace("{value}",r?c[0]:c).replace("{value2}",r?c[1]:c):o["isFunction"](s)?r?s(t[0],t[1]):s(t):r?t[0]===u[0]?n[0]+" "+c[1]:t[1]===u[1]?n[1]+" "+c[0]:c[0]+" - "+c[1]:c;function l(t){return t===u[0]?"min":t===u[1]?"max":(+t).toFixed(Math.min(a,20))}},e.prototype.resetExtent=function(){var t=this.option,e=m([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,r=n.length-1;r>=0;r--){var o=n[r],i=t.getDimensionInfo(o);if(!i.isCalculationCoord)return i.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},r=e.target||(e.target={}),u=e.controller||(e.controller={});o["merge"](r,n),o["merge"](u,n);var s=this.isCategory();function c(n){h(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}function l(t,e,n){var r=t[e],o=t[n];r&&!o&&(o=t[n]={},p(r,function(t,e){if(a["a"].isValidType(e)){var n=i["a"].get(e,"inactive",s);null!=n&&(o[e]=n,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}}))}function m(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,r=this.get("inactiveColor"),i=this.getItemSymbol(),a=i||"roundRect";p(this.stateList,function(i){var u=this.itemSize,c=t[i];c||(c=t[i]={color:s?r:[r]}),null==c.symbol&&(c.symbol=e&&o["clone"](e)||(s?a:[a])),null==c.symbolSize&&(c.symbolSize=n&&o["clone"](n)||(s?u[0]:[u[0],u[0]])),c.symbol=f(c.symbol,function(t){return"none"===t?a:t});var l=c.symbolSize;if(null!=l){var h=-1/0;d(l,function(t){t>h&&(h=t)}),c.symbolSize=f(l,function(t){return g(t,[0,h],[0,u[0]],!0)})}},this)}c.call(this,r),c.call(this,u),l.call(this,r,"inRange","outOfRange"),m.call(this,u)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(l["a"]);e["a"]=v},ec6f:function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"d",function(){return d}),n.d(e,"f",function(){return v});var r=n("6d8b"),o=n("07fd"),i=n("e0d3"),a=n("0f99"),u=function(){function t(t){this.data=t.data||(t.sourceFormat===o["d"]?{}:[]),this.sourceFormat=t.sourceFormat||o["h"],this.seriesLayoutBy=t.seriesLayoutBy||o["a"],this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var r=e[n];null==r.type&&Object(a["b"])(this,n)===a["a"].Must&&(r.type="ordinal")}}return t}();function s(t){return t instanceof u}function c(t,e,n){n=n||d(t);var o=e.seriesLayoutBy,i=h(t,n,o,e.sourceHeader,e.dimensions),a=new u({data:t,sourceFormat:n,seriesLayoutBy:o,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Object(r["clone"])(e)});return a}function l(t){return new u({data:t,sourceFormat:Object(r["isTypedArray"])(t)?o["g"]:o["f"]})}function f(t){return new u({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Object(r["clone"])(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function d(t){var e=o["h"];if(Object(r["isTypedArray"])(t))e=o["g"];else if(Object(r["isArray"])(t)){0===t.length&&(e=o["c"]);for(var n=0,i=t.length;n<i;n++){var a=t[n];if(null!=a){if(Object(r["isArray"])(a)){e=o["c"];break}if(Object(r["isObject"])(a)){e=o["e"];break}}}}else if(Object(r["isObject"])(t))for(var u in t)if(Object(r["hasOwn"])(t,u)&&Object(r["isArrayLike"])(t[u])){e=o["d"];break}return e}function h(t,e,n,a,u){var s,c;if(!t)return{dimensionsDefine:m(u),startIndex:c,dimensionsDetectedCount:s};if(e===o["c"]){var l=t;"auto"===a||null==a?g(function(t){null!=t&&"-"!==t&&(Object(r["isString"])(t)?null==c&&(c=1):c=0)},n,l,10):c=Object(r["isNumber"])(a)?a:a?1:0,u||1!==c||(u=[],g(function(t,e){u[e]=null!=t?t+"":""},n,l,1/0)),s=u?u.length:n===o["b"]?l.length:l[0]?l[0].length:null}else if(e===o["e"])u||(u=p(t));else if(e===o["d"])u||(u=[],Object(r["each"])(t,function(t,e){u.push(e)}));else if(e===o["f"]){var f=Object(i["h"])(t[0]);s=Object(r["isArray"])(f)&&f.length||1}else o["g"];return{startIndex:c,dimensionsDefine:m(u),dimensionsDetectedCount:s}}function p(t){var e,n=0;while(n<t.length&&!(e=t[n++]));if(e){var o=[];return Object(r["each"])(e,function(t,e){o.push(e)}),o}}function m(t){if(t){var e=Object(r["createHashMap"])();return Object(r["map"])(t,function(t,n){t=Object(r["isObject"])(t)?t:{name:t};var o={name:t.name,displayName:t.displayName,type:t.type};if(null==o.name)return o;o.name+="",null==o.displayName&&(o.displayName=o.name);var i=e.get(o.name);return i?o.name+="-"+i.count++:e.set(o.name,{count:1}),o})}}function g(t,e,n,r){if(e===o["b"])for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else{var a=n[0]||[];for(i=0;i<a.length&&i<r;i++)t(a[i],i)}}function v(t){var e=t.sourceFormat;return e===o["e"]||e===o["d"]}},eda2:function(t,e,n){"use strict";var r=n("6d8b"),o=n("3842"),i=n("f876"),a=n("d409"),u=n("76a5");function s(t,e,n,r,o,i,a,s){var c=new u["a"]({style:{text:t,font:e,align:n,verticalAlign:r,padding:o,rich:i,overflow:a?"truncate":null,lineHeight:s}});return c.getBoundingRect()}function c(t){if(!Object(o["j"])(t))return r["isString"](t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function l(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}n.d(e,"a",function(){return c}),n.d(e,"l",function(){return l}),n.d(e,"k",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"j",function(){return m}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"i",function(){return x}),n.d(e,"e",function(){return _}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return O}),n.d(e,"n",function(){return S}),n.d(e,"m",function(){return a["c"]}),n.d(e,"h",function(){return s});var f=r["normalizeCssArray"],d=/([&<>"'])/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function p(t){return null==t?"":(t+"").replace(d,function(t,e){return h[e]})}function m(t,e,n){var a="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function u(t){return t&&r["trim"](t)?t:"-"}function s(t){return!(null==t||isNaN(t)||!isFinite(t))}var l="time"===e,f=t instanceof Date;if(l||f){var d=l?Object(o["o"])(t):t;if(!isNaN(+d))return Object(i["h"])(d,a,n);if(f)return"-"}if("ordinal"===e)return r["isStringSafe"](t)?u(t):r["isNumber"](t)&&s(t)?t+"":"-";var h=Object(o["n"])(t);return s(h)?c(h):r["isStringSafe"](t)?u(t):"boolean"===typeof t?t+"":"-"}var g=["a","b","c","d","e","f","g"],v=function(t,e){return"{"+t+(null==e?"":e)+"}"};function y(t,e,n){r["isArray"](e)||(e=[e]);var o=e.length;if(!o)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var u=g[a];t=t.replace(v(u),v(u,0))}for(var s=0;s<o;s++)for(var c=0;c<i.length;c++){var l=e[s][i[c]];t=t.replace(v(g[c],s),n?p(l):l)}return t}function b(t,e,n){return r["each"](e,function(e,r){t=t.replace("{"+r+"}",n?p(e):e)}),t}function x(t,e){var n=r["isString"](t)?{color:t,extraCssText:e}:t||{},o=n.color,i=n.type;e=n.extraCssText;var a=n.renderMode||"html";if(!o)return"";if("html"===a)return"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+p(o)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+p(o)+";"+(e||"")+'"></span>';var u=n.markerId||"markerX";return{renderMode:a,content:"{"+u+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function _(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=Object(o["o"])(e),a=n?"getUTC":"get",u=r[a+"FullYear"](),s=r[a+"Month"]()+1,c=r[a+"Date"](),l=r[a+"Hours"](),f=r[a+"Minutes"](),d=r[a+"Seconds"](),h=r[a+"Milliseconds"]();return t=t.replace("MM",Object(i["y"])(s,2)).replace("M",s).replace("yyyy",u).replace("yy",u%100+"").replace("dd",Object(i["y"])(c,2)).replace("d",c).replace("hh",Object(i["y"])(l,2)).replace("h",l).replace("mm",Object(i["y"])(f,2)).replace("m",f).replace("ss",Object(i["y"])(d,2)).replace("s",d).replace("SSS",Object(i["y"])(h,3)),t}function w(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function O(t,e){return e=e||"transparent",r["isString"](t)?t:r["isObject"](t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function S(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}},edae:function(t,e,n){"use strict";n.d(e,"d",function(){return u}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return l});var r="[ECharts] ",o={},i="undefined"!==typeof console&&console.warn&&console.log;function a(t,e,n){if(i){if(n){if(o[e])return;o[e]=!0}console[t](r+e)}}function u(t,e){a("warn",t,e)}function s(t,e){a("error",t,e)}function c(t){0}function l(t){throw new Error(t)}},ee1a:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return s});var r=n("6d8b"),o=n("80b9");function i(t,e,n){n=n||{};var o,i,u,s=n.byIndex,c=n.stackedCoordDimension;a(e)?o=e:(i=e.schema,o=i.dimensions,u=e.store);var l,f,d,h,p=!(!t||!t.get("stack"));if(Object(r["each"])(o,function(t,e){Object(r["isString"])(t)&&(o[e]=t={name:t}),p&&!t.isExtraCoord&&(s||l||!t.ordinalMeta||(l=t),f||"ordinal"===t.type||"time"===t.type||c&&c!==t.coordDim||(f=t))}),!f||s||l||(s=!0),f){d="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var m=f.coordDim,g=f.type,v=0;Object(r["each"])(o,function(t){t.coordDim===m&&v++});var y={name:d,coordDim:m,coordDimIndex:v,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},b={name:h,coordDim:h,coordDimIndex:v+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};i?(u&&(y.storeDimIndex=u.ensureCalculationDimension(h,g),b.storeDimIndex=u.ensureCalculationDimension(d,g)),i.appendCalculationDimension(y),i.appendCalculationDimension(b)):(o.push(y),o.push(b))}return{stackedDimension:f&&f.name,stackedByDimension:l&&l.name,isStackedByIndex:s,stackedOverDimension:h,stackResultDimension:d}}function a(t){return!Object(o["d"])(t.schema)}function u(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function s(t,e){return u(t,e)?t.getCalculationInfo("stackResultDimension"):e}},ee29:function(t,e,n){"use strict";var r=n("e0d3"),o=n("9850"),i=n("deab"),a=n("861c"),u=n("3842"),s=n("8582"),c=n("89b6"),l=n("6d8b"),f=n("2355"),d=n("7837");function h(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function p(t,e){var n=t.label,r=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:h(r&&r.shape.points)}}var m=["align","verticalAlign","width","height","fontSize"],g=new s["c"],v=Object(r["o"])(),y=Object(r["o"])();function b(t,e,n){for(var r=0;r<n.length;r++){var o=n[r];null!=e[o]&&(t[o]=e[o])}}var x=["x","y","rotation"],_=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,r,i){var a=r.style,u=r.__hostTarget,s=u.textConfig||{},c=r.getComputedTransform(),l=r.getBoundingRect().plain();o["a"].applyTransform(l,l,c),c?g.setLocalTransform(c):(g.x=g.y=g.rotation=g.originX=g.originY=0,g.scaleX=g.scaleY=1);var f,d=r.__hostTarget;if(d){f=d.getBoundingRect().plain();var h=d.getComputedTransform();o["a"].applyTransform(f,f,h)}var p=f&&d.getTextGuideLine();this._labelList.push({label:r,labelLine:p,seriesModel:n,dataIndex:t,dataType:e,layoutOption:i,computedLayoutOption:null,rect:l,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:p&&p.ignore,x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY,rotation:g.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get("labelLayout");(Object(l["isFunction"])(r)||Object(l["keys"])(r).length)&&t.group.traverse(function(t){if(t.ignore)return!0;var o=t.getTextContent(),i=Object(a["a"])(t);o&&!o.disableLabelLayout&&e._addLabel(i.dataIndex,i.dataType,n,o,r)})},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(t,e){return function(){Object(c["e"])(t,e)}}for(var o=0;o<this._labelList.length;o++){var i=this._labelList[o],a=i.label,s=a.__hostTarget,f=i.defaultAttr,d=void 0;d=Object(l["isFunction"])(i.layoutOption)?i.layoutOption(p(i,s)):i.layoutOption,d=d||{},i.computedLayoutOption=d;var h=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=d.x||null!=d.y?null:f.attachedPos,rotation:null!=d.rotate?d.rotate*h:f.attachedRot,offset:[d.dx||0,d.dy||0]});var g=!1;if(null!=d.x?(a.x=Object(u["p"])(d.x,e),a.setStyle("x",0),g=!0):(a.x=f.x,a.setStyle("x",f.style.x)),null!=d.y?(a.y=Object(u["p"])(d.y,n),a.setStyle("y",0),g=!0):(a.y=f.y,a.setStyle("y",f.style.y)),d.labelLinePoints){var y=s.getTextGuideLine();y&&(y.setShape({points:d.labelLinePoints}),g=!1)}var b=v(a);b.needsUpdateLabelLine=g,a.rotation=null!=d.rotate?d.rotate*h:f.rotation,a.scaleX=f.scaleX,a.scaleY=f.scaleY;for(var x=0;x<m.length;x++){var _=m[x];a.setStyle(_,null!=d[_]?d[_]:f.style[_])}if(d.draggable){if(a.draggable=!0,a.cursor="move",s){var w=i.seriesModel;if(null!=i.dataIndex){var O=i.seriesModel.getData(i.dataType);w=O.getItemModel(i.dataIndex)}a.on("drag",r(s,w.getModel("labelLine")))}}else a.off("drag"),a.cursor=f.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),r=Object(f["b"])(this._labelList),o=Object(l["filter"])(r,function(t){return"shiftX"===t.layoutOption.moveOverlap}),i=Object(l["filter"])(r,function(t){return"shiftY"===t.layoutOption.moveOverlap});Object(f["c"])(o,0,e),Object(f["d"])(i,0,n);var a=Object(l["filter"])(r,function(t){return t.layoutOption.hideOverlap});Object(f["a"])(a)},t.prototype.processLabelsOverall=function(){var t=this;Object(l["each"])(this._chartViewList,function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,o=n.isAnimationEnabled();e.group.traverse(function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var i=!r,a=e.getTextContent();!i&&a&&(i=v(a).needsUpdateLabelLine),i&&t._updateLabelLine(e,n),o&&t._animateLabels(e,n)})})},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=Object(a["a"])(t),o=r.dataIndex;if(n&&null!=o){var i=e.getData(r.dataType),u=i.getItemModel(o),s={},l=i.getItemVisual(o,"style"),f=i.getVisual("drawType");s.stroke=l[f];var d=u.getModel("labelLine");Object(c["d"])(t,Object(c["a"])(u),s),Object(c["e"])(t,d)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Object(i["d"])(t))){var o=v(n),u=o.oldLayout,s=Object(a["a"])(t),c=s.dataIndex,f={x:n.x,y:n.y,rotation:n.rotation},h=e.getData(s.dataType);if(u){n.attr(u);var p=t.prevStates;p&&(Object(l["indexOf"])(p,"select")>=0&&n.attr(o.oldLayoutSelect),Object(l["indexOf"])(p,"emphasis")>=0&&n.attr(o.oldLayoutEmphasis)),Object(i["h"])(n,f,e,c)}else if(n.attr(f),!Object(d["f"])(n).valueAnimation){var m=Object(l["retrieve2"])(n.style.opacity,1);n.style.opacity=0,Object(i["c"])(n,{style:{opacity:m}},e,c)}if(o.oldLayout=f,n.states.select){var g=o.oldLayoutSelect={};b(g,f,x),b(g,n.states.select,x)}if(n.states.emphasis){var _=o.oldLayoutEmphasis={};b(_,f,x),b(_,n.states.emphasis,x)}Object(d["a"])(n,c,h,e,e)}if(r&&!r.ignore&&!r.invisible){o=y(r),u=o.oldLayout;var w={points:r.shape.points};u?(r.attr({shape:u}),Object(i["h"])(r,{shape:w},e)):(r.setShape(w),r.style.strokePercent=0,Object(i["c"])(r,{style:{strokePercent:1}},e)),o.oldLayout=w}},t}(),w=_;n.d(e,"a",function(){return S});var O=Object(r["o"])();function S(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var r=O(e).labelManager;r||(r=O(e).labelManager=new w),r.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var r=O(e).labelManager;n.updatedSeries.forEach(function(t){r.addLabelsOfSeries(e.getViewOfSeriesModel(t))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}},ef59:function(t,e,n){"use strict";var r=n("4319"),o=n("22d1"),i={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},a={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}},u=n("6d8b");n.d(e,"a",function(){return h}),n.d(e,"e",function(){return p}),n.d(e,"b",function(){return m}),n.d(e,"d",function(){return g}),n.d(e,"c",function(){return v});var s="ZH",c="EN",l=c,f={},d={},h=o["a"].domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(s)>-1?s:l}():l;function p(t,e){t=t.toUpperCase(),d[t]=new r["a"](e),f[t]=e}function m(t){if(Object(u["isString"])(t)){var e=f[t.toUpperCase()]||{};return t===s||t===c?Object(u["clone"])(e):Object(u["merge"])(Object(u["clone"])(e),Object(u["clone"])(f[l]),!1)}return Object(u["merge"])(Object(u["clone"])(t),Object(u["clone"])(f[l]),!1)}function g(t){return d[t]}function v(){return d[l]}p(c,i),p(s,a)},ef6a:function(t,e,n){"use strict";function r(t,e,n,r,a,u){t=t||0;var s=n[1]-n[0];if(null!=a&&(a=i(a,[0,s])),null!=u&&(u=Math.max(u,null!=a?a:0)),"all"===r){var c=Math.abs(e[1]-e[0]);c=i(c,[0,s]),a=u=i(c,[a,u]),r=0}e[0]=i(e[0],n),e[1]=i(e[1],n);var l=o(e,r);e[r]+=t;var f,d=a||0,h=n.slice();return l.sign<0?h[0]+=d:h[1]-=d,e[r]=i(e[r],h),f=o(e,r),null!=a&&(f.sign!==l.sign||f.span<a)&&(e[1-r]=e[r]+l.sign*a),f=o(e,r),null!=u&&f.span>u&&(e[1-r]=e[r]+f.sign*u),e}function o(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function i(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}n.d(e,"a",function(){return r})},f279:function(t,e,n){"use strict";n.d(e,"b",function(){return p}),n.d(e,"a",function(){return m}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return v});var r=n("7fae"),o=n("9850"),i=n("401b"),a=n("0655"),u=n("1687"),s=n("6d8b"),c=[];function l(t,e){for(var n=0;n<t.length;n++)i["applyTransform"](t[n],t[n],e)}function f(t,e,n,r){for(var o=0;o<t.length;o++){var a=t[o];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(i["min"](e,e,a),i["max"](n,n,a))}}function d(t){for(var e=0,n=0,r=0,o=t.length,i=t[o-1][0],a=t[o-1][1],u=0;u<o;u++){var s=t[u][0],c=t[u][1],l=i*c-s*a;e+=l,n+=(i+s)*l,r+=(a+c)*l,i=s,a=c}return e?[n/e/3,r/e/3,e]:[t[0][0]||0,t[0][1]||0]}var h=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},t}(),p=function(){function t(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return t}(),m=function(){function t(t){this.type="linestring",this.points=t}return t}(),g=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.type="geoJSON",o.geometries=n,o._center=r&&[r[0],r[1]],o}return Object(r["a"])(e,t),e.prototype.calcCenter=function(){for(var t,e=this.geometries,n=0,r=0;r<e.length;r++){var o=e[r],i=o.exterior,a=i&&i.length;a>n&&(t=o,n=a)}if(t)return d(t.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t)return e;var n=[1/0,1/0],r=[-1/0,-1/0],i=this.geometries;return Object(s["each"])(i,function(e){"polygon"===e.type?f(e.exterior,n,r,t):Object(s["each"])(e.points,function(e){f(e,n,r,t)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])||(n[0]=n[1]=r[0]=r[1]=0),e=new o["a"](n[0],n[1],r[0]-n[0],r[1]-n[1]),t||(this._rect=e),e},e.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,o=n.length;r<o;r++){var i=n[r];if("polygon"===i.type){var u=i.exterior,s=i.interiors;if(a["a"](u,t[0],t[1])){for(var c=0;c<(s?s.length:0);c++)if(a["a"](s[c],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,e,n,r){var i=this.getBoundingRect(),a=i.width/i.height;n?r||(r=n/a):n=a*r;for(var u=new o["a"](t,e,n,r),c=i.calculateTransform(u),f=this.geometries,d=0;d<f.length;d++){var h=f[d];"polygon"===h.type?(l(h.exterior,c),Object(s["each"])(h.interiors,function(t){l(t,c)})):Object(s["each"])(h.points,function(t){l(t,c)})}i=this._rect,i.copy(u),this._center=[i.x+i.width/2,i.y+i.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(h),v=function(t){function e(e,n){var r=t.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return Object(r["a"])(e,t),e.prototype.calcCenter=function(){var t=this._elOnlyForCalculate,e=t.getBoundingRect(),n=[e.x+e.width/2,e.y+e.height/2],r=u["identity"](c),o=t;while(o&&!o.isGeoSVGGraphicRoot)u["mul"](r,o.getLocalTransform(),r),o=o.parent;return u["invert"](r,r),i["applyTransform"](n,n,r),n},e}(h)},f3bb:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return u});var r=n("6d8b"),o=n("e0d3");function i(t,e){function n(e,n){var r=[];return e.eachComponent({mainType:"series",subType:t,query:n},function(t){r.push(t.seriesIndex)}),r}Object(r["each"])([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(t){e(t[0],function(e,o,i){e=Object(r["extend"])({},e),i.dispatchAction(Object(r["extend"])(e,{type:t[1],seriesIndex:n(o,e)}))})})}function a(t,e,n,i,a){var u=t+e;n.isSilent(u)||i.eachComponent({mainType:"series",subType:"pie"},function(t){for(var e=t.seriesIndex,i=t.option.selectedMap,s=a.selected,c=0;c<s.length;c++)if(s[c].seriesIndex===e){var l=t.getData(),f=Object(o["u"])(l,a.fromActionPayload);n.trigger(u,{type:u,seriesId:t.id,name:Object(r["isArray"])(f)?l.getName(f[0]):l.getName(f),selected:Object(r["isString"])(i)?i:Object(r["extend"])({},i)})}})}function u(t,e,n){t.on("selectchanged",function(t){var r=n.getModel();t.isFromClick?(a("map","selectchanged",e,r,t),a("pie","selectchanged",e,r,t)):"select"===t.fromAction?(a("map","selected",e,r,t),a("pie","selected",e,r,t)):"unselect"===t.fromAction&&(a("map","unselected",e,r,t),a("pie","unselected",e,r,t))})}},f658:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6d8b"),o="undefined"!==typeof Float32Array,i=o?Float32Array:Array;function a(t){return Object(r["isArray"])(t)?o?new Float32Array(t):t:new i(t)}},f6d8:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6d8b"),o=n("217c"),i=n("2b17"),a=n("e0d3");function u(t){var e,n,u,c,l=t.series,f=t.dataIndex,d=t.multipleSeries,h=l.getData(),p=h.mapDimensionsAll("defaultedTooltip"),m=p.length,g=l.getRawValue(f),v=Object(r["isArray"])(g),y=Object(o["e"])(l,f);if(m>1||v&&!m){var b=s(g,l,f,p,y);e=b.inlineValues,n=b.inlineValueTypes,u=b.blocks,c=b.inlineValues[0]}else if(m){var x=h.getDimensionInfo(p[0]);c=e=Object(i["e"])(h,f,p[0]),n=x.type}else c=e=v?g[0]:g;var _=Object(a["n"])(l),w=_&&l.name||"",O=h.getName(f),S=d?w:O;return Object(o["c"])("section",{header:w,noHeader:d||!_,sortParam:c,blocks:[Object(o["c"])("nameValue",{markerType:"item",markerColor:y,name:S,noName:!Object(r["trim"])(S),value:e,valueType:n})].concat(u||[])})}function s(t,e,n,a,u){var s=e.getData(),c=Object(r["reduce"])(t,function(t,e,n){var r=s.getDimensionInfo(n);return t||r&&!1!==r.tooltip&&null!=r.displayName},!1),l=[],f=[],d=[];function h(t,e){var n=s.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(c?d.push(Object(o["c"])("nameValue",{markerType:"subItem",markerColor:u,name:n.displayName,value:t,valueType:n.type})):(l.push(t),f.push(n.type)))}return a.length?Object(r["each"])(a,function(t){h(Object(i["e"])(s,n,t),t)}):Object(r["each"])(t,h),{inlineValues:l,inlineValueTypes:f,blocks:d}}},f706:function(t,e,n){"use strict";var r=n("2dc5"),o=n("deab"),i=n("2306"),a=n("1418"),u=n("6d8b"),s=n("7837");function c(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function l(t){return null==t||Object(u["isObject"])(t)||(t={isIgnore:t}),t||{}}function f(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Object(s["e"])(e),cursorStyle:e.get("cursor")}}var d=function(){function t(t){this.group=new r["a"],this._SymbolCtor=t||a["a"]}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=l(e);var n=this.group,r=t.hostModel,i=this._data,a=this._SymbolCtor,u=e.disableAnimation,s=f(t),d={disableAnimation:u},h=e.getSymbolPoint||function(e){return t.getItemLayout(e)};i||n.removeAll(),t.diff(i).add(function(r){var o=h(r);if(c(t,o,r,e)){var i=new a(t,r,s,d);i.setPosition(o),t.setItemGraphicEl(r,i),n.add(i)}}).update(function(l,f){var p=i.getItemGraphicEl(f),m=h(l);if(c(t,m,l,e)){var g=t.getItemVisual(l,"symbol")||"circle",v=p&&p.getSymbolType&&p.getSymbolType();if(!p||v&&v!==g)n.remove(p),p=new a(t,l,s,d),p.setPosition(m);else{p.updateData(t,l,s,d);var y={x:m[0],y:m[1]};u?p.attr(y):o["h"](p,y,r)}n.add(p),t.setItemGraphicEl(l,p)}else n.remove(p)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)},r)}).execute(),this._getSymbolPoint=h,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(e,n){var r=t._getSymbolPoint(n);e.setPosition(r),e.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=f(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function r(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=l(n);for(var o=t.start;o<t.end;o++){var i=e.getItemLayout(o);if(c(e,i,o,n)){var a=new this._SymbolCtor(e,o,this._seriesScope);a.traverse(r),a.setPosition(i),this.group.add(a),e.setItemGraphicEl(o,a),this._progressiveEls.push(a)}}},t.prototype.eachRendered=function(t){i["traverseElements"](this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)},n.hostModel)}):e.removeAll()},t}();e["a"]=d},f72b:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return f});var r=n("6d8b"),o=n("ec6f"),i=n("07fd"),a=n("0f99"),u=n("04f7"),s=n("d0ce"),c=n("2b17"),l=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,a=this._getUpstreamSourceManagers(),u=!!a.length;if(d(n)){var s=n,c=void 0,l=void 0,f=void 0;if(u){var h=a[0];h.prepareSource(),f=h.getSource(),c=f.data,l=f.sourceFormat,e=[h._getVersionSign()]}else c=s.get("data",!0),l=Object(r["isTypedArray"])(c)?i["g"]:i["f"],e=[];var p=this._getSourceMetaRawOption()||{},m=f&&f.metaRawOption||{},g=Object(r["retrieve2"])(p.seriesLayoutBy,m.seriesLayoutBy)||null,v=Object(r["retrieve2"])(p.sourceHeader,m.sourceHeader),y=Object(r["retrieve2"])(p.dimensions,m.dimensions),b=g!==m.seriesLayoutBy||!!v!==!!m.sourceHeader||y;t=b?[Object(o["b"])(c,{seriesLayoutBy:g,sourceHeader:v,dimensions:y},l)]:[]}else{var x=n;if(u){var _=this._applyTransform(a);t=_.sourceList,e=_.upstreamSignList}else{var w=x.get("source",!0);t=[Object(o["b"])(w,this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,i=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(null!=a){var s="";1!==t.length&&h(s)}var c=[],l=[];return Object(r["each"])(t,function(t){t.prepareSource();var e=t.getSource(a||0),n="";null==a||e||h(n),c.push(e),l.push(t._getVersionSign())}),i?e=Object(u["a"])(i,c,{datasetIndex:n.componentIndex}):null!=a&&(e=[Object(o["a"])(c[0])]),{sourceList:e,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var r=0,o=this._storeList,i=o[r];i||(i=o[r]={});var a=i[n];if(!a){var u=this._getUpstreamSourceManagers()[0];d(this._sourceHost)&&u?a=u._innerGetDataStore(t,e,n):(a=new s["b"],a.initData(new c["a"](e,t.length),t)),i[n]=a}return a},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(d(t)){var e=Object(a["f"])(t);return e?[e.getSourceManager()]:[]}return Object(r["map"])(Object(a["e"])(t),function(t){return t.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if(d(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),n=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function f(t){var e=t.option.transform;e&&Object(r["setAsPrimitive"])(t.option.transform)}function d(t){return"series"===t.mainType}function h(t){throw new Error(t)}},f876:function(t,e,n){"use strict";n.d(e,"d",function(){return u}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"e",function(){return f}),n.d(e,"i",function(){return p}),n.d(e,"B",function(){return g}),n.d(e,"y",function(){return v}),n.d(e,"m",function(){return y}),n.d(e,"q",function(){return b}),n.d(e,"l",function(){return x}),n.d(e,"h",function(){return _}),n.d(e,"r",function(){return w}),n.d(e,"n",function(){return S}),n.d(e,"j",function(){return C}),n.d(e,"w",function(){return k}),n.d(e,"f",function(){return T}),n.d(e,"o",function(){return M}),n.d(e,"u",function(){return D}),n.d(e,"z",function(){return A}),n.d(e,"s",function(){return I}),n.d(e,"k",function(){return j}),n.d(e,"x",function(){return E}),n.d(e,"g",function(){return R}),n.d(e,"p",function(){return N}),n.d(e,"v",function(){return P}),n.d(e,"A",function(){return B}),n.d(e,"t",function(){return L});var r=n("6d8b"),o=n("3842"),i=n("ef59"),a=n("4319"),u=1e3,s=60*u,c=60*s,l=24*c,f=365*l,d={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},h="{yyyy}-{MM}-{dd}",p={year:"{yyyy}",month:"{yyyy}-{MM}",day:h,hour:h+" "+d.hour,minute:h+" "+d.minute,second:h+" "+d.second,millisecond:d.none},m=["year","month","day","hour","minute","second","millisecond"],g=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function v(t,e){return t+="","0000".substr(0,e-t.length)+t}function y(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function b(t){return t===y(t)}function x(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function _(t,e,n,r){var u=o["o"](t),s=u[C(n)](),c=u[k(n)]()+1,l=Math.floor((c-1)/4)+1,f=u[T(n)](),d=u["get"+(n?"UTC":"")+"Day"](),h=u[M(n)](),p=(h-1)%12+1,m=u[D(n)](),g=u[A(n)](),y=u[I(n)](),b=r instanceof a["a"]?r:Object(i["d"])(r||i["a"])||Object(i["c"])(),x=b.getModel("time"),_=x.get("month"),w=x.get("monthAbbr"),O=x.get("dayOfWeek"),S=x.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,s+"").replace(/{yy}/g,s%100+"").replace(/{Q}/g,l+"").replace(/{MMMM}/g,_[c-1]).replace(/{MMM}/g,w[c-1]).replace(/{MM}/g,v(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,v(f,2)).replace(/{d}/g,f+"").replace(/{eeee}/g,O[d]).replace(/{ee}/g,S[d]).replace(/{e}/g,d+"").replace(/{HH}/g,v(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,v(p+"",2)).replace(/{h}/g,p+"").replace(/{mm}/g,v(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,v(g,2)).replace(/{s}/g,g+"").replace(/{SSS}/g,v(y,3)).replace(/{S}/g,y+"")}function w(t,e,n,o,i){var a=null;if(r["isString"](n))a=n;else if(r["isFunction"](n))a=n(t.value,e,{level:t.level});else{var u=r["extend"]({},d);if(t.level>0)for(var s=0;s<m.length;++s)u[m[s]]="{primary|"+u[m[s]]+"}";var c=n?!1===n.inherit?n:r["defaults"](n,u):u,l=O(t.value,i);if(c[l])a=c[l];else if(c.inherit){var f=g.indexOf(l);for(s=f-1;s>=0;--s)if(c[l]){a=c[l];break}a=a||u.none}if(r["isArray"](a)){var h=null==t.level?0:t.level>=0?t.level:a.length+t.level;h=Math.min(h,a.length-1),a=a[h]}}return _(new Date(t.value),a,i,o)}function O(t,e){var n=o["o"](t),r=n[k(e)]()+1,i=n[T(e)](),a=n[M(e)](),u=n[D(e)](),s=n[A(e)](),c=n[I(e)](),l=0===c,f=l&&0===s,d=f&&0===u,h=d&&0===a,p=h&&1===i,m=p&&1===r;return m?"year":p?"month":h?"day":d?"hour":f?"minute":l?"second":"millisecond"}function S(t,e,n){var i=r["isNumber"](t)?o["o"](t):t;switch(e=e||O(t,n),e){case"year":return i[C(n)]();case"half-year":return i[k(n)]()>=6?1:0;case"quarter":return Math.floor((i[k(n)]()+1)/4);case"month":return i[k(n)]();case"day":return i[T(n)]();case"half-day":return i[M(n)]()/24;case"hour":return i[M(n)]();case"minute":return i[D(n)]();case"second":return i[A(n)]();case"millisecond":return i[I(n)]()}}function C(t){return t?"getUTCFullYear":"getFullYear"}function k(t){return t?"getUTCMonth":"getMonth"}function T(t){return t?"getUTCDate":"getDate"}function M(t){return t?"getUTCHours":"getHours"}function D(t){return t?"getUTCMinutes":"getMinutes"}function A(t){return t?"getUTCSeconds":"getSeconds"}function I(t){return t?"getUTCMilliseconds":"getMilliseconds"}function j(t){return t?"setUTCFullYear":"setFullYear"}function E(t){return t?"setUTCMonth":"setMonth"}function R(t){return t?"setUTCDate":"setDate"}function N(t){return t?"setUTCHours":"setHours"}function P(t){return t?"setUTCMinutes":"setMinutes"}function B(t){return t?"setUTCSeconds":"setSeconds"}function L(t){return t?"setUTCMilliseconds":"setMilliseconds"}},f934:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"g",function(){return h}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return m}),n.d(e,"d",function(){return g}),n.d(e,"h",function(){return v}),n.d(e,"f",function(){return y}),n.d(e,"c",function(){return b});var r=n("6d8b"),o=n("9850"),i=n("3842"),a=n("eda2"),u=r["each"],s=["left","right","top","bottom","width","height"],c=[["width","left","right"],["height","top","bottom"]];function l(t,e,n,r,o){var i=0,a=0;null==r&&(r=1/0),null==o&&(o=1/0);var u=0;e.eachChild(function(s,c){var l,f,d=s.getBoundingRect(),h=e.childAt(c+1),p=h&&h.getBoundingRect();if("horizontal"===t){var m=d.width+(p?-p.x+d.x:0);l=i+m,l>r||s.newline?(i=0,l=m,a+=u+n,u=d.height):u=Math.max(u,d.height)}else{var g=d.height+(p?-p.y+d.y:0);f=a+g,f>o||s.newline?(i+=u+n,a=0,f=g,u=d.width):u=Math.max(u,d.width)}s.newline||(s.x=i,s.y=a,s.markRedraw(),"horizontal"===t?i=l+n:a=f+n)})}var f=l;r["curry"](l,"vertical"),r["curry"](l,"horizontal");function d(t,e,n){var r=e.width,o=e.height,u=Object(i["p"])(t.left,r),s=Object(i["p"])(t.top,o),c=Object(i["p"])(t.right,r),l=Object(i["p"])(t.bottom,o);return(isNaN(u)||isNaN(parseFloat(t.left)))&&(u=0),(isNaN(c)||isNaN(parseFloat(t.right)))&&(c=r),(isNaN(s)||isNaN(parseFloat(t.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(t.bottom)))&&(l=o),n=a["k"](n||0),{width:Math.max(c-u-n[1]-n[3],0),height:Math.max(l-s-n[0]-n[2],0)}}function h(t,e,n){n=a["k"](n||0);var r=e.width,u=e.height,s=Object(i["p"])(t.left,r),c=Object(i["p"])(t.top,u),l=Object(i["p"])(t.right,r),f=Object(i["p"])(t.bottom,u),d=Object(i["p"])(t.width,r),h=Object(i["p"])(t.height,u),p=n[2]+n[0],m=n[1]+n[3],g=t.aspect;switch(isNaN(d)&&(d=r-l-m-s),isNaN(h)&&(h=u-f-p-c),null!=g&&(isNaN(d)&&isNaN(h)&&(g>r/u?d=.8*r:h=.8*u),isNaN(d)&&(d=g*h),isNaN(h)&&(h=d/g)),isNaN(s)&&(s=r-l-d-m),isNaN(c)&&(c=u-f-h-p),t.left||t.right){case"center":s=r/2-d/2-n[3];break;case"right":s=r-d-m;break}switch(t.top||t.bottom){case"middle":case"center":c=u/2-h/2-n[0];break;case"bottom":c=u-h-p;break}s=s||0,c=c||0,isNaN(d)&&(d=r-m-s-(l||0)),isNaN(h)&&(h=u-p-c-(f||0));var v=new o["a"](s+n[3],c+n[0],d,h);return v.margin=n,v}function p(t,e,n,i,a,u){var s,c=!a||!a.hv||a.hv[0],l=!a||!a.hv||a.hv[1],f=a&&a.boundingMode||"all";if(u=u||t,u.x=t.x,u.y=t.y,!c&&!l)return!1;if("raw"===f)s="group"===t.type?new o["a"](0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(s=t.getBoundingRect(),t.needLocalTransform()){var d=t.getLocalTransform();s=s.clone(),s.applyTransform(d)}var p=h(r["defaults"]({width:s.width,height:s.height},e),n,i),m=c?p.x-s.x:0,g=l?p.y-s.y:0;return"raw"===f?(u.x=m,u.y=g):(u.x+=m,u.y+=g),u===t&&t.markRedraw(),!0}function m(t,e){return null!=t[c[e][0]]||null!=t[c[e][1]]&&null!=t[c[e][2]]}function g(t){var e=t.layoutMode||t.constructor.layoutMode;return r["isObject"](e)?e:e?{type:e}:null}function v(t,e,n){var o=n&&n.ignoreSize;!r["isArray"](o)&&(o=[o,o]);var i=s(c[0],0),a=s(c[1],1);function s(n,r){var i={},a=0,s={},c=0,d=2;if(u(n,function(e){s[e]=t[e]}),u(n,function(t){l(e,t)&&(i[t]=s[t]=e[t]),f(i,t)&&a++,f(s,t)&&c++}),o[r])return f(e,n[1])?s[n[2]]=null:f(e,n[2])&&(s[n[1]]=null),s;if(c!==d&&a){if(a>=d)return i;for(var h=0;h<n.length;h++){var p=n[h];if(!l(i,p)&&l(t,p)){i[p]=t[p];break}}return i}return s}function l(t,e){return t.hasOwnProperty(e)}function f(t,e){return null!=t[e]&&"auto"!==t[e]}function d(t,e,n){u(t,function(t){e[t]=n[t]})}d(c[0],t,i),d(c[1],t,a)}function y(t){return b({},t)}function b(t,e){return e&&t&&u(s,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}},f95e:function(t,e,n){"use strict";var r=n("2cf4"),o=n("6d8b"),i=n("21a1"),a=n("6fd3"),u=n("3437"),s=n("5210"),c=n("9850"),l=n("4bc4"),f=n("726e");function d(t,e,n){var r=f["d"].createCanvas(),o=e.getWidth(),i=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=o+"px",a.height=i+"px",r.setAttribute("data-zr-dom-id",t)),r.width=o*n,r.height=i*n,r}var h=function(t){function e(e,n,i){var a,u=t.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null,i=i||r["e"],"string"===typeof e?a=d(e,n,i):o["isObject"](e)&&(a=e,e=a.id),u.id=e,u.dom=a;var s=a.style;return s&&(o["disableUserSelect"](a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),u.painter=n,u.dpr=i,u}return Object(i["a"])(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=d("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o,i=[],a=this.maxRepaintRectCount,u=!1,s=new c["a"](0,0,0,0);function f(t){if(t.isFinite()&&!t.isZero())if(0===i.length){var e=new c["a"](0,0,0,0);e.copy(t),i.push(e)}else{for(var n=!1,r=1/0,o=0,l=0;l<i.length;++l){var f=i[l];if(f.intersect(t)){var d=new c["a"](0,0,0,0);d.copy(f),d.union(t),i[l]=d,n=!0;break}if(u){s.copy(t),s.union(f);var h=t.width*t.height,p=f.width*f.height,m=s.width*s.height,g=m-h-p;g<r&&(r=g,o=l)}}if(u&&(i[o].union(t),n=!0),!n){e=new c["a"](0,0,0,0);e.copy(t),i.push(e)}u||(u=i.length>=a)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var h=t[d];if(h){var p=h.shouldBePainted(n,r,!0,!0),m=h.__isRendered&&(h.__dirty&l["a"]||!p)?h.getPrevPaintRect():null;m&&f(m);var g=p&&(h.__dirty&l["a"]||!h.__isRendered)?h.getPaintRect():null;g&&f(g)}}for(d=this.__prevStartIndex;d<this.__prevEndIndex;++d){h=e[d],p=h.shouldBePainted(n,r,!0,!0);if(h&&(!p||!h.__zr)&&h.__isRendered){m=h.getPrevPaintRect();m&&f(m)}}do{o=!1;for(d=0;d<i.length;)if(i[d].isZero())i.splice(d,1);else{for(var v=d+1;v<i.length;)i[d].intersect(i[v])?(o=!0,i[d].union(i[v]),i.splice(v,1)):v++;d++}}while(o);return this._paintRects=i,i},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,r=this.dom,o=r.style,i=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),r.width=t*n,r.height=e*n,i&&(i.width=t*n,i.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var r=this.dom,i=this.ctx,a=r.width,c=r.height;e=e||this.clearColor;var l=this.motionBlur&&!t,f=this.lastFrameAlpha,d=this.dpr,h=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/d,c/d));var p=this.domBack;function m(t,n,r,a){if(i.clearRect(t,n,r,a),e&&"transparent"!==e){var c=void 0;o["isGradientObject"](e)?(c=e.__canvasGradient||Object(u["a"])(i,e,{x:0,y:0,width:r,height:a}),e.__canvasGradient=c):o["isImagePatternObject"](e)&&(c=Object(s["c"])(i,e,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}})),i.save(),i.fillStyle=c||e,i.fillRect(t,n,r,a),i.restore()}l&&(i.save(),i.globalAlpha=f,i.drawImage(p,t,n,r,a),i.restore())}!n||l?m(0,0,a,c):n.length&&o["each"](n,function(t){m(t.x*d,t.y*d,t.width*d,t.height*d)})},e}(a["a"]),p=h,m=n("98b7"),g=n("22d1"),v=1e5,y=314159,b=.01,x=.001;function _(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}function w(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var O=function(){function t(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=o["extend"]({},n||{}),this.dpr=n.devicePixelRatio||r["e"],this._singleCanvas=a,this.root=t;var s=t.style;s&&(o["disableUserSelect"](t),t.innerHTML=""),this.storage=e;var c=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var f=t,d=f.width,h=f.height;null!=n.width&&(d=n.width),null!=n.height&&(h=n.height),this.dpr=n.devicePixelRatio||1,f.width=d*this.dpr,f.height=h*this.dpr,this._width=d,this._height=h;var m=new p(f,this,this.dpr);m.__builtin__=!0,m.initContext(),l[y]=m,m.zlevel=y,c.push(y),this._domRoot=t}else{this._width=Object(u["b"])(t,0,n),this._height=Object(u["b"])(t,1,n);var g=this._domRoot=w(this._width,this._height);t.appendChild(g)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var o=0;o<r.length;o++){var i=r[o],a=this._layers[i];if(!a.__builtin__&&a.refresh){var u=0===o?this._backgroundColor:null;a.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},i=0;i<e;i++){var a=t[i];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(v)),r||(r=n.ctx,r.save()),Object(s["a"])(r,a,o,i===e-1))}r&&r.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(v)},t.prototype.paintOne=function(t,e){Object(s["b"])(t,e)},t.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,n),i=o.finished,a=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),i)this.eachLayer(function(t){t.afterBrush&&t.afterBrush()});else{var u=this;Object(m["a"])(function(){u._paintList(t,e,n,r)})}}},t.prototype._compositeManually=function(){var t=this.getLayer(y).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},t.prototype._doPaintList=function(t,e,n){for(var r=this,i=[],a=this._opts.useDirtyRect,u=0;u<this._zlevelList.length;u++){var s=this._zlevelList[u],c=this._layers[s];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||n)&&i.push(c)}for(var l=!0,f=!1,d=function(o){var u,s=i[o],c=s.ctx,d=a&&s.createRepaintRects(t,e,h._width,h._height),p=n?s.__startIndex:s.__drawIndex,m=!n&&s.incremental&&Date.now,g=m&&Date.now(),v=s.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,v,d);else if(p===s.__startIndex){var y=t[p];y.incremental&&y.notClear&&!n||s.clear(!1,v,d)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=s.__startIndex);var b=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(u=p;u<s.__endIndex;u++){var o=t[u];if(o.__inHover&&(f=!0),r._doPaintEl(o,s,a,e,n,u===s.__endIndex-1),m){var i=Date.now()-g;if(i>15)break}}n.prevElClipPaths&&c.restore()};if(d)if(0===d.length)u=s.__endIndex;else for(var x=h.dpr,_=0;_<d.length;++_){var w=d[_];c.save(),c.beginPath(),c.rect(w.x*x,w.y*x,w.width*x,w.height*x),c.clip(),b(w),c.restore()}else c.save(),b(),c.restore();s.__drawIndex=u,s.__drawIndex<s.__endIndex&&(l=!1)},h=this,p=0;p<i.length;p++)d(p);return g["a"].wxa&&o["each"](this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),{finished:l,needsRefreshHover:f}},t.prototype._doPaintEl=function(t,e,n,r,o,i){var a=e.ctx;if(n){var u=t.getPaintRect();(!r||u&&u.intersect(r))&&(Object(s["a"])(a,t,o,i),t.setPrevPaintRect(u))}else Object(s["a"])(a,t,o,i)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=y);var n=this._layers[t];return n||(n=new p("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?o["merge"](n,this._layerConfig[t],!0):this._layerConfig[t-b]&&o["merge"](n,this._layerConfig[t-b],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,o=r.length,i=this._domRoot,a=null,u=-1;if(!n[t]&&_(e)){if(o>0&&t>r[0]){for(u=0;u<o-1;u++)if(r[u]<t&&r[u+1]>t)break;a=n[r[u]]}if(r.splice(u+1,0,t),n[t]=e,!e.virtual)if(a){var s=a.dom;s.nextSibling?i.insertBefore(e.dom,s.nextSibling):i.appendChild(e.dom)}else i.firstChild?i.insertBefore(e.dom,i.firstChild):i.appendChild(e.dom);e.__painter=this}},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r];t.call(e,this._layers[o],o)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],i=this._layers[o];i.__builtin__&&t.call(e,i,o)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],i=this._layers[o];i.__builtin__||t.call(e,i,o)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){u&&(u.__endIndex!==t&&(u.__dirty=!0),u.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){var r=t[n];if(r.zlevel!==t[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var i,a,u=null,s=0;for(a=0;a<t.length;a++){r=t[a];var c=r.zlevel,f=void 0;i!==c&&(i=c,s=0),r.incremental?(f=this.getLayer(c+x,this._needsManuallyCompositing),f.incremental=!0,s=1):f=this.getLayer(c+(s>0?b:0),this._needsManuallyCompositing),f.__builtin__||o["logError"]("ZLevel "+c+" has been used by unkown layer "+f.id),f!==u&&(f.__used=!0,f.__startIndex!==a&&(f.__dirty=!0),f.__startIndex=a,f.incremental?f.__drawIndex=-1:f.__drawIndex=a,e(a),u=f),r.__dirty&l["a"]&&!r.__inHover&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=a))}e(a),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,o["each"](this._layers,function(t){t.setUnpainted()})},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?o["merge"](n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+b){var a=this._layers[i];o["merge"](a,n[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(o["indexOf"](n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,o=this.root;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=Object(u["b"])(o,0,r),e=Object(u["b"])(o,1,r),n.style.display="",this._width!==t||e!==this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(y).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[y].dom;var e=new p("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(t){t.__builtin__?n.drawImage(t.dom,0,0,r,o):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())})}else for(var i={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),u=0,c=a.length;u<c;u++){var l=a[u];Object(s["a"])(n,l,i,u===c-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}(),S=O;function C(t){t.registerPainter("canvas",S)}n.d(e,"a",function(){return C})},fab22:function(t,e,n){"use strict";var r=n("6d8b"),o=n("2dc5"),i=n("cb11"),a=n("76a5"),u=n("2306"),s=n("861c"),c=n("7837"),l=n("4319"),f=n("3842"),d=n("a15a"),h=n("1687"),p=n("401b"),m=n("697e"),g=n("2355"),v=Math.PI,y=function(){function t(t,e){this.group=new o["a"],this.opt=e,this.axisModel=t,Object(r["defaults"])(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new o["a"]({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!b[t]},t.prototype.add=function(t){b[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var r,o,i=Object(f["u"])(e-t);return Object(f["k"])(i)?(o=n>0?"top":"bottom",r="center"):Object(f["k"])(i-v)?(o=n>0?"bottom":"top",r="center"):(o="middle",r=i>0&&i<v?n>0?"right":"left":n>0?"left":"right"),{rotation:i,textAlign:r,textVerticalAlign:o}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),b={axisLine:function(t,e,n,o){var a=e.get(["axisLine","show"]);if("auto"===a&&t.handleAutoShown&&(a=t.handleAutoShown("axisLine")),a){var u=e.axis.getExtent(),s=o.transform,c=[u[0],0],l=[u[1],0];s&&(Object(p["applyTransform"])(c,c,s),Object(p["applyTransform"])(l,l,s));var f=Object(r["extend"])({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new i["a"]({subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:l[0],y2:l[1]},style:f,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});h.anid="line",n.add(h);var m=e.get(["axisLine","symbol"]);if(null!=m){var g=e.get(["axisLine","symbolSize"]);Object(r["isString"])(m)&&(m=[m,m]),(Object(r["isString"])(g)||Object(r["isNumber"])(g))&&(g=[g,g]);var v=Object(d["b"])(e.get(["axisLine","symbolOffset"])||0,g),y=g[0],b=g[1];Object(r["each"])([{rotate:t.rotation+Math.PI/2,offset:v[0],r:0},{rotate:t.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((c[0]-l[0])*(c[0]-l[0])+(c[1]-l[1])*(c[1]-l[1]))}],function(e,r){if("none"!==m[r]&&null!=m[r]){var o=Object(d["a"])(m[r],-y/2,-b/2,y,b,f.stroke,!0),i=e.r+e.offset;o.attr({rotation:e.rotate,x:c[0]+i*Math.cos(t.rotation),y:c[1]-i*Math.sin(t.rotation),silent:!0,z2:11}),n.add(o)}})}}},axisTickLabel:function(t,e,n,o){var i=k(n,o,e,t),a=M(n,o,e,t);if(_(e,a,i),T(n,o,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var u=Object(g["b"])(Object(r["map"])(a,function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}}));Object(g["a"])(u)}},axisName:function(t,e,n,o){var i=Object(r["retrieve"])(t.axisName,e.get("name"));if(i){var l,f,d=e.get("nameLocation"),h=t.nameDirection,p=e.getModel("nameTextStyle"),m=e.get("nameGap")||0,g=e.axis.getExtent(),b=g[0]>g[1]?-1:1,_=["start"===d?g[0]-b*m:"end"===d?g[1]+b*m:(g[0]+g[1])/2,S(d)?t.labelOffset+h*m:0],w=e.get("nameRotate");null!=w&&(w=w*v/180),S(d)?l=y.innerTextLayout(t.rotation,null!=w?w:t.rotation,h):(l=x(t.rotation,d,w||0,g),f=t.axisNameAvailableWidth,null!=f&&(f=Math.abs(f/Math.sin(l.rotation)),!isFinite(f)&&(f=null)));var O=p.getFont(),C=e.get("nameTruncate",!0)||{},k=C.ellipsis,T=Object(r["retrieve"])(t.nameTruncateMaxWidth,C.maxWidth,f),M=new a["a"]({x:_[0],y:_[1],rotation:l.rotation,silent:y.isLabelSilent(e),style:Object(c["c"])(p,{text:i,font:O,overflow:"truncate",width:T,ellipsis:k,fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:p.get("align")||l.textAlign,verticalAlign:p.get("verticalAlign")||l.textVerticalAlign}),z2:1});if(u["setTooltipConfig"]({el:M,componentModel:e,itemName:i}),M.__fullText=i,M.anid="name",e.get("triggerEvent")){var D=y.makeAxisEventDataBase(e);D.targetType="axisName",D.name=i,Object(s["a"])(M).eventData=D}o.add(M),M.updateTransform(),n.add(M),M.decomposeTransform()}}};function x(t,e,n,r){var o,i,a=Object(f["u"])(n-t),u=r[0]>r[1],s="start"===e&&!u||"start"!==e&&u;return Object(f["k"])(a-v/2)?(i=s?"bottom":"top",o="center"):Object(f["k"])(a-1.5*v)?(i=s?"top":"bottom",o="center"):(i="middle",o=a<1.5*v&&a>v/2?s?"left":"right":s?"right":"left"),{rotation:a,textAlign:o,textVerticalAlign:i}}function _(t,e,n){if(!Object(m["j"])(t.axis)){var r=t.get(["axisLabel","showMinLabel"]),o=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var i=e[0],a=e[1],u=e[e.length-1],s=e[e.length-2],c=n[0],l=n[1],f=n[n.length-1],d=n[n.length-2];!1===r?(w(i),w(c)):O(i,a)&&(r?(w(a),w(l)):(w(i),w(c))),!1===o?(w(u),w(f)):O(s,u)&&(o?(w(s),w(d)):(w(u),w(f)))}}function w(t){t&&(t.ignore=!0)}function O(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(n&&r){var o=h["identity"]([]);return h["rotate"](o,o,-t.rotation),n.applyTransform(h["mul"]([],o,t.getLocalTransform())),r.applyTransform(h["mul"]([],o,e.getLocalTransform())),n.intersect(r)}}function S(t){return"middle"===t||"center"===t}function C(t,e,n,r,o){for(var a=[],u=[],s=[],c=0;c<t.length;c++){var l=t[c].coord;u[0]=l,u[1]=0,s[0]=l,s[1]=n,e&&(Object(p["applyTransform"])(u,u,e),Object(p["applyTransform"])(s,s,e));var f=new i["a"]({subPixelOptimize:!0,shape:{x1:u[0],y1:u[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});f.anid=o+"_"+t[c].tickValue,a.push(f)}return a}function k(t,e,n,o){var i=n.axis,a=n.getModel("axisTick"),u=a.get("show");if("auto"===u&&o.handleAutoShown&&(u=o.handleAutoShown("axisTick")),u&&!i.scale.isBlank()){for(var s=a.getModel("lineStyle"),c=o.tickDirection*a.get("length"),l=i.getTicksCoords(),f=C(l,e.transform,c,Object(r["defaults"])(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<f.length;d++)t.add(f[d]);return f}}function T(t,e,n,o){var i=n.axis,a=n.getModel("minorTick");if(a.get("show")&&!i.scale.isBlank()){var u=i.getMinorTicksCoords();if(u.length)for(var s=a.getModel("lineStyle"),c=o*a.get("length"),l=Object(r["defaults"])(s.getLineStyle(),Object(r["defaults"])(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<u.length;f++)for(var d=C(u[f],e.transform,c,l,"minorticks_"+f),h=0;h<d.length;h++)t.add(d[h])}}function M(t,e,n,o){var i=n.axis,u=Object(r["retrieve"])(o.axisLabelShow,n.get(["axisLabel","show"]));if(u&&!i.scale.isBlank()){var f=n.getModel("axisLabel"),d=f.get("margin"),h=i.getViewLabels(),p=(Object(r["retrieve"])(o.labelRotate,f.get("rotate"))||0)*v/180,m=y.innerTextLayout(o.rotation,p,o.labelDirection),g=n.getCategories&&n.getCategories(!0),b=[],x=y.isLabelSilent(n),_=n.get("triggerEvent");return Object(r["each"])(h,function(u,h){var p="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(u.tickValue):u.tickValue,v=u.formattedLabel,w=u.rawLabel,O=f;if(g&&g[p]){var S=g[p];Object(r["isObject"])(S)&&S.textStyle&&(O=new l["a"](S.textStyle,f,n.ecModel))}var C=O.getTextColor()||n.get(["axisLine","lineStyle","color"]),k=i.dataToCoord(p),T=new a["a"]({x:k,y:o.labelOffset+o.labelDirection*d,rotation:m.rotation,silent:x,z2:10+(u.level||0),style:Object(c["c"])(O,{text:v,align:O.getShallow("align",!0)||m.textAlign,verticalAlign:O.getShallow("verticalAlign",!0)||O.getShallow("baseline",!0)||m.textVerticalAlign,fill:Object(r["isFunction"])(C)?C("category"===i.type?w:"value"===i.type?p+"":p,h):C})});if(T.anid="label_"+p,_){var M=y.makeAxisEventDataBase(n);M.targetType="axisLabel",M.value=w,M.tickIndex=h,"category"===i.type&&(M.dataIndex=p),Object(s["a"])(T).eventData=M}e.add(T),T.updateTransform(),b.push(T),t.add(T),T.decomposeTransform()}),b}}e["a"]=y},fadd:function(t,e,n){"use strict";function r(t,e,n){var r;while(t){if(e(t)&&(r=t,n))break;t=t.__hostTarget||t.parent}return r}n.d(e,"a",function(){return r})},fdde:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6d8b"),o={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},i=function(t){return Math.round(t.length/2)};function a(t){return{seriesType:t,reset:function(t,e,n){var a=t.getData(),u=t.get("sampling"),s=t.coordinateSystem,c=a.count();if(c>10&&"cartesian2d"===s.type&&u){var l=s.getBaseAxis(),f=s.getOtherAxis(l),d=l.getExtent(),h=n.getDevicePixelRatio(),p=Math.abs(d[1]-d[0])*(h||1),m=Math.round(c/p);if(isFinite(m)&&m>1){"lttb"===u&&t.setData(a.lttbDownSample(a.mapDimension(f.dim),1/m));var g=void 0;Object(r["isString"])(u)?g=o[u]:Object(r["isFunction"])(u)&&(g=u),g&&t.setData(a.downSample(a.mapDimension(f.dim),1/m,g,i))}}}}}},ff2e:function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"e",function(){return p}),n.d(e,"d",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"f",function(){return v}),n.d(e,"g",function(){return y}),n.d(e,"h",function(){return b});var r=n("6d8b"),o=n("2306"),i=n("e86a"),a=n("eda2"),u=n("1687"),s=n("697e"),c=n("fab22"),l=n("7837");function f(t){var e,n=t.get("type"),r=t.getModel(n+"Style");return"line"===n?(e=r.getLineStyle(),e.fill=null):"shadow"===n&&(e=r.getAreaStyle(),e.stroke=null),e}function d(t,e,n,r,o){var u=n.get("value"),s=p(u,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),c=n.getModel("label"),f=a["k"](c.get("padding")||0),d=c.getFont(),m=i["d"](s,d),g=o.position,v=m.width+f[1]+f[3],y=m.height+f[0]+f[2],b=o.align;"right"===b&&(g[0]-=v),"center"===b&&(g[0]-=v/2);var x=o.verticalAlign;"bottom"===x&&(g[1]-=y),"middle"===x&&(g[1]-=y/2),h(g,v,y,r);var _=c.get("backgroundColor");_&&"auto"!==_||(_=e.get(["axisLine","lineStyle","color"])),t.label={x:g[0],y:g[1],style:Object(l["c"])(c,{text:s,font:d,fill:c.getTextColor(),padding:f,backgroundColor:_}),z2:10}}function h(t,e,n,r){var o=r.getWidth(),i=r.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+n,i)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function p(t,e,n,o,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),u=i.formatter;if(u){var c={value:s["c"](e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};r["each"](o,function(t){var e=n.getSeriesByIndex(t.seriesIndex),r=t.dataIndexInside,o=e&&e.getDataParams(r);o&&c.seriesData.push(o)}),r["isString"](u)?a=u.replace("{value}",a):r["isFunction"](u)&&(a=u(c))}return a}function m(t,e,n){var r=u["create"]();return u["rotate"](r,r,n.rotation),u["translate"](r,r,n.position),o["applyTransform"]([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function g(t,e,n,r,o,i){var a=c["a"].innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get(["label","margin"]),d(e,r,o,i,{position:m(r.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function v(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function y(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}function b(t,e,n,r,o,i){return{cx:t,cy:e,r0:n,r:r,startAngle:o,endAngle:i,clockwise:!0}}},ff32:function(t,e,n){"use strict";var r=n("22b4"),o=n("7fae"),i=n("6d8b"),a=n("4319"),u=n("e0d3"),s=n("6cb7"),c=function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0},l=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(o["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),i["isArray"](e)&&i["each"](e,function(t,r){i["isString"](t)&&(t={type:t}),e[r]=i["merge"](t,c(n,t.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var r=t[n].get("name");if(this.isSelected(r)){this.select(r),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries(function(r){var o,i=r.name;if(n.push(i),r.legendVisualProvider){var a=r.legendVisualProvider,s=a.getAllNames();t.isSeriesFiltered(r)||(n=n.concat(s)),s.length?e=e.concat(s):o=!0}else o=!0;o&&Object(u["n"])(r)&&e.push(r.name)}),this._availableNames=n;var r=this.get("data")||e,o=i["map"](r,function(t){return(i["isString"](t)||i["isNumber"](t))&&(t={name:t}),new a["a"](t,this,this.ecModel)},this);this._data=o},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected,n=this.get("selectedMode");if("single"===n){var r=this._data;i["each"](r,function(t){e[t.get("name")]=!1})}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;i["each"](t,function(t){e[t.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;i["each"](t,function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]})},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&i["indexOf"](this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(s["a"]),f=l,d=n("41ef"),h=n("2dc5"),p=n("76a5"),m=n("c7a2"),g=n("2306"),v=n("7d6c"),y=n("7837"),b=n("7919"),x=n("f934"),_=n("b12f"),w=n("a15a"),O=i["curry"],S=i["each"],C=h["a"],k=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return Object(o["a"])(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new C),this.group.add(this._selectorGroup=new C),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),a=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===a?"right":"left");var u=t.get("selector",!0),s=t.get("selectorPosition",!0);!u||s&&"auto"!==s||(s="horizontal"===a?"end":"start"),this.renderInner(o,t,e,n,u,a,s);var c=t.getBoxLayoutParams(),l={width:n.getWidth(),height:n.getHeight()},f=t.get("padding"),d=x["g"](c,l,f),h=this.layoutInner(t,o,d,r,u,s),p=x["g"](i["defaults"]({width:h.width,height:h.height},c),l,f);this.group.x=p.x-h.x,this.group.y=p.y-h.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Object(b["b"])(h,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,r,o,a,u){var s=this.getContentGroup(),c=i["createHashMap"](),l=e.get("selectedMode"),f=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&f.push(t.id)}),S(e.getData(),function(o,a){var u=o.get("name");if(!this.newlineDisabled&&(""===u||"\n"===u)){var h=new C;return h.newline=!0,void s.add(h)}var p=n.getSeriesByName(u)[0];if(!c.get(u)){if(p){var m=p.getData(),g=m.getVisual("legendLineStyle")||{},v=m.getVisual("legendIcon"),y=m.getVisual("style"),b=this._createItem(p,u,a,o,e,t,g,y,v,l);b.on("click",O(D,u,null,r,f)).on("mouseover",O(I,p.name,null,r,f)).on("mouseout",O(j,p.name,null,r,f)),c.set(u,!0)}else n.eachRawSeries(function(n){if(!c.get(u)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(u))return;var h=s.indexOfName(u),p=s.getItemVisual(h,"style"),m=s.getItemVisual(h,"legendIcon"),g=Object(d["parse"])(p.fill);g&&0===g[3]&&(g[3]=.2,p=i["extend"](i["extend"]({},p),{fill:Object(d["stringify"])(g,"rgba")}));var v=this._createItem(n,u,a,o,e,t,{},p,m,l);v.on("click",O(D,null,u,r,f)).on("mouseover",O(I,null,u,r,f)).on("mouseout",O(j,null,u,r,f)),c.set(u,!0)}},this);0}},this),o&&this._createSelector(o,e,r,a,u)},e.prototype._createSelector=function(t,e,n,r,o){var i=this.getSelectorGroup();S(t,function(t){var r=t.type,o=new p["a"]({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});i.add(o);var a=e.getModel("selectorLabel"),u=e.getModel(["emphasis","selectorLabel"]);Object(y["g"])(o,{normal:a,emphasis:u},{defaultText:t.title}),Object(v["o"])(o)})},e.prototype._createItem=function(t,e,n,r,o,a,u,s,c,l){var f=t.visualDrawType,d=o.get("itemWidth"),h=o.get("itemHeight"),b=o.isSelected(e),x=r.get("symbolRotate"),_=r.get("symbolKeepAspect"),w=r.get("icon");c=w||c||"roundRect";var O=T(c,r,u,s,f,b),S=new C,k=r.getModel("textStyle");if(!i["isFunction"](t.getLegendIcon)||w&&"inherit"!==w){var D="inherit"===w&&t.getData().getVisual("symbol")?"inherit"===x?t.getData().getVisual("symbolRotate"):x:0;S.add(M({itemWidth:d,itemHeight:h,icon:c,iconRotate:D,itemStyle:O.itemStyle,lineStyle:O.lineStyle,symbolKeepAspect:_}))}else S.add(t.getLegendIcon({itemWidth:d,itemHeight:h,icon:c,iconRotate:x,itemStyle:O.itemStyle,lineStyle:O.lineStyle,symbolKeepAspect:_}));var A="left"===a?d+5:-5,I=a,j=o.get("formatter"),E=e;i["isString"](j)&&j?E=j.replace("{name}",null!=e?e:""):i["isFunction"](j)&&(E=j(e));var R=r.get("inactiveColor");S.add(new p["a"]({style:Object(y["c"])(k,{text:E,x:A,y:h/2,fill:b?k.getTextColor():R,align:I,verticalAlign:"middle"})}));var N=new m["a"]({shape:S.getBoundingRect(),invisible:!0}),P=r.getModel("tooltip");return P.get("show")&&g["setTooltipConfig"]({el:N,componentModel:o,itemName:e,itemTooltipOption:P.option}),S.add(N),S.eachChild(function(t){t.silent=!0}),N.silent=!l,this.getContentGroup().add(S),Object(v["o"])(S),S.__legendDataIndex=n,S},e.prototype.layoutInner=function(t,e,n,r,o,i){var a=this.getContentGroup(),u=this.getSelectorGroup();x["b"](t.get("orient"),a,t.get("itemGap"),n.width,n.height);var s=a.getBoundingRect(),c=[-s.x,-s.y];if(u.markRedraw(),a.markRedraw(),o){x["b"]("horizontal",u,t.get("selectorItemGap",!0));var l=u.getBoundingRect(),f=[-l.x,-l.y],d=t.get("selectorButtonGap",!0),h=t.getOrient().index,p=0===h?"width":"height",m=0===h?"height":"width",g=0===h?"y":"x";"end"===i?f[h]+=s[p]+d:c[h]+=l[p]+d,f[1-h]+=s[m]/2-l[m]/2,u.x=f[0],u.y=f[1],a.x=c[0],a.y=c[1];var v={x:0,y:0};return v[p]=s[p]+d+l[p],v[m]=Math.max(s[m],l[m]),v[g]=Math.min(0,l[g]+f[1-h]),v}return a.x=c[0],a.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(_["a"]);function T(t,e,n,r,o,i){function a(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),S(t,function(n,r){"inherit"===t[r]&&(t[r]=e[r])})}var u=e.getModel("itemStyle"),s=u.getItemStyle(),c=0===t.lastIndexOf("empty",0)?"fill":"stroke";s.decal=r.decal,"inherit"===s.fill&&(s.fill=r[o]),"inherit"===s.stroke&&(s.stroke=r[c]),"inherit"===s.opacity&&(s.opacity=("fill"===o?r:n).opacity),a(s,r);var l=e.getModel("lineStyle"),f=l.getLineStyle();if(a(f,n),"auto"===s.fill&&(s.fill=r.fill),"auto"===s.stroke&&(s.stroke=r.fill),"auto"===f.stroke&&(f.stroke=r.fill),!i){var d=e.get("inactiveBorderWidth"),h=s[c];s.lineWidth="auto"===d?r.lineWidth>0&&h?2:0:s.lineWidth,s.fill=e.get("inactiveColor"),s.stroke=e.get("inactiveBorderColor"),f.stroke=l.get("inactiveColor"),f.lineWidth=l.get("inactiveWidth")}return{itemStyle:s,lineStyle:f}}function M(t){var e=t.icon||"roundRect",n=Object(w["a"])(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function D(t,e,n,r){j(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),I(t,e,n,r)}function A(t){var e,n=t.getZr().storage.getDisplayList(),r=0,o=n.length;while(r<o&&!(e=n[r].states.emphasis))r++;return e&&e.hoverLayer}function I(t,e,n,r){A(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function j(t,e,n,r){A(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}var E=k;function R(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function N(t,e,n){var r,o={},a="toggleSelected"===t;return n.eachComponent("legend",function(n){a&&null!=r?n[r?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),r=n.isSelected(e.name));var u=n.getData();Object(i["each"])(u,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var r=n.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&r:o[e]=r}})}),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}function P(t){t.registerAction("legendToggleSelect","legendselectchanged",Object(i["curry"])(N,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Object(i["curry"])(N,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Object(i["curry"])(N,"inverseSelect")),t.registerAction("legendSelect","legendselected",Object(i["curry"])(N,"select")),t.registerAction("legendUnSelect","legendunselected",Object(i["curry"])(N,"unSelect"))}function B(t){t.registerComponentModel(f),t.registerComponentView(E),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,R),t.registerSubTypeDefaulter("legend",function(){return"plain"}),P(t)}var L=n("8918"),F=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(o["a"])(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,r){var o=Object(x["f"])(e);t.prototype.init.call(this,e,n,r),z(this,e,o)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),z(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Object(L["d"])(f.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(f);function z(t,e,n){var r=t.getOrient(),o=[1,1];o[r.index]=0,Object(x["h"])(e,n,{type:"box",ignoreSize:!!o})}var V=F,H=n("deab"),U=h["a"],W=["width","height"],G=["x","y"],q=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return Object(o["a"])(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new U),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new U)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,r,o,a,u,s){var c=this;t.prototype.renderInner.call(this,e,n,r,o,a,u,s);var l=this._controllerGroup,f=n.get("pageIconSize",!0),d=i["isArray"](f)?f:[f,f];m("pagePrev",0);var h=n.getModel("pageTextStyle");function m(t,e){var r=t+"DataIndex",a=g["createIcon"](n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:i["bind"](c._pageGo,c,r,n,o)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});a.name=t,l.add(a)}l.add(new p["a"]({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),m("pageNext",1)},e.prototype.layoutInner=function(t,e,n,r,o,a){var u=this.getSelectorGroup(),s=t.getOrient().index,c=W[s],l=G[s],f=W[1-s],d=G[1-s];o&&x["b"]("horizontal",u,t.get("selectorItemGap",!0));var h=t.get("selectorButtonGap",!0),p=u.getBoundingRect(),m=[-p.x,-p.y],g=i["clone"](n);o&&(g[c]=n[c]-p[c]-h);var v=this._layoutContentAndController(t,r,g,s,c,f,d,l);if(o){if("end"===a)m[s]+=v[c]+h;else{var y=p[c]+h;m[s]-=y,v[l]-=y}v[c]+=p[c]+h,m[1-s]+=v[d]+v[f]/2-p[f]/2,v[f]=Math.max(v[f],p[f]),v[d]=Math.min(v[d],p[d]+m[1-s]),u.x=m[0],u.y=m[1],u.markRedraw()}return v},e.prototype._layoutContentAndController=function(t,e,n,r,o,a,u,s){var c=this.getContentGroup(),l=this._containerGroup,f=this._controllerGroup;x["b"](t.get("orient"),c,t.get("itemGap"),r?n.width:null,r?null:n.height),x["b"]("horizontal",f,t.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),h=f.getBoundingRect(),p=this._showController=d[o]>n[o],g=[-d.x,-d.y];e||(g[r]=c[s]);var v=[0,0],y=[-h.x,-h.y],b=i["retrieve2"](t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var _=t.get("pageButtonPosition",!0);"end"===_?y[r]+=n[o]-h[o]:v[r]+=h[o]+b}y[1-r]+=d[a]/2-h[a]/2,c.setPosition(g),l.setPosition(v),f.setPosition(y);var w={x:0,y:0};if(w[o]=p?n[o]:d[o],w[a]=Math.max(d[a],h[a]),w[u]=Math.min(0,h[u]+y[1-r]),l.__rectSize=n[o],p){var O={x:0,y:0};O[o]=Math.max(n[o]-h[o]-b,0),O[a]=w[a],l.setClipPath(new m["a"]({shape:O})),l.__rectSize=O[o]}else f.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(t);return null!=S.pageIndex&&H["h"](c,{x:S.contentPosition[0],y:S.contentPosition[1]},p?t:null),this._updatePageInfoView(t,S),w},e.prototype._pageGo=function(t,e,n){var r=this._getPageInfo(e)[t];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;i["each"](["pagePrev","pageNext"],function(r){var o=r+"DataIndex",i=null!=e[o],a=n.childOfName(r);a&&(a.setStyle("fill",i?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),a.cursor=i?"pointer":"default")});var r=n.childOfName("pageText"),o=t.get("pageFormatter"),a=e.pageIndex,u=null!=a?a+1:0,s=e.pageCount;r&&o&&r.setStyle("text",i["isString"](o)?o.replace("{current}",null==u?"":u+"").replace("{total}",null==s?"":s+""):o({current:u,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,o=t.getOrient().index,i=W[o],a=G[o],u=this._findTargetItemIndex(e),s=n.children(),c=s[u],l=s.length,f=l?1:0,d={contentPosition:[n.x,n.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var h=y(c);d.contentPosition[o]=-h.s;for(var p=u+1,m=h,g=h,v=null;p<=l;++p)v=y(s[p]),(!v&&g.e>m.s+r||v&&!b(v,m.s))&&(m=g.i>m.i?g:v,m&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=m.i),++d.pageCount)),g=v;for(p=u-1,m=h,g=h,v=null;p>=-1;--p)v=y(s[p]),v&&b(g,v.s)||!(m.i<g.i)||(g=m,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=m.i),++d.pageCount,++d.pageIndex),m=v;return d;function y(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[i],i:t.__legendDataIndex}}}function b(t,e){return t.e>=e&&t.s<=e+r}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var e,n,r=this.getContentGroup();return r.eachChild(function(r,o){var i=r.__legendDataIndex;null==n&&null!=i&&(n=o),i===t&&(e=o)}),null!=e?e:n},e.type="legend.scroll",e}(E),Y=q;function X(t){t.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})})}function $(t){Object(r["a"])(B),t.registerComponentModel(V),t.registerComponentView(Y),X(t)}function K(t){Object(r["a"])(B),Object(r["a"])($)}n.d(e,"a",function(){return K})}}]);